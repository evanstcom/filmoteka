var P0=Object.defineProperty;var A0=(t,e,n)=>e in t?P0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bs=(t,e,n)=>A0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const $e={},Di=[],Zt=()=>{},R0=()=>!1,yl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ad=t=>t.startsWith("onUpdate:"),yt=Object.assign,Rd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},O0=Object.prototype.hasOwnProperty,Oe=(t,e)=>O0.call(t,e),de=Array.isArray,Li=t=>_l(t)==="[object Map]",Dg=t=>_l(t)==="[object Set]",he=t=>typeof t=="function",Je=t=>typeof t=="string",ns=t=>typeof t=="symbol",ze=t=>t!==null&&typeof t=="object",Lg=t=>(ze(t)||he(t))&&he(t.then)&&he(t.catch),$g=Object.prototype.toString,_l=t=>$g.call(t),N0=t=>_l(t).slice(8,-1),Fg=t=>_l(t)==="[object Object]",Od=t=>Je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ur=Pd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},M0=/-(\w)/g,Gt=wl(t=>t.replace(M0,(e,n)=>n?n.toUpperCase():"")),D0=/\B([A-Z])/g,Os=wl(t=>t.replace(D0,"-$1").toLowerCase()),bl=wl(t=>t.charAt(0).toUpperCase()+t.slice(1)),gc=wl(t=>t?`on${bl(t)}`:""),Es=(t,e)=>!Object.is(t,e),oa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Bg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},gu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Mh;const Sl=()=>Mh||(Mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ns(t){if(de(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Je(s)?B0(s):Ns(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Je(t)||ze(t))return t}const L0=/;(?![^(]*\))/g,$0=/:([^]+)/,F0=/\/\*[^]*?\*\//g;function B0(t){const e={};return t.replace(F0,"").split(L0).forEach(n=>{if(n){const s=n.split($0);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ee(t){let e="";if(Je(t))e=t;else if(de(t))for(let n=0;n<t.length;n++){const s=Ee(t[n]);s&&(e+=s+" ")}else if(ze(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const U0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",j0=Pd(U0);function Ug(t){return!!t||t===""}const jg=t=>!!(t&&t.__v_isRef===!0),te=t=>Je(t)?t:t==null?"":de(t)||ze(t)&&(t.toString===$g||!he(t.toString))?jg(t)?te(t.value):JSON.stringify(t,Vg,2):String(t),Vg=(t,e)=>jg(e)?Vg(t,e.value):Li(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[vc(s,r)+" =>"]=i,n),{})}:Dg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vc(n))}:ns(e)?vc(e):ze(e)&&!de(e)&&!Fg(e)?String(e):e,vc=(t,e="")=>{var n;return ns(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class Hg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!e&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Et;try{return Et=this,e()}finally{Et=n}}}on(){Et=this}off(){Et=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function zg(t){return new Hg(t)}function Wg(){return Et}function V0(t,e=!1){Et&&Et.cleanups.push(t)}let Ue;const yc=new WeakSet;class qg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yc.has(this)&&(yc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dh(this),Yg(this);const e=Ue,n=en;Ue=this,en=!0;try{return this.fn()}finally{Jg(this),Ue=e,en=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Dd(e);this.deps=this.depsTail=void 0,Dh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vu(this)&&this.run()}get dirty(){return vu(this)}}let Kg=0,jr,Vr;function Gg(t,e=!1){if(t.flags|=8,e){t.next=Vr,Vr=t;return}t.next=jr,jr=t}function Nd(){Kg++}function Md(){if(--Kg>0)return;if(Vr){let e=Vr;for(Vr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;jr;){let e=jr;for(jr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Yg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Jg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Dd(s),H0(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function vu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Xg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Xg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===no))return;t.globalVersion=no;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!vu(t)){t.flags&=-3;return}const n=Ue,s=en;Ue=t,en=!0;try{Yg(t);const i=t.fn(t._value);(e.version===0||Es(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ue=n,en=s,Jg(t),t.flags&=-3}}function Dd(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Dd(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function H0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let en=!0;const Qg=[];function Ms(){Qg.push(en),en=!1}function Ds(){const t=Qg.pop();en=t===void 0?!0:t}function Dh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ue;Ue=void 0;try{e()}finally{Ue=n}}}let no=0;class z0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ld{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ue||!en||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new z0(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,Zg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=s)}return n}trigger(e){this.version++,no++,this.notify(e)}notify(e){Nd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Md()}}}function Zg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Zg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ta=new WeakMap,Qs=Symbol(""),yu=Symbol(""),so=Symbol("");function mt(t,e,n){if(en&&Ue){let s=Ta.get(t);s||Ta.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Ld),i.map=s,i.key=n),i.track()}}function Un(t,e,n,s,i,r){const o=Ta.get(t);if(!o){no++;return}const a=l=>{l&&l.trigger()};if(Nd(),e==="clear")o.forEach(a);else{const l=de(t),c=l&&Od(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===so||!ns(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(so)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Qs)),Li(t)&&a(o.get(yu)));break;case"delete":l||(a(o.get(Qs)),Li(t)&&a(o.get(yu)));break;case"set":Li(t)&&a(o.get(Qs));break}}Md()}function W0(t,e){const n=Ta.get(t);return n&&n.get(e)}function xi(t){const e=xe(t);return e===t?e:(mt(e,"iterate",so),Wt(t)?e:e.map(gt))}function El(t){return mt(t=xe(t),"iterate",so),t}const q0={__proto__:null,[Symbol.iterator](){return _c(this,Symbol.iterator,gt)},concat(...t){return xi(this).concat(...t.map(e=>de(e)?xi(e):e))},entries(){return _c(this,"entries",t=>(t[1]=gt(t[1]),t))},every(t,e){return Mn(this,"every",t,e,void 0,arguments)},filter(t,e){return Mn(this,"filter",t,e,n=>n.map(gt),arguments)},find(t,e){return Mn(this,"find",t,e,gt,arguments)},findIndex(t,e){return Mn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Mn(this,"findLast",t,e,gt,arguments)},findLastIndex(t,e){return Mn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Mn(this,"forEach",t,e,void 0,arguments)},includes(...t){return wc(this,"includes",t)},indexOf(...t){return wc(this,"indexOf",t)},join(t){return xi(this).join(t)},lastIndexOf(...t){return wc(this,"lastIndexOf",t)},map(t,e){return Mn(this,"map",t,e,void 0,arguments)},pop(){return Sr(this,"pop")},push(...t){return Sr(this,"push",t)},reduce(t,...e){return Lh(this,"reduce",t,e)},reduceRight(t,...e){return Lh(this,"reduceRight",t,e)},shift(){return Sr(this,"shift")},some(t,e){return Mn(this,"some",t,e,void 0,arguments)},splice(...t){return Sr(this,"splice",t)},toReversed(){return xi(this).toReversed()},toSorted(t){return xi(this).toSorted(t)},toSpliced(...t){return xi(this).toSpliced(...t)},unshift(...t){return Sr(this,"unshift",t)},values(){return _c(this,"values",gt)}};function _c(t,e,n){const s=El(t),i=s[e]();return s!==t&&!Wt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const K0=Array.prototype;function Mn(t,e,n,s,i,r){const o=El(t),a=o!==t&&!Wt(t),l=o[e];if(l!==K0[e]){const d=l.apply(t,r);return a?gt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,gt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Lh(t,e,n,s){const i=El(t);let r=n;return i!==t&&(Wt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,gt(a),l,t)}),i[e](r,...s)}function wc(t,e,n){const s=xe(t);mt(s,"iterate",so);const i=s[e](...n);return(i===-1||i===!1)&&Tl(n[0])?(n[0]=xe(n[0]),s[e](...n)):i}function Sr(t,e,n=[]){Ms(),Nd();const s=xe(t)[e].apply(t,n);return Md(),Ds(),s}const G0=Pd("__proto__,__v_isRef,__isVue"),ev=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ns));function Y0(t){ns(t)||(t=String(t));const e=xe(this);return mt(e,"has",t),e.hasOwnProperty(t)}class tv{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?rS:rv:r?iv:sv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=de(e);if(!i){let l;if(o&&(l=q0[n]))return l;if(n==="hasOwnProperty")return Y0}const a=Reflect.get(e,n,Ge(e)?e:s);return(ns(n)?ev.has(n):G0(n))||(i||mt(e,"get",n),r)?a:Ge(a)?o&&Od(n)?a:a.value:ze(a)?i?av(a):yi(a):a}}class nv extends tv{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=ii(r);if(!Wt(s)&&!ii(s)&&(r=xe(r),s=xe(s)),!de(e)&&Ge(r)&&!Ge(s))return l?!1:(r.value=s,!0)}const o=de(e)&&Od(n)?Number(n)<e.length:Oe(e,n),a=Reflect.set(e,n,s,Ge(e)?e:i);return e===xe(i)&&(o?Es(s,r)&&Un(e,"set",n,s):Un(e,"add",n,s)),a}deleteProperty(e,n){const s=Oe(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Un(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!ns(n)||!ev.has(n))&&mt(e,"has",n),s}ownKeys(e){return mt(e,"iterate",de(e)?"length":Qs),Reflect.ownKeys(e)}}class J0 extends tv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const X0=new nv,Q0=new J0,Z0=new nv(!0);const _u=t=>t,Go=t=>Reflect.getPrototypeOf(t);function eS(t,e,n){return function(...s){const i=this.__v_raw,r=xe(i),o=Li(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?_u:e?wu:gt;return!e&&mt(r,"iterate",l?yu:Qs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Yo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tS(t,e){const n={get(i){const r=this.__v_raw,o=xe(r),a=xe(i);t||(Es(i,a)&&mt(o,"get",i),mt(o,"get",a));const{has:l}=Go(o),c=e?_u:t?wu:gt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&mt(xe(i),"iterate",Qs),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=xe(r),a=xe(i);return t||(Es(i,a)&&mt(o,"has",i),mt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=xe(a),c=e?_u:t?wu:gt;return!t&&mt(l,"iterate",Qs),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return yt(n,t?{add:Yo("add"),set:Yo("set"),delete:Yo("delete"),clear:Yo("clear")}:{add(i){!e&&!Wt(i)&&!ii(i)&&(i=xe(i));const r=xe(this);return Go(r).has.call(r,i)||(r.add(i),Un(r,"add",i,i)),this},set(i,r){!e&&!Wt(r)&&!ii(r)&&(r=xe(r));const o=xe(this),{has:a,get:l}=Go(o);let c=a.call(o,i);c||(i=xe(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Es(r,u)&&Un(o,"set",i,r):Un(o,"add",i,r),this},delete(i){const r=xe(this),{has:o,get:a}=Go(r);let l=o.call(r,i);l||(i=xe(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Un(r,"delete",i,void 0),c},clear(){const i=xe(this),r=i.size!==0,o=i.clear();return r&&Un(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=eS(i,t,e)}),n}function $d(t,e){const n=tS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Oe(n,i)&&i in s?n:s,i,r)}const nS={get:$d(!1,!1)},sS={get:$d(!1,!0)},iS={get:$d(!0,!1)};const sv=new WeakMap,iv=new WeakMap,rv=new WeakMap,rS=new WeakMap;function oS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aS(t){return t.__v_skip||!Object.isExtensible(t)?0:oS(N0(t))}function yi(t){return ii(t)?t:Fd(t,!1,X0,nS,sv)}function ov(t){return Fd(t,!1,Z0,sS,iv)}function av(t){return Fd(t,!0,Q0,iS,rv)}function Fd(t,e,n,s,i){if(!ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=aS(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Ts(t){return ii(t)?Ts(t.__v_raw):!!(t&&t.__v_isReactive)}function ii(t){return!!(t&&t.__v_isReadonly)}function Wt(t){return!!(t&&t.__v_isShallow)}function Tl(t){return t?!!t.__v_raw:!1}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function Io(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&Bg(t,"__v_skip",!0),t}const gt=t=>ze(t)?yi(t):t,wu=t=>ze(t)?av(t):t;function Ge(t){return t?t.__v_isRef===!0:!1}function M(t){return lv(t,!1)}function Bd(t){return lv(t,!0)}function lv(t,e){return Ge(t)?t:new lS(t,e)}class lS{constructor(e,n){this.dep=new Ld,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:xe(e),this._value=n?e:gt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Wt(e)||ii(e);e=s?e:xe(e),Es(e,n)&&(this._rawValue=e,this._value=s?e:gt(e),this.dep.trigger())}}function C(t){return Ge(t)?t.value:t}function cv(t){return he(t)?t():C(t)}const cS={get:(t,e,n)=>e==="__v_raw"?t:C(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ge(i)&&!Ge(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function uv(t){return Ts(t)?t:new Proxy(t,cS)}function Cl(t){const e=de(t)?new Array(t.length):{};for(const n in t)e[n]=dv(t,n);return e}class uS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return W0(xe(this._object),this._key)}}class dS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function fS(t,e,n){return Ge(t)?t:he(t)?new dS(t):ze(t)&&arguments.length>1?dv(t,e,n):M(t)}function dv(t,e,n){const s=t[e];return Ge(s)?s:new uS(t,e,n)}class hS{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ld(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=no-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return Gg(this,!0),!0}get value(){const e=this.dep.track();return Xg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function pS(t,e,n=!1){let s,i;return he(t)?s=t:(s=t.get,i=t.set),new hS(s,i,n)}const Jo={},Ca=new WeakMap;let Hs;function mS(t,e=!1,n=Hs){if(n){let s=Ca.get(n);s||Ca.set(n,s=[]),s.push(t)}}function gS(t,e,n=$e){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:Wt(S)||i===!1||i===0?jn(S,1):jn(S);let u,d,f,h,p=!1,m=!1;if(Ge(t)?(d=()=>t.value,p=Wt(t)):Ts(t)?(d=()=>c(t),p=!0):de(t)?(m=!0,p=t.some(S=>Ts(S)||Wt(S)),d=()=>t.map(S=>{if(Ge(S))return S.value;if(Ts(S))return c(S);if(he(S))return l?l(S,2):S()})):he(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ms();try{f()}finally{Ds()}}const S=Hs;Hs=u;try{return l?l(t,3,[h]):t(h)}finally{Hs=S}}:d=Zt,e&&i){const S=d,E=i===!0?1/0:i;d=()=>jn(S(),E)}const v=Wg(),w=()=>{u.stop(),v&&v.active&&Rd(v.effects,u)};if(r&&e){const S=e;e=(...E)=>{S(...E),w()}}let y=m?new Array(t.length).fill(Jo):Jo;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const E=u.run();if(i||p||(m?E.some((A,B)=>Es(A,y[B])):Es(E,y))){f&&f();const A=Hs;Hs=u;try{const B=[E,y===Jo?void 0:m&&y[0]===Jo?[]:y,h];l?l(e,3,B):e(...B),y=E}finally{Hs=A}}}else u.run()};return a&&a(g),u=new qg(d),u.scheduler=o?()=>o(g,!1):g,h=S=>mS(S,!1,u),f=u.onStop=()=>{const S=Ca.get(u);if(S){if(l)l(S,4);else for(const E of S)E();Ca.delete(u)}},e?s?g(!0):y=u.run():o?o(g.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function jn(t,e=1/0,n){if(e<=0||!ze(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ge(t))jn(t.value,e,n);else if(de(t))for(let s=0;s<t.length;s++)jn(t[s],e,n);else if(Dg(t)||Li(t))t.forEach(s=>{jn(s,e,n)});else if(Fg(t)){for(const s in t)jn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&jn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ko(t,e,n,s){try{return s?t(...s):t()}catch(i){xl(i,e,n)}}function xn(t,e,n,s){if(he(t)){const i=ko(t,e,n,s);return i&&Lg(i)&&i.catch(r=>{xl(r,e,n)}),i}if(de(t)){const i=[];for(let r=0;r<t.length;r++)i.push(xn(t[r],e,n,s));return i}}function xl(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||$e;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Ms(),ko(r,null,10,[t,l,c]),Ds();return}}vS(t,n,i,s,o)}function vS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Tt=[];let gn=-1;const $i=[];let fs=null,ki=0;const fv=Promise.resolve();let xa=null;function _i(t){const e=xa||fv;return t?e.then(this?t.bind(this):t):e}function yS(t){let e=gn+1,n=Tt.length;for(;e<n;){const s=e+n>>>1,i=Tt[s],r=io(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Ud(t){if(!(t.flags&1)){const e=io(t),n=Tt[Tt.length-1];!n||!(t.flags&2)&&e>=io(n)?Tt.push(t):Tt.splice(yS(e),0,t),t.flags|=1,hv()}}function hv(){xa||(xa=fv.then(gv))}function pv(t){de(t)?$i.push(...t):fs&&t.id===-1?fs.splice(ki+1,0,t):t.flags&1||($i.push(t),t.flags|=1),hv()}function $h(t,e,n=gn+1){for(;n<Tt.length;n++){const s=Tt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Tt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function mv(t){if($i.length){const e=[...new Set($i)].sort((n,s)=>io(n)-io(s));if($i.length=0,fs){fs.push(...e);return}for(fs=e,ki=0;ki<fs.length;ki++){const n=fs[ki];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fs=null,ki=0}}const io=t=>t.id==null?t.flags&2?-1:1/0:t.id;function gv(t){try{for(gn=0;gn<Tt.length;gn++){const e=Tt[gn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ko(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;gn<Tt.length;gn++){const e=Tt[gn];e&&(e.flags&=-2)}gn=-1,Tt.length=0,mv(),xa=null,(Tt.length||$i.length)&&gv()}}let tt=null,Il=null;function Ia(t){const e=tt;return tt=t,Il=t&&t.type.__scopeId||null,e}function _S(t){Il=t}function wS(){Il=null}function z(t,e=tt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Jh(-1);const r=Ia(e);let o;try{o=t(...i)}finally{Ia(r),s._d&&Jh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function nt(t,e){if(tt===null)return t;const n=Rl(tt),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=$e]=e[i];r&&(he(r)&&(r={mounted:r,updated:r}),r.deep&&jn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Us(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Ms(),xn(l,n,8,[t.el,a,t,e]),Ds())}}const vv=Symbol("_vte"),bS=t=>t.__isTeleport,Hr=t=>t&&(t.disabled||t.disabled===""),Fh=t=>t&&(t.defer||t.defer===""),Bh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Uh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,bu=(t,e)=>{const n=t&&t.to;return Je(n)?e?e(n):null:n},yv={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:v}}=c,w=Hr(e.props);let{shapeFlag:y,children:g,dynamicChildren:S}=e;if(t==null){const E=e.el=m(""),A=e.anchor=m("");h(E,n,s),h(A,n,s);const B=(x,R)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=x),u(g,x,R,i,r,o,a,l))},I=()=>{const x=e.target=bu(e.props,p),R=wv(x,e,m,h);x&&(o!=="svg"&&Bh(x)?o="svg":o!=="mathml"&&Uh(x)&&(o="mathml"),w||(B(x,R),aa(e,!1)))};w&&(B(n,A),aa(e,!0)),Fh(e.props)?bt(()=>{I(),e.el.__isMounted=!0},r):I()}else{if(Fh(e.props)&&!t.el.__isMounted){bt(()=>{yv.process(t,e,n,s,i,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,A=e.target=t.target,B=e.targetAnchor=t.targetAnchor,I=Hr(t.props),x=I?n:A,R=I?E:B;if(o==="svg"||Bh(A)?o="svg":(o==="mathml"||Uh(A))&&(o="mathml"),S?(f(t.dynamicChildren,S,x,i,r,o,a),qd(t,e,!0)):l||d(t,e,x,R,i,r,o,a,!1),w)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Xo(e,n,E,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=bu(e.props,p);D&&Xo(e,D,null,c,0)}else I&&Xo(e,A,B,c,1);aa(e,w)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Hr(f);for(let p=0;p<a.length;p++){const m=a[p];s(m,e,n,h,!!m.dynamicChildren)}}},move:Xo,hydrate:SS};function Xo(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||Hr(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&s(a,e,n)}function SS(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=bu(e.props,l);if(f){const h=Hr(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||wv(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}aa(e,h)}return e.anchor&&o(e.anchor)}const _v=yv;function aa(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function wv(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[vv]=r,t&&(s(i,t),s(r,t)),r}function jd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,jd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Se(t,e){return he(t)?yt({name:t.name},e,{setup:t}):t}function ES(){const t=An();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function bv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ka(t,e,n,s,i=!1){if(de(t)){t.forEach((p,m)=>ka(p,e&&(de(e)?e[m]:e),n,s,i));return}if(Fi(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ka(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Rl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===$e?a.refs={}:a.refs,d=a.setupState,f=xe(d),h=d===$e?()=>!1:p=>Oe(f,p);if(c!=null&&c!==l&&(Je(c)?(u[c]=null,h(c)&&(d[c]=null)):Ge(c)&&(c.value=null)),he(l))ko(l,a,12,[o,u]);else{const p=Je(l),m=Ge(l);if(p||m){const v=()=>{if(t.f){const w=p?h(l)?d[l]:u[l]:l.value;i?de(w)&&Rd(w,r):de(w)?w.includes(r)||w.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,bt(v,n)):v()}}}Sl().requestIdleCallback;Sl().cancelIdleCallback;const Fi=t=>!!t.type.__asyncLoader,Sv=t=>t.type.__isKeepAlive;function Ev(t,e){Cv(t,"a",e)}function Tv(t,e){Cv(t,"da",e)}function Cv(t,e,n=lt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(kl(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Sv(i.parent.vnode)&&TS(s,e,n,i),i=i.parent}}function TS(t,e,n,s){const i=kl(e,t,s,!0);_t(()=>{Rd(s[e],i)},n)}function kl(t,e,n=lt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ms();const a=Po(n),l=xn(e,n,t,o);return a(),Ds(),l});return s?i.unshift(r):i.push(r),r}}const ss=t=>(e,n=lt)=>{(!ao||t==="sp")&&kl(t,(...s)=>e(...s),n)},CS=ss("bm"),Ce=ss("m"),Vd=ss("bu"),Hd=ss("u"),zd=ss("bum"),_t=ss("um"),xS=ss("sp"),IS=ss("rtg"),kS=ss("rtc");function PS(t,e=lt){kl("ec",t,e)}const xv="components";function Yt(t,e){return kv(xv,t,!0,e)||t}const Iv=Symbol.for("v-ndc");function Ht(t){return Je(t)?kv(xv,t,!1)||t:t||Iv}function kv(t,e,n=!0,s=!1){const i=tt||lt;if(i){const r=i.type;{const a=mE(r,!1);if(a&&(a===e||a===Gt(e)||a===bl(Gt(e))))return r}const o=jh(i[t]||r[t],e)||jh(i.appContext[t],e);return!o&&s?r:o}}function jh(t,e){return t&&(t[e]||t[Gt(e)]||t[bl(Gt(e))])}function is(t,e,n,s){let i;const r=n,o=de(t);if(o||Je(t)){const a=o&&Ts(t);let l=!1;a&&(l=!Wt(t),t=El(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?gt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(ze(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function et(t,e,n={},s,i){if(tt.ce||tt.parent&&Fi(tt.parent)&&tt.parent.ce)return e!=="default"&&(n.name=e),k(),Q(Ie,null,[O("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),k();const o=r&&Pv(r(n)),a=n.key||o&&o.key,l=Q(Ie,{key:(a&&!ns(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Pv(t){return t.some(e=>oo(e)?!(e.type===In||e.type===Ie&&!Pv(e.children)):!0)?t:null}const Su=t=>t?Gv(t)?Rl(t):Su(t.parent):null,zr=yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Su(t.parent),$root:t=>Su(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Rv(t),$forceUpdate:t=>t.f||(t.f=()=>{Ud(t.update)}),$nextTick:t=>t.n||(t.n=_i.bind(t.proxy)),$watch:t=>XS.bind(t)}),bc=(t,e)=>t!==$e&&!t.__isScriptSetup&&Oe(t,e),AS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(bc(s,e))return o[e]=1,s[e];if(i!==$e&&Oe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Oe(c,e))return o[e]=3,r[e];if(n!==$e&&Oe(n,e))return o[e]=4,n[e];Eu&&(o[e]=0)}}const u=zr[e];let d,f;if(u)return e==="$attrs"&&mt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==$e&&Oe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Oe(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return bc(i,e)?(i[e]=n,!0):s!==$e&&Oe(s,e)?(s[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==$e&&Oe(t,o)||bc(e,o)||(a=r[0])&&Oe(a,o)||Oe(s,o)||Oe(zr,o)||Oe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Vh(t){return de(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Eu=!0;function RS(t){const e=Rv(t),n=t.proxy,s=t.ctx;Eu=!1,e.beforeCreate&&Hh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:v,beforeDestroy:w,beforeUnmount:y,destroyed:g,unmounted:S,render:E,renderTracked:A,renderTriggered:B,errorCaptured:I,serverPrefetch:x,expose:R,inheritAttrs:D,components:K,directives:V,filters:ie}=e;if(c&&OS(c,s,null),o)for(const re in o){const me=o[re];he(me)&&(s[re]=me.bind(n))}if(i){const re=i.call(n,n);ze(re)&&(t.data=yi(re))}if(Eu=!0,r)for(const re in r){const me=r[re],dt=he(me)?me.bind(n,n):he(me.get)?me.get.bind(n,n):Zt,It=!he(me)&&he(me.set)?me.set.bind(n):Zt,ge=W({get:dt,set:It});Object.defineProperty(s,re,{enumerable:!0,configurable:!0,get:()=>ge.value,set:ve=>ge.value=ve})}if(a)for(const re in a)Av(a[re],s,n,re);if(l){const re=he(l)?l.call(n):l;Reflect.ownKeys(re).forEach(me=>{ut(me,re[me])})}u&&Hh(u,t,"c");function ne(re,me){de(me)?me.forEach(dt=>re(dt.bind(n))):me&&re(me.bind(n))}if(ne(CS,d),ne(Ce,f),ne(Vd,h),ne(Hd,p),ne(Ev,m),ne(Tv,v),ne(PS,I),ne(kS,A),ne(IS,B),ne(zd,y),ne(_t,S),ne(xS,x),de(R))if(R.length){const re=t.exposed||(t.exposed={});R.forEach(me=>{Object.defineProperty(re,me,{get:()=>n[me],set:dt=>n[me]=dt})})}else t.exposed||(t.exposed={});E&&t.render===Zt&&(t.render=E),D!=null&&(t.inheritAttrs=D),K&&(t.components=K),V&&(t.directives=V),x&&bv(t)}function OS(t,e,n=Zt){de(t)&&(t=Tu(t));for(const s in t){const i=t[s];let r;ze(i)?"default"in i?r=Fe(i.from||s,i.default,!0):r=Fe(i.from||s):r=Fe(i),Ge(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Hh(t,e,n){xn(de(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Av(t,e,n,s){let i=s.includes(".")?Hv(n,s):()=>n[s];if(Je(t)){const r=e[t];he(r)&&Ye(i,r)}else if(he(t))Ye(i,t.bind(n));else if(ze(t))if(de(t))t.forEach(r=>Av(r,e,n,s));else{const r=he(t.handler)?t.handler.bind(n):e[t.handler];he(r)&&Ye(i,r,t)}}function Rv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Pa(l,c,o,!0)),Pa(l,e,o)),ze(e)&&r.set(e,l),l}function Pa(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Pa(t,r,n,!0),i&&i.forEach(o=>Pa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=NS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const NS={data:zh,props:Wh,emits:Wh,methods:Dr,computed:Dr,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Dr,directives:Dr,watch:DS,provide:zh,inject:MS};function zh(t,e){return e?t?function(){return yt(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function MS(t,e){return Dr(Tu(t),Tu(e))}function Tu(t){if(de(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function wt(t,e){return t?[...new Set([].concat(t,e))]:e}function Dr(t,e){return t?yt(Object.create(null),t,e):e}function Wh(t,e){return t?de(t)&&de(e)?[...new Set([...t,...e])]:yt(Object.create(null),Vh(t),Vh(e??{})):e}function DS(t,e){if(!t)return e;if(!e)return t;const n=yt(Object.create(null),t);for(const s in e)n[s]=wt(t[s],e[s]);return n}function Ov(){return{app:null,config:{isNativeTag:R0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let LS=0;function $S(t,e){return function(s,i=null){he(s)||(s=yt({},s)),i!=null&&!ze(i)&&(i=null);const r=Ov(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:LS++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:vE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&he(u.install)?(o.add(u),u.install(c,...d)):he(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||O(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Rl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Zs;Zs=c;try{return u()}finally{Zs=d}}};return c}}let Zs=null;function ut(t,e){if(lt){let n=lt.provides;const s=lt.parent&&lt.parent.provides;s===n&&(n=lt.provides=Object.create(s)),n[t]=e}}function Fe(t,e,n=!1){const s=lt||tt;if(s||Zs){const i=Zs?Zs._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&he(e)?e.call(s&&s.proxy):e}}function FS(){return!!(lt||tt||Zs)}const Nv={},Mv=()=>Object.create(Nv),Dv=t=>Object.getPrototypeOf(t)===Nv;function BS(t,e,n,s=!1){const i={},r=Mv();t.propsDefaults=Object.create(null),Lv(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:ov(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function US(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=xe(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Pl(t.emitsOptions,f))continue;const h=e[f];if(l)if(Oe(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Gt(f);i[p]=Cu(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{Lv(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!Oe(e,d)&&((u=Os(d))===d||!Oe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Cu(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Oe(e,d))&&(delete r[d],c=!0)}c&&Un(t.attrs,"set","")}function Lv(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ur(l))continue;const c=e[l];let u;i&&Oe(i,u=Gt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Pl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=xe(n),c=a||$e;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Cu(i,l,d,c[d],t,!Oe(c,d))}}return o}function Cu(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Oe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Po(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Os(n))&&(s=!0))}return s}const jS=new WeakMap;function $v(t,e,n=!1){const s=n?jS:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!he(t)){const u=d=>{l=!0;const[f,h]=$v(d,e,!0);yt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return ze(t)&&s.set(t,Di),Di;if(de(r))for(let u=0;u<r.length;u++){const d=Gt(r[u]);qh(d)&&(o[d]=$e)}else if(r)for(const u in r){const d=Gt(u);if(qh(d)){const f=r[u],h=o[d]=de(f)||he(f)?{type:f}:yt({},f),p=h.type;let m=!1,v=!0;if(de(p))for(let w=0;w<p.length;++w){const y=p[w],g=he(y)&&y.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(v=!1)}else m=he(p)&&p.name==="Boolean";h[0]=m,h[1]=v,(m||Oe(h,"default"))&&a.push(d)}}const c=[o,a];return ze(t)&&s.set(t,c),c}function qh(t){return t[0]!=="$"&&!Ur(t)}const Fv=t=>t[0]==="_"||t==="$stable",Wd=t=>de(t)?t.map(yn):[yn(t)],VS=(t,e,n)=>{if(e._n)return e;const s=z((...i)=>Wd(e(...i)),n);return s._c=!1,s},Bv=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Fv(i))continue;const r=t[i];if(he(r))e[i]=VS(i,r,s);else if(r!=null){const o=Wd(r);e[i]=()=>o}}},Uv=(t,e)=>{const n=Wd(e);t.slots.default=()=>n},jv=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},HS=(t,e,n)=>{const s=t.slots=Mv();if(t.vnode.shapeFlag&32){const i=e._;i?(jv(s,e,n),n&&Bg(s,"_",i,!0)):Bv(e,s)}else e&&Uv(t,e)},zS=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=$e;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:jv(i,e,n):(r=!e.$stable,Bv(e,i)),o=e}else e&&(Uv(t,e),o={default:1});if(r)for(const a in i)!Fv(a)&&o[a]==null&&delete i[a]},bt=iE;function WS(t){return qS(t)}function qS(t,e){const n=Sl();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Zt,insertStaticContent:p}=t,m=(b,T,P,L=null,j=null,F=null,J=void 0,Y=null,G=!!T.dynamicChildren)=>{if(b===T)return;b&&!Er(b,T)&&(L=$(b),ve(b,j,F,!0),b=null),T.patchFlag===-2&&(G=!1,T.dynamicChildren=null);const{type:H,ref:le,shapeFlag:Z}=T;switch(H){case Al:v(b,T,P,L);break;case In:w(b,T,P,L);break;case la:b==null&&y(T,P,L,J);break;case Ie:K(b,T,P,L,j,F,J,Y,G);break;default:Z&1?E(b,T,P,L,j,F,J,Y,G):Z&6?V(b,T,P,L,j,F,J,Y,G):(Z&64||Z&128)&&H.process(b,T,P,L,j,F,J,Y,G,se)}le!=null&&j&&ka(le,b&&b.ref,F,T||b,!T)},v=(b,T,P,L)=>{if(b==null)s(T.el=a(T.children),P,L);else{const j=T.el=b.el;T.children!==b.children&&c(j,T.children)}},w=(b,T,P,L)=>{b==null?s(T.el=l(T.children||""),P,L):T.el=b.el},y=(b,T,P,L)=>{[b.el,b.anchor]=p(b.children,T,P,L,b.el,b.anchor)},g=({el:b,anchor:T},P,L)=>{let j;for(;b&&b!==T;)j=f(b),s(b,P,L),b=j;s(T,P,L)},S=({el:b,anchor:T})=>{let P;for(;b&&b!==T;)P=f(b),i(b),b=P;i(T)},E=(b,T,P,L,j,F,J,Y,G)=>{T.type==="svg"?J="svg":T.type==="math"&&(J="mathml"),b==null?A(T,P,L,j,F,J,Y,G):x(b,T,j,F,J,Y,G)},A=(b,T,P,L,j,F,J,Y)=>{let G,H;const{props:le,shapeFlag:Z,transition:ae,dirs:fe}=b;if(G=b.el=o(b.type,F,le&&le.is,le),Z&8?u(G,b.children):Z&16&&I(b.children,G,null,L,j,Sc(b,F),J,Y),fe&&Us(b,null,L,"created"),B(G,b,b.scopeId,J,L),le){for(const Be in le)Be!=="value"&&!Ur(Be)&&r(G,Be,null,le[Be],F,L);"value"in le&&r(G,"value",null,le.value,F),(H=le.onVnodeBeforeMount)&&pn(H,L,b)}fe&&Us(b,null,L,"beforeMount");const Te=KS(j,ae);Te&&ae.beforeEnter(G),s(G,T,P),((H=le&&le.onVnodeMounted)||Te||fe)&&bt(()=>{H&&pn(H,L,b),Te&&ae.enter(G),fe&&Us(b,null,L,"mounted")},j)},B=(b,T,P,L,j)=>{if(P&&h(b,P),L)for(let F=0;F<L.length;F++)h(b,L[F]);if(j){let F=j.subTree;if(T===F||Wv(F.type)&&(F.ssContent===T||F.ssFallback===T)){const J=j.vnode;B(b,J,J.scopeId,J.slotScopeIds,j.parent)}}},I=(b,T,P,L,j,F,J,Y,G=0)=>{for(let H=G;H<b.length;H++){const le=b[H]=Y?hs(b[H]):yn(b[H]);m(null,le,T,P,L,j,F,J,Y)}},x=(b,T,P,L,j,F,J)=>{const Y=T.el=b.el;let{patchFlag:G,dynamicChildren:H,dirs:le}=T;G|=b.patchFlag&16;const Z=b.props||$e,ae=T.props||$e;let fe;if(P&&js(P,!1),(fe=ae.onVnodeBeforeUpdate)&&pn(fe,P,T,b),le&&Us(T,b,P,"beforeUpdate"),P&&js(P,!0),(Z.innerHTML&&ae.innerHTML==null||Z.textContent&&ae.textContent==null)&&u(Y,""),H?R(b.dynamicChildren,H,Y,P,L,Sc(T,j),F):J||me(b,T,Y,null,P,L,Sc(T,j),F,!1),G>0){if(G&16)D(Y,Z,ae,P,j);else if(G&2&&Z.class!==ae.class&&r(Y,"class",null,ae.class,j),G&4&&r(Y,"style",Z.style,ae.style,j),G&8){const Te=T.dynamicProps;for(let Be=0;Be<Te.length;Be++){const Ne=Te[Be],Mt=Z[Ne],kt=ae[Ne];(kt!==Mt||Ne==="value")&&r(Y,Ne,Mt,kt,j,P)}}G&1&&b.children!==T.children&&u(Y,T.children)}else!J&&H==null&&D(Y,Z,ae,P,j);((fe=ae.onVnodeUpdated)||le)&&bt(()=>{fe&&pn(fe,P,T,b),le&&Us(T,b,P,"updated")},L)},R=(b,T,P,L,j,F,J)=>{for(let Y=0;Y<T.length;Y++){const G=b[Y],H=T[Y],le=G.el&&(G.type===Ie||!Er(G,H)||G.shapeFlag&70)?d(G.el):P;m(G,H,le,null,L,j,F,J,!0)}},D=(b,T,P,L,j)=>{if(T!==P){if(T!==$e)for(const F in T)!Ur(F)&&!(F in P)&&r(b,F,T[F],null,j,L);for(const F in P){if(Ur(F))continue;const J=P[F],Y=T[F];J!==Y&&F!=="value"&&r(b,F,Y,J,j,L)}"value"in P&&r(b,"value",T.value,P.value,j)}},K=(b,T,P,L,j,F,J,Y,G)=>{const H=T.el=b?b.el:a(""),le=T.anchor=b?b.anchor:a("");let{patchFlag:Z,dynamicChildren:ae,slotScopeIds:fe}=T;fe&&(Y=Y?Y.concat(fe):fe),b==null?(s(H,P,L),s(le,P,L),I(T.children||[],P,le,j,F,J,Y,G)):Z>0&&Z&64&&ae&&b.dynamicChildren?(R(b.dynamicChildren,ae,P,j,F,J,Y),(T.key!=null||j&&T===j.subTree)&&qd(b,T,!0)):me(b,T,P,le,j,F,J,Y,G)},V=(b,T,P,L,j,F,J,Y,G)=>{T.slotScopeIds=Y,b==null?T.shapeFlag&512?j.ctx.activate(T,P,L,J,G):ie(T,P,L,j,F,J,G):oe(b,T,G)},ie=(b,T,P,L,j,F,J)=>{const Y=b.component=uE(b,L,j);if(Sv(b)&&(Y.ctx.renderer=se),dE(Y,!1,J),Y.asyncDep){if(j&&j.registerDep(Y,ne,J),!b.el){const G=Y.subTree=O(In);w(null,G,T,P)}}else ne(Y,b,T,P,j,F,J)},oe=(b,T,P)=>{const L=T.component=b.component;if(nE(b,T,P))if(L.asyncDep&&!L.asyncResolved){re(L,T,P);return}else L.next=T,L.update();else T.el=b.el,L.vnode=T},ne=(b,T,P,L,j,F,J)=>{const Y=()=>{if(b.isMounted){let{next:Z,bu:ae,u:fe,parent:Te,vnode:Be}=b;{const fn=Vv(b);if(fn){Z&&(Z.el=Be.el,re(b,Z,J)),fn.asyncDep.then(()=>{b.isUnmounted||Y()});return}}let Ne=Z,Mt;js(b,!1),Z?(Z.el=Be.el,re(b,Z,J)):Z=Be,ae&&oa(ae),(Mt=Z.props&&Z.props.onVnodeBeforeUpdate)&&pn(Mt,Te,Z,Be),js(b,!0);const kt=Gh(b),dn=b.subTree;b.subTree=kt,m(dn,kt,d(dn.el),$(dn),b,j,F),Z.el=kt.el,Ne===null&&sE(b,kt.el),fe&&bt(fe,j),(Mt=Z.props&&Z.props.onVnodeUpdated)&&bt(()=>pn(Mt,Te,Z,Be),j)}else{let Z;const{el:ae,props:fe}=T,{bm:Te,m:Be,parent:Ne,root:Mt,type:kt}=b,dn=Fi(T);js(b,!1),Te&&oa(Te),!dn&&(Z=fe&&fe.onVnodeBeforeMount)&&pn(Z,Ne,T),js(b,!0);{Mt.ce&&Mt.ce._injectChildStyle(kt);const fn=b.subTree=Gh(b);m(null,fn,P,L,b,j,F),T.el=fn.el}if(Be&&bt(Be,j),!dn&&(Z=fe&&fe.onVnodeMounted)){const fn=T;bt(()=>pn(Z,Ne,fn),j)}(T.shapeFlag&256||Ne&&Fi(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&b.a&&bt(b.a,j),b.isMounted=!0,T=P=L=null}};b.scope.on();const G=b.effect=new qg(Y);b.scope.off();const H=b.update=G.run.bind(G),le=b.job=G.runIfDirty.bind(G);le.i=b,le.id=b.uid,G.scheduler=()=>Ud(le),js(b,!0),H()},re=(b,T,P)=>{T.component=b;const L=b.vnode.props;b.vnode=T,b.next=null,US(b,T.props,L,P),zS(b,T.children,P),Ms(),$h(b),Ds()},me=(b,T,P,L,j,F,J,Y,G=!1)=>{const H=b&&b.children,le=b?b.shapeFlag:0,Z=T.children,{patchFlag:ae,shapeFlag:fe}=T;if(ae>0){if(ae&128){It(H,Z,P,L,j,F,J,Y,G);return}else if(ae&256){dt(H,Z,P,L,j,F,J,Y,G);return}}fe&8?(le&16&&ft(H,j,F),Z!==H&&u(P,Z)):le&16?fe&16?It(H,Z,P,L,j,F,J,Y,G):ft(H,j,F,!0):(le&8&&u(P,""),fe&16&&I(Z,P,L,j,F,J,Y,G))},dt=(b,T,P,L,j,F,J,Y,G)=>{b=b||Di,T=T||Di;const H=b.length,le=T.length,Z=Math.min(H,le);let ae;for(ae=0;ae<Z;ae++){const fe=T[ae]=G?hs(T[ae]):yn(T[ae]);m(b[ae],fe,P,null,j,F,J,Y,G)}H>le?ft(b,j,F,!0,!1,Z):I(T,P,L,j,F,J,Y,G,Z)},It=(b,T,P,L,j,F,J,Y,G)=>{let H=0;const le=T.length;let Z=b.length-1,ae=le-1;for(;H<=Z&&H<=ae;){const fe=b[H],Te=T[H]=G?hs(T[H]):yn(T[H]);if(Er(fe,Te))m(fe,Te,P,null,j,F,J,Y,G);else break;H++}for(;H<=Z&&H<=ae;){const fe=b[Z],Te=T[ae]=G?hs(T[ae]):yn(T[ae]);if(Er(fe,Te))m(fe,Te,P,null,j,F,J,Y,G);else break;Z--,ae--}if(H>Z){if(H<=ae){const fe=ae+1,Te=fe<le?T[fe].el:L;for(;H<=ae;)m(null,T[H]=G?hs(T[H]):yn(T[H]),P,Te,j,F,J,Y,G),H++}}else if(H>ae)for(;H<=Z;)ve(b[H],j,F,!0),H++;else{const fe=H,Te=H,Be=new Map;for(H=Te;H<=ae;H++){const Dt=T[H]=G?hs(T[H]):yn(T[H]);Dt.key!=null&&Be.set(Dt.key,H)}let Ne,Mt=0;const kt=ae-Te+1;let dn=!1,fn=0;const br=new Array(kt);for(H=0;H<kt;H++)br[H]=0;for(H=fe;H<=Z;H++){const Dt=b[H];if(Mt>=kt){ve(Dt,j,F,!0);continue}let hn;if(Dt.key!=null)hn=Be.get(Dt.key);else for(Ne=Te;Ne<=ae;Ne++)if(br[Ne-Te]===0&&Er(Dt,T[Ne])){hn=Ne;break}hn===void 0?ve(Dt,j,F,!0):(br[hn-Te]=H+1,hn>=fn?fn=hn:dn=!0,m(Dt,T[hn],P,null,j,F,J,Y,G),Mt++)}const Oh=dn?GS(br):Di;for(Ne=Oh.length-1,H=kt-1;H>=0;H--){const Dt=Te+H,hn=T[Dt],Nh=Dt+1<le?T[Dt+1].el:L;br[H]===0?m(null,hn,P,Nh,j,F,J,Y,G):dn&&(Ne<0||H!==Oh[Ne]?ge(hn,P,Nh,2):Ne--)}}},ge=(b,T,P,L,j=null)=>{const{el:F,type:J,transition:Y,children:G,shapeFlag:H}=b;if(H&6){ge(b.component.subTree,T,P,L);return}if(H&128){b.suspense.move(T,P,L);return}if(H&64){J.move(b,T,P,se);return}if(J===Ie){s(F,T,P);for(let Z=0;Z<G.length;Z++)ge(G[Z],T,P,L);s(b.anchor,T,P);return}if(J===la){g(b,T,P);return}if(L!==2&&H&1&&Y)if(L===0)Y.beforeEnter(F),s(F,T,P),bt(()=>Y.enter(F),j);else{const{leave:Z,delayLeave:ae,afterLeave:fe}=Y,Te=()=>s(F,T,P),Be=()=>{Z(F,()=>{Te(),fe&&fe()})};ae?ae(F,Te,Be):Be()}else s(F,T,P)},ve=(b,T,P,L=!1,j=!1)=>{const{type:F,props:J,ref:Y,children:G,dynamicChildren:H,shapeFlag:le,patchFlag:Z,dirs:ae,cacheIndex:fe}=b;if(Z===-2&&(j=!1),Y!=null&&ka(Y,null,P,b,!0),fe!=null&&(T.renderCache[fe]=void 0),le&256){T.ctx.deactivate(b);return}const Te=le&1&&ae,Be=!Fi(b);let Ne;if(Be&&(Ne=J&&J.onVnodeBeforeUnmount)&&pn(Ne,T,b),le&6)ls(b.component,P,L);else{if(le&128){b.suspense.unmount(P,L);return}Te&&Us(b,null,T,"beforeUnmount"),le&64?b.type.remove(b,T,P,se,L):H&&!H.hasOnce&&(F!==Ie||Z>0&&Z&64)?ft(H,T,P,!1,!0):(F===Ie&&Z&384||!j&&le&16)&&ft(G,T,P),L&&Qe(b)}(Be&&(Ne=J&&J.onVnodeUnmounted)||Te)&&bt(()=>{Ne&&pn(Ne,T,b),Te&&Us(b,null,T,"unmounted")},P)},Qe=b=>{const{type:T,el:P,anchor:L,transition:j}=b;if(T===Ie){Ze(P,L);return}if(T===la){S(b);return}const F=()=>{i(P),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(b.shapeFlag&1&&j&&!j.persisted){const{leave:J,delayLeave:Y}=j,G=()=>J(P,F);Y?Y(b.el,F,G):G()}else F()},Ze=(b,T)=>{let P;for(;b!==T;)P=f(b),i(b),b=P;i(T)},ls=(b,T,P)=>{const{bum:L,scope:j,job:F,subTree:J,um:Y,m:G,a:H}=b;Kh(G),Kh(H),L&&oa(L),j.stop(),F&&(F.flags|=8,ve(J,b,T,P)),Y&&bt(Y,T),bt(()=>{b.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},ft=(b,T,P,L=!1,j=!1,F=0)=>{for(let J=F;J<b.length;J++)ve(b[J],T,P,L,j)},$=b=>{if(b.shapeFlag&6)return $(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const T=f(b.anchor||b.el),P=T&&T[vv];return P?f(P):T};let ee=!1;const X=(b,T,P)=>{b==null?T._vnode&&ve(T._vnode,null,null,!0):m(T._vnode||null,b,T,null,null,null,P),T._vnode=b,ee||(ee=!0,$h(),mv(),ee=!1)},se={p:m,um:ve,m:ge,r:Qe,mt:ie,mc:I,pc:me,pbc:R,n:$,o:t};return{render:X,hydrate:void 0,createApp:$S(X)}}function Sc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function js({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function KS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qd(t,e,n=!1){const s=t.children,i=e.children;if(de(s)&&de(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=hs(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&qd(o,a)),a.type===Al&&(a.el=o.el)}}function GS(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Vv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Vv(e)}function Kh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const YS=Symbol.for("v-scx"),JS=()=>Fe(YS);function Jt(t,e){return Kd(t,null,e)}function Ye(t,e,n){return Kd(t,e,n)}function Kd(t,e,n=$e){const{immediate:s,deep:i,flush:r,once:o}=n,a=yt({},n),l=e&&s||!e&&r!=="post";let c;if(ao){if(r==="sync"){const h=JS();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Zt,h.resume=Zt,h.pause=Zt,h}}const u=lt;a.call=(h,p,m)=>xn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{bt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Ud(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=gS(t,e,a);return ao&&(c?c.push(f):l&&f()),f}function XS(t,e,n){const s=this.proxy,i=Je(t)?t.includes(".")?Hv(s,t):()=>s[t]:t.bind(s,s);let r;he(e)?r=e:(r=e.handler,n=e);const o=Po(this),a=Kd(i,r.bind(s),n);return o(),a}function Hv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const QS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Gt(e)}Modifiers`]||t[`${Os(e)}Modifiers`];function ZS(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||$e;let i=n;const r=e.startsWith("update:"),o=r&&QS(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Je(u)?u.trim():u)),o.number&&(i=n.map(gu)));let a,l=s[a=gc(e)]||s[a=gc(Gt(e))];!l&&r&&(l=s[a=gc(Os(e))]),l&&xn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xn(c,t,6,i)}}function zv(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!he(t)){const l=c=>{const u=zv(c,e,!0);u&&(a=!0,yt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(ze(t)&&s.set(t,null),null):(de(r)?r.forEach(l=>o[l]=null):yt(o,r),ze(t)&&s.set(t,o),o)}function Pl(t,e){return!t||!yl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Os(e))||Oe(t,e))}function Gh(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,v=Ia(t);let w,y;try{if(n.shapeFlag&4){const S=i||s,E=S;w=yn(c.call(E,S,u,d,h,f,p)),y=a}else{const S=e;w=yn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),y=e.props?a:eE(a)}}catch(S){Wr.length=0,xl(S,t,1),w=O(In)}let g=w;if(y&&m!==!1){const S=Object.keys(y),{shapeFlag:E}=g;S.length&&E&7&&(r&&S.some(Ad)&&(y=tE(y,r)),g=Is(g,y,!1,!0))}return n.dirs&&(g=Is(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&jd(g,n.transition),w=g,Ia(v),w}const eE=t=>{let e;for(const n in t)(n==="class"||n==="style"||yl(n))&&((e||(e={}))[n]=t[n]);return e},tE=(t,e)=>{const n={};for(const s in t)(!Ad(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function nE(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Yh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Pl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Yh(s,o,c):!0:!!o;return!1}function Yh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Pl(n,r))return!0}return!1}function sE({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Wv=t=>t.__isSuspense;function iE(t,e){e&&e.pendingBranch?de(t)?e.effects.push(...t):e.effects.push(t):pv(t)}const Ie=Symbol.for("v-fgt"),Al=Symbol.for("v-txt"),In=Symbol.for("v-cmt"),la=Symbol.for("v-stc"),Wr=[];let Ft=null;function k(t=!1){Wr.push(Ft=t?null:[])}function rE(){Wr.pop(),Ft=Wr[Wr.length-1]||null}let ro=1;function Jh(t,e=!1){ro+=t,t<0&&Ft&&e&&(Ft.hasOnce=!0)}function qv(t){return t.dynamicChildren=ro>0?Ft||Di:null,rE(),ro>0&&Ft&&Ft.push(t),t}function U(t,e,n,s,i,r){return qv(_(t,e,n,s,i,r,!0))}function Q(t,e,n,s,i){return qv(O(t,e,n,s,i,!0))}function oo(t){return t?t.__v_isVNode===!0:!1}function Er(t,e){return t.type===e.type&&t.key===e.key}const Kv=({key:t})=>t??null,ca=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Je(t)||Ge(t)||he(t)?{i:tt,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,s=0,i=null,r=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kv(e),ref:e&&ca(e),scopeId:Il,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tt};return a?(Gd(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Je(n)?8:16),ro>0&&!o&&Ft&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ft.push(l),l}const O=oE;function oE(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Iv)&&(t=In),oo(t)){const a=Is(t,e,!0);return n&&Gd(a,n),ro>0&&!r&&Ft&&(a.shapeFlag&6?Ft[Ft.indexOf(t)]=a:Ft.push(a)),a.patchFlag=-2,a}if(gE(t)&&(t=t.__vccOpts),e){e=aE(e);let{class:a,style:l}=e;a&&!Je(a)&&(e.class=Ee(a)),ze(l)&&(Tl(l)&&!de(l)&&(l=yt({},l)),e.style=Ns(l))}const o=Je(t)?1:Wv(t)?128:bS(t)?64:ze(t)?4:he(t)?2:0;return _(t,e,n,s,i,o,r,!0)}function aE(t){return t?Tl(t)||Dv(t)?yt({},t):t:null}function Is(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?Qn(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Kv(c),ref:e&&e.ref?n&&r?de(r)?r.concat(ca(e)):[r,ca(e)]:ca(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&jd(u,l.clone(u)),u}function ke(t=" ",e=0){return O(Al,null,t,e)}function Pe(t="",e=!1){return e?(k(),Q(In,null,t)):O(In,null,t)}function yn(t){return t==null||typeof t=="boolean"?O(In):de(t)?O(Ie,null,t.slice()):oo(t)?hs(t):O(Al,null,String(t))}function hs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function Gd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(de(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Gd(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Dv(e)?e._ctx=tt:i===3&&tt&&(tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:tt},n=32):(e=String(e),s&64?(n=16,e=[ke(e)]):n=8);t.children=e,t.shapeFlag|=n}function Qn(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ee([e.class,s.class]));else if(i==="style")e.style=Ns([e.style,s.style]);else if(yl(i)){const r=e[i],o=s[i];o&&r!==o&&!(de(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function pn(t,e,n,s=null){xn(t,e,7,[n,s])}const lE=Ov();let cE=0;function uE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||lE,r={uid:cE++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$v(s,i),emitsOptions:zv(s,i),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:s.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ZS.bind(null,r),t.ce&&t.ce(r),r}let lt=null;const An=()=>lt||tt;let Aa,xu;{const t=Sl(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Aa=e("__VUE_INSTANCE_SETTERS__",n=>lt=n),xu=e("__VUE_SSR_SETTERS__",n=>ao=n)}const Po=t=>{const e=lt;return Aa(t),t.scope.on(),()=>{t.scope.off(),Aa(e)}},Xh=()=>{lt&&lt.scope.off(),Aa(null)};function Gv(t){return t.vnode.shapeFlag&4}let ao=!1;function dE(t,e=!1,n=!1){e&&xu(e);const{props:s,children:i}=t.vnode,r=Gv(t);BS(t,s,r,e),HS(t,i,n);const o=r?fE(t,e):void 0;return e&&xu(!1),o}function fE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,AS);const{setup:s}=n;if(s){Ms();const i=t.setupContext=s.length>1?pE(t):null,r=Po(t),o=ko(s,t,0,[t.props,i]),a=Lg(o);if(Ds(),r(),(a||t.sp)&&!Fi(t)&&bv(t),a){if(o.then(Xh,Xh),e)return o.then(l=>{Qh(t,l)}).catch(l=>{xl(l,t,0)});t.asyncDep=o}else Qh(t,o)}else Yv(t)}function Qh(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ze(e)&&(t.setupState=uv(e)),Yv(t)}function Yv(t,e,n){const s=t.type;t.render||(t.render=s.render||Zt);{const i=Po(t);Ms();try{RS(t)}finally{Ds(),i()}}}const hE={get(t,e){return mt(t,"get",""),t[e]}};function pE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,hE),slots:t.slots,emit:t.emit,expose:e}}function Rl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(uv(Io(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in zr)return zr[n](t)},has(e,n){return n in e||n in zr}})):t.proxy}function mE(t,e=!0){return he(t)?t.displayName||t.name:t.name||e&&t.__name}function gE(t){return he(t)&&"__vccOpts"in t}const W=(t,e)=>pS(t,e,ao);function be(t,e,n){const s=arguments.length;return s===2?ze(e)&&!de(e)?oo(e)?O(t,null,[e]):O(t,e):O(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&oo(n)&&(n=[n]),O(t,e,n))}const vE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Iu;const Zh=typeof window<"u"&&window.trustedTypes;if(Zh)try{Iu=Zh.createPolicy("vue",{createHTML:t=>t})}catch{}const Jv=Iu?t=>Iu.createHTML(t):t=>t,yE="http://www.w3.org/2000/svg",_E="http://www.w3.org/1998/Math/MathML",$n=typeof document<"u"?document:null,ep=$n&&$n.createElement("template"),wE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?$n.createElementNS(yE,t):e==="mathml"?$n.createElementNS(_E,t):n?$n.createElement(t,{is:n}):$n.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>$n.createTextNode(t),createComment:t=>$n.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$n.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{ep.innerHTML=Jv(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=ep.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bE=Symbol("_vtc");function SE(t,e,n){const s=t[bE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ra=Symbol("_vod"),Xv=Symbol("_vsh"),Sn={beforeMount(t,{value:e},{transition:n}){t[Ra]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Tr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Tr(t,!0),s.enter(t)):s.leave(t,()=>{Tr(t,!1)}):Tr(t,e))},beforeUnmount(t,{value:e}){Tr(t,e)}};function Tr(t,e){t.style.display=e?t[Ra]:"none",t[Xv]=!e}const Qv=Symbol("");function EE(t){const e=An();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Oa(r,i))},s=()=>{const i=t(e.proxy);e.ce?Oa(e.ce,i):ku(e.subTree,i),n(i)};Vd(()=>{pv(s)}),Ce(()=>{Ye(s,Zt,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),_t(()=>i.disconnect())})}function ku(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ku(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Oa(t.el,e);else if(t.type===Ie)t.children.forEach(n=>ku(n,e));else if(t.type===la){let{el:n,anchor:s}=t;for(;n&&(Oa(n,e),n!==s);)n=n.nextSibling}}function Oa(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[Qv]=s}}const TE=/(^|;)\s*display\s*:/;function CE(t,e,n){const s=t.style,i=Je(n);let r=!1;if(n&&!i){if(e)if(Je(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ua(s,a,"")}else for(const o in e)n[o]==null&&ua(s,o,"");for(const o in n)o==="display"&&(r=!0),ua(s,o,n[o])}else if(i){if(e!==n){const o=s[Qv];o&&(n+=";"+o),s.cssText=n,r=TE.test(n)}}else e&&t.removeAttribute("style");Ra in t&&(t[Ra]=r?s.display:"",t[Xv]&&(s.display="none"))}const tp=/\s*!important$/;function ua(t,e,n){if(de(n))n.forEach(s=>ua(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=xE(t,e);tp.test(n)?t.setProperty(Os(s),n.replace(tp,""),"important"):t[s]=n}}const np=["Webkit","Moz","ms"],Ec={};function xE(t,e){const n=Ec[e];if(n)return n;let s=Gt(e);if(s!=="filter"&&s in t)return Ec[e]=s;s=bl(s);for(let i=0;i<np.length;i++){const r=np[i]+s;if(r in t)return Ec[e]=r}return e}const sp="http://www.w3.org/1999/xlink";function ip(t,e,n,s,i,r=j0(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(sp,e.slice(6,e.length)):t.setAttributeNS(sp,e,n):n==null||r&&!Ug(n)?t.removeAttribute(e):t.setAttribute(e,r?"":ns(n)?String(n):n)}function rp(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Jv(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Ug(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Pi(t,e,n,s){t.addEventListener(e,n,s)}function IE(t,e,n,s){t.removeEventListener(e,n,s)}const op=Symbol("_vei");function kE(t,e,n,s,i=null){const r=t[op]||(t[op]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=PE(e);if(s){const c=r[e]=OE(s,i);Pi(t,a,c,l)}else o&&(IE(t,a,o,l),r[e]=void 0)}}const ap=/(?:Once|Passive|Capture)$/;function PE(t){let e;if(ap.test(t)){e={};let s;for(;s=t.match(ap);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Os(t.slice(2)),e]}let Tc=0;const AE=Promise.resolve(),RE=()=>Tc||(AE.then(()=>Tc=0),Tc=Date.now());function OE(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;xn(NE(s,n.value),e,5,[s])};return n.value=t,n.attached=RE(),n}function NE(t,e){if(de(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const lp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ME=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?SE(t,s,o):e==="style"?CE(t,n,s):yl(e)?Ad(e)||kE(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):DE(t,e,s,o))?(rp(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ip(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Je(s))?rp(t,Gt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),ip(t,e,s,o))};function DE(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&lp(e)&&he(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return lp(e)&&Je(n)?!1:e in t}const cp=t=>{const e=t.props["onUpdate:modelValue"]||!1;return de(e)?n=>oa(e,n):e};function LE(t){t.target.composing=!0}function up(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Cc=Symbol("_assign"),Kn={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Cc]=cp(i);const r=s||i.props&&i.props.type==="number";Pi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=gu(a)),t[Cc](a)}),n&&Pi(t,"change",()=>{t.value=t.value.trim()}),e||(Pi(t,"compositionstart",LE),Pi(t,"compositionend",up),Pi(t,"change",up))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[Cc]=cp(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?gu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},$E=["ctrl","shift","alt","meta"],FE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$E.some(n=>t[`${n}Key`]&&!e.includes(n))},St=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=FE[e[o]];if(a&&a(i,e))return}return t(i,...r)})},BE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dp=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Os(i.key);if(e.some(o=>o===r||BE[o]===r))return t(i)})},UE=yt({patchProp:ME},wE);let fp;function jE(){return fp||(fp=WS(UE))}const VE=(...t)=>{const e=jE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=zE(s);if(!i)return;const r=e._component;!he(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,HE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function HE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zE(t){return Je(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ai=typeof document<"u";function Zv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function WE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Zv(t.default)}const Re=Object.assign;function xc(t,e){const n={};for(const s in e){const i=e[s];n[s]=rn(i)?i.map(t):t(i)}return n}const qr=()=>{},rn=Array.isArray,ey=/#/g,qE=/&/g,KE=/\//g,GE=/=/g,YE=/\?/g,ty=/\+/g,JE=/%5B/g,XE=/%5D/g,ny=/%5E/g,QE=/%60/g,sy=/%7B/g,ZE=/%7C/g,iy=/%7D/g,eT=/%20/g;function Yd(t){return encodeURI(""+t).replace(ZE,"|").replace(JE,"[").replace(XE,"]")}function tT(t){return Yd(t).replace(sy,"{").replace(iy,"}").replace(ny,"^")}function Pu(t){return Yd(t).replace(ty,"%2B").replace(eT,"+").replace(ey,"%23").replace(qE,"%26").replace(QE,"`").replace(sy,"{").replace(iy,"}").replace(ny,"^")}function nT(t){return Pu(t).replace(GE,"%3D")}function sT(t){return Yd(t).replace(ey,"%23").replace(YE,"%3F")}function iT(t){return t==null?"":sT(t).replace(KE,"%2F")}function lo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const rT=/\/$/,oT=t=>t.replace(rT,"");function Ic(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=uT(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:lo(o)}}function aT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function hp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lT(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&qi(e.matched[s],n.matched[i])&&ry(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ry(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!cT(t[n],e[n]))return!1;return!0}function cT(t,e){return rn(t)?pp(t,e):rn(e)?pp(e,t):t===e}function pp(t,e){return rn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function uT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var co;(function(t){t.pop="pop",t.push="push"})(co||(co={}));var Kr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Kr||(Kr={}));function dT(t){if(!t)if(Ai){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),oT(t)}const fT=/^[^#]+#/;function hT(t,e){return t.replace(fT,"#")+e}function pT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ol=()=>({left:window.scrollX,top:window.scrollY});function mT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=pT(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function mp(t,e){return(history.state?history.state.position-e:-1)+t}const Au=new Map;function gT(t,e){Au.set(t,e)}function vT(t){const e=Au.get(t);return Au.delete(t),e}let yT=()=>location.protocol+"//"+location.host;function oy(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),hp(l,"")}return hp(n,t)+s+i}function _T(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=oy(t,location),p=n.value,m=e.value;let v=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}v=m?f.position-m.position:0}else s(h);i.forEach(w=>{w(n.value,p,{delta:v,type:co.pop,direction:v?v>0?Kr.forward:Kr.back:Kr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Re({},f.state,{scroll:Ol()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function gp(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Ol():null}}function wT(t){const{history:e,location:n}=window,s={value:oy(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:yT()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Re({},e.state,gp(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Re({},i.value,e.state,{forward:l,scroll:Ol()});r(u.current,u,!0);const d=Re({},gp(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function bT(t){t=dT(t);const e=wT(t),n=_T(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Re({location:"",base:t,go:s,createHref:hT.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function ST(t){return typeof t=="string"||t&&typeof t=="object"}function ay(t){return typeof t=="string"||typeof t=="symbol"}const ly=Symbol("");var vp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(vp||(vp={}));function Ki(t,e){return Re(new Error,{type:t,[ly]:!0},e)}function Dn(t,e){return t instanceof Error&&ly in t&&(e==null||!!(t.type&e))}const yp="[^/]+?",ET={sensitive:!1,strict:!1,start:!0,end:!0},TT=/[.+*?^${}()[\]/\\]/g;function CT(t,e){const n=Re({},ET,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(TT,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:v,regexp:w}=f;r.push({name:p,repeatable:m,optional:v});const y=w||yp;if(y!==yp){h+=10;try{new RegExp(`(${y})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+S.message)}}let g=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(g=v&&c.length<2?`(?:/${g})`:"/"+g),v&&(g+="?"),i+=g,h+=20,v&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:v}=h,w=p in c?c[p]:"";if(rn(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=rn(w)?w.join("/"):w;if(!y)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function xT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function cy(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=xT(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(_p(s))return 1;if(_p(i))return-1}return i.length-s.length}function _p(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const IT={type:0,value:""},kT=/[a-zA-Z0-9_]/;function PT(t){if(!t)return[[]];if(t==="/")return[[IT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:kT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function AT(t,e,n){const s=CT(PT(t.path),n),i=Re(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function RT(t,e){const n=[],s=new Map;e=Ep({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const p=!h,m=bp(d);m.aliasOf=h&&h.record;const v=Ep(e,d),w=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of S)w.push(bp(Re({},m,{components:h?h.record.components:m.components,path:E,aliasOf:h?h.record:m})))}let y,g;for(const S of w){const{path:E}=S;if(f&&E[0]!=="/"){const A=f.record.path,B=A[A.length-1]==="/"?"":"/";S.path=f.record.path+(E&&B+E)}if(y=AT(S,f,v),h?h.alias.push(y):(g=g||y,g!==y&&g.alias.push(y),p&&d.name&&!Sp(y)&&o(d.name)),uy(y)&&l(y),m.children){const A=m.children;for(let B=0;B<A.length;B++)r(A[B],y,h&&h.children[B])}h=h||y}return g?()=>{o(g)}:qr}function o(d){if(ay(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=MT(d,n);n.splice(f,0,d),d.record.name&&!Sp(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},m,v;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw Ki(1,{location:d});v=h.record.name,p=Re(wp(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&wp(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),v=h.record.name);else{if(h=f.name?s.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw Ki(1,{location:d,currentLocation:f});v=h.record.name,p=Re({},f.params,d.params),m=h.stringify(p)}const w=[];let y=h;for(;y;)w.unshift(y.record),y=y.parent;return{name:v,path:m,params:p,matched:w,meta:NT(w)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function wp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function bp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:OT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function OT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Sp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function NT(t){return t.reduce((e,n)=>Re(e,n.meta),{})}function Ep(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function MT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;cy(t,e[r])<0?s=r:n=r+1}const i=DT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function DT(t){let e=t;for(;e=e.parent;)if(uy(e)&&cy(t,e)===0)return e}function uy({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function LT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(ty," "),o=r.indexOf("="),a=lo(o<0?r:r.slice(0,o)),l=o<0?null:lo(r.slice(o+1));if(a in e){let c=e[a];rn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Tp(t){let e="";for(let n in t){const s=t[n];if(n=nT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(rn(s)?s.map(r=>r&&Pu(r)):[s&&Pu(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function $T(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=rn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const dy=Symbol(""),Cp=Symbol(""),Nl=Symbol(""),Jd=Symbol(""),Ru=Symbol("");function Cr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function FT(t,e,n){const s=()=>{t[e].delete(n)};_t(s),Tv(s),Ev(()=>{t[e].add(n)}),t[e].add(n)}function BT(t){const e=Fe(dy,{}).value;e&&FT(e,"updateGuards",t)}function ps(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Ki(4,{from:n,to:e})):f instanceof Error?l(f):ST(f)?l(Ki(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function kc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Zv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ps(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=WE(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ps(h,n,s,o,a,i)()}))}}return r}function xp(t){const e=Fe(Nl),n=Fe(Jd),s=W(()=>{const l=C(t.to);return e.resolve(l)}),i=W(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(qi.bind(null,u));if(f>-1)return f;const h=Ip(l[c-2]);return c>1&&Ip(u)===h&&d[d.length-1].path!==h?d.findIndex(qi.bind(null,l[c-2])):f}),r=W(()=>i.value>-1&&HT(n.params,s.value.params)),o=W(()=>i.value>-1&&i.value===n.matched.length-1&&ry(n.params,s.value.params));function a(l={}){if(VT(l)){const c=e[C(t.replace)?"replace":"push"](C(t.to)).catch(qr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:W(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function UT(t){return t.length===1?t[0]:t}const jT=Se({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xp,setup(t,{slots:e}){const n=yi(xp(t)),{options:s}=Fe(Nl),i=W(()=>({[kp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[kp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&UT(e.default(n));return t.custom?r:be("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Ml=jT;function VT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function HT(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!rn(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Ip(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const kp=(t,e,n)=>t??e??n,zT=Se({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Fe(Ru),i=W(()=>t.route||s.value),r=Fe(Cp,0),o=W(()=>{let c=C(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=W(()=>i.value.matched[o.value]);ut(Cp,W(()=>o.value+1)),ut(dy,a),ut(Ru,i);const l=M();return Ye(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!qi(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Pp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=be(f,Re({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Pp(n.default,{Component:v,route:c})||v}}});function Pp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const WT=zT;function qT(t){const e=RT(t.routes,t),n=t.parseQuery||LT,s=t.stringifyQuery||Tp,i=t.history,r=Cr(),o=Cr(),a=Cr(),l=Bd(cs);let c=cs;Ai&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xc.bind(null,$=>""+$),d=xc.bind(null,iT),f=xc.bind(null,lo);function h($,ee){let X,se;return ay($)?(X=e.getRecordMatcher($),se=ee):se=$,e.addRoute(se,X)}function p($){const ee=e.getRecordMatcher($);ee&&e.removeRoute(ee)}function m(){return e.getRoutes().map($=>$.record)}function v($){return!!e.getRecordMatcher($)}function w($,ee){if(ee=Re({},ee||l.value),typeof $=="string"){const P=Ic(n,$,ee.path),L=e.resolve({path:P.path},ee),j=i.createHref(P.fullPath);return Re(P,L,{params:f(L.params),hash:lo(P.hash),redirectedFrom:void 0,href:j})}let X;if($.path!=null)X=Re({},$,{path:Ic(n,$.path,ee.path).path});else{const P=Re({},$.params);for(const L in P)P[L]==null&&delete P[L];X=Re({},$,{params:d(P)}),ee.params=d(ee.params)}const se=e.resolve(X,ee),Le=$.hash||"";se.params=u(f(se.params));const b=aT(s,Re({},$,{hash:tT(Le),path:se.path})),T=i.createHref(b);return Re({fullPath:b,hash:Le,query:s===Tp?$T($.query):$.query||{}},se,{redirectedFrom:void 0,href:T})}function y($){return typeof $=="string"?Ic(n,$,l.value.path):Re({},$)}function g($,ee){if(c!==$)return Ki(8,{from:ee,to:$})}function S($){return B($)}function E($){return S(Re(y($),{replace:!0}))}function A($){const ee=$.matched[$.matched.length-1];if(ee&&ee.redirect){const{redirect:X}=ee;let se=typeof X=="function"?X($):X;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=y(se):{path:se},se.params={}),Re({query:$.query,hash:$.hash,params:se.path!=null?{}:$.params},se)}}function B($,ee){const X=c=w($),se=l.value,Le=$.state,b=$.force,T=$.replace===!0,P=A(X);if(P)return B(Re(y(P),{state:typeof P=="object"?Re({},Le,P.state):Le,force:b,replace:T}),ee||X);const L=X;L.redirectedFrom=ee;let j;return!b&&lT(s,se,X)&&(j=Ki(16,{to:L,from:se}),ge(se,se,!0,!1)),(j?Promise.resolve(j):R(L,se)).catch(F=>Dn(F)?Dn(F,2)?F:It(F):me(F,L,se)).then(F=>{if(F){if(Dn(F,2))return B(Re({replace:T},y(F.to),{state:typeof F.to=="object"?Re({},Le,F.to.state):Le,force:b}),ee||L)}else F=K(L,se,!0,T,Le);return D(L,se,F),F})}function I($,ee){const X=g($,ee);return X?Promise.reject(X):Promise.resolve()}function x($){const ee=Ze.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext($):$()}function R($,ee){let X;const[se,Le,b]=KT($,ee);X=kc(se.reverse(),"beforeRouteLeave",$,ee);for(const P of se)P.leaveGuards.forEach(L=>{X.push(ps(L,$,ee))});const T=I.bind(null,$,ee);return X.push(T),ft(X).then(()=>{X=[];for(const P of r.list())X.push(ps(P,$,ee));return X.push(T),ft(X)}).then(()=>{X=kc(Le,"beforeRouteUpdate",$,ee);for(const P of Le)P.updateGuards.forEach(L=>{X.push(ps(L,$,ee))});return X.push(T),ft(X)}).then(()=>{X=[];for(const P of b)if(P.beforeEnter)if(rn(P.beforeEnter))for(const L of P.beforeEnter)X.push(ps(L,$,ee));else X.push(ps(P.beforeEnter,$,ee));return X.push(T),ft(X)}).then(()=>($.matched.forEach(P=>P.enterCallbacks={}),X=kc(b,"beforeRouteEnter",$,ee,x),X.push(T),ft(X))).then(()=>{X=[];for(const P of o.list())X.push(ps(P,$,ee));return X.push(T),ft(X)}).catch(P=>Dn(P,8)?P:Promise.reject(P))}function D($,ee,X){a.list().forEach(se=>x(()=>se($,ee,X)))}function K($,ee,X,se,Le){const b=g($,ee);if(b)return b;const T=ee===cs,P=Ai?history.state:{};X&&(se||T?i.replace($.fullPath,Re({scroll:T&&P&&P.scroll},Le)):i.push($.fullPath,Le)),l.value=$,ge($,ee,X,T),It()}let V;function ie(){V||(V=i.listen(($,ee,X)=>{if(!ls.listening)return;const se=w($),Le=A(se);if(Le){B(Re(Le,{replace:!0,force:!0}),se).catch(qr);return}c=se;const b=l.value;Ai&&gT(mp(b.fullPath,X.delta),Ol()),R(se,b).catch(T=>Dn(T,12)?T:Dn(T,2)?(B(Re(y(T.to),{force:!0}),se).then(P=>{Dn(P,20)&&!X.delta&&X.type===co.pop&&i.go(-1,!1)}).catch(qr),Promise.reject()):(X.delta&&i.go(-X.delta,!1),me(T,se,b))).then(T=>{T=T||K(se,b,!1),T&&(X.delta&&!Dn(T,8)?i.go(-X.delta,!1):X.type===co.pop&&Dn(T,20)&&i.go(-1,!1)),D(se,b,T)}).catch(qr)}))}let oe=Cr(),ne=Cr(),re;function me($,ee,X){It($);const se=ne.list();return se.length?se.forEach(Le=>Le($,ee,X)):console.error($),Promise.reject($)}function dt(){return re&&l.value!==cs?Promise.resolve():new Promise(($,ee)=>{oe.add([$,ee])})}function It($){return re||(re=!$,ie(),oe.list().forEach(([ee,X])=>$?X($):ee()),oe.reset()),$}function ge($,ee,X,se){const{scrollBehavior:Le}=t;if(!Ai||!Le)return Promise.resolve();const b=!X&&vT(mp($.fullPath,0))||(se||!X)&&history.state&&history.state.scroll||null;return _i().then(()=>Le($,ee,b)).then(T=>T&&mT(T)).catch(T=>me(T,$,ee))}const ve=$=>i.go($);let Qe;const Ze=new Set,ls={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:m,resolve:w,options:t,push:S,replace:E,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ne.add,isReady:dt,install($){const ee=this;$.component("RouterLink",Ml),$.component("RouterView",WT),$.config.globalProperties.$router=ee,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>C(l)}),Ai&&!Qe&&l.value===cs&&(Qe=!0,S(i.location).catch(Le=>{}));const X={};for(const Le in cs)Object.defineProperty(X,Le,{get:()=>l.value[Le],enumerable:!0});$.provide(Nl,ee),$.provide(Jd,ov(X)),$.provide(Ru,l);const se=$.unmount;Ze.add($),$.unmount=function(){Ze.delete($),Ze.size<1&&(c=cs,V&&V(),V=null,l.value=cs,Qe=!1,re=!1),se()}}};function ft($){return $.reduce((ee,X)=>ee.then(()=>x(X)),Promise.resolve())}return ls}function KT(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>qi(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>qi(c,l))||i.push(l))}return[n,s,i]}function ir(){return Fe(Nl)}function fy(t){return Fe(Jd)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const GT=(t,e)=>(n,s)=>{let i=-1;if(s.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(i=a,l):r},e),i>-1)return n[i]},YT=GT((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var JT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:YT});const XT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},QT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},qt=Array.isArray,da=t=>typeof t=="function",Ap=t=>typeof t=="string",Dl=t=>t!==null&&typeof t=="object",ZT=Object.prototype.toString,Gr=t=>ZT.call(t)==="[object Object]",Rp=Symbol("kIsProxy"),eC=Symbol("kProxySources"),hy=Symbol("kProxyTarget"),Ri=Symbol("kResolveContext");function uo(t){if(qt(t))return t.map(uo);if(Dl(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:uo(t[n]);return e}return t}const fa=(t,e,n)=>{const s=[];for(const i of t)i&&e in i&&(s.push(i[e]),n&&n(i));return s},Na=(t,e=[],n,s)=>{if(!n&&!s&&({active:n,sources:s}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],s=s.map(l=>l[a]).filter(Boolean)}if(!n||!s)return;const i=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&Dl(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...s),r=Object.keys(n);for(const o of r)i.includes(o)||delete n[o];for(const o of i){let a=!1;for(let d=0;d<s.length;d++){const f=s[d];if(f&&o in f&&f[o]!==void 0){a=Gr(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of s)o in f&&d.push(f[o]);Na(t,[...e,o],n[o],d);continue}!n[o]&&qt(s[0][o])&&(n[o]=[]);const l=[],c=fa(s,o,d=>l.push(d[Ri]));let u=t.resolve(c,l,n[o],o,e);Gr(u)&&(u=uo(u)),n[o]=u}},py=(t,e,n,s=[])=>{const i=tC(t,n,s),r=Io(new Proxy(e,i));return!s.length&&t.sources&&t.sources.push(r),r},tC=(t,e,n=[])=>({get:(s,i,r)=>{if(i===Rp)return!0;if(i===eC)return t.sources;if(i===hy)return s;if(i===Ri)return e;let o=Reflect.get(s,i,r);if(!Dl(o))return o;if(!o[Rp]){const a=[...n,i];o=py(t,o,e,a),Reflect.set(s,i,o)}return o},set:(s,i,r)=>{const o=Reflect.set(s,i,r);if(o){const a=qt(s);let l,c=!1,{sources:u,active:d}=t,f=0;for(const v of n){if(u=fa(u,v),a&&f===n.length-1){l=v;break}qt(d)&&(c=!0),d=d[v],f++}if(c)return Na(t),o;if(Gr(r))return Na(t,n),o;let h,p=[];a?(h=u,p=u.map(v=>v[Ri])):h=fa(u,i,v=>p.push(v[Ri]));let m=t.resolve(h,p,d,i,n);Gr(m)&&(m=uo(m)),a&&l?d[l]=m:d[i]=m}return o},deleteProperty:(s,i)=>{const r=Reflect.deleteProperty(s,i);if(r){const o=qt(s);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&i in d)){let d,f=[];o?(d=l,f=l.map(p=>p[Ri])):d=fa(l,i,p=>f.push(p[Ri]));let h=t.resolve(d,f,c,i,n);Gr(h)&&(h=uo(h)),o&&a?c[a]=h:c[i]=h}else delete c[i]}return r}}),Pc={};function nC(t,e,n,s){return"attributesFor"in s?function(i,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(i.isSSR)return{to:"",vnode:be(`ssr-${l}`,o)};if(!Pc[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),Pc[l]={el:f,attrs:[]}}const{el:c,attrs:u}=Pc[l];for(const f in o){let h=ha(i,`${r}(${f})`,o[f],o);qt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,s):"group"in s?function(i,r,o,a){return qt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return Ma(i,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,s):Ma(t,e,n,s)}function Ma(t,e,n,s={},i){const r=["content","json","rawContent"],o=v=>function(w,y){for(const g of w){const S=QT[g];if(g&&S)return S[y]}}([a,s.tag],v);if(qt(n))return n.map(v=>Ma(t,e,v,s,i)).filter(Boolean).flat();const{tag:a=s.tag||e}=n;let l="",c=!1,u=!1;if(Ap(n))l=n;else if(n.children&&qt(n.children))c=!0,l=n.children.map(v=>{const w=Ma(t,e,v,s,i);return qt(w)?w.map(({vnode:y})=>y):w&&w.vnode});else{let v=0;for(const w of r){if(!l&&n[w]){l=v===1?JSON.stringify(n[w]):n[w],u=v>1;break}v++}}const d=i&&i.fullName||e,f=i&&i.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const v of r)delete h[v]}if(c)l=ha(t,f,l,n);else{const v=!!o("contentAsAttribute");let{valueAttribute:w}=s;if(!w&&v){const[y]=o("attributes");w=Ap(v)?v:y}if(w){const{nameless:y}=s;if(!y){const g=s.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[w]=ha(t,f,h[w]||l,i),l=""}else l=ha(t,f,l,n)}const p=i&&i.tagNamespace?`${i.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=be(p,h,l||void 0);return{to:n.to,vnode:m}}function ha({metainfo:t,slots:e},n,s,i){const r=e&&e[n];if(!r||!da(r))return s;const o={content:s,metainfo:t};if(i&&i.group){const{group:l,data:c}=i;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return s}const sC=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",iC=(t=>sC?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function my(t,e,n){for(const s in e)s in n?Dl(t[s])?my(t[s],e[s],n[s]):e[s]!==n[s]&&(t[s]=e[s]):t[s]=e[s];for(const s in n)e&&s in e||delete t[s]}function gy(t){if(t||(t=An()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function Ao(t,e){const n=An()||void 0;if(!e&&n&&(e=gy(n)),!e)throw new Error("No manager or current instance");Tl(t)&&(Ye(t,(i,r)=>{my(s.meta,i,r)}),t=t.value);const s=e.addMeta(t,n);return s}const rC=Se({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=gy();if(n)return n.render({slots:e})}});function Op(t,e,n,s){const i=qt(s)?s:[s];t?n.endsWith("Attrs")||i.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):i.forEach((r,o)=>{r.type===In&&i.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...i)}const oC=(t=!1,e,n)=>aC.create(t,XT,JT);var Xs;let aC=(Xs=class{constructor(e,n,s,i){Bs(this,"isSSR",!1);Bs(this,"config");Bs(this,"target");Bs(this,"resolver");Bs(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=s,i&&"setup"in i&&da(i.setup)&&(this.resolver=i)}install(e){e.component("Metainfo",rC),e.config.globalProperties.$metaManager=this,e.provide(iC,this.target.context.active)}addMeta(e,n){n||(n=An()||void 0);const s={removed:[]},i={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(i);const o=this.target.addSource(e,i,!0),a=l=>this.unmount(!!l,o,s,n);return n&&_t(a),{meta:o,onRemoved:l=>s.removed.push(l),unmount:a}}unmount(e,n,s,i){if(i){const{$el:r}=i.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,s))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,s)}async reallyUnmount(e,n,s){this.target.delSource(n),!e&&s&&await Promise.all(s.removed.map(i=>i()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:s}=this;if(!s&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const i={};for(const r in n){const o=this.config[r]||{};let a=nC({isSSR:s,metainfo:n,slots:e},r,n[r],o);if(!a)continue;qt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)Op(this.isSSR,i,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];da(a)&&Op(this.isSSR,i,o,a({metainfo:n}))}return Object.keys(i).map(r=>be(_v,{to:r},i[r]))}},Bs(Xs,"create",(e,n,s)=>{const i=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>Na(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=py(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[hy]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>da(s)?s(r,o,a,l,c):s.resolve(r,o,a,l,c),yi({}));return new Xs(e,n,i,s)}),Xs);const vy=new Set,Rt=new WeakMap,Gi=new WeakMap,ri=new WeakMap,Ou=new WeakMap,lC=new WeakMap,Yi=new WeakMap,Da=new WeakMap,Lr=new WeakSet;let ks,Xd=0,Qd=0;const Vn="__aa_tgt",fo="__aa_del",La="__aa_new",cC=t=>{const e=mC(t);e&&e.forEach(n=>gC(n))},uC=t=>{t.forEach(e=>{e.target===ks&&fC(),Rt.has(e.target)&&wi(e.target)})};function dC(t){const e=Ou.get(t);e==null||e.disconnect();let n=Rt.get(t),s=0;const i=5;n||(n=Ji(t),Rt.set(t,n));const{offsetWidth:r,offsetHeight:o}=ks,l=[n.top-i,r-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&wi(t)},{root:ks,threshold:1,rootMargin:l});c.observe(t),Ou.set(t,c)}function wi(t){clearTimeout(Da.get(t));const e=Ll(t),n=ho(e)?500:e.duration;Da.set(t,setTimeout(async()=>{const s=ri.get(t);try{await(s==null?void 0:s.finished),Rt.set(t,Ji(t)),dC(t)}catch{}},n))}function fC(){clearTimeout(Da.get(ks)),Da.set(ks,setTimeout(()=>{vy.forEach(t=>by(t,e=>yy(()=>wi(e))))},100))}function hC(t){setTimeout(()=>{lC.set(t,setInterval(()=>yy(wi.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function yy(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let Nu,Oi;const pC=typeof window<"u"&&"ResizeObserver"in window;pC&&(ks=document.documentElement,Nu=new MutationObserver(cC),Oi=new ResizeObserver(uC),window.addEventListener("scroll",()=>{Qd=window.scrollY,Xd=window.scrollX}),Oi.observe(ks));function mC(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(Ac(i.target),!s.has(i.target)){s.add(i.target);for(let r=0;r<i.target.children.length;r++){const o=i.target.children.item(r);if(o){if(fo in o)return!1;Ac(i.target,o),s.add(o)}}}if(i.removedNodes.length)for(let r=0;r<i.removedNodes.length;r++){const o=i.removedNodes[r];if(fo in o)return!1;o instanceof Element&&(s.add(o),Ac(i.target,o),Gi.set(o,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function Ac(t,e){!e&&!(Vn in t)?Object.defineProperty(t,Vn,{value:t}):e&&!(Vn in e)&&Object.defineProperty(e,Vn,{value:t})}function gC(t){var e;const n=t.isConnected,s=Rt.has(t);n&&Gi.has(t)&&Gi.delete(t),ri.has(t)&&((e=ri.get(t))===null||e===void 0||e.cancel()),La in t?Np(t):s&&n?yC(t):s&&!n?_C(t):Np(t)}function vn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function vC(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Ji(t){const e=t.getBoundingClientRect(),{x:n,y:s}=vC(t);return{top:e.top+s,left:e.left+n,width:e.width,height:e.height}}function _y(t,e,n){let s=e.width,i=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=vn(a.paddingTop)+vn(a.paddingBottom)+vn(a.borderTopWidth)+vn(a.borderBottomWidth),u=vn(a.paddingLeft)+vn(a.paddingRight)+vn(a.borderRightWidth)+vn(a.borderLeftWidth);s-=u,r-=u,i-=c,o-=c}return[s,r,i,o].map(Math.round)}function Ll(t){return Vn in t&&Yi.has(t[Vn])?Yi.get(t[Vn]):{duration:250,easing:"ease-in-out"}}function wy(t){if(Vn in t)return t[Vn]}function Zd(t){const e=wy(t);return e?Lr.has(e):!1}function by(t,...e){e.forEach(n=>n(t,Yi.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,Yi.has(s)))}}function ef(t){return Array.isArray(t)?t:[t]}function ho(t){return typeof t=="function"}function yC(t){const e=Rt.get(t),n=Ji(t);if(!Zd(t))return Rt.set(t,n);let s;if(!e)return;const i=Ll(t);if(typeof i!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=_y(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),s=t.animate([d,f],{duration:i.duration,easing:i.easing})}else{const[r]=ef(i(t,"remain",e,n));s=new Animation(r),s.play()}ri.set(t,s),Rt.set(t,n),s.addEventListener("finish",wi.bind(null,t))}function Np(t){La in t&&delete t[La];const e=Ji(t);Rt.set(t,e);const n=Ll(t);if(!Zd(t))return;let s;if(typeof n!="function")s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=ef(n(t,"add",e));s=new Animation(i),s.play()}ri.set(t,s),s.addEventListener("finish",wi.bind(null,t))}function Mp(t,e){var n;t.remove(),Rt.delete(t),Gi.delete(t),ri.delete(t),(n=Ou.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(fo in t&&delete t[fo],Object.defineProperty(t,La,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const s in e)t.style[s]=""},0)}function _C(t){var e;if(!Gi.has(t)||!Rt.has(t))return;const[n,s]=Gi.get(t);Object.defineProperty(t,fo,{value:!0,configurable:!0});const i=window.scrollX,r=window.scrollY;if(s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=wy(t))===null||e===void 0||e.appendChild(t),!Zd(t))return Mp(t);const[o,a,l,c]=bC(t),u=Ll(t),d=Rt.get(t);(i!==Xd||r!==Qd)&&wC(t,i,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!ho(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=ef(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}ri.set(t,f),f.addEventListener("finish",Mp.bind(null,t,h))}function wC(t,e,n,s){const i=Xd-e,r=Qd-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(ks).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!ho(s)){const h=c-l.clientHeight,p=u-l.clientWidth;d+s.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function bC(t){const e=Rt.get(t),[n,,s]=_y(t,e,Ji(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const r=getComputedStyle(i),o=Rt.get(i)||Ji(i),a=Math.round(e.top-o.top)-vn(r.borderTopWidth),l=Math.round(e.left-o.left)-vn(r.borderLeftWidth);return[a,l,n,s]}function SC(t,e={}){return Nu&&Oi&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!ho(e)&&!e.disrespectUserMotionPreference||(Lr.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),by(t,wi,hC,i=>Oi==null?void 0:Oi.observe(i)),ho(e)?Yi.set(t,e):Yi.set(t,{duration:250,easing:"ease-in-out",...e}),Nu.observe(t,{childList:!0}),vy.add(t))),Object.freeze({parent:t,enable:()=>{Lr.add(t)},disable:()=>{Lr.delete(t)},isEnabled:()=>Lr.has(t)})}const EC={mounted:(t,e)=>{SC(t,e.value||{})},getSSRProps:()=>({})},TC=EC,CC={install(t){t.directive("auto-animate",TC)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Sy;const $l=t=>Sy=t,Ey=Symbol();function Mu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yr||(Yr={}));function xC(){const t=zg(!0),e=t.run(()=>M({}));let n=[],s=[];const i=Io({install(r){$l(i),i._a=r,r.provide(Ey,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Ty=()=>{};function Dp(t,e,n,s=Ty){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Wg()&&V0(i),i}function Ii(t,...e){t.slice().forEach(n=>{n(...e)})}const IC=t=>t(),Lp=Symbol(),Rc=Symbol();function Du(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Mu(i)&&Mu(s)&&t.hasOwnProperty(n)&&!Ge(s)&&!Ts(s)?t[n]=Du(i,s):t[n]=s}return t}const kC=Symbol();function PC(t){return!Mu(t)||!t.hasOwnProperty(kC)}const{assign:ds}=Object;function AC(t){return!!(Ge(t)&&t.effect)}function RC(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=Cl(n.state.value[t]);return ds(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Io(W(()=>{$l(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=Cy(t,c,e,n,s,!0),l}function Cy(t,e,n={},s,i,r){let o;const a=ds({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),M({});let m;function v(I){let x;c=u=!1,typeof I=="function"?(I(s.state.value[t]),x={type:Yr.patchFunction,storeId:t,events:h}):(Du(s.state.value[t],I),x={type:Yr.patchObject,payload:I,storeId:t,events:h});const R=m=Symbol();_i().then(()=>{m===R&&(c=!0)}),u=!0,Ii(d,x,s.state.value[t])}const w=r?function(){const{state:x}=n,R=x?x():{};this.$patch(D=>{ds(D,R)})}:Ty;function y(){o.stop(),d=[],f=[],s._s.delete(t)}const g=(I,x="")=>{if(Lp in I)return I[Rc]=x,I;const R=function(){$l(s);const D=Array.from(arguments),K=[],V=[];function ie(re){K.push(re)}function oe(re){V.push(re)}Ii(f,{args:D,name:R[Rc],store:E,after:ie,onError:oe});let ne;try{ne=I.apply(this&&this.$id===t?this:E,D)}catch(re){throw Ii(V,re),re}return ne instanceof Promise?ne.then(re=>(Ii(K,re),re)).catch(re=>(Ii(V,re),Promise.reject(re))):(Ii(K,ne),ne)};return R[Lp]=!0,R[Rc]=x,R},S={_p:s,$id:t,$onAction:Dp.bind(null,f),$patch:v,$reset:w,$subscribe(I,x={}){const R=Dp(d,I,x.detached,()=>D()),D=o.run(()=>Ye(()=>s.state.value[t],K=>{(x.flush==="sync"?u:c)&&I({storeId:t,type:Yr.direct,events:h},K)},ds({},l,x)));return R},$dispose:y},E=yi(S);s._s.set(t,E);const B=(s._a&&s._a.runWithContext||IC)(()=>s._e.run(()=>(o=zg()).run(()=>e({action:g}))));for(const I in B){const x=B[I];if(Ge(x)&&!AC(x)||Ts(x))r||(p&&PC(x)&&(Ge(x)?x.value=p[I]:Du(x,p[I])),s.state.value[t][I]=x);else if(typeof x=="function"){const R=g(x,I);B[I]=R,a.actions[I]=x}}return ds(E,B),ds(xe(E),B),Object.defineProperty(E,"$state",{get:()=>s.state.value[t],set:I=>{v(x=>{ds(x,I)})}}),s._p.forEach(I=>{ds(E,o.run(()=>I({store:E,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(E.$state,p),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Ro(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=FS();return a=a||(c?Fe(Ey,null):null),a&&$l(a),a=Sy,a._s.has(s)||(r?Cy(s,e,i,a):RC(s,i,a)),a._s.get(s)}return o.$id=s,o}const OC={key:0},NC={key:1},MC={key:2},DC={key:3},LC={key:4},$C={key:5},FC={key:6},BC={key:7},UC={key:8},jC={key:9},tf=Se({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const s=fS(n,"modelValue"),i=e,r=g=>{g!==s.value&&(g>l.value||g<1||n.disablePagination||(i("update:modelValue",g),i("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=W(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=W(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let A=Math.floor(n.maxPagesShown/2),B=Math.ceil(n.maxPagesShown/2)-1;s.value<=A?(g=1,S=n.maxPagesShown):s.value+B>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=s.value-A,S=s.value+B)}let E=Array.from(Array(S+1-g).keys()).map(A=>g+A);return n.dir==="rtl"&&(E=E.reverse()),{totalItems:n.totalItems,currentPage:s.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:E}}),u=W(()=>n.dir==="rtl"),d=W(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==l.value:!n.hidePrevNextWhenEnds||s.value!==1),f=W(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==1:!n.hidePrevNextWhenEnds||s.value!==l.value),h=W(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=W(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=W(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),v=W(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),w=W(()=>s.value!==1),y=W(()=>s.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(k(),U("ul",{id:"componentContainer",class:Ee(t.paginationContainerClass)},[t.showEndingButtons&&w.value?(k(),U("li",OC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=St(E=>r(u.value?l.value:1),["prevent"])),class:Ee([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:z(()=>[et(g.$slots,"first-page-button",{},()=>[ke(te(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Pe("",!0),t.showJumpButtons&&h.value?(k(),U("li",NC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=St(E=>r(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ee([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:z(()=>[et(g.$slots,"backward-jump-button",{},()=>[ke(te(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Pe("",!0),!t.hidePrevNext&&d.value?(k(),U("li",MC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?s.value+1:s.value-1),onClick:S[2]||(S[2]=St(E=>r(u.value?s.value+1:s.value-1),["prevent"])),class:Ee([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:z(()=>[et(g.$slots,"prev-button",{},()=>[ke(te(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Pe("",!0),t.showBreakpointButtons&&m.value?(k(),U("li",DC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=St(E=>r(u.value?l.value:1),["prevent"])),class:Ee([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:z(()=>[ke(te(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):Pe("",!0),t.showBreakpointButtons&&h.value?(k(),U("li",LC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=St(E=>r(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ee([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:z(()=>[et(g.$slots,"starting-breakpoint-button",{},()=>[ke(te(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):Pe("",!0),(k(!0),U(Ie,null,is(c.value.pages,(E,A)=>(k(),U("li",{key:A},[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(E),onClick:St(()=>r(E),["prevent"]),class:Ee([t.paginateButtonsClass,t.numberButtonsClass,E===s.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:z(()=>[ke(te(o(E)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(k(),U("li",$C,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=St(E=>r(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ee([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:z(()=>[et(g.$slots,"ending-breakpoint-button",{},()=>[ke(te(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):Pe("",!0),t.showBreakpointButtons&&v.value?(k(),U("li",FC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=St(E=>r(u.value?1:l.value),["prevent"])),class:Ee([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:z(()=>[ke(te(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):Pe("",!0),!t.hidePrevNext&&f.value?(k(),U("li",BC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?s.value-1:s.value+1),onClick:S[7]||(S[7]=St(E=>r(u.value?s.value-1:s.value+1),["prevent"])),class:Ee([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:z(()=>[et(g.$slots,"next-button",{},()=>[ke(te(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Pe("",!0),t.showJumpButtons&&p.value?(k(),U("li",UC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=St(E=>r(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ee([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:z(()=>[et(g.$slots,"forward-jump-button",{},()=>[ke(te(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Pe("",!0),t.showEndingButtons&&y.value?(k(),U("li",jC,[(k(),Q(Ht(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=St(E=>r(u.value?1:l.value),["prevent"])),class:Ee([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:z(()=>[et(g.$slots,"last-page-button",{},()=>[ke(te(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Pe("",!0)],2))}});var VC={install:t=>{t.component("VueAwesomePaginate",tf)}};function xy(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function Iy(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function nf(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function HC(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function zC(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function Fl(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function ky(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function WC(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Py(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function sf(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function qC(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function KC(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function Ay(t,e){return k(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(t,e){if(!t)throw rr(e)},rr=function(t){return new Error("Firebase Database ("+Ry.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Oy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new YC;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ny=function(t){const e=Oy(t);return rf.encodeByteArray(e,!0)},$a=function(t){return Ny(t).replace(/\./g,"")},Fa=function(t){try{return rf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){return My(void 0,t)}function My(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!XC(n)||(t[n]=My(t[n],e[n]));return t}function XC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>QC().__FIREBASE_DEFAULTS__,ex=()=>{if(typeof process>"u"||typeof $p>"u")return;const t=$p.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fa(t[1]);return e&&JSON.parse(e)},of=()=>{try{return ZC()||ex()||tx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dy=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nx=t=>{const e=Dy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ly=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},$y=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$a(JSON.stringify(n)),$a(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function af(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function ix(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ox(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ax(){return Ry.NODE_ADMIN===!0}function By(){try{return typeof indexedDB=="object"}catch{return!1}}function Uy(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="FirebaseError";class rs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lx,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ls.prototype.create)}}class Ls{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?cx(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rs(i,a,s)}}function cx(t,e){return t.replace(ux,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const ux=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return JSON.parse(t)}function ct(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=po(Fa(r[0])||""),n=po(Fa(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},dx=function(t){const e=jy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fx=function(t){const e=jy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ba(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Ua(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Fp(r)&&Fp(o)){if(!Ua(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Fp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $r(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Fr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function px(t,e){const n=new mx(t,e);return n.subscribe.bind(n)}class mx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Oc),i.error===void 0&&(i.error=Oc),i.complete===void 0&&(i.complete=Oc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Oc(){}function Bl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,q(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ul=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class Xt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Oo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wx(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_x(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(t){return t===zs?void 0:t}function wx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const Sx={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Ex=De.INFO,Tx={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Cx=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=Tx[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=Ex,this._logHandler=Cx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const xx=(t,e)=>e.some(n=>t instanceof n);let Bp,Up;function Ix(){return Bp||(Bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kx(){return Up||(Up=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vy=new WeakMap,$u=new WeakMap,Hy=new WeakMap,Nc=new WeakMap,cf=new WeakMap;function Px(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Gn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vy.set(n,t)}).catch(()=>{}),cf.set(e,t),e}function Ax(t){if($u.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});$u.set(t,e)}let Fu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $u.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rx(t){Fu=t(Fu)}function Ox(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Mc(this),e,...n);return Hy.set(s,e.sort?e.sort():[e]),Gn(s)}:kx().includes(t)?function(...e){return t.apply(Mc(this),e),Gn(Vy.get(this))}:function(...e){return Gn(t.apply(Mc(this),e))}}function Nx(t){return typeof t=="function"?Ox(t):(t instanceof IDBTransaction&&Ax(t),xx(t,Ix())?new Proxy(t,Fu):t)}function Gn(t){if(t instanceof IDBRequest)return Px(t);if(Nc.has(t))return Nc.get(t);const e=Nx(t);return e!==t&&(Nc.set(t,e),cf.set(e,t)),e}const Mc=t=>cf.get(t);function ar(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Gn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Gn(o.result),l.oldVersion,l.newVersion,Gn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Bi(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),Gn(n).then(()=>{})}const Mx=["get","getKey","getAll","getAllKeys","count"],Dx=["put","add","delete","clear"],Dc=new Map;function jp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dc.get(e))return Dc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=Dx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Mx.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Dc.set(e,r),r}Rx(t=>({...t,get:(e,n,s)=>jp(e,n)||t.get(e,n,s),has:(e,n)=>!!jp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($x(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $x(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bu="@firebase/app",Vp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new lf("@firebase/app"),Fx="@firebase/app-compat",Bx="@firebase/analytics-compat",Ux="@firebase/analytics",jx="@firebase/app-check-compat",Vx="@firebase/app-check",Hx="@firebase/auth",zx="@firebase/auth-compat",Wx="@firebase/database",qx="@firebase/data-connect",Kx="@firebase/database-compat",Gx="@firebase/functions",Yx="@firebase/functions-compat",Jx="@firebase/installations",Xx="@firebase/installations-compat",Qx="@firebase/messaging",Zx="@firebase/messaging-compat",e1="@firebase/performance",t1="@firebase/performance-compat",n1="@firebase/remote-config",s1="@firebase/remote-config-compat",i1="@firebase/storage",r1="@firebase/storage-compat",o1="@firebase/firestore",a1="@firebase/vertexai",l1="@firebase/firestore-compat",c1="firebase",u1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="[DEFAULT]",d1={[Bu]:"fire-core",[Fx]:"fire-core-compat",[Ux]:"fire-analytics",[Bx]:"fire-analytics-compat",[Vx]:"fire-app-check",[jx]:"fire-app-check-compat",[Hx]:"fire-auth",[zx]:"fire-auth-compat",[Wx]:"fire-rtdb",[qx]:"fire-data-connect",[Kx]:"fire-rtdb-compat",[Gx]:"fire-fn",[Yx]:"fire-fn-compat",[Jx]:"fire-iid",[Xx]:"fire-iid-compat",[Qx]:"fire-fcm",[Zx]:"fire-fcm-compat",[e1]:"fire-perf",[t1]:"fire-perf-compat",[n1]:"fire-rc",[s1]:"fire-rc-compat",[i1]:"fire-gcs",[r1]:"fire-gcs-compat",[o1]:"fire-fst",[l1]:"fire-fst-compat",[a1]:"fire-vertex","fire-js":"fire-js",[c1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Map,f1=new Map,ju=new Map;function Hp(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(ju.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;ju.set(e,t);for(const n of ja.values())Hp(n,t);for(const n of f1.values())Hp(n,t);return!0}function lr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Ls("app","Firebase",h1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=u1;function zy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Uu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(n||(n=Ly()),!n)throw Cs.create("no-options");const r=ja.get(i);if(r){if(Ua(n,r.options)&&Ua(s,r.config))return r;throw Cs.create("duplicate-app",{appName:i})}const o=new bx(i);for(const l of ju.values())o.addComponent(l);const a=new p1(n,s,o);return ja.set(i,a),a}function uf(t=Uu){const e=ja.get(t);if(!e&&t===Uu&&Ly())return zy();if(!e)throw Cs.create("no-app",{appName:t});return e}function Kt(t,e,n){var s;let i=(s=d1[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}on(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",g1=1,mo="firebase-heartbeat-store";let Lc=null;function Wy(){return Lc||(Lc=ar(m1,g1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),Lc}async function v1(t){try{const n=(await Wy()).transaction(mo),s=await n.objectStore(mo).get(qy(t));return await n.done,s}catch(e){if(e instanceof rs)Zn.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function zp(t,e){try{const s=(await Wy()).transaction(mo,"readwrite");await s.objectStore(mo).put(e,qy(t)),await s.done}catch(n){if(n instanceof rs)Zn.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(s.message)}}}function qy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,_1=30*24*60*60*1e3;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Zn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wp(),{heartbeatsToSend:s,unsentEntries:i}=b1(this._heartbeatsCache.heartbeats),r=$a(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Zn.warn(n),""}}}function Wp(){return new Date().toISOString().substring(0,10)}function b1(t,e=y1){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),qp(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return By()?Uy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qp(t){return $a(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){on(new Xt("platform-logger",e=>new Lx(e),"PRIVATE")),on(new Xt("heartbeat",e=>new w1(e),"PRIVATE")),Kt(Bu,Vp,t),Kt(Bu,Vp,"esm2017"),Kt("fire-js","")}E1("");var Kp={};const Gp="@firebase/database",Yp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky="";function T1(t){Ky=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ct(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:po(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new C1(e)}}catch{}return new x1},Ks=Gy("localStorage"),I1=Gy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new lf("@firebase/database"),k1=function(){let t=1;return function(){return t++}}(),Yy=function(t){const e=vx(t),n=new hx;n.update(e);const s=n.digest();return rf.encodeByteArray(s)},No=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=No.apply(null,s):typeof s=="object"?e+=ct(s):e+=s,e+=" "}return e};let Jr=null,Jp=!0;const P1=function(t,e){q(!0,"Can't turn on custom loggers persistently."),Ui.logLevel=De.VERBOSE,Jr=Ui.log.bind(Ui)},ht=function(...t){if(Jp===!0&&(Jp=!1,Jr===null&&I1.get("logging_enabled")===!0&&P1()),Jr){const e=No.apply(null,t);Jr(e)}},Mo=function(t){return function(...e){ht(t,...e)}},Vu=function(...t){const e="FIREBASE INTERNAL ERROR: "+No(...t);Ui.error(e)},es=function(...t){const e=`FIREBASE FATAL ERROR: ${No(...t)}`;throw Ui.error(e),new Error(e)},Ct=function(...t){const e="FIREBASE WARNING: "+No(...t);Ui.warn(e)},A1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},df=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},R1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oi="[MIN_NAME]",Ps="[MAX_NAME]",bi=function(t,e){if(t===e)return 0;if(t===oi||e===Ps)return-1;if(e===oi||t===Ps)return 1;{const n=Xp(t),s=Xp(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},O1=function(t,e){return t===e?0:t<e?-1:1},xr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ct(e))},ff=function(t){if(typeof t!="object"||t===null)return ct(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=ct(e[s]),n+=":",n+=ff(t[e[s]]);return n+="}",n},Jy=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function pt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xy=function(t){q(!df(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},N1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},M1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function D1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const L1=new RegExp("^-?(0*)\\d{1,10}$"),$1=-2147483648,F1=2147483647,Xp=function(t){if(L1.test(t)){const e=Number(t);if(e>=$1&&e<=F1)return e}return null},ur=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},B1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(e)}}class pa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}pa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="5",Qy="v",Zy="s",e_="r",t_="f",n_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,s_="ls",i_="p",Hu="ac",r_="websocket",o_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ks.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ks.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function V1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function l_(t,e,n){q(typeof e=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");let s;if(e===r_)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===o_)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);V1(t)&&(n.ns=t.namespace);const i=[];return pt(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return JC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c={},Fc={};function pf(t){const e=t.toString();return $c[e]||($c[e]=new H1),$c[e]}function z1(t,e){const n=t.toString();return Fc[n]||(Fc[n]=e()),Fc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&ur(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="start",q1="close",K1="pLPCommand",G1="pRTLPCB",c_="id",u_="pw",d_="ser",Y1="cb",J1="seg",X1="ts",Q1="d",Z1="dframe",f_=1870,h_=30,eI=f_-h_,tI=25e3,nI=3e4;class Ni{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mo(e),this.stats_=pf(n),this.urlFn=l=>(this.appCheckToken&&(l[Hu]=this.appCheckToken),l_(n,o_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new W1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nI)),R1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mf((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Qp)this.id=a,this.password=l;else if(o===q1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Qp]="t",s[d_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Y1]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Qy]=hf,this.transportSessionId&&(s[Zy]=this.transportSessionId),this.lastSessionId&&(s[s_]=this.lastSessionId),this.applicationId&&(s[i_]=this.applicationId),this.appCheckToken&&(s[Hu]=this.appCheckToken),typeof location<"u"&&location.hostname&&n_.test(location.hostname)&&(s[e_]=t_);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ni.forceAllow_=!0}static forceDisallow(){Ni.forceDisallow_=!0}static isAvailable(){return Ni.forceAllow_?!0:!Ni.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!N1()&&!M1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ny(n),i=Jy(s,eI);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Z1]="t",s[c_]=e,s[u_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ct(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mf{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=k1(),window[K1+this.uniqueCallbackIdentifier]=e,window[G1+this.uniqueCallbackIdentifier]=n,this.myIFrame=mf.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ht("frame writing exception"),a.stack&&ht(a.stack),ht(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ht("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[c_]=this.myID,e[u_]=this.myPW,e[d_]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+h_+s.length<=f_;){const o=this.pendingSegs.shift();s=s+"&"+J1+i+"="+o.seg+"&"+X1+i+"="+o.ts+"&"+Q1+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(tI)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{ht("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=16384,iI=45e3;let Va=null;typeof MozWebSocket<"u"?Va=MozWebSocket:typeof WebSocket<"u"&&(Va=WebSocket);class wn{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mo(this.connId),this.stats_=pf(n),this.connURL=wn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Qy]=hf,typeof location<"u"&&location.hostname&&n_.test(location.hostname)&&(o[e_]=t_),n&&(o[Zy]=n),s&&(o[s_]=s),i&&(o[Hu]=i),r&&(o[i_]=r),l_(e,r_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ks.set("previous_websocket_failure",!0);try{let s;ax(),this.mySock=new Va(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Va!==null&&!wn.forceDisallow_}static previouslyFailed(){return Ks.isInMemoryStorage||Ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ks.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=po(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Jy(n,sI);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wn.responsesRequiredToBeHealthy=2;wn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static get ALL_TRANSPORTS(){return[Ni,wn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=wn.isAvailable();let s=n&&!wn.previouslyFailed();if(e.webSocketOnly&&(n||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[wn];else{const i=this.transports_=[];for(const r of go.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);go.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}go.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=6e4,oI=5e3,aI=10*1024,lI=100*1024,Bc="t",Zp="d",cI="s",em="r",uI="e",tm="o",nm="a",sm="n",im="p",dI="h";class fI{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mo("c:"+this.id+":"),this.transportManager_=new go(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bc in e){const n=e[Bc];n===nm?this.upgradeIfSecondaryHealthy_():n===em?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xr("t",e),s=xr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:im,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xr("t",e),s=xr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xr(Bc,e);if(Zp in e){const s=e[Zp];if(n===dI){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===sm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===cI?this.onConnectionShutdown_(s):n===em?this.onReset_(s):n===uI?Vu("Server Error: "+s):n===tm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hf!==s&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Xr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(oI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:im,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends m_{static getInstance(){return new Ha}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!af()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=32,om=768;class Me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ae(){return new Me("")}function ye(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function As(t){return t.pieces_.length-t.pieceNum_}function Ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Me(t.pieces_,e)}function gf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function g_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Me(e,0)}function qe(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Me)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Me(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=ye(t),s=ye(e);if(n===null)return e;if(n===s)return Pt(Ve(t),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pI(t,e){const n=vo(t,0),s=vo(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=bi(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function vf(t,e){if(As(t)!==As(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function zt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(As(t)>As(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class mI{constructor(e,n){this.errorPrefix_=n,this.parts_=vo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ul(this.parts_[s]);v_(this)}}function gI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ul(e),v_(t)}function vI(t){const e=t.parts_.pop();t.byteLength_-=Ul(e),t.parts_.length>0&&(t.byteLength_-=1)}function v_(t){if(t.byteLength_>om)throw new Error(t.errorPrefix_+"has a key path longer than "+om+" bytes ("+t.byteLength_+").");if(t.parts_.length>rm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rm+") or object contains a cycle "+Ws(t))}function Ws(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends m_{static getInstance(){return new yf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=1e3,yI=60*5*1e3,am=30*1e3,_I=1.3,wI=3e4,bI="server_kill",lm=3;class Yn extends p_{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yn.nextPersistentConnectionId_++,this.log_=Mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ir,this.maxReconnectDelay_=yI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ha.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(ct(r)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Oo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Yn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const s=Xi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=am)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=dx(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ct(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Vu("Unrecognized action received from server: "+ct(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ir,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ir,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wI&&(this.reconnectDelay_=Ir),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_I)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Yn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){q(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new fI(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{Ct(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(bI)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ct(d),l())}}}interrupt(e){ht("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ht("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lu(this.interruptReasons_)&&(this.reconnectDelay_=Ir,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>ff(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Me(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){ht("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lm&&(this.reconnectDelay_=am,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ht("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ky.replace(/\./g,"-")]=1,af()?e["framework.cordova"]=1:Fy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ha.getInstance().currentlyOnline();return Lu(this.interruptReasons_)&&e}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new we(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new we(oi,e),i=new we(oi,n);return this.compare(s,i)!==0}minPost(){return we.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class y_ extends jl{static get __EMPTY_NODE(){return Qo}static set __EMPTY_NODE(e){Qo=e}compare(e,n){return bi(e.name,n.name)}isDefinedOn(e){throw rr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return we.MIN}maxPost(){return new we(Ps,Qo)}makePost(e,n){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,Qo)}toString(){return".key"}}const ei=new y_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??ot.RED,this.left=i??At.EMPTY_NODE,this.right=r??At.EMPTY_NODE}copy(e,n,s,i,r){return new ot(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class SI{copy(e,n,s,i,r){return this}insert(e,n,s){return new ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,n=At.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new At(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zo(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new SI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e){return bi(t.name,e.name)}function _f(t,e){return bi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;function TI(t){zu=t}const __=function(t){return typeof t=="number"?"number:"+Xy(t):"string:"+t},w_=function(t){if(t.isLeafNode()){const e=t.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else q(t===zu||t.isEmpty(),"priority of unexpected type.");q(t===zu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm;class it{static set __childrenNodeConstructor(e){cm=e}static get __childrenNodeConstructor(){return cm}constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),w_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _e(e)?this:ye(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ye(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(q(s!==".priority"||As(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+__(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xy(this.value_):e+=this.value_,this.lazyHash_=Yy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=it.VALUE_TYPE_ORDER.indexOf(n),r=it.VALUE_TYPE_ORDER.indexOf(s);return q(i>=0,"Unknown leaf type: "+n),q(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_,S_;function CI(t){b_=t}function xI(t){S_=t}class II extends jl{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?bi(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return we.MIN}maxPost(){return new we(Ps,new it("[PRIORITY-POST]",S_))}makePost(e,n){const s=b_(e);return new we(n,new it("[PRIORITY-POST]",s))}toString(){return".priority"}}const We=new II;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=Math.log(2);class PI{constructor(e){const n=r=>parseInt(Math.log(r)/kI,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const za=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new ot(f,d.node,ot.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new ot(f,d.node,ot.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const v=d-p,w=d;d-=p;const y=i(v+1,w),g=t[v],S=n?n(g):g;h(new ot(S,g.node,m,null,y))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));m?f(v,ot.BLACK):(f(v,ot.BLACK),f(v,ot.RED))}return u},o=new PI(t.length),a=r(o);return new At(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;const kr={};class Hn{static get Default(){return q(We,"ChildrenNode.ts has not been loaded"),Uc=Uc||new Hn({".priority":kr},{".priority":We}),Uc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Xi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof At?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){q(e!==ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(we.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=za(s,e.getCompare()):a=kr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Hn(u,c)}addToIndexes(e,n){const s=Ba(this.indexes_,(i,r)=>{const o=Xi(this.indexSet_,r);if(q(o,"Missing index implementation for "+r),i===kr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(we.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),za(a,o.getCompare())}else return kr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new we(e.name,a))),l.insert(e,e.node)}});return new Hn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Ba(this.indexes_,i=>{if(i===kr)return i;{const r=n.get(e.name);return r?i.remove(new we(e.name,r)):i}});return new Hn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr;class ue{static get EMPTY_NODE(){return Pr||(Pr=new ue(new At(_f),null,Hn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&w_(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pr}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pr:n}}getChild(e){const n=ye(e);return n===null?this:this.getImmediateChild(n).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new we(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Pr:this.priorityNode_;return new ue(i,o,r)}}updateChild(e,n){const s=ye(e);if(s===null)return n;{q(ye(e)!==".priority"||As(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(Ve(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(We,(o,a)=>{n[o]=a.val(e),s++,r&&ue.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+__(this.getPriority().val())+":"),this.forEachChild(We,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Yy(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new we(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new we(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new we(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,we.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,we.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Do?-1:0}withIndex(e){if(e===ei||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ei||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(We),i=n.getIterator(We);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ei?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AI extends ue{constructor(){super(new At(_f),ue.EMPTY_NODE,Hn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const Do=new AI;Object.defineProperties(we,{MIN:{value:new we(oi,ue.EMPTY_NODE)},MAX:{value:new we(Ps,Do)}});y_.__EMPTY_NODE=ue.EMPTY_NODE;it.__childrenNodeConstructor=ue;TI(Do);xI(Do);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=!0;function at(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,at(e))}if(!(t instanceof Array)&&RI){const n=[];let s=!1;if(pt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=at(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new we(o,l)))}}),n.length===0)return ue.EMPTY_NODE;const r=za(n,EI,o=>o.name,_f);if(s){const o=za(n,We.getCompare());return new ue(r,at(e),new Hn({".priority":o},{".priority":We}))}else return new ue(r,at(e),Hn.Default)}else{let n=ue.EMPTY_NODE;return pt(t,(s,i)=>{if(Rn(t,s)&&s.substring(0,1)!=="."){const r=at(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(at(e))}}CI(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends jl{constructor(e){super(),this.indexPath_=e,q(!_e(e)&&ye(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?bi(e.name,n.name):r}makePost(e,n){const s=at(e),i=ue.EMPTY_NODE.updateChild(this.indexPath_,s);return new we(n,i)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,Do);return new we(Ps,e)}toString(){return vo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI extends jl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?bi(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,n){const s=at(e);return new we(n,s)}toString(){return".value"}}const E_=new OI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){return{type:"value",snapshotNode:t}}function Qi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _o(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function NI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(yo(n,a)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qi(n,s)):o.trackChildChange(_o(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(We,(i,r)=>{n.hasChild(i)||s.trackChildChange(yo(i,r))}),n.isLeafNode()||n.forEachChild(We,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(_o(i,r,o))}else s.trackChildChange(Qi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.indexedFilter_=new bf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wo.getStartPost_(e),this.endPost_=wo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new we(n,s))||(s=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ue.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ue.EMPTY_NODE);const r=this;return n.forEachChild(We,(o,a)=>{r.matches(new we(o,a))||(i=i.updateImmediateChild(o,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new wo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new we(n,s))||(s=ue.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ue.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ue.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;q(a.numChildren()===this.limit_,"");const l=new we(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(_o(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(yo(n,d));const m=a.updateImmediateChild(n,ue.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Qi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(yo(c.name,c.node)),r.trackChildChange(Qi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oi}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new Sf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DI(t){return t.loadsAllData()?new bf(t.getIndex()):t.hasLimit()?new MI(t):new wo(t)}function LI(t,e){const n=t.copy();return n.index_=e,n}function um(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===E_?n="$value":t.index_===ei?n="$key":(q(t.index_ instanceof wf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ct(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=ct(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+ct(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=ct(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+ct(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends p_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Mo("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Wa.getListenId_(e,s),a={};this.listens_[o]=a;const l=um(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Xi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Wa.getListenId_(e,n);delete this.listens_[s]}get(e){const n=um(e._queryParams),s=e._path.toString(),i=new Oo;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+or(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=po(a.responseText)}catch{Ct("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Ct("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return{value:null,children:new Map}}function C_(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ye(e);t.children.has(s)||t.children.set(s,qa());const i=t.children.get(s);e=Ve(e),C_(i,e,n)}}function Wu(t,e,n){t.value!==null?n(e,t.value):FI(t,(s,i)=>{const r=new Me(e.toString()+"/"+s);Wu(i,r,n)})}function FI(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&pt(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=10*1e3,UI=30*1e3,jI=5*60*1e3;class VI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new BI(e);const s=fm+(UI-fm)*Math.random();Xr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;pt(e,(i,r)=>{r>0&&Rn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Xr(this.reportStats_.bind(this),Math.floor(Math.random()*2*jI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function Ef(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Qt.ACK_USER_WRITE,this.source=Ef()}operationForChild(e){if(_e(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Me(e));return new Ka(Ae(),n,this.revert)}}else return q(ye(this.path)===e,"operationForChild called for unrelated child."),new Ka(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return _e(this.path)?new bo(this.source,Ae()):new bo(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Qt.OVERWRITE}operationForChild(e){return _e(this.path)?new ai(this.source,Ae(),this.snap.getImmediateChild(e)):new ai(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Qt.MERGE}operationForChild(e){if(_e(this.path)){const n=this.children.subtree(new Me(e));return n.isEmpty()?null:n.value?new ai(this.source,Ae(),n.value):new Zi(this.source,Ae(),n)}else return q(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zi(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const n=ye(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zI(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(NI(o.childName,o.snapshotNode))}),Ar(t,i,"child_removed",e,s,n),Ar(t,i,"child_added",e,s,n),Ar(t,i,"child_moved",r,s,n),Ar(t,i,"child_changed",e,s,n),Ar(t,i,"value",e,s,n),i}function Ar(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>qI(t,a,l)),o.forEach(a=>{const l=WI(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function WI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qI(t,e,n){if(e.childName==null||n.childName==null)throw rr("Should only compare child_ events.");const s=new we(e.childName,e.snapshotNode),i=new we(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,e){return{eventCache:t,serverCache:e}}function Qr(t,e,n,s){return Vl(new li(e,n,s),t.serverCache)}function x_(t,e,n,s){return Vl(t.eventCache,new li(e,n,s))}function qu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ci(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;const KI=()=>(jc||(jc=new At(O1)),jc);class je{static fromObject(e){let n=new je(null);return pt(e,(s,i)=>{n=n.set(new Me(s),i)}),n}constructor(e,n=KI()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ae(),value:this.value};if(_e(e))return null;{const s=ye(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(Ve(e),n);return r!=null?{path:qe(new Me(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const n=ye(e),s=this.children.get(n);return s!==null?s.subtree(Ve(e)):new je(null)}}set(e,n){if(_e(e))return new je(n,this.children);{const s=ye(e),r=(this.children.get(s)||new je(null)).set(Ve(e),n),o=this.children.insert(s,r);return new je(this.value,o)}}remove(e){if(_e(e))return this.children.isEmpty()?new je(null):new je(null,this.children);{const n=ye(e),s=this.children.get(n);if(s){const i=s.remove(Ve(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new je(null):new je(this.value,r)}else return this}}get(e){if(_e(e))return this.value;{const n=ye(e),s=this.children.get(n);return s?s.get(Ve(e)):null}}setTree(e,n){if(_e(e))return n;{const s=ye(e),r=(this.children.get(s)||new je(null)).setTree(Ve(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new je(this.value,o)}}fold(e){return this.fold_(Ae(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(qe(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ae(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(_e(e))return null;{const r=ye(e),o=this.children.get(r);return o?o.findOnPath_(Ve(e),qe(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ae(),n)}foreachOnPath_(e,n,s){if(_e(e))return this;{this.value&&s(n,this.value);const i=ye(e),r=this.children.get(i);return r?r.foreachOnPath_(Ve(e),qe(n,i),s):new je(null)}}foreach(e){this.foreach_(Ae(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(qe(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new je(null))}}function Zr(t,e,n){if(_e(e))return new tn(new je(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Pt(i,e);return r=r.updateChild(o,n),new tn(t.writeTree_.set(i,r))}else{const i=new je(n),r=t.writeTree_.setTree(e,i);return new tn(r)}}}function Ku(t,e,n){let s=t;return pt(n,(i,r)=>{s=Zr(s,qe(e,i),r)}),s}function hm(t,e){if(_e(e))return tn.empty();{const n=t.writeTree_.setTree(e,new je(null));return new tn(n)}}function Gu(t,e){return Si(t,e)!=null}function Si(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function pm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(s,i)=>{e.push(new we(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new we(s,i.value))}),e}function xs(t,e){if(_e(e))return t;{const n=Si(t,e);return n!=null?new tn(new je(n)):new tn(t.writeTree_.subtree(e))}}function Yu(t){return t.writeTree_.isEmpty()}function er(t,e){return I_(Ae(),t.writeTree_,e)}function I_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(q(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=I_(qe(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(qe(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e){return R_(e,t)}function GI(t,e,n,s,i){q(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Zr(t.visibleWrites,e,n)),t.lastWriteId=s}function YI(t,e,n,s){q(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Ku(t.visibleWrites,e,n),t.lastWriteId=s}function JI(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function XI(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);q(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&QI(a,s.path)?i=!1:zt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return ZI(t),!0;if(s.snap)t.visibleWrites=hm(t.visibleWrites,s.path);else{const a=s.children;pt(a,l=>{t.visibleWrites=hm(t.visibleWrites,qe(s.path,l))})}return!0}else return!1}function QI(t,e){if(t.snap)return zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zt(qe(t.path,n),e))return!0;return!1}function ZI(t){t.visibleWrites=k_(t.allWrites,ek,Ae()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ek(t){return t.visible}function k_(t,e,n){let s=tn.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)zt(n,o)?(a=Pt(n,o),s=Zr(s,a,r.snap)):zt(o,n)&&(a=Pt(o,n),s=Zr(s,Ae(),r.snap.getChild(a)));else if(r.children){if(zt(n,o))a=Pt(n,o),s=Ku(s,a,r.children);else if(zt(o,n))if(a=Pt(o,n),_e(a))s=Ku(s,Ae(),r.children);else{const l=Xi(r.children,ye(a));if(l){const c=l.getChild(Ve(a));s=Zr(s,Ae(),c)}}}else throw rr("WriteRecord should have .snap or .children")}}return s}function P_(t,e,n,s,i){if(!s&&!i){const r=Si(t.visibleWrites,e);if(r!=null)return r;{const o=xs(t.visibleWrites,e);if(Yu(o))return n;if(n==null&&!Gu(o,Ae()))return null;{const a=n||ue.EMPTY_NODE;return er(o,a)}}}else{const r=xs(t.visibleWrites,e);if(!i&&Yu(r))return n;if(!i&&n==null&&!Gu(r,Ae()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(zt(c.path,e)||zt(e,c.path))},a=k_(t.allWrites,o,e),l=n||ue.EMPTY_NODE;return er(a,l)}}}function tk(t,e,n){let s=ue.EMPTY_NODE;const i=Si(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(We,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=xs(t.visibleWrites,e);return n.forEachChild(We,(o,a)=>{const l=er(xs(r,new Me(o)),a);s=s.updateImmediateChild(o,l)}),pm(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=xs(t.visibleWrites,e);return pm(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function nk(t,e,n,s,i){q(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=qe(e,n);if(Gu(t.visibleWrites,r))return null;{const o=xs(t.visibleWrites,r);return Yu(o)?i.getChild(n):er(o,i.getChild(n))}}function sk(t,e,n,s){const i=qe(e,n),r=Si(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=xs(t.visibleWrites,i);return er(o,s.getNode().getImmediateChild(n))}else return null}function ik(t,e){return Si(t.visibleWrites,e)}function rk(t,e,n,s,i,r,o){let a;const l=xs(t.visibleWrites,e),c=Si(l,Ae());if(c!=null)a=c;else if(n!=null)a=er(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function ok(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Ga(t,e,n,s){return P_(t.writeTree,t.treePath,e,n,s)}function If(t,e){return tk(t.writeTree,t.treePath,e)}function mm(t,e,n,s){return nk(t.writeTree,t.treePath,e,n,s)}function Ya(t,e){return ik(t.writeTree,qe(t.treePath,e))}function ak(t,e,n,s,i,r){return rk(t.writeTree,t.treePath,e,n,s,i,r)}function kf(t,e,n){return sk(t.writeTree,t.treePath,e,n)}function A_(t,e){return R_(qe(t.treePath,e),t.writeTree)}function R_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,_o(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,yo(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Qi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,_o(s,e.snapshotNode,i.oldSnap));else throw rr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const O_=new ck;class Pf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kf(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ci(this.viewCache_),r=ak(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){return{filter:t}}function dk(t,e){q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fk(t,e,n,s,i){const r=new lk;let o,a;if(n.type===Qt.OVERWRITE){const c=n;c.source.fromUser?o=Ju(t,e,c.path,c.snap,s,i,r):(q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!_e(c.path),o=Ja(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Qt.MERGE){const c=n;c.source.fromUser?o=pk(t,e,c.path,c.children,s,i,r):(q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Xu(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Qt.ACK_USER_WRITE){const c=n;c.revert?o=vk(t,e,c.path,s,i,r):o=mk(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Qt.LISTEN_COMPLETE)o=gk(t,e,n.path,s,r);else throw rr("Unknown operation type: "+n.type);const l=r.getChanges();return hk(e,o,l),{viewCache:o,changes:l}}function hk(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=qu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(T_(qu(e)))}}function N_(t,e,n,s,i,r){const o=e.eventCache;if(Ya(s,n)!=null)return e;{let a,l;if(_e(n))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ci(e),u=c instanceof ue?c:ue.EMPTY_NODE,d=If(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Ga(s,ci(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ye(n);if(c===".priority"){q(As(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=mm(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ve(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=mm(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=kf(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return Qr(e,a,o.isFullyInitialized()||_e(n),t.filter.filtersNodes())}}function Ja(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(_e(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=ye(n);if(!l.isCompleteForPath(n)&&As(n)>1)return e;const p=Ve(n),v=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),h,v,p,O_,null)}const d=x_(e,c,l.isFullyInitialized()||_e(n),u.filtersNodes()),f=new Pf(i,d,r);return N_(t,d,n,i,f,a)}function Ju(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new Pf(i,e,r);if(_e(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Qr(e,c,!0,t.filter.filtersNodes());else{const d=ye(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Qr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ve(n),h=a.getNode().getImmediateChild(d);let p;if(_e(f))p=s;else{const m=u.getCompleteChild(d);m!=null?gf(f)===".priority"&&m.getChild(g_(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=ue.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Qr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function gm(t,e){return t.eventCache.isCompleteForChild(e)}function pk(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=qe(n,l);gm(e,ye(u))&&(a=Ju(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=qe(n,l);gm(e,ye(u))||(a=Ju(t,a,u,c,i,r,o))}),a}function vm(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Xu(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;_e(n)?c=s:c=new je(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=vm(t,h,f);l=Ja(t,l,new Me(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=vm(t,p,f);l=Ja(t,l,new Me(d),m,i,r,o,a)}}),l}function mk(t,e,n,s,i,r,o){if(Ya(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(_e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ja(t,e,n,l.getNode().getChild(n),i,r,a,o);if(_e(n)){let c=new je(null);return l.getNode().forEachChild(ei,(u,d)=>{c=c.set(new Me(u),d)}),Xu(t,e,n,c,i,r,a,o)}else return e}else{let c=new je(null);return s.foreach((u,d)=>{const f=qe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Xu(t,e,n,c,i,r,a,o)}}function gk(t,e,n,s,i){const r=e.serverCache,o=x_(e,r.getNode(),r.isFullyInitialized()||_e(n),r.isFiltered());return N_(t,o,n,s,O_,i)}function vk(t,e,n,s,i,r){let o;if(Ya(s,n)!=null)return e;{const a=new Pf(s,e,i),l=e.eventCache.getNode();let c;if(_e(n)||ye(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ga(s,ci(e));else{const d=e.serverCache.getNode();q(d instanceof ue,"serverChildren would be complete if leaf node"),u=If(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ye(n);let d=kf(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ve(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ue.EMPTY_NODE,Ve(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ga(s,ci(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Ya(s,Ae())!=null,Qr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new bf(s.getIndex()),r=DI(s);this.processor_=uk(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ue.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ue.EMPTY_NODE,a.getNode(),null),u=new li(l,o.isFullyInitialized(),i.filtersNodes()),d=new li(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Vl(d,u),this.eventGenerator_=new HI(this.query_)}get query(){return this.query_}}function _k(t){return t.viewCache_.serverCache.getNode()}function wk(t,e){const n=ci(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(ye(e)).isEmpty())?n.getChild(e):null}function ym(t){return t.eventRegistrations_.length===0}function bk(t,e){t.eventRegistrations_.push(e)}function _m(t,e,n){const s=[];if(n){q(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function wm(t,e,n,s){e.type===Qt.MERGE&&e.source.queryId!==null&&(q(ci(t.viewCache_),"We should always have a full cache before handling merges"),q(qu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=fk(t.processor_,i,e,n,s);return dk(t.processor_,r.viewCache),q(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,M_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function Sk(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(r,o)=>{s.push(Qi(r,o))}),n.isFullyInitialized()&&s.push(T_(n.getNode())),M_(t,s,n.getNode(),e)}function M_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return zI(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;class Ek{constructor(){this.views=new Map}}function Tk(t){q(!Xa,"__referenceConstructor has already been defined"),Xa=t}function Ck(){return q(Xa,"Reference.ts has not been loaded"),Xa}function xk(t){return t.views.size===0}function Af(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return q(r!=null,"SyncTree gave us an op for an invalid query."),wm(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(wm(o,e,n,s));return r}}function Ik(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Ga(n,i?s:null),l=!1;a?l=!0:s instanceof ue?(a=If(n,s),l=!1):(a=ue.EMPTY_NODE,l=!1);const c=Vl(new li(a,l,!1),new li(s,i,!1));return new yk(e,c)}return o}function kk(t,e,n,s,i,r){const o=Ik(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),bk(o,n),Sk(o,n)}function Pk(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=Rs(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(_m(c,n,s)),ym(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(_m(l,n,s)),ym(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Rs(t)&&r.push(new(Ck())(e._repo,e._path)),{removed:r,events:o}}function D_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ji(t,e){let n=null;for(const s of t.views.values())n=n||wk(s,e);return n}function L_(t,e){if(e._queryParams.loadsAllData())return Hl(t);{const s=e._queryIdentifier;return t.views.get(s)}}function $_(t,e){return L_(t,e)!=null}function Rs(t){return Hl(t)!=null}function Hl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa;function Ak(t){q(!Qa,"__referenceConstructor has already been defined"),Qa=t}function Rk(){return q(Qa,"Reference.ts has not been loaded"),Qa}let Ok=1;class bm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new je(null),this.pendingWriteTree_=ok(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F_(t,e,n,s,i){return GI(t.pendingWriteTree_,e,n,s,i),i?dr(t,new ai(Ef(),e,n)):[]}function Nk(t,e,n,s){YI(t.pendingWriteTree_,e,n,s);const i=je.fromObject(n);return dr(t,new Zi(Ef(),e,i))}function ws(t,e,n=!1){const s=JI(t.pendingWriteTree_,e);if(XI(t.pendingWriteTree_,e)){let r=new je(null);return s.snap!=null?r=r.set(Ae(),!0):pt(s.children,o=>{r=r.set(new Me(o),!0)}),dr(t,new Ka(s.path,r,n))}else return[]}function zl(t,e,n){return dr(t,new ai(Tf(),e,n))}function Mk(t,e,n){const s=je.fromObject(n);return dr(t,new Zi(Tf(),e,s))}function Dk(t,e){return dr(t,new bo(Tf(),e))}function Lk(t,e,n){const s=Of(t,n);if(s){const i=Nf(s),r=i.path,o=i.queryId,a=Pt(r,e),l=new bo(Cf(o),a);return Mf(t,r,l)}else return[]}function Qu(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||$_(o,e))){const l=Pk(o,e,n,s);xk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>Rs(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=Bk(f);for(let p=0;p<h.length;++p){const m=h[p],v=m.query,w=j_(t,m);t.listenProvider_.startListening(eo(v),Za(t,v),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(eo(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Wl(f));t.listenProvider_.stopListening(eo(f),h)}))}Uk(t,c)}return a}function $k(t,e,n,s){const i=Of(t,s);if(i!=null){const r=Nf(i),o=r.path,a=r.queryId,l=Pt(o,e),c=new ai(Cf(a),l,n);return Mf(t,o,c)}else return[]}function Fk(t,e,n,s){const i=Of(t,s);if(i){const r=Nf(i),o=r.path,a=r.queryId,l=Pt(o,e),c=je.fromObject(n),u=new Zi(Cf(a),l,c);return Mf(t,o,u)}else return[]}function Sm(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=Pt(f,i);r=r||ji(h,p),o=o||Rs(h)});let a=t.syncPointTree_.get(i);a?(o=o||Rs(a),r=r||ji(a,Ae())):(a=new Ek,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=ue.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=ji(p,Ae());m&&(r=r.updateImmediateChild(h,m))}));const c=$_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Wl(e);q(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=jk();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=xf(t.pendingWriteTree_,i);let d=kk(a,e,n,u,r,l);if(!c&&!o&&!s){const f=L_(a,e);d=d.concat(Vk(t,e,f))}return d}function Rf(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Pt(o,e),c=ji(a,l);if(c)return c});return P_(i,e,r,n,!0)}function dr(t,e){return B_(e,t.syncPointTree_,null,xf(t.pendingWriteTree_,Ae()))}function B_(t,e,n,s){if(_e(t.path))return U_(t,e,n,s);{const i=e.get(Ae());n==null&&i!=null&&(n=ji(i,Ae()));let r=[];const o=ye(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=A_(s,o);r=r.concat(B_(a,l,c,u))}return i&&(r=r.concat(Af(i,t,s,n))),r}}function U_(t,e,n,s){const i=e.get(Ae());n==null&&i!=null&&(n=ji(i,Ae()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=A_(s,o),u=t.operationForChild(o);u&&(r=r.concat(U_(u,a,l,c)))}),i&&(r=r.concat(Af(i,t,s,n))),r}function j_(t,e){const n=e.query,s=Za(t,n);return{hashFn:()=>(_k(e)||ue.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?Lk(t,n._path,s):Dk(t,n._path);{const r=D1(i,n);return Qu(t,n,null,r)}}}}function Za(t,e){const n=Wl(e);return t.queryToTagMap.get(n)}function Wl(t){return t._path.toString()+"$"+t._queryIdentifier}function Of(t,e){return t.tagToQueryMap.get(e)}function Nf(t){const e=t.indexOf("$");return q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Me(t.substr(0,e))}}function Mf(t,e,n){const s=t.syncPointTree_.get(e);q(s,"Missing sync point for query tag that we're tracking");const i=xf(t.pendingWriteTree_,e);return Af(s,n,i,null)}function Bk(t){return t.fold((e,n,s)=>{if(n&&Rs(n))return[Hl(n)];{let i=[];return n&&(i=D_(n)),pt(s,(r,o)=>{i=i.concat(o)}),i}})}function eo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Rk())(t._repo,t._path):t}function Uk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Wl(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function jk(){return Ok++}function Vk(t,e,n){const s=e._path,i=Za(t,e),r=j_(t,n),o=t.listenProvider_.startListening(eo(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)q(!Rs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!_e(c)&&u&&Rs(u))return[Hl(u).query];{let f=[];return u&&(f=f.concat(D_(u).map(h=>h.query))),pt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(eo(u),Za(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Df(n)}node(){return this.node_}}class Lf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=qe(this.path_,e);return new Lf(this.syncTree_,n)}node(){return Rf(this.syncTree_,this.path_)}}const Hk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Em=function(t,e,n){if(!t||typeof t!="object")return t;if(q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Wk(t[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+t)}},Wk=function(t,e,n){t.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&q(!1,"Unexpected increment value: "+s);const i=e.node();if(q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},V_=function(t,e,n,s){return $f(e,new Lf(n,t),s)},H_=function(t,e,n){return $f(t,new Df(e),n)};function $f(t,e,n){const s=t.getPriority().val(),i=Em(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=Em(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new it(a,at(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new it(i))),o.forEachChild(We,(a,l)=>{const c=$f(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Bf(t,e){let n=e instanceof Me?e:new Me(e),s=t,i=ye(n);for(;i!==null;){const r=Xi(s.node.children,i)||{children:{},childCount:0};s=new Ff(i,s,r),n=Ve(n),i=ye(n)}return s}function fr(t){return t.node.value}function z_(t,e){t.node.value=e,Zu(t)}function W_(t){return t.node.childCount>0}function qk(t){return fr(t)===void 0&&!W_(t)}function ql(t,e){pt(t.node.children,(n,s)=>{e(new Ff(n,t,s))})}function q_(t,e,n,s){n&&e(t),ql(t,i=>{q_(i,e,!0)})}function Kk(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Lo(t){return new Me(t.parent===null?t.name:Lo(t.parent)+"/"+t.name)}function Zu(t){t.parent!==null&&Gk(t.parent,t.name,t)}function Gk(t,e,n){const s=qk(n),i=Rn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Zu(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Zu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=/[\[\].#$\/\u0000-\u001F\u007F]/,Jk=/[\[\].#$\u0000-\u001F\u007F]/,Vc=10*1024*1024,Uf=function(t){return typeof t=="string"&&t.length!==0&&!Yk.test(t)},K_=function(t){return typeof t=="string"&&t.length!==0&&!Jk.test(t)},Xk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),K_(t)},ed=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!df(t)||t&&typeof t=="object"&&Rn(t,".sv")},Qk=function(t,e,n,s){Kl(Bl(t,"value"),e,n)},Kl=function(t,e,n){const s=n instanceof Me?new mI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ws(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ws(s)+" with contents = "+e.toString());if(df(e))throw new Error(t+"contains "+e.toString()+" "+Ws(s));if(typeof e=="string"&&e.length>Vc/3&&Ul(e)>Vc)throw new Error(t+"contains a string greater than "+Vc+" utf8 bytes "+Ws(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(pt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Uf(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ws(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gI(s,o),Kl(t,a,s),vI(s)}),i&&r)throw new Error(t+' contains ".value" child '+Ws(s)+" in addition to actual children.")}},Zk=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=vo(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Uf(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(pI);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&zt(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},eP=function(t,e,n,s){const i=Bl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];pt(e,(o,a)=>{const l=new Me(o);if(Kl(i,a,qe(n,l)),gf(l)===".priority"&&!ed(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),Zk(i,r)},jf=function(t,e,n,s){if(!K_(n))throw new Error(Bl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tP=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jf(t,e,n)},G_=function(t,e){if(ye(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Xk(n))throw new Error(Bl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gl(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!vf(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function Y_(t,e,n){Gl(t,n),J_(t,s=>vf(s,e))}function an(t,e,n){Gl(t,n),J_(t,s=>zt(s,e)||zt(e,s))}function J_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(iP(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Jr&&ht("event: "+n.toString()),ur(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="repo_interrupt",oP=25;class aP{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qa(),this.transactionQueueTree_=new Ff,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lP(t,e,n){if(t.stats_=pf(t.repoInfo_),t.forceRestClient_||B1())t.server_=new Wa(t.repoInfo_,(s,i,r,o)=>{Tm(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Cm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Yn(t.repoInfo_,e,(s,i,r,o)=>{Tm(t,s,i,r,o)},s=>{Cm(t,s)},s=>{uP(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=z1(t.repoInfo_,()=>new VI(t.stats_,t.server_)),t.infoData_=new $I,t.infoSyncTree_=new bm({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=zl(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Vf(t,"connected",!1),t.serverSyncTree_=new bm({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);an(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function cP(t){const n=t.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yl(t){return Hk({timestamp:cP(t)})}function Tm(t,e,n,s,i){t.dataUpdateCount++;const r=new Me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=Ba(n,c=>at(c));o=Fk(t.serverSyncTree_,r,l,i)}else{const l=at(n);o=$k(t.serverSyncTree_,r,l,i)}else if(s){const l=Ba(n,c=>at(c));o=Mk(t.serverSyncTree_,r,l)}else{const l=at(n);o=zl(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=tr(t,r)),an(t.eventQueue_,a,o)}function Cm(t,e){Vf(t,"connected",e),e===!1&&hP(t)}function uP(t,e){pt(e,(n,s)=>{Vf(t,n,s)})}function Vf(t,e,n){const s=new Me("/.info/"+e),i=at(n);t.infoData_.updateSnapshot(s,i);const r=zl(t.infoSyncTree_,s,i);an(t.eventQueue_,s,r)}function Hf(t){return t.nextWriteId_++}function dP(t,e,n,s,i){Jl(t,"set",{path:e.toString(),value:n,priority:s});const r=Yl(t),o=at(n,s),a=Rf(t.serverSyncTree_,e),l=H_(o,a,r),c=Hf(t),u=F_(t.serverSyncTree_,e,l,c,!0);Gl(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||Ct("set at "+e+" failed: "+f);const m=ws(t.serverSyncTree_,c,!p);an(t.eventQueue_,e,m),td(t,i,f,h)});const d=Wf(t,e);tr(t,d),an(t.eventQueue_,d,[])}function fP(t,e,n,s){Jl(t,"update",{path:e.toString(),value:n});let i=!0;const r=Yl(t),o={};if(pt(n,(a,l)=>{i=!1,o[a]=V_(qe(e,a),at(l),t.serverSyncTree_,r)}),i)ht("update() called with empty data.  Don't do anything."),td(t,s,"ok",void 0);else{const a=Hf(t),l=Nk(t.serverSyncTree_,e,o,a);Gl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Ct("update at "+e+" failed: "+c);const f=ws(t.serverSyncTree_,a,!d),h=f.length>0?tr(t,e):e;an(t.eventQueue_,h,f),td(t,s,c,u)}),pt(n,c=>{const u=Wf(t,qe(e,c));tr(t,u)}),an(t.eventQueue_,e,[])}}function hP(t){Jl(t,"onDisconnectEvents");const e=Yl(t),n=qa();Wu(t.onDisconnect_,Ae(),(i,r)=>{const o=V_(i,r,t.serverSyncTree_,e);C_(n,i,o)});let s=[];Wu(n,Ae(),(i,r)=>{s=s.concat(zl(t.serverSyncTree_,i,r));const o=Wf(t,i);tr(t,o)}),t.onDisconnect_=qa(),an(t.eventQueue_,Ae(),s)}function pP(t,e,n){let s;ye(e._path)===".info"?s=Sm(t.infoSyncTree_,e,n):s=Sm(t.serverSyncTree_,e,n),Y_(t.eventQueue_,e._path,s)}function xm(t,e,n){let s;ye(e._path)===".info"?s=Qu(t.infoSyncTree_,e,n):s=Qu(t.serverSyncTree_,e,n),Y_(t.eventQueue_,e._path,s)}function mP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rP)}function Jl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ht(n,...e)}function td(t,e,n,s){e&&ur(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function X_(t,e,n){return Rf(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function zf(t,e=t.transactionQueueTree_){if(e||Xl(t,e),fr(e)){const n=Z_(t,e);q(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&gP(t,Lo(e),n)}else W_(e)&&ql(e,n=>{zf(t,n)})}function gP(t,e,n){const s=n.map(c=>c.currentWriteId),i=X_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];q(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Pt(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Jl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ws(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Xl(t,Bf(t.transactionQueueTree_,e)),zf(t,t.transactionQueueTree_),an(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ur(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ct("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}tr(t,e)}},o)}function tr(t,e){const n=Q_(t,e),s=Lo(n),i=Z_(t,n);return vP(t,i,s),s}function vP(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Pt(n,l.path);let u=!1,d;if(q(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(ws(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=oP)u=!0,d="maxretry",i=i.concat(ws(t.serverSyncTree_,l.currentWriteId,!0));else{const f=X_(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Kl("transaction failed: Data returned ",h,l.path);let p=at(h);typeof h=="object"&&h!=null&&Rn(h,".priority")||(p=p.updatePriority(f.getPriority()));const v=l.currentWriteId,w=Yl(t),y=H_(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Hf(t),o.splice(o.indexOf(v),1),i=i.concat(F_(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(ws(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",i=i.concat(ws(t.serverSyncTree_,l.currentWriteId,!0))}an(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Xl(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)ur(s[a]);zf(t,t.transactionQueueTree_)}function Q_(t,e){let n,s=t.transactionQueueTree_;for(n=ye(e);n!==null&&fr(s)===void 0;)s=Bf(s,n),e=Ve(e),n=ye(e);return s}function Z_(t,e){const n=[];return ew(t,e,n),n.sort((s,i)=>s.order-i.order),n}function ew(t,e,n){const s=fr(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);ql(e,i=>{ew(t,i,n)})}function Xl(t,e){const n=fr(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,z_(e,n.length>0?n:void 0)}ql(e,s=>{Xl(t,s)})}function Wf(t,e){const n=Lo(Q_(t,e)),s=Bf(t.transactionQueueTree_,e);return Kk(s,i=>{Hc(t,i)}),Hc(t,s),q_(s,i=>{Hc(t,i)}),n}function Hc(t,e){const n=fr(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(q(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ws(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?z_(e,void 0):n.length=r+1,an(t.eventQueue_,Lo(e),i);for(let o=0;o<s.length;o++)ur(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _P(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const Im=function(t,e){const n=wP(t),s=n.namespace;n.domain==="firebase.com"&&es(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&es("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||A1();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new a_(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Me(n.pathString)}},wP=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=yP(t.substring(u,d)));const f=_P(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class SP{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return _e(this._path)?null:gf(this._path)}get ref(){return new $s(this._repo,this._path)}get _queryIdentifier(){const e=dm(this._queryParams),n=ff(e);return n==="{}"?"default":n}get _queryObject(){return dm(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof Ql))return!1;const n=this._repo===e._repo,s=vf(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+hI(this._path)}}function TP(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function CP(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ei){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==oi)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ps)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===We){if(e!=null&&!ed(e)||n!=null&&!ed(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(t.getIndex()instanceof wf||t.getIndex()===E_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class $s extends Ql{constructor(e,n){super(e,n,new Sf,!1)}get parent(){const e=g_(this._path);return e===null?null:new $s(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class el{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Me(e),s=nd(this.ref,e);return new el(this._node.getChild(n),s,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new el(i,nd(this.ref,s),We)))}hasChild(e){const n=new Me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ke(t,e){return t=st(t),t._checkNotDeleted("ref"),e!==void 0?nd(t._root,e):t._root}function nd(t,e){return t=st(t),ye(t._path)===null?tP("child","path",e):jf("child","path",e),new $s(t._repo,qe(t._path,e))}function tl(t){return G_("remove",t._path),Ei(t,null)}function Ei(t,e){t=st(t),G_("set",t._path),Qk("set",e,t._path);const n=new Oo;return dP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sd(t,e){eP("update",e,t._path);const n=new Oo;return fP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class qf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new bP("value",this,new el(e.snapshotNode,new $s(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new SP(this,e,n):null}matches(e){return e instanceof qf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function xP(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{xm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new EP(n,r||void 0),a=new qf(o);return pP(t._repo,t,a),()=>xm(t._repo,t,a)}function Jn(t,e,n,s){return xP(t,"value",e,n,s)}class IP{}class kP extends IP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){TP(e,"orderByChild");const n=new Me(this._path);if(_e(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new wf(n),i=LI(e._queryParams,s);return CP(i),new Ql(e._repo,e._path,i,!0)}}function tw(t){return jf("orderByChild","path",t),new kP(t)}function nw(t,...e){let n=st(t);for(const s of e)n=s._apply(n);return n}Tk($s);Ak($s);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FIREBASE_DATABASE_EMULATOR_HOST",id={};let AP=!1;function RP(t,e,n,s){t.repoInfo_=new a_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function OP(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||es("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Im(r,i),a=o.repoInfo,l;typeof process<"u"&&Kp&&(l=Kp[PP]),l?(r=`http://${l}?ns=${a.namespace}`,o=Im(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new j1(t.name,t.options,e);nP("Invalid Firebase Database URL",o),_e(o.path)||es("Database URL must point to the root of a Firebase Database (not including a child path).");const u=MP(a,t,c,new U1(t.name,n));return new DP(u,t)}function NP(t,e){const n=id[e];(!n||n[t.key]!==t)&&es(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mP(t),delete n[t.key]}function MP(t,e,n,s){let i=id[e.name];i||(i={},id[e.name]=i);let r=i[t.toURLString()];return r&&es("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new aP(t,AP,n,s),i[t.toURLString()]=r,r}class DP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $s(this._repo,Ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&es("Cannot call "+e+" on a deleted database.")}}function os(t=uf(),e){const n=lr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=nx("database");s&&LP(n,...s)}return n}function LP(t,e,n,s={}){t=st(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&es("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&es('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new pa(pa.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:sx(s.mockUserToken,t.app.options.projectId);r=new pa(o)}RP(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){T1(cr),on(new Xt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return OP(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Kt(Gp,Yp,t),Kt(Gp,Yp,"esm2017")}Yn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$P();function Kf(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FP=sw,iw=new Ls("auth","Firebase",sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new lf("@firebase/auth");function BP(t,...e){nl.logLevel<=De.WARN&&nl.warn(`Auth (${cr}): ${t}`,...e)}function ma(t,...e){nl.logLevel<=De.ERROR&&nl.error(`Auth (${cr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Gf(t,...e)}function En(t,...e){return Gf(t,...e)}function rw(t,e,n){const s=Object.assign(Object.assign({},FP()),{[e]:n});return new Ls("auth","Firebase",s).create(e,{appName:t.name})}function Xn(t){return rw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return iw.create(t,...e)}function ce(t,e,...n){if(!t)throw Gf(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ma(e),new Error(e)}function ts(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UP(){return km()==="http:"||km()==="https:"}function km(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UP()||rx()||"connection"in navigator)?navigator.onLine:!0}function VP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=af()||Fy()}get(){return jP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new $o(3e4,6e4);function as(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function On(t,e,n,s,i={}){return aw(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=or(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return ix()||(c.referrerPolicy="no-referrer"),ow.fetch()(lw(t,t.config.apiHost,n,a),c)})}async function aw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},HP),e);try{const i=new qP(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw ea(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ea(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ea(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ea(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rw(t,u,c);ln(t,u)}}catch(i){if(i instanceof rs)throw i;ln(t,"network-request-failed",{message:String(i)})}}async function Fo(t,e,n,s,i={}){const r=await On(t,e,n,s,i);return"mfaPendingCredential"in r&&ln(t,"multi-factor-auth-required",{_serverResponse:r}),r}function lw(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?Yf(t.config,i):`${t.config.apiScheme}://${i}`}function WP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(En(this.auth,"network-request-failed")),zP.get())})}}function ea(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=En(t,e,s);return i.customData._tokenResponse=n,i}function Pm(t){return t!==void 0&&t.enterprise!==void 0}class KP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GP(t,e){return On(t,"GET","/v2/recaptchaConfig",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e){return On(t,"POST","/v1/accounts:delete",e)}async function cw(t,e){return On(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JP(t,e=!1){const n=st(t),s=await n.getIdToken(e),i=Jf(s);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:to(zc(i.auth_time)),issuedAtTime:to(zc(i.iat)),expirationTime:to(zc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function zc(t){return Number(t)*1e3}function Jf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ma("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fa(n);return i?JSON.parse(i):(ma("Failed to decode base64 JWT payload"),null)}catch(i){return ma("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Am(t){const e=Jf(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rs&&XP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function XP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){var e;const n=t.auth,s=await t.getIdToken(),i=await nr(t,cw(n,{idToken:s}));ce(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?uw(r.providerUserInfo):[],a=eA(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new od(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function ZP(t){const e=st(t);await sl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eA(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function uw(t){return t.map(e=>{var{providerId:n}=e,s=Kf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e){const n=await aw(t,{},async()=>{const s=or({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=lw(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ow.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nA(t,e){return On(t,"POST","/v2/accounts:revokeToken",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Am(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Am(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await tA(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Vi;return s&&(ce(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ce(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vi,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new od(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await nr(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JP(this,e)}reload(){return ZP(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await nr(this,YP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:E,providerData:A,stsTokenManager:B}=n;ce(g&&B,e,"internal-error");const I=Vi.fromJSON(this.name,B);ce(typeof g=="string",e,"internal-error"),us(d,e.name),us(f,e.name),ce(typeof S=="boolean",e,"internal-error"),ce(typeof E=="boolean",e,"internal-error"),us(h,e.name),us(p,e.name),us(m,e.name),us(v,e.name),us(w,e.name),us(y,e.name);const x=new Wn({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:I,createdAt:w,lastLoginAt:y});return A&&Array.isArray(A)&&(x.providerData=A.map(R=>Object.assign({},R))),v&&(x._redirectEventId=v),x}static async _fromIdTokenResponse(e,n,s=!1){const i=new Vi;i.updateFromServerResponse(n);const r=new Wn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await sl(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?uw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Vi;a.updateFromIdToken(s);const l=new Wn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new od(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map;function qn(t){ts(t instanceof Function,"Expected a class definition");let e=Rm.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dw.type="NONE";const Om=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e,n){return`firebase:${t}:${e}:${n}`}class Hi{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=ga(this.userKey,i.apiKey,r),this.fullPersistenceKey=ga("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Hi(qn(Om),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||qn(Om);const o=ga(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Wn._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Hi(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Hi(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vw(e))return"Blackberry";if(yw(e))return"Webos";if(hw(e))return"Safari";if((e.includes("chrome/")||pw(e))&&!e.includes("edge/"))return"Chrome";if(gw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fw(t=xt()){return/firefox\//i.test(t)}function hw(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(t=xt()){return/crios\//i.test(t)}function mw(t=xt()){return/iemobile/i.test(t)}function gw(t=xt()){return/android/i.test(t)}function vw(t=xt()){return/blackberry/i.test(t)}function yw(t=xt()){return/webos/i.test(t)}function Xf(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sA(t=xt()){var e;return Xf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iA(){return ox()&&document.documentMode===10}function _w(t=xt()){return Xf(t)||gw(t)||yw(t)||vw(t)||/windows phone/i.test(t)||mw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e=[]){let n;switch(t){case"Browser":n=Nm(xt());break;case"Worker":n=`${Nm(xt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e={}){return On(t,"GET","/v2/passwordPolicy",as(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=6;class lA{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mm(this),this.idTokenSubscription=new Mm(this),this.beforeStateQueue=new rA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Hi.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cw(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Xn(this));const n=e?st(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oA(this),n=new lA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ls("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Hi.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fs(t){return st(t)}class Mm{constructor(e){this.auth=e,this.observer=null,this.addObserver=px(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uA(t){Zl=t}function bw(t){return Zl.loadJS(t)}function dA(){return Zl.recaptchaEnterpriseScript}function fA(){return Zl.gapiScript}function hA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pA{constructor(){this.enterprise=new mA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gA="recaptcha-enterprise",Sw="NO_RECAPTCHA";class vA{constructor(e){this.type=gA,this.auth=Fs(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{GP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new KP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;Pm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(Sw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pA().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&Pm(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dA();l.length!==0&&(l+=a),bw(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Dm(t,e,n,s=!1,i=!1){const r=new vA(t);let o;if(i)o=Sw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function il(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Dm(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Dm(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e){const n=lr(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Ua(r,e??{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function _A(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function wA(t,e,n){const s=Fs(t);ce(s._canInitEmulator,s,"emulator-config-failed"),ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=Ew(e),{host:o,port:a}=bA(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),SA()}function Ew(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bA(t){const e=Ew(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Lm(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Lm(o)}}}function Lm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function EA(t,e){return On(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e){return Fo(t,"POST","/v1/accounts:signInWithPassword",as(t,e))}async function CA(t,e){return On(t,"POST","/v1/accounts:sendOobCode",as(t,e))}async function xA(t,e){return CA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}async function kA(t,e){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Qf{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new So(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new So(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return il(e,n,"signInWithPassword",TA);case"emailLink":return IA(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return il(e,s,"signUpPassword",EA);case"emailLink":return kA(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return Fo(t,"POST","/v1/accounts:signInWithIdp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="http://localhost";class ui extends Qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Kf(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new ui(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:PA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=or(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RA(t){const e=$r(Fr(t)).link,n=e?$r(Fr(e)).deep_link_id:null,s=$r(Fr(t)).deep_link_id;return(s?$r(Fr(s)).link:null)||s||n||e||t}class Zf{constructor(e){var n,s,i,r,o,a;const l=$r(Fr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=AA((i=l.mode)!==null&&i!==void 0?i:null);ce(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=RA(e);try{return new Zf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.providerId=hr.PROVIDER_ID}static credential(e,n){return So._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zf.parseLink(n);return ce(s,"argument-error"),So._fromEmailAndCode(e,s.code,s.tenantId)}}hr.PROVIDER_ID="password";hr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Tw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Bo{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ui._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Bo{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Bo{constructor(){super("twitter.com")}static credential(e,n){return ui._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e){return Fo(t,"POST","/v1/accounts:signUp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Wn._fromIdTokenResponse(e,s,i),o=$m(s);return new di({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=$m(s);return new di({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function $m(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends rs{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,rl.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new rl(e,n,s,i)}}function Cw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?rl._fromErrorAndOperation(t,r,e,s):r})}async function NA(t,e,n=!1){const s=await nr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return di._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e,n=!1){const{auth:s}=t;if(_n(s.app))return Promise.reject(Xn(s));const i="reauthenticate";try{const r=await nr(t,Cw(s,i,e,t),n);ce(r.idToken,s,"internal-error");const o=Jf(r.idToken);ce(o,s,"internal-error");const{sub:a}=o;return ce(t.uid===a,s,"user-mismatch"),di._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ln(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(t,e,n=!1){if(_n(t.app))return Promise.reject(Xn(t));const s="signIn",i=await Cw(t,s,e),r=await di._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function DA(t,e){return xw(Fs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(t){const e=Fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LA(t,e,n){const s=Fs(t);await il(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xA)}async function $A(t,e,n){if(_n(t.app))return Promise.reject(Xn(t));const s=Fs(t),o=await il(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Iw(t),l}),a=await di._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function FA(t,e,n){return _n(t.app)?Promise.reject(Xn(t)):DA(st(t),hr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Iw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e){return On(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=st(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await nr(s,BA(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function UA(t,e,n,s){return st(t).onIdTokenChanged(e,n,s)}function jA(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function Tn(t,e,n,s){return st(t).onAuthStateChanged(e,n,s)}function VA(t){return st(t).signOut()}const ol="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ol,"1"),this.storage.removeItem(ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1e3,zA=10;class Pw extends kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_w(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);iA()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zA):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pw.type="LOCAL";const WA=Pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Aw.type="SESSION";const Rw=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new ec(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await qA(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ec.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=eh("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function GA(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function YA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XA(){return Ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebaseLocalStorageDb",QA=1,al="firebaseLocalStorage",Mw="fbase_key";class Uo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tc(t,e){return t.transaction([al],e?"readwrite":"readonly").objectStore(al)}function ZA(){const t=indexedDB.deleteDatabase(Nw);return new Uo(t).toPromise()}function ad(){const t=indexedDB.open(Nw,QA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(al,{keyPath:Mw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(al)?e(s):(s.close(),await ZA(),e(await ad()))})})}async function Bm(t,e,n){const s=tc(t,!0).put({[Mw]:e,value:n});return new Uo(s).toPromise()}async function eR(t,e){const n=tc(t,!1).get(e),s=await new Uo(n).toPromise();return s===void 0?null:s.value}function Um(t,e){const n=tc(t,!0).delete(e);return new Uo(n).toPromise()}const tR=800,nR=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ad(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>nR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ec._getInstance(XA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YA(),!this.activeServiceWorker)return;this.sender=new KA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ad();return await Bm(e,ol,"1"),await Um(e,ol),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>eR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Um(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=tc(i,!1).getAll();return new Uo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const sR=Dw;new $o(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e){return e?qn(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Qf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rR(t){return xw(t.auth,new th(t),t.bypassAuthState)}function oR(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),MA(n,new th(t),t.bypassAuthState)}async function aR(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),NA(n,new th(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:ln(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new $o(2e3,1e4);class Mi extends Lw{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Mi.currentPopupAction&&Mi.currentPopupAction.cancel(),Mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=eh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lR.get())};e()}}Mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="pendingRedirect",va=new Map;class uR extends Lw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=va.get(this.auth._key());if(!e){try{const s=await dR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}va.set(this.auth._key(),e)}return this.bypassAuthState||va.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dR(t,e){const n=pR(e),s=hR(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function fR(t,e){va.set(t._key(),e)}function hR(t){return qn(t._redirectPersistence)}function pR(t){return ga(cR,t.config.apiKey,t.name)}async function mR(t,e,n=!1){if(_n(t.app))return Promise.reject(Xn(t));const s=Fs(t),i=iR(s,e),o=await new uR(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=10*60*1e3;class vR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!$w(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(En(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gR&&this.cachedEventUids.clear(),this.cachedEventUids.has(jm(e))}saveEventToCache(e){this.cachedEventUids.add(jm(e)),this.lastProcessedEventTime=Date.now()}}function jm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $w({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $w(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e={}){return On(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function SR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _R(t);for(const n of e)try{if(ER(n))return}catch{}ln(t,"unauthorized-domain")}function ER(t){const e=rd(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!bR.test(n))return!1;if(wR.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new $o(3e4,6e4);function Vm(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CR(t){return new Promise((e,n)=>{var s,i,r;function o(){Vm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vm(),n(En(t,"network-request-failed"))},timeout:TR.get()})}if(!((i=(s=Cn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Cn().gapi)===null||r===void 0)&&r.load)o();else{const a=hA("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(En(t,"network-request-failed"))},bw(`${fA()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ya=null,e})}let ya=null;function xR(t){return ya=ya||CR(t),ya}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new $o(5e3,15e3),kR="__/auth/iframe",PR="emulator/auth/iframe",AR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yf(e,PR):`https://${t.config.authDomain}/${kR}`,s={apiKey:e.apiKey,appName:t.name,v:cr},i=RR.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${or(s).slice(1)}`}async function NR(t){const e=await xR(t),n=Cn().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:OR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AR,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=En(t,"network-request-failed"),a=Cn().setTimeout(()=>{r(o)},IR.get());function l(){Cn().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DR=500,LR=600,$R="_blank",FR="http://localhost";class Hm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(t,e,n,s=DR,i=LR){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MR),{width:s.toString(),height:i.toString(),top:r,left:o}),c=xt().toLowerCase();n&&(a=pw(c)?$R:n),fw(c)&&(e=e||FR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(sA(c)&&a!=="_self")return UR(e||"",a),new Hm(null);const d=window.open(e||"",a,u);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new Hm(d)}function UR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="__/auth/handler",VR="emulator/auth/handler",HR=encodeURIComponent("fac");async function zm(t,e,n,s,i,r){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:cr,eventId:i};if(e instanceof Tw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Lu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Bo){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${HR}=${encodeURIComponent(l)}`:"";return`${zR(t)}?${or(a).slice(1)}${c}`}function zR({config:t}){return t.emulator?Yf(t,VR):`https://${t.authDomain}/${jR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=mR,this._overrideRedirectResult=fR}async _openPopup(e,n,s,i){var r;ts((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await zm(e,n,s,rd(),i);return BR(e,o,eh())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await zm(e,n,s,rd(),i);return GA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(ts(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await NR(e),s=new vR(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wc,{type:Wc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Wc];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _w()||hw()||Xf()}}const qR=WR;var Wm="@firebase/auth",qm="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YR(t){on(new Xt("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ww(t)},c=new cA(s,i,r,l);return _A(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),on(new Xt("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(s=>new KR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(Wm,qm,GR(t)),Kt(Wm,qm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=5*60,XR=$y("authIdTokenMaxAge")||JR;let Km=null;const QR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XR)return;const i=n==null?void 0:n.token;Km!==i&&(Km=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ut(t=uf()){const e=lr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yA(t,{popupRedirectResolver:qR,persistence:[sR,WA,Rw]}),s=$y("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=QR(r.toString());jA(n,o,()=>o(n.currentUser)),UA(n,a=>o(a))}}const i=Dy("auth");return i&&wA(n,`http://${i}`),n}function ZR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uA({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=En("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",ZR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YR("Browser");const nh=Ro("searchStore",()=>{const t=M([]),e=M(""),n=M([]),s=os(),i=Ut(),r=M(!0);return{memory:e,memoryFilms:n,lastSearch:t,loader:r,getLastSearch:()=>{r.value=!0,Tn(i,u=>{if(u){const d=nw(Ke(s,`users/${u.uid}/search`),tw("date"));Jn(d,f=>{const h=[];f.forEach(p=>{h.push(p.val())}),t.value=h.reverse(),r.value=!1},f=>{console.log(f)})}else console.log("User logged out")})},addToLastSearch:(u,d)=>{const f=new Date().getTime();u.isFavorite=!0,Ei(Ke(s,"users/"+i.currentUser.uid+"/search/"+d),{nameRu:u.nameRu?u.nameRu:u.nameEn,year:u.year,rating:u.rating,posterUrl:u.posterUrl,id:+d,date:f}).then(()=>console.log("Добавлено")).catch(h=>console.log(h))},removeFromSearch:u=>{tl(Ke(s,"users/"+i.currentUser.uid+"/search/"+u)).then(()=>console.log("Удалено")).catch(d=>console.log(d))},removeAllSearch:()=>{tl(Ke(s,"users/"+i.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(u=>console.log(u))}}}),eO={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-600 bg-opacity-50 backdrop-blur-sm"},tO={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},nO={__name:"Header",setup(t){const e=nh();return(n,s)=>{const i=Yt("RouterLink");return k(),U("header",eO,[_("nav",tO,[O(i,{to:"/",class:"flex flex-col items-center gap-1"},{default:z(()=>[O(C(WC),{class:"w-6 text-gray-50",alt:"home"}),s[1]||(s[1]=_("span",{class:"text-xs text-white"},"Главное",-1))]),_:1}),O(i,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:z(()=>[O(C(nf),{class:"w-6 text-gray-50",alt:"favorites"}),s[2]||(s[2]=_("span",{class:"text-xs text-white"},"Мое",-1))]),_:1}),O(i,{to:"/search",class:"flex flex-col items-center gap-1",onClick:s[0]||(s[0]=r=>{C(e).memory="",C(e).memoryFilms=[]})},{default:z(()=>[O(C(Py),{class:"w-6 text-gray-50",alt:"search"}),s[3]||(s[3]=_("span",{class:"text-xs text-white"},"Поиск",-1))]),_:1}),O(i,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:z(()=>[O(C(KC),{class:"w-6 text-gray-50",alt:"profile"}),s[4]||(s[4]=_("span",{class:"text-xs text-white"},"Профиль",-1))]),_:1})])])}}},Fw="@firebase/installations",sh="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=1e4,Uw=`w:${sh}`,jw="FIS_v2",sO="https://firebaseinstallations.googleapis.com/v1",iO=60*60*1e3,rO="installations",oO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fi=new Ls(rO,oO,aO);function Vw(t){return t instanceof rs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw({projectId:t}){return`${sO}/projects/${t}/installations`}function zw(t){return{token:t.token,requestStatus:2,expiresIn:cO(t.expiresIn),creationTime:Date.now()}}async function Ww(t,e){const s=(await e.json()).error;return fi.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function qw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lO(t,{refreshToken:e}){const n=qw(t);return n.append("Authorization",uO(e)),n}async function Kw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cO(t){return Number(t.replace("s","000"))}function uO(t){return`${jw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Hw(t),i=qw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:jw,appId:t.appId,sdkVersion:Uw},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Kw(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:zw(c.authToken)}}else throw await Ww("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^[cdef][\w-]{21}$/,ld="";function pO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=mO(t);return hO.test(n)?n:ld}catch{return ld}}function mO(t){return fO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function Jw(t,e){const n=nc(t);Xw(n,e),gO(n,e)}function Xw(t,e){const n=Yw.get(t);if(n)for(const s of n)s(e)}function gO(t,e){const n=vO();n&&n.postMessage({key:t,fid:e}),yO()}let Gs=null;function vO(){return!Gs&&"BroadcastChannel"in self&&(Gs=new BroadcastChannel("[Firebase] FID Change"),Gs.onmessage=t=>{Xw(t.data.key,t.data.fid)}),Gs}function yO(){Yw.size===0&&Gs&&(Gs.close(),Gs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="firebase-installations-database",wO=1,hi="firebase-installations-store";let qc=null;function ih(){return qc||(qc=ar(_O,wO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hi)}}})),qc}async function ll(t,e){const n=nc(t),i=(await ih()).transaction(hi,"readwrite"),r=i.objectStore(hi),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Jw(t,e.fid),e}async function Qw(t){const e=nc(t),s=(await ih()).transaction(hi,"readwrite");await s.objectStore(hi).delete(e),await s.done}async function sc(t,e){const n=nc(t),i=(await ih()).transaction(hi,"readwrite"),r=i.objectStore(hi),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Jw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t){let e;const n=await sc(t.appConfig,s=>{const i=bO(s),r=SO(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===ld?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function bO(t){const e=t||{fid:pO(),registrationStatus:0};return Zw(e)}function SO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=EO(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TO(t)}:{installationEntry:e}}async function EO(t,e){try{const n=await dO(t,e);return ll(t.appConfig,n)}catch(n){throw Vw(n)&&n.customData.serverCode===409?await Qw(t.appConfig):await ll(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TO(t){let e=await Gm(t.appConfig);for(;e.registrationStatus===1;)await Gw(100),e=await Gm(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await rh(t);return s||n}return e}function Gm(t){return sc(t,e=>{if(!e)throw fi.create("installation-not-found");return Zw(e)})}function Zw(t){return CO(t)?{fid:t.fid,registrationStatus:0}:t}function CO(t){return t.registrationStatus===1&&t.registrationTime+Bw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO({appConfig:t,heartbeatServiceProvider:e},n){const s=IO(t,n),i=lO(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Uw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Kw(()=>fetch(s,a));if(l.ok){const c=await l.json();return zw(c)}else throw await Ww("Generate Auth Token",l)}function IO(t,{fid:e}){return`${Hw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t,e=!1){let n;const s=await sc(t.appConfig,r=>{if(!eb(r))throw fi.create("not-registered");const o=r.authToken;if(!e&&AO(o))return r;if(o.requestStatus===1)return n=kO(t,e),r;{if(!navigator.onLine)throw fi.create("app-offline");const a=OO(r);return n=PO(t,a),a}});return n?await n:s.authToken}async function kO(t,e){let n=await Ym(t.appConfig);for(;n.authToken.requestStatus===1;)await Gw(100),n=await Ym(t.appConfig);const s=n.authToken;return s.requestStatus===0?oh(t,e):s}function Ym(t){return sc(t,e=>{if(!eb(e))throw fi.create("not-registered");const n=e.authToken;return NO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PO(t,e){try{const n=await xO(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await ll(t.appConfig,s),n}catch(n){if(Vw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Qw(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ll(t.appConfig,s)}throw n}}function eb(t){return t!==void 0&&t.registrationStatus===2}function AO(t){return t.requestStatus===2&&!RO(t)}function RO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+iO}function OO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function NO(t){return t.requestStatus===1&&t.requestTime+Bw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t){const e=t,{installationEntry:n,registrationPromise:s}=await rh(e);return s?s.catch(console.error):oh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e=!1){const n=t;return await LO(n),(await oh(n,e)).token}async function LO(t){const{registrationPromise:e}=await rh(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){if(!t||!t.options)throw Kc("App Configuration");if(!t.name)throw Kc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kc(t){return fi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="installations",FO="installations-internal",BO=t=>{const e=t.getProvider("app").getImmediate(),n=$O(e),s=lr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},UO=t=>{const e=t.getProvider("app").getImmediate(),n=lr(e,tb).getImmediate();return{getId:()=>MO(n),getToken:i=>DO(n,i)}};function jO(){on(new Xt(tb,BO,"PUBLIC")),on(new Xt(FO,UO,"PRIVATE"))}jO();Kt(Fw,sh);Kt(Fw,sh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="/firebase-messaging-sw.js",HO="/firebase-cloud-messaging-push-scope",nb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zO="https://fcmregistrations.googleapis.com/v1",sb="google.c.a.c_id",WO="google.c.a.c_l",qO="google.c.a.ts",KO="google.c.a.e",Jm=1e4;var Xm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Xm||(Xm={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Eo;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Eo||(Eo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function GO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="fcm_token_details_db",YO=5,Qm="fcm_token_object_Store";async function JO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Gc))return null;let e=null;return(await ar(Gc,YO,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Qm))return;const l=o.objectStore(Qm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Fn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Fn(u.auth),p256dh:Fn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Fn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Fn(u.auth),p256dh:Fn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Fn(u.vapidKey)}}}}}})).close(),await Bi(Gc),await Bi("fcm_vapid_details_db"),await Bi("undefined"),XO(e)?e:null}function XO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="firebase-messaging-database",ZO=1,To="firebase-messaging-store";let Yc=null;function ib(){return Yc||(Yc=ar(QO,ZO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(To)}}})),Yc}async function eN(t){const e=rb(t),s=await(await ib()).transaction(To).objectStore(To).get(e);if(s)return s;{const i=await JO(t.appConfig.senderId);if(i)return await ah(t,i),i}}async function ah(t,e){const n=rb(t),i=(await ib()).transaction(To,"readwrite");return await i.objectStore(To).put(e,n),await i.done,e}function rb({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ot=new Ls("messaging","Messaging",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){const n=await ch(t),s=ob(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(lh(t.appConfig),i)).json()}catch(o){throw Ot.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Ot.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Ot.create("token-subscribe-no-token");return r.token}async function sN(t,e){const n=await ch(t),s=ob(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${lh(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ot.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Ot.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Ot.create("token-update-no-token");return r.token}async function iN(t,e){const s={method:"DELETE",headers:await ch(t)};try{const r=await(await fetch(`${lh(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Ot.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Ot.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function lh({projectId:t}){return`${zO}/projects/${t}/registrations`}async function ch({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ob({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==nb&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=7*24*60*60*1e3;async function oN(t){const e=await lN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Fn(e.getKey("auth")),p256dh:Fn(e.getKey("p256dh"))},s=await eN(t.firebaseDependencies);if(s){if(cN(s.subscriptionOptions,n))return Date.now()>=s.createTime+rN?aN(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await iN(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return Zm(t.firebaseDependencies,n)}else return Zm(t.firebaseDependencies,n)}async function aN(t,e){try{const n=await sN(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await ah(t.firebaseDependencies,s),n}catch(n){throw n}}async function Zm(t,e){const s={token:await nN(t,e),createTime:Date.now(),subscriptionOptions:e};return await ah(t,s),s.token}async function lN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:GO(e)})}function cN(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return uN(e,t),dN(e,t),fN(e,t),e}function uN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function dN(t,e){e.data&&(t.data=e.data)}function fN(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){return typeof t=="object"&&!!t&&sb in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){if(!t||!t.options)throw Jc("App Configuration Object");if(!t.name)throw Jc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Jc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Jc(t){return Ot.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mN=class{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=pN(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t){try{t.swRegistration=await navigator.serviceWorker.register(VO,{scope:HO}),t.swRegistration.update().catch(()=>{}),await vN(t.swRegistration)}catch(e){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function vN(t){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Jm} ms`)),Jm),i=t.installing||t.waiting;t.active?(clearTimeout(s),e()):i?i.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){if(!e&&!t.swRegistration&&await gN(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nb)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(t,e){if(!navigator)throw Ot.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ot.create("permission-blocked");return await _N(t,e==null?void 0:e.vapidKey),await yN(t,e==null?void 0:e.serviceWorkerRegistration),oN(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e,n){const s=bN(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[sb],message_name:n[WO],message_time:n[qO],message_device_time:Math.floor(Date.now()/1e3)})}function bN(t){switch(t){case Eo.NOTIFICATION_CLICKED:return"notification_open";case Eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Eo.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(eg(n)):t.onMessageHandler.next(eg(n)));const s=n.data;hN(s)&&s[KO]==="1"&&await wN(t,n.messageType,s)}const tg="@firebase/messaging",ng="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=t=>{const e=new mN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>SN(e,n)),e},TN=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>ab(e,s)}};function CN(){on(new Xt("messaging",EN,"PUBLIC")),on(new Xt("messaging-internal",TN,"PRIVATE")),Kt(tg,ng),Kt(tg,ng,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){if(!navigator)throw Ot.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function IN(t,e){return t=st(t),ab(t,e)}function kN(t,e){return t=st(t),xN(t,e)}CN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",PN="https://fcmregistrations.googleapis.com/v1",cb="FCM_MSG",AN="google.c.a.c_id",RN=3,ON=1;var cl;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(cl||(cl={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ul;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ul||(ul={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function NN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="fcm_token_details_db",MN=5,sg="fcm_token_object_Store";async function DN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Xc))return null;let e=null;return(await ar(Xc,MN,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(sg))return;const l=o.objectStore(sg),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Bn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bn(u.auth),p256dh:Bn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bn(u.auth),p256dh:Bn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bn(u.vapidKey)}}}}}})).close(),await Bi(Xc),await Bi("fcm_vapid_details_db"),await Bi("undefined"),LN(e)?e:null}function LN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firebase-messaging-database",FN=1,pi="firebase-messaging-store";let Qc=null;function uh(){return Qc||(Qc=ar($N,FN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pi)}}})),Qc}async function dh(t){const e=hh(t),s=await(await uh()).transaction(pi).objectStore(pi).get(e);if(s)return s;{const i=await DN(t.appConfig.senderId);if(i)return await fh(t,i),i}}async function fh(t,e){const n=hh(t),i=(await uh()).transaction(pi,"readwrite");return await i.objectStore(pi).put(e,n),await i.done,e}async function BN(t){const e=hh(t),s=(await uh()).transaction(pi,"readwrite");await s.objectStore(pi).delete(e),await s.done}function hh({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},nn=new Ls("messaging","Messaging",UN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){const n=await mh(t),s=db(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(ph(t.appConfig),i)).json()}catch(o){throw nn.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw nn.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw nn.create("token-subscribe-no-token");return r.token}async function VN(t,e){const n=await mh(t),s=db(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${ph(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw nn.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw nn.create("token-update-failed",{errorInfo:o})}if(!r.token)throw nn.create("token-update-no-token");return r.token}async function ub(t,e){const s={method:"DELETE",headers:await mh(t)};try{const r=await(await fetch(`${ph(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw nn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw nn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function ph({projectId:t}){return`${PN}/projects/${t}/registrations`}async function mh({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function db({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==lb&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=7*24*60*60*1e3;async function zN(t){const e=await qN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Bn(e.getKey("auth")),p256dh:Bn(e.getKey("p256dh"))},s=await dh(t.firebaseDependencies);if(s){if(KN(s.subscriptionOptions,n))return Date.now()>=s.createTime+HN?WN(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await ub(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return rg(t.firebaseDependencies,n)}else return rg(t.firebaseDependencies,n)}async function ig(t){const e=await dh(t.firebaseDependencies);e&&(await ub(t.firebaseDependencies,e.token),await BN(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function WN(t,e){try{const n=await VN(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await fh(t.firebaseDependencies,s),n}catch(n){throw n}}async function rg(t,e){const s={token:await jN(t,e),createTime:Date.now(),subscriptionOptions:e};return await fh(t,s),s.token}async function qN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:NN(e)})}function KN(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return YN(e,t),JN(e,t),XN(e,t),e}function YN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function JN(t,e){e.data&&(t.data=e.data)}function XN(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){return typeof t=="object"&&!!t&&AN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){return new Promise(e=>{setTimeout(e,t)})}async function eM(t,e){const n=tM(e,await t.firebaseDependencies.installations.getId());nM(t,n,e.productId)}function tM(t,e){var n,s;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=cl.DISPLAY_NOTIFICATION.toString():i.message_type=cl.DATA_MESSAGE.toString(),i.sdk_platform=RN.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=ON.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label),i}function nM(t,e,n){const s={};s.event_time_ms=Math.floor(Date.now()).toString(),s.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(s.compliance_data=sM(n)),t.logEvents.push(s)}function sM(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){var n,s;const{newSubscription:i}=t;if(!i){await ig(e);return}const r=await dh(e.firebaseDependencies);await ig(e),e.vapidKey=(s=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&s!==void 0?s:lb,await zN(e)}async function rM(t,e){const n=lM(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await eM(e,n);const s=await fb();if(uM(s))return dM(s,n);if(n.notification&&await fM(aM(n)),!!e&&e.onBackgroundMessageHandler){const i=GN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function oM(t){var e,n;const s=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[cb];if(s){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=hM(s);if(!i)return;const r=new URL(i,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await cM(r);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await ZN(3e3)),!!a)return s.messageType=ul.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,a.postMessage(s)}function aM(t){const e=Object.assign({},t.notification);return e.data={[cb]:t},e}function lM({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function cM(t){const e=await fb();for(const n of e){const s=new URL(n.url,self.location.href);if(t.host===s.host)return n}return null}function uM(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function dM(t,e){e.isFirebaseMessaging=!0,e.messageType=ul.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function fb(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function fM(t){var e;const{actions:n}=t,{maxActions:s}=Notification;return n&&s&&n.length>s&&console.warn(`This browser only supports ${s} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function hM(t){var e,n,s;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(s=t.notification)===null||s===void 0?void 0:s.click_action;return i||(QN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){if(!t||!t.options)throw Zc("App Configuration Object");if(!t.name)throw Zc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Zc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Zc(t){return nn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=pM(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=t=>{const e=new mM(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(rM(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(iM(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(oM(n))}),e};function vM(){on(new Xt("messaging-sw",gM,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(){return By()&&await Uy()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t=uf()){return yM().then(e=>{if(!e)throw nn.create("unsupported-browser")},e=>{throw nn.create("indexed-db-unsupported")}),lr(st(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vM();const kn=Ro("auth",()=>{const t=M(""),e=ir(),n=M(!1),s=M(""),i=M(""),r=M(""),o=M({email:"",userId:"",name:""}),a=async(f,h)=>{const p=Ut();switch(f){case"logout":VA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s.value="",i.value="",o.value={email:"",userId:"",name:""},e.push("/login")}).catch(m=>console.log(m));break;case"login":n.value=!0;try{const{user:m}=await FA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await $A(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Fm(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=Ut();console.log(f),await Fm(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:s,refreshToken:i,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=_M();IN(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),kN(h,p=>{console.log("Message received. ",p)})}}}),jt={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(k(),U("div",{role:"status",class:Ee(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(k(),U("svg",{"aria-hidden":"true",class:Ee(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[_("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),_("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=_("span",{class:"sr-only"},"Loading...",-1))],2))}},wM={class:"mt-2"},bM={__name:"App",setup(t){const e=kn();ir();const n=W(()=>e.accessToken);M(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const s=Ut(),i=M(!0),r=()=>{Tn(s,o=>{o||e.auth("logout")}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return Ce(()=>{r(),i.value=!1}),(o,a)=>{const l=Yt("RouterView");return k(),U(Ie,null,[nt(O(nO,null,null,512),[[Sn,n.value]]),_("main",wM,[O(l)])],64)}}};function hb(t,e){return function(){return t.apply(e,arguments)}}const{toString:SM}=Object.prototype,{getPrototypeOf:gh}=Object,ic=(t=>e=>{const n=SM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),un=t=>(t=t.toLowerCase(),e=>ic(e)===t),rc=t=>e=>typeof e===t,{isArray:pr}=Array,Co=rc("undefined");function EM(t){return t!==null&&!Co(t)&&t.constructor!==null&&!Co(t.constructor)&&Bt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pb=un("ArrayBuffer");function TM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pb(t.buffer),e}const CM=rc("string"),Bt=rc("function"),mb=rc("number"),oc=t=>t!==null&&typeof t=="object",xM=t=>t===!0||t===!1,_a=t=>{if(ic(t)!=="object")return!1;const e=gh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},IM=un("Date"),kM=un("File"),PM=un("Blob"),AM=un("FileList"),RM=t=>oc(t)&&Bt(t.pipe),OM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bt(t.append)&&((e=ic(t))==="formdata"||e==="object"&&Bt(t.toString)&&t.toString()==="[object FormData]"))},NM=un("URLSearchParams"),[MM,DM,LM,$M]=["ReadableStream","Request","Response","Headers"].map(un),FM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),pr(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function gb(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vb=t=>!Co(t)&&t!==Ys;function cd(){const{caseless:t}=vb(this)&&this||{},e={},n=(s,i)=>{const r=t&&gb(e,i)||i;_a(e[r])&&_a(s)?e[r]=cd(e[r],s):_a(s)?e[r]=cd({},s):pr(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&jo(arguments[s],n);return e}const BM=(t,e,n,{allOwnKeys:s}={})=>(jo(e,(i,r)=>{n&&Bt(i)?t[r]=hb(i,n):t[r]=i},{allOwnKeys:s}),t),UM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jM=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},VM=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&gh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},HM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},zM=t=>{if(!t)return null;if(pr(t))return t;let e=t.length;if(!mb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},WM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gh(Uint8Array)),qM=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},KM=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},GM=un("HTMLFormElement"),YM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),og=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),JM=un("RegExp"),yb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};jo(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},XM=t=>{yb(t,(e,n)=>{if(Bt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Bt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QM=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return pr(t)?s(t):s(String(t).split(e)),n},ZM=()=>{},eD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,eu="abcdefghijklmnopqrstuvwxyz",ag="0123456789",_b={DIGIT:ag,ALPHA:eu,ALPHA_DIGIT:eu+eu.toUpperCase()+ag},tD=(t=16,e=_b.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function nD(t){return!!(t&&Bt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sD=t=>{const e=new Array(10),n=(s,i)=>{if(oc(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const r=pr(s)?[]:{};return jo(s,(o,a)=>{const l=n(o,i+1);!Co(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},iD=un("AsyncFunction"),rD=t=>t&&(oc(t)||Bt(t))&&Bt(t.then)&&Bt(t.catch),wb=((t,e)=>t?setImmediate:e?((n,s)=>(Ys.addEventListener("message",({source:i,data:r})=>{i===Ys&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Ys.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bt(Ys.postMessage)),oD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ys):typeof process<"u"&&process.nextTick||wb,N={isArray:pr,isArrayBuffer:pb,isBuffer:EM,isFormData:OM,isArrayBufferView:TM,isString:CM,isNumber:mb,isBoolean:xM,isObject:oc,isPlainObject:_a,isReadableStream:MM,isRequest:DM,isResponse:LM,isHeaders:$M,isUndefined:Co,isDate:IM,isFile:kM,isBlob:PM,isRegExp:JM,isFunction:Bt,isStream:RM,isURLSearchParams:NM,isTypedArray:WM,isFileList:AM,forEach:jo,merge:cd,extend:BM,trim:FM,stripBOM:UM,inherits:jM,toFlatObject:VM,kindOf:ic,kindOfTest:un,endsWith:HM,toArray:zM,forEachEntry:qM,matchAll:KM,isHTMLForm:GM,hasOwnProperty:og,hasOwnProp:og,reduceDescriptors:yb,freezeMethods:XM,toObjectSet:QM,toCamelCase:YM,noop:ZM,toFiniteNumber:eD,findKey:gb,global:Ys,isContextDefined:vb,ALPHABET:_b,generateString:tD,isSpecCompliantForm:nD,toJSONObject:sD,isAsyncFn:iD,isThenable:rD,setImmediate:wb,asap:oD};function pe(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}N.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const bb=pe.prototype,Sb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Sb[t]={value:t}});Object.defineProperties(pe,Sb);Object.defineProperty(bb,"isAxiosError",{value:!0});pe.from=(t,e,n,s,i,r)=>{const o=Object.create(bb);return N.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pe.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const aD=null;function ud(t){return N.isPlainObject(t)||N.isArray(t)}function Eb(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function lg(t,e,n){return t?t.concat(e).map(function(i,r){return i=Eb(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function lD(t){return N.isArray(t)&&!t.some(ud)}const cD=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function ac(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!N.isUndefined(v[m])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(N.isDate(p))return p.toISOString();if(!l&&N.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(p)||N.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,v){let w=p;if(p&&!v&&typeof p=="object"){if(N.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(N.isArray(p)&&lD(p)||(N.isFileList(p)||N.endsWith(m,"[]"))&&(w=N.toArray(p)))return m=Eb(m),w.forEach(function(g,S){!(N.isUndefined(g)||g===null)&&e.append(o===!0?lg([m],S,r):o===null?m:m+"[]",c(g))}),!1}return ud(p)?!0:(e.append(lg(v,m,r),c(p)),!1)}const d=[],f=Object.assign(cD,{defaultVisitor:u,convertValue:c,isVisitable:ud});function h(p,m){if(!N.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),N.forEach(p,function(w,y){(!(N.isUndefined(w)||w===null)&&i.call(e,w,N.isString(y)?y.trim():y,m,f))===!0&&h(w,m?m.concat(y):[y])}),d.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return h(t),e}function cg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function vh(t,e){this._pairs=[],t&&ac(t,this,e)}const Tb=vh.prototype;Tb.append=function(e,n){this._pairs.push([e,n])};Tb.toString=function(e){const n=e?function(s){return e.call(this,s,cg)}:cg;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function uD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cb(t,e,n){if(!e)return t;const s=n&&n.encode||uD;N.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=N.isURLSearchParams(e)?e.toString():new vh(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class ug{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(s){s!==null&&e(s)})}}const xb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dD=typeof URLSearchParams<"u"?URLSearchParams:vh,fD=typeof FormData<"u"?FormData:null,hD=typeof Blob<"u"?Blob:null,pD={isBrowser:!0,classes:{URLSearchParams:dD,FormData:fD,Blob:hD},protocols:["http","https","file","blob","url","data"]},yh=typeof window<"u"&&typeof document<"u",dd=typeof navigator=="object"&&navigator||void 0,mD=yh&&(!dd||["ReactNative","NativeScript","NS"].indexOf(dd.product)<0),gD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vD=yh&&window.location.href||"http://localhost",yD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yh,hasStandardBrowserEnv:mD,hasStandardBrowserWebWorkerEnv:gD,navigator:dd,origin:vD},Symbol.toStringTag,{value:"Module"})),vt={...yD,...pD};function _D(t,e){return ac(t,new vt.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,r){return vt.isNode&&N.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function wD(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bD(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function Ib(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&N.isArray(i)?i.length:o,l?(N.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!N.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&N.isArray(i[o])&&(i[o]=bD(i[o])),!a)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(s,i)=>{e(wD(s),i,n,0)}),n}return null}function SD(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const Vo={transitional:xb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=N.isObject(e);if(r&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return i?JSON.stringify(Ib(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _D(e,this.formSerializer).toString();if((a=N.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ac(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),SD(e)):e}],transformResponse:[function(e){const n=this.transitional||Vo.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vt.classes.FormData,Blob:vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{Vo.headers[t]={}});const ED=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TD=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&ED[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},dg=Symbol("internals");function Rr(t){return t&&String(t).trim().toLowerCase()}function wa(t){return t===!1||t==null?t:N.isArray(t)?t.map(wa):String(t)}function CD(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const xD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tu(t,e,n,s,i){if(N.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!N.isString(e)){if(N.isString(s))return e.indexOf(s)!==-1;if(N.isRegExp(s))return s.test(e)}}function ID(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function kD(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}class Nt{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=Rr(l);if(!u)throw new Error("header name must be a non-empty string");const d=N.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=wa(a))}const o=(a,l)=>N.forEach(a,(c,u)=>r(c,u,l));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(N.isString(e)&&(e=e.trim())&&!xD(e))o(TD(e),n);else if(N.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(n,e,s);return this}get(e,n){if(e=Rr(e),e){const s=N.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return CD(i);if(N.isFunction(n))return n.call(this,i,s);if(N.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Rr(e),e){const s=N.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||tu(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=Rr(o),o){const a=N.findKey(s,o);a&&(!n||tu(s,s[a],a,n))&&(delete s[a],i=!0)}}return N.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||tu(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return N.forEach(this,(i,r)=>{const o=N.findKey(s,r);if(o){n[o]=wa(i),delete n[r];return}const a=e?ID(r):String(r).trim();a!==r&&delete n[r],n[a]=wa(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&N.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[dg]=this[dg]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=Rr(o);s[a]||(kD(i,o),s[a]=!0)}return N.isArray(e)?e.forEach(r):r(e),this}}Nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Nt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});N.freezeMethods(Nt);function nu(t,e){const n=this||Vo,s=e||n,i=Nt.from(s.headers);let r=s.data;return N.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function kb(t){return!!(t&&t.__CANCEL__)}function mr(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(mr,pe,{__CANCEL__:!0});function Pb(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function PD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function AD(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function RD(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const dl=(t,e,n=3)=>{let s=0;const i=AD(50,250);return RD(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},fg=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},hg=t=>(...e)=>N.asap(()=>t(...e)),OD=vt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,vt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(vt.origin),vt.navigator&&/(msie|trident)/i.test(vt.navigator.userAgent)):()=>!0,ND=vt.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];N.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),N.isString(s)&&o.push("path="+s),N.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DD(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ab(t,e){return t&&!MD(e)?DD(t,e):e}const pg=t=>t instanceof Nt?{...t}:t;function mi(t,e){e=e||{};const n={};function s(c,u,d,f){return N.isPlainObject(c)&&N.isPlainObject(u)?N.merge.call({caseless:f},c,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function i(c,u,d,f){if(N.isUndefined(u)){if(!N.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function r(c,u){if(!N.isUndefined(u))return s(void 0,u)}function o(c,u){if(N.isUndefined(u)){if(!N.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(pg(c),pg(u),d,!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);N.isUndefined(f)&&d!==a||(n[u]=f)}),n}const Rb=t=>{const e=mi({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=Nt.from(o),e.url=Cb(Ab(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(N.isFormData(n)){if(vt.hasStandardBrowserEnv||vt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(vt.hasStandardBrowserEnv&&(s&&N.isFunction(s)&&(s=s(e)),s||s!==!1&&OD(e.url))){const c=i&&r&&ND.read(r);c&&o.set(i,c)}return e},LD=typeof XMLHttpRequest<"u",$D=LD&&function(t){return new Promise(function(n,s){const i=Rb(t);let r=i.data;const o=Nt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function w(){if(!v)return;const g=Nt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:g,config:t,request:v};Pb(function(B){n(B),m()},function(B){s(B),m()},E),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(s(new pe("Request aborted",pe.ECONNABORTED,t,v)),v=null)},v.onerror=function(){s(new pe("Network Error",pe.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||xb;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new pe(S,E.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,v)),v=null},r===void 0&&o.setContentType(null),"setRequestHeader"in v&&N.forEach(o.toJSON(),function(S,E){v.setRequestHeader(E,S)}),N.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),c&&([f,p]=dl(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,h]=dl(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=g=>{v&&(s(!g||g.type?new mr(null,t,v):g),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=PD(i.url);if(y&&vt.protocols.indexOf(y)===-1){s(new pe("Unsupported protocol "+y+":",pe.ERR_BAD_REQUEST,t));return}v.send(r||null)})},FD=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof pe?u:new mr(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>N.asap(a),l}},BD=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},UD=async function*(t,e){for await(const n of jD(t))yield*BD(n,e)},jD=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},mg=(t,e,n,s)=>{const i=UD(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},lc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ob=lc&&typeof ReadableStream=="function",VD=lc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Nb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},HD=Ob&&Nb(()=>{let t=!1;const e=new Request(vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),gg=64*1024,fd=Ob&&Nb(()=>N.isReadableStream(new Response("").body)),fl={stream:fd&&(t=>t.body)};lc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fl[e]&&(fl[e]=N.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new pe(`Response type '${e}' is not supported`,pe.ERR_NOT_SUPPORT,s)})})})(new Response);const zD=async t=>{if(t==null)return 0;if(N.isBlob(t))return t.size;if(N.isSpecCompliantForm(t))return(await new Request(vt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(N.isArrayBufferView(t)||N.isArrayBuffer(t))return t.byteLength;if(N.isURLSearchParams(t)&&(t=t+""),N.isString(t))return(await VD(t)).byteLength},WD=async(t,e)=>{const n=N.toFiniteNumber(t.getContentLength());return n??zD(e)},qD=lc&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Rb(t);c=c?(c+"").toLowerCase():"text";let h=FD([i,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&HD&&n!=="get"&&n!=="head"&&(v=await WD(u,s))!==0){let E=new Request(e,{method:"POST",body:s,duplex:"half"}),A;if(N.isFormData(s)&&(A=E.headers.get("content-type"))&&u.setContentType(A),E.body){const[B,I]=fg(v,dl(hg(l)));s=mg(E.body,gg,B,I)}}N.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?d:void 0});let y=await fetch(p);const g=fd&&(c==="stream"||c==="response");if(fd&&(a||g&&m)){const E={};["status","statusText","headers"].forEach(x=>{E[x]=y[x]});const A=N.toFiniteNumber(y.headers.get("content-length")),[B,I]=a&&fg(A,dl(hg(a),!0))||[];y=new Response(mg(y.body,gg,B,()=>{I&&I(),m&&m()}),E)}c=c||"text";let S=await fl[N.findKey(fl,c)||"text"](y,t);return!g&&m&&m(),await new Promise((E,A)=>{Pb(E,A,{data:S,headers:Nt.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,t,p),{cause:w.cause||w}):pe.from(w,w&&w.code,t,p)}}),hd={http:aD,xhr:$D,fetch:qD};N.forEach(hd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vg=t=>`- ${t}`,KD=t=>N.isFunction(t)||t===null||t===!1,Mb={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let o;if(s=n,!KD(n)&&(s=hd[(o=String(n)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+r]=s}if(!s){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(vg).join(`
`):" "+vg(r[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:hd};function su(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mr(null,t)}function yg(t){return su(t),t.headers=Nt.from(t.headers),t.data=nu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Mb.getAdapter(t.adapter||Vo.adapter)(t).then(function(s){return su(t),s.data=nu.call(t,t.transformResponse,s),s.headers=Nt.from(s.headers),s},function(s){return kb(s)||(su(t),s&&s.response&&(s.response.data=nu.call(t,t.transformResponse,s.response),s.response.headers=Nt.from(s.response.headers))),Promise.reject(s)})}const Db="1.7.9",cc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cc[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const _g={};cc.transitional=function(e,n,s){function i(r,o){return"[Axios v"+Db+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new pe(i(o," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!_g[o]&&(_g[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};cc.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function GD(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new pe("option "+r+" must be "+l,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+r,pe.ERR_BAD_OPTION)}}const ba={assertOptions:GD,validators:cc},mn=ba.validators;class ti{constructor(e){this.defaults=e,this.interceptors={request:new ug,response:new ug}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mi(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&ba.assertOptions(s,{silentJSONParsing:mn.transitional(mn.boolean),forcedJSONParsing:mn.transitional(mn.boolean),clarifyTimeoutError:mn.transitional(mn.boolean)},!1),i!=null&&(N.isFunction(i)?n.paramsSerializer={serialize:i}:ba.assertOptions(i,{encode:mn.function,serialize:mn.function},!0)),ba.assertOptions(n,{baseUrl:mn.spelling("baseURL"),withXsrfToken:mn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&N.merge(r.common,r[n.method]);r&&N.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Nt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[yg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(v){m.call(this,v);break}}try{u=yg.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=mi(this.defaults,e);const n=Ab(e.baseURL,e.url);return Cb(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){ti.prototype[e]=function(n,s){return this.request(mi(s||{},{method:e,url:n,data:(s||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(mi(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}ti.prototype[e]=n(),ti.prototype[e+"Form"]=n(!0)});class _h{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new mr(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _h(function(i){e=i}),cancel:e}}}function YD(t){return function(n){return t.apply(null,n)}}function JD(t){return N.isObject(t)&&t.isAxiosError===!0}const pd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pd).forEach(([t,e])=>{pd[e]=t});function Lb(t){const e=new ti(t),n=hb(ti.prototype.request,e);return N.extend(n,ti.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Lb(mi(t,i))},n}const He=Lb(Vo);He.Axios=ti;He.CanceledError=mr;He.CancelToken=_h;He.isCancel=kb;He.VERSION=Db;He.toFormData=ac;He.AxiosError=pe;He.Cancel=He.CanceledError;He.all=function(e){return Promise.all(e)};He.spread=YD;He.isAxiosError=JD;He.mergeConfig=mi;He.AxiosHeaders=Nt;He.formToJSON=t=>Ib(N.isHTMLForm(t)?new FormData(t):t);He.getAdapter=Mb.getAdapter;He.HttpStatusCode=pd;He.default=He;const XD="/right_arrow.svg",Ho={__name:"BackLink",setup(t){const e=ir(),n=()=>e.go(-1);return(s,i)=>(k(),U("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},i[0]||(i[0]=[_("img",{src:XD,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function wg(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function wh(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:wg(e[n])&&wg(t[n])&&Object.keys(e[n]).length>0&&wh(t[n],e[n])})}const $b={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ti(){const t=typeof document<"u"?document:{};return wh(t,$b),t}const QD={document:$b,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Vt(){const t=typeof window<"u"?window:{};return wh(t,QD),t}function ZD(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function eL(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function md(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function ni(){return Date.now()}function tL(t){const e=Vt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function nL(t,e){e===void 0&&(e="x");const n=Vt();let s,i,r;const o=tL(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function ta(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function sL(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Lt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!sL(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(ta(t[a])&&ta(s[a])?s[a].__swiper__?t[a]=s[a]:Lt(t[a],s[a]):!ta(t[a])&&ta(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Lt(t[a],s[a])):t[a]=s[a])}}}return t}function na(t,e,n){t.style.setProperty(e,n)}function Fb(t){let{swiper:e,targetPosition:n,side:s}=t;const i=Vt(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function bn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function iL(t,e){var s,i;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((s=r.shadowRoot)==null?void 0:s.children)||[],...((i=r.assignedElements)==null?void 0:i.call(r))||[])}}function rL(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=iL(t,e))),n}function hl(t){try{console.warn(t);return}catch{}}function pl(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:ZD(e)),n}function oL(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function aL(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function bs(t,e){return Vt().getComputedStyle(t,null).getPropertyValue(e)}function ml(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Bb(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function iu(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function gd(t,e,n){const s=Vt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function rt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Ub(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=bn(t.el,`.${s[i]}`)[0];r||(r=pl("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function lL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const v=e.params.navigation;p=rt(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...v.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=Ub(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),v=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:v}),m=rt(m),v=rt(v);const w=(y,g)=>{y&&y.addEventListener("click",g==="next"?c:l),!e.enabled&&y&&y.classList.add(...p.lockClass.split(" "))};m.forEach(y=>w(y,"next")),v.forEach(y=>w(y,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=rt(p),m=rt(m);const v=(w,y)=>{w.removeEventListener("click",y==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>v(w,"next")),m.forEach(w=>v(w,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=rt(p),m=rt(m),e.enabled){a();return}[...p,...m].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:v,prevEl:w}=e.navigation;v=rt(v),w=rt(w);const y=m.target;let g=w.includes(y)||v.includes(y);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(E=>v.includes(E)||w.includes(E)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let S;v.length?S=v[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...v,...w].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function Or(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function cL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(y,g){const{bulletActiveClass:S}=e.params.pagination;y&&(y=y[`${g==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${S}-${g}`),y=y[`${g==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${S}-${g}-${g}`)))}function u(y,g,S){if(y=y%S,g=g%S,g===y+1)return"next";if(g===y-1)return"previous"}function d(y){const g=y.target.closest(Or(e.params.pagination.bulletClass));if(!g)return;y.preventDefault();const S=ml(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const E=u(e.realIndex,S,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const y=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=rt(S);let E,A;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,E=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const x=e.pagination.bullets;let R,D,K;if(g.dynamicBullets&&(o=gd(x[0],e.isHorizontal()?"width":"height"),S.forEach(V=>{V.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&A!==void 0&&(a+=E-(A||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(E-a,0),D=R+(Math.min(x.length,g.dynamicMainBullets)-1),K=(D+R)/2),x.forEach(V=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${g.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();V.classList.remove(...ie)}),S.length>1)x.forEach(V=>{const ie=ml(V);ie===E?V.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&V.setAttribute("part","bullet"),g.dynamicBullets&&(ie>=R&&ie<=D&&V.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),ie===R&&c(V,"prev"),ie===D&&c(V,"next"))});else{const V=x[E];if(V&&V.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&x.forEach((ie,oe)=>{ie.setAttribute("part",oe===E?"bullet-active":"bullet")}),g.dynamicBullets){const ie=x[R],oe=x[D];for(let ne=R;ne<=D;ne+=1)x[ne]&&x[ne].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(ie,"prev"),c(oe,"next")}}if(g.dynamicBullets){const V=Math.min(x.length,g.dynamicMainBullets+4),ie=(o*V-o)/2-K*o,oe=y?"right":"left";x.forEach(ne=>{ne.style[e.isHorizontal()?oe:"top"]=`${ie}px`})}}S.forEach((x,R)=>{if(g.type==="fraction"&&(x.querySelectorAll(Or(g.currentClass)).forEach(D=>{D.textContent=g.formatFractionCurrent(E+1)}),x.querySelectorAll(Or(g.totalClass)).forEach(D=>{D.textContent=g.formatFractionTotal(I)})),g.type==="progressbar"){let D;g.progressbarOpposite?D=e.isHorizontal()?"vertical":"horizontal":D=e.isHorizontal()?"horizontal":"vertical";const K=(E+1)/I;let V=1,ie=1;D==="horizontal"?V=K:ie=K,x.querySelectorAll(Or(g.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${ie})`,oe.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(x.innerHTML=g.renderCustom(e,E+1,I),R===0&&i("paginationRender",x)):(R===0&&i("paginationRender",x),i("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const y=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=rt(S);let E="";if(y.type==="bullets"){let A=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>g&&(A=g);for(let B=0;B<A;B+=1)y.renderBullet?E+=y.renderBullet.call(e,B,y.bulletClass):E+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?E=y.renderFraction.call(e,y.currentClass,y.totalClass):E=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?E=y.renderProgressbar.call(e,y.progressbarFillClass):E=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(A=>{y.type!=="custom"&&(A.innerHTML=E||""),y.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(Or(y.bulletClass)))}),y.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=Ub(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let g;typeof y.el=="string"&&e.isElement&&(g=e.el.querySelector(y.el)),!g&&typeof y.el=="string"&&(g=[...document.querySelectorAll(y.el)]),g||(g=y.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(y.el)],g.length>1&&(g=g.find(S=>Bb(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=rt(g),g.forEach(S=>{y.type==="bullets"&&y.clickable&&S.classList.add(...(y.clickableClass||"").split(" ")),S.classList.add(y.modifierClass+y.type),S.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(S.classList.add(`${y.modifierClass}${y.type}-dynamic`),a=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&S.classList.add(y.progressbarOppositeClass),y.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(y.lockClass)}))}function m(){const y=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=rt(g),g.forEach(S=>{S.classList.remove(y.hiddenClass),S.classList.remove(y.modifierClass+y.type),S.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(S.classList.remove(...(y.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...y.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:g}=e.pagination;g=rt(g),g.forEach(S=>{S.classList.remove(y.horizontalClass,y.verticalClass),S.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?w():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:y}=e.pagination;y&&(y=rt(y),y.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(y,g)=>{const S=g.target,E=rt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const A=E[0].classList.contains(e.params.pagination.hiddenClass);i(A===!0?"paginationShow":"paginationHide"),E.forEach(B=>B.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=rt(y),y.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=rt(y),y.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:v,disable:w,render:h,update:f,init:p,destroy:m})}function bh(t){let{swiper:e,extendParams:n,emit:s,once:i}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:ni()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,v=ni()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const I=p.velocities.pop(),x=p.velocities.pop(),R=I.position-x.position,D=I.time-x.time;e.velocity=R/D,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(D>150||ni()-I.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const y=e.velocity*w;let g=e.translate+y;f&&(g=-g);let S=!1,E;const A=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let B;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-A&&(g=e.maxTranslate()-A),E=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&(B=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>A&&(g=e.minTranslate()+A),E=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&(B=!0);else if(u.freeMode.sticky){let I;for(let x=0;x<h.length;x+=1)if(h[x]>-g){I=x;break}Math.abs(h[I]-g)<Math.abs(h[I-1]-g)||e.swipeDirection==="next"?g=h[I]:g=h[I-1],g=-g}if(B&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-g-e.translate)/e.velocity):w=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const I=Math.abs((f?-g:g)-e.translate),x=e.slidesSizesGrid[e.activeIndex];I<x?w=u.speed:I<2*x?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(E),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,iu(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(s("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(E),iu(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,iu(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&s("_freeModeNoMomentumRelease");(!u.freeMode.momentum||v>=u.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let ru;function uL(){const t=Vt(),e=Ti();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function jb(){return ru||(ru=uL()),ru}let ou;function dL(t){let{userAgent:e}=t===void 0?{}:t;const n=jb(),s=Vt(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Vb(t){return t===void 0&&(t={}),ou||(ou=dL(t)),ou}let au;function fL(){const t=Vt(),e=Vb();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function hL(){return au||(au=fL()),au}function pL(t){let{swiper:e,on:n,emit:s}=t;const i=Vt();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(v=>{let{contentBoxSize:w,contentRect:y,target:g}=v;g&&g!==e.el||(p=y?y.width:(w[0]||w).inlineSize,m=y?y.height:(w[0]||w).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function mL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=Vt(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Bb(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var gL={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function vL(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(bs(s,"padding-left")||0,10)-parseInt(bs(s,"padding-right")||0,10),n=n-parseInt(bs(s,"padding-top")||0,10)-parseInt(bs(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function yL(){const t=this;function e(R,D){return parseFloat(R.getPropertyValue(t.getDirectionLabel(D))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=bn(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,y=t.slidesGrid.length;let g=n.spaceBetween,S=-m,E=0,A=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(na(s,"--swiper-centered-offset-before",""),na(s,"--swiper-centered-offset-after",""));const B=n.grid&&n.grid.rows>1&&t.grid;B?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let I;const x=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<d;R+=1){I=0;let D;if(u[R]&&(D=u[R]),B&&t.grid.updateSlide(R,D,u),!(u[R]&&bs(D,"display")==="none")){if(n.slidesPerView==="auto"){x&&(u[R].style[t.getDirectionLabel("width")]="");const K=getComputedStyle(D),V=D.style.transform,ie=D.style.webkitTransform;if(V&&(D.style.transform="none"),ie&&(D.style.webkitTransform="none"),n.roundLengths)I=t.isHorizontal()?gd(D,"width"):gd(D,"height");else{const oe=e(K,"width"),ne=e(K,"padding-left"),re=e(K,"padding-right"),me=e(K,"margin-left"),dt=e(K,"margin-right"),It=K.getPropertyValue("box-sizing");if(It&&It==="border-box")I=oe+me+dt;else{const{clientWidth:ge,offsetWidth:ve}=D;I=oe+ne+re+me+dt+(ve-ge)}}V&&(D.style.transform=V),ie&&(D.style.webkitTransform=ie),n.roundLengths&&(I=Math.floor(I))}else I=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(I=Math.floor(I)),u[R]&&(u[R].style[t.getDirectionLabel("width")]=`${I}px`);u[R]&&(u[R].swiperSlideSize=I),p.push(I),n.centeredSlides?(S=S+I/2+E/2+g,E===0&&R!==0&&(S=S-r/2-g),R===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),A%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+I+g),t.virtualSize+=I+g,E=I,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+v,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),B&&t.grid.updateWrapperSize(I,f),!n.centeredSlides){const R=[];for(let D=0;D<f.length;D+=1){let K=f[D];n.roundLengths&&(K=Math.floor(K)),f[D]<=t.virtualSize-r&&R.push(K)}f=R,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const R=p[0]+g;if(n.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),K=R*n.slidesPerGroup;for(let V=0;V<D;V+=1)f.push(f[f.length-1]+K)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+R),h.push(h[h.length-1]+R),t.virtualSize+=R}if(f.length===0&&(f=[0]),g!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((D,K)=>!n.cssMode||n.loop?!0:K!==u.length-1).forEach(D=>{D.style[R]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;p.forEach(K=>{R+=K+(g||0)}),R-=g;const D=R>r?R-r:0;f=f.map(K=>K<=0?-m:K>D?D+v:K)}if(n.centerInsufficientSlides){let R=0;p.forEach(K=>{R+=K+(g||0)}),R-=g;const D=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+D<r){const K=(r-R-D)/2;f.forEach((V,ie)=>{f[ie]=V-K}),h.forEach((V,ie)=>{h[ie]=V+K})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){na(s,"--swiper-centered-offset-before",`${-f[0]}px`),na(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const R=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(K=>K+R),t.slidesGrid=t.slidesGrid.map(K=>K+D)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==y&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,D=t.el.classList.contains(R);d<=n.maxBackfaceHiddenSlides?D||t.el.classList.add(R):D&&t.el.classList.remove(R)}}function _L(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function wL(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const bg=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function bL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],v=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;v&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),bg(c,v,n.slideVisibleClass),bg(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function SL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const lu=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function EL(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>bn(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=aL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=oL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{lu(d,d===l,n.slideActiveClass),lu(d,d===u,n.slideNextClass),lu(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Sa=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},cu=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},vd=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&cu(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&cu(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&cu(t,o)};function TL(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function CL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=TL(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&vd(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function xL(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var IL={updateSize:vL,updateSlides:yL,updateAutoHeight:_L,updateSlidesOffset:wL,updateSlidesProgress:bL,updateProgress:SL,updateSlidesClasses:EL,updateActiveIndex:CL,updateClickedSlide:xL};function kL(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=nL(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function PL(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function AL(){return-this.snapGrid[0]}function RL(){return-this.snapGrid[this.snapGrid.length-1]}function OL(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return Fb({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var NL={getTranslate:kL,setTranslate:PL,minTranslate:AL,maxTranslate:RL,translateTo:OL};function ML(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Hb(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function DL(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Hb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function LL(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Hb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var $L={setTransition:ML,transitionStart:DL,transitionEnd:LL};function FL(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let v=m+Math.floor((o-m)/r.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const w=-l[v];if(a.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){const A=-Math.floor(w*100),B=Math.floor(c[E]*100),I=Math.floor(c[E+1]*100);typeof c[E+1]<"u"?A>=B&&A<I-(I-B)/2?o=E:A>=B&&A<I&&(o=E+1):A>=B&&(o=E)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let y;o>d?y="next":o<d?y="prev":y="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&i)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),y!=="reset"&&(r.transitionStart(n,y),r.transitionEnd(n,y)),!1;if(a.cssMode){const E=r.isHorizontal(),A=f?w:-w;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[E?"scrollLeft":"scrollTop"]=A})):h[E?"scrollLeft":"scrollTop"]=A,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return Fb({swiper:r,targetPosition:A,side:E?"left":"top"}),!0;h.scrollTo({[E?"left":"top"]:A,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,y),e===0?r.transitionEnd(n,y):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(A){!r||r.destroyed||A.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,y))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function BL(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function UL(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function jL(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const h=f(d),p=r.map(w=>f(w));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let w;r.forEach((y,g)=>{h>=y&&(w=g)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let v=0;if(typeof m<"u"&&(v=o.indexOf(m),v<0&&(v=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(v=v-s.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&s.isBeginning){const w=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(w,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(v,t,e,n)}),!0;return s.slideTo(v,t,e,n)}function VL(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function HL(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function zL(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(bn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),md(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(bn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),md(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var WL={slideTo:FL,slideToLoop:BL,slideNext:UL,slidePrev:jL,slideReset:VL,slideToClosest:HL,slideToClickedSlide:zL};function qL(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{bn(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?pl("swiper-slide",[n.slideBlankClass]):pl("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else hl("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else hl("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function KL(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const v=h.slidesPerGroupAuto?m:h.slidesPerGroup;let w=v;w%v!==0&&(w+=v-w%v),w+=h.loopAdditionalSlides,l.loopedSlides=w;const y=l.grid&&h.grid&&h.grid.rows>1;c.length<m+w?hl("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&h.grid.fill==="row"&&hl("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let E=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(V=>V.classList.contains(h.slideActiveClass))):E=r;const A=s==="next"||!s,B=s==="prev"||!s;let I=0,x=0;const R=y?Math.ceil(c.length/h.grid.rows):c.length,K=(y?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(K<w){I=Math.max(w-K,v);for(let V=0;V<w-K;V+=1){const ie=V-Math.floor(V/R)*R;if(y){const oe=R-ie-1;for(let ne=c.length-1;ne>=0;ne-=1)c[ne].column===oe&&g.push(ne)}else g.push(R-ie-1)}}else if(K+m>R-w){x=Math.max(K-(R-w*2),v);for(let V=0;V<x;V+=1){const ie=V-Math.floor(V/R)*R;y?c.forEach((oe,ne)=>{oe.column===ie&&S.push(ne)}):S.push(ie)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),B&&g.forEach(V=>{c[V].swiperLoopMoveDOM=!0,f.prepend(c[V]),c[V].swiperLoopMoveDOM=!1}),A&&S.forEach(V=>{c[V].swiperLoopMoveDOM=!0,f.append(c[V]),c[V].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():y&&(g.length>0&&B||S.length>0&&A)&&l.slides.forEach((V,ie)=>{l.grid.updateSlide(ie,V,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&B){if(typeof e>"u"){const V=l.slidesGrid[E],oe=l.slidesGrid[E+I]-V;a?l.setTranslate(l.translate-oe):(l.slideTo(E+Math.ceil(I),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-oe))}else if(i){const V=y?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+V,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&A)if(typeof e>"u"){const V=l.slidesGrid[E],oe=l.slidesGrid[E-x]-V;a?l.setTranslate(l.translate-oe):(l.slideTo(E-x,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-oe))}else{const V=y?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-V,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const V={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix({...V,slideTo:ie.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...V,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function GL(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var YL={loopCreate:qL,loopFix:KL,loopDestroy:GL};function JL(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function XL(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var QL={setGrabCursor:JL,unsetGrabCursor:XL};function ZL(t,e){e===void 0&&(e=this);function n(s){if(!s||s===Ti()||s===Vt())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function Sg(t,e,n){const s=Vt(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function e$(t){const e=this,n=Ti();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){Sg(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!rL(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?ZL(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!Sg(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=ni(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const v=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||v)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function t$(t){const e=Ti(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(E=>E.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=ni());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let E;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(E=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const v=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const w=n.params.loop&&!i.cssMode,y=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(w&&y&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&v!==n.touchesDirection&&w&&y&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let g=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(w&&y&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**S))):p<0&&(w&&y&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function n$(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(E=>E.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=ni(),f=d-n.touchStartTime;if(e.allowClick){const E=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(E&&E[0]||s.target,E),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=ni(),md(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,v=e.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<o.slidesPerGroupSkip?1:o.slidesPerGroup){const A=E<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[E+A]<"u"?(p||h>=c[E]&&h<c[E+A])&&(m=E,v=c[E+A]-c[E]):(p||h>=c[E])&&(m=E,v=c[c.length-1]-c[c.length-2])}let w=null,y=null;o.rewind&&(e.isBeginning?y=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(h-c[m])/v,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):y!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(y):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+S),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:m))}}function Eg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function s$(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function i$(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function r$(t){const e=this;Sa(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function o$(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const zb=(t,e)=>{const n=Ti(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Eg,!0):t[c]("observerUpdate",Eg,!0),i[l]("load",t.onLoad,{capture:!0}))};function a$(){const t=this,{params:e}=t;t.onTouchStart=e$.bind(t),t.onTouchMove=t$.bind(t),t.onTouchEnd=n$.bind(t),t.onDocumentTouchStart=o$.bind(t),e.cssMode&&(t.onScroll=i$.bind(t)),t.onClick=s$.bind(t),t.onLoad=r$.bind(t),zb(t,"on")}function l$(){zb(this,"off")}var c$={attachEvents:a$,detachEvents:l$};const Tg=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function u$(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=Ti(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=Tg(t,s),h=Tg(t,d),p=t.params.grabCursor,m=d.grabCursor,v=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof d[A]>"u")return;const B=s[A]&&s[A].enabled,I=d[A]&&d[A].enabled;B&&!I&&t[A].disable(),!B&&I&&t[A].enable()});const w=d.direction&&d.direction!==s.direction,y=s.loop&&(d.slidesPerView!==s.slidesPerView||w),g=s.loop;w&&n&&t.changeDirection(),Lt(t.params,d);const S=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),v&&!S?t.disable():!v&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(y?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&E?(t.loopCreate(e),t.updateSlides()):g&&!E&&t.loopDestroy()),t.emit("breakpoint",d)}function d$(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=Vt(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var f$={setBreakpoint:u$,getBreakpoint:d$};function h$(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function p$(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=h$(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function m$(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var g$={addClasses:p$,removeClasses:m$};function v$(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var y$={checkOverflow:v$},yd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function _$(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){Lt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Lt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Lt(e,s)}}const uu={eventsEmitter:gL,update:IL,translate:NL,transition:$L,slide:WL,loop:YL,grabCursor:QL,events:c$,breakpoints:f$,checkOverflow:y$,classes:g$},du={};let Sh=class Ln{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Lt({},n),e&&!n.el&&(n.el=e);const o=Ti();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Lt({},n,{el:d});u.push(new Ln(f))}),u}const a=this;a.__swiper__=!0,a.support=jb(),a.device=Vb({userAgent:n.userAgent}),a.browser=hL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:_$(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Lt({},yd,l);return a.params=Lt({},c,du,n),a.originalParams=Lt({},a.params),a.passedParams=Lt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=bn(n,`.${s.slideClass}, swiper-slide`),r=ml(i[0]);return ml(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=bn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Sa(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):bn(s,i())[0];return!o&&n.params.createElements&&(o=pl("div",n.params.wrapperClass),s.append(o),bn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||bs(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||bs(s,"direction")==="rtl"),wrongRTL:bs(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?Sa(n,r):r.addEventListener("load",o=>{Sa(n,o.target)})}),vd(n),n.initialized=!0,vd(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),eL(s)),s.destroyed=!0),null}static extendDefaults(e){Lt(du,e)}static get extendedDefaults(){return du}static get defaults(){return yd}static installModule(e){Ln.prototype.__modules__||(Ln.prototype.__modules__=[]);const n=Ln.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ln.installModule(n)),Ln):(Ln.installModule(e),Ln)}};Object.keys(uu).forEach(t=>{Object.keys(uu[t]).forEach(e=>{Sh.prototype[e]=uu[t][e]})});Sh.use([pL,mL]);const Wb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Wi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:gi(e[s])&&gi(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Wi(t[s],e[s]):t[s]=e[s]})}function qb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Kb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Gb(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Yb(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function w$(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function b$(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let v,w,y,g,S,E,A,B;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(y=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const I=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),u[x].prevEl=void 0,u[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),u[x].el=void 0,e[x].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?E=!0:!u.loop&&s.loop?A=!0:B=!0),c.forEach(x=>{if(gi(u[x])&&gi(s[x]))Object.assign(u[x],s[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in s[x]&&!s[x].enabled&&I(x);else{const R=s[x];(R===!0||R===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?R===!1&&I(x):u[x]=s[x]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(B=!0),v&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(E||B)&&e.loopDestroy(),(A||B)&&e.loopCreate(),e.update()}function Cg(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};Wi(n,yd),n._emitClasses=!0,n.init=!1;const r={},o=Wb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?gi(t[l])?(n[l]={},i[l]={},Wi(n[l],t[l]),Wi(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function S$(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;qb(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Kb(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Gb(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function E$(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return Wb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(gi(t[l])&&gi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const T$=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function fu(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function C$(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return be(u.type,{...u.props},u.children);if(u.componentOptions)return be(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const uc={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=M("swiper"),a=M(null),l=M(!1),c=M(!1),u=M(null),d=M(null),f=M(null),h={value:[]},p={value:[]},m=M(null),v=M(null),w=M(null),y=M(null),{params:g,passedParams:S}=Cg(t);fu(n,h,p),f.value=S,p.value=h.value;const E=()=>{fu(n,h,p),l.value=!0};g.onAny=function(I){for(var x=arguments.length,R=new Array(x>1?x-1:0),D=1;D<x;D++)R[D-1]=arguments[D];s(I,...R)},Object.assign(g.on,{_beforeBreakpoint:E,_containerClasses(I,x){o.value=x}});const A={...g};if(delete A.wrapperClass,d.value=new Sh(A),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const I={cache:!1,slides:h.value,renderExternal:x=>{a.value=x},renderExternalUpdate:!1};Wi(d.value.params.virtual,I),Wi(d.value.originalParams.virtual,I)}Hd(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:I}=Cg(t),x=E$(I,f.value,h.value,p.value,R=>R.props&&R.props.key);f.value=I,(x.length||l.value)&&d.value&&!d.value.destroyed&&b$({swiper:d.value,slides:h.value,passedParams:I,changedParams:x,nextEl:m.value,prevEl:v.value,scrollbarEl:y.value,paginationEl:w.value}),l.value=!1}),ut("swiper",d),Ye(a,()=>{_i(()=>{T$(d.value)})}),Ce(()=>{u.value&&(S$({el:u.value,nextEl:m.value,prevEl:v.value,paginationEl:w.value,scrollbarEl:y.value,swiper:d.value},g),s("swiper",d.value))}),zd(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function B(I){return g.virtual?C$(d,I,a.value):(I.forEach((x,R)=>{x.props||(x.props={}),x.props.swiperRef=d,x.props.swiperSlideIndex=R}),I)}return()=>{const{slides:I,slots:x}=fu(n,h,p);return be(i,{ref:u,class:Yb(o.value)},[x["container-start"],be(r,{class:w$(g.wrapperClass)},[x["wrapper-start"],B(I),x["wrapper-end"]]),qb(t)&&[be("div",{ref:v,class:"swiper-button-prev"}),be("div",{ref:m,class:"swiper-button-next"})],Gb(t)&&be("div",{ref:y,class:"swiper-scrollbar"}),Kb(t)&&be("div",{ref:w,class:"swiper-pagination"}),x["container-end"]])}}},dc={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=M(null),o=M("swiper-slide"),a=M(!1);function l(d,f,h){f===r.value&&(o.value=h)}Ce(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Vd(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Hd(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),zd(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=W(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));ut("swiperSlide",c);const u=()=>{a.value=!0};return()=>be(t.tag,{class:Yb(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?be("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&be("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&be("div",{class:"swiper-lazy-preloader"})])}},x$={class:"relative"},I$=["src","alt"],k$={class:"text-xs mb-1"},P$={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(k(),U("div",x$,[O(C(Ml),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:z(()=>[_("div",{class:Ee(["mb-1 image bg-contain",t.size])},[_("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,I$)],2),_("h3",k$,te(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},_d={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[bh];return(n,s)=>(k(),Q(C(uc),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:z(()=>[(k(!0),U(Ie,null,is(t.films,i=>(k(),Q(C(dc),{key:i.kinopoiskId?i.kinopoiskId:i.filmId,class:"flex-1"},{default:z(()=>[O(P$,{film:i.item?i.item:i},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},A$="/arrow.svg",gr={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,s)=>(k(),U("div",{class:"fixed bottom-20 right-7 inline-block p-2 rounded-md z-50 mb-1 cursor-pointer bg-gray-600 bg-opacity-50 backdrop-blur-sm",onClick:e},s[0]||(s[0]=[_("img",{src:A$,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},R$={class:"flex justify-between mb-3 pt-0.5"},O$={class:"text-lg font-semibold"},sn={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(k(),U("div",R$,[_("h2",O$,te(t.title),1),t.showAll?(k(),Q(C(Ml),{key:0,to:{name:t.link},class:"text-orange-600 font-semibold flex gap-1.5 pt-1"},{default:z(()=>n[0]||(n[0]=[_("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):Pe("",!0)]))}},N$={class:"w-20 h-24 rounded-sm flex items-center overflow-hidden mb-1"},M$=["src","alt"],D$={class:"text-xs mb-1"},L$={key:0,class:"text-xs mb-1 text-gray-500"},$$={key:1,class:"text-xs mb-1 text-gray-500"},F$={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>{const s=Yt("RouterLink");return k(),U("div",null,[O(s,{to:{name:"staff",params:{id:t.staffItem.staffId}}},{default:z(()=>[_("div",N$,[_("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,M$)])]),_:1},8,["to"]),_("h3",D$,te(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(k(),U("h3",L$,"Режиссер")):Pe("",!0),t.staffItem.description?(k(),U("h3",$$,te(t.staffItem.description),1)):Pe("",!0)])}}},B$={__name:"StaffList",props:{staffList:Array},setup(t){const e=[bh];return(n,s)=>(k(),Q(C(uc),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":4},{default:z(()=>[(k(!0),U(Ie,null,is(t.staffList.slice(0,20),i=>(k(),Q(C(dc),{key:i.staffId,class:"flex-1"},{default:z(()=>[O(F$,{staffItem:i},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},fc=Ro("favoritesStore",()=>{const t=M([]),e=os(),n=Ut(),s=M(!0);return{favorites:t,getFavorites:()=>{s.value=!0,Tn(n,a=>{if(a){const l=nw(Ke(e,`users/${a.uid}/favorites`),tw("date"));Jn(l,c=>{const u=[];c.forEach(d=>{u.push(d.val())}),t.value=u.reverse(),s.value=!1},c=>{console.log(c)})}else console.log("User logged out")})},addToFavorites:(a,l)=>{const c=new Date().getTime();a.isFavorite=!0,Ei(Ke(e,"users/"+n.currentUser.uid+"/favorites/"+l),{nameRu:a.nameRu?a.nameRu:a.nameOriginal,genres:a.genres,year:a.year,posterUrl:a.posterUrl,id:+l,isFavorite:!0,isWatched:!1,date:c}).then(()=>console.log("Добавлено")).catch(u=>console.log(u))},removeFromFavorites:(a,l)=>{a&&(a.isFavorite=!1),tl(Ke(e,"users/"+n.currentUser.uid+"/favorites/"+l)).then(()=>console.log("Удалено")).catch(c=>console.log(c))},loader:s}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const U$=t=>typeof t<"u";function j$(t){return JSON.parse(JSON.stringify(t))}function V$(t,e,n,s={}){var i,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=s,h=An(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const v=g=>a?typeof a=="function"?a(g):j$(g):g,w=()=>U$(t[e])?v(t[e]):d,y=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=w(),S=M(g);let E=!1;return Ye(()=>t[e],A=>{E||(E=!0,S.value=v(A),_i(()=>E=!1))}),Ye(S,A=>{!E&&(A!==t[e]||u)&&y(A)},{deep:u}),S}else return W({get(){return w()},set(g){y(g)}})}const H$=t=>(_S("data-v-8a63990a"),t=t(),wS(),t),z$=H$(()=>_("div",{class:"swipe-modal-drag-handle"},null,-1)),W$=Se({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){EE(I=>({ef0a5750:C(a)}));const n=t,s=e,i=M(null),r=M(null),o=V$(n,"modelValue",s),a=M("-100%"),l=M(!1),c=M(0),u=M(0),d=M("close"),f=W(()=>{var I;return n.snapPoint?n.snapPoint==="auto"?`calc(${((I=r.value)==null?void 0:I.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:I,touchEvent:x,eventType:R})=>{R==="mouse"?c.value=I.y:c.value=x.touches[0].clientY,l.value=!0},p=({mouseEvent:I,touchEvent:x,eventType:R})=>{var D,K;if(l.value&&(R==="mouse"?u.value=c.value-I.y:u.value=c.value-x.touches[0].clientY,!(u.value>0&&d.value==="full"||(((D=i.value)==null?void 0:D.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(K=i.value)==null||K.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var I;if(l.value=!1,(I=i.value)==null||I.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?w():n.isPersistent?v():o.value=!1;case"snap":return n.isPersistent?v():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?y():v();default:return}}return v()},v=()=>{if(!i.value)return;const I=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";i.value.animate([{bottom:a.value},{bottom:I()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=I()}},w=()=>{i.value&&n.snapPoint&&(i.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},y=()=>{i.value&&(i.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=I=>{if(n.isBackdrop&&I.target===I.currentTarget){if(n.isPersistent)return v();o.value=!1}},S=I=>{I.stopPropagation()},E=()=>{var I;i.value&&(n.isBackdrop?i.value.showModal():i.value.show(),(I=i.value)==null||I.style.setProperty("visibility","visible"),i.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&B("hidden")})},A=()=>{i.value&&(i.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var I,x,R;a.value="-100%",d.value="close",l.value=!1,(I=i.value)==null||I.close(),(x=i.value)==null||x.style.setProperty("display","initial"),(R=i.value)==null||R.style.setProperty("visibility","hidden"),B("reset")})},B=I=>{if(I==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let x=window,R,D,K;document.defaultView?(x=document.defaultView,R=x.scrollX,D=x.scrollY):(K=document.documentElement,R=K.scrollLeft,D=K.scrollTop),document.documentElement.style.overflow=I,document.documentElement.style.overscrollBehaviorY=I==="auto"?"auto":"none",x.scrollTo(R,D)};return Ye(()=>o.value,I=>{I?E():A()}),Ye(()=>n.isScrollLock,I=>{B(I?"hidden":"auto")}),Ce(()=>{i.value&&(o.value||(i.value.style.setProperty("display","initial"),i.value.style.setProperty("visibility","hidden")))}),(I,x)=>(k(),U("dialog",{ref_key:"modalRef",ref:i,class:"swipe-modal modal-style",onClick:g},[_("div",{tabindex:"-1",class:"swipe-modal-content",onClick:S},[_("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:x[0]||(x[0]=R=>h({mouseEvent:R,eventType:"mouse"})),onMousemove:x[1]||(x[1]=R=>p({mouseEvent:R,eventType:"mouse"})),onMouseup:m,onTouchstart:x[2]||(x[2]=R=>h({touchEvent:R,eventType:"touch"})),onTouchmove:x[3]||(x[3]=R=>p({touchEvent:R,eventType:"touch"})),onTouchend:m},[I.isDragHandle?et(I.$slots,"drag-handle",{key:0},()=>[z$],!0):Pe("",!0)],32),_("div",{ref_key:"panelRef",ref:r,class:"panel"},[et(I.$slots,"default",{},void 0,!0)],512)])],512))}}),q$=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Jb=q$(W$,[["__scopeId","data-v-8a63990a"]]),K$={class:"px-2 pb-8 text-sm text-white"},G$=Se({__name:"Swiper",props:{openText:{type:String,required:!0},description:{type:String,required:!1},openTextStyle:{type:String,required:!1,default:"text-sm"}},setup(t){const e=M(!1);return(n,s)=>(k(),U(Ie,null,[_("p",{class:Ee(["text-orange-600 text-end",t.openTextStyle]),onClick:s[0]||(s[0]=i=>e.value=!0)},te(t.openText),3),O(C(Jb),{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=i=>e.value=i),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1},{default:z(()=>[_("div",K$,te(t.description),1)]),_:1},8,["modelValue"])],64))}}),vr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Xb=vr(G$,[["__scopeId","data-v-c4ee9b02"]]);function Eh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function zo(){let t=[],e={addEventListener(n,s,i,r){return n.addEventListener(s,i,r),e.add(()=>n.removeEventListener(s,i,r))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let s=setTimeout(...n);e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return Eh(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let r=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:r})})},group(n){let s=zo();return n(s),this.add(()=>s.dispose())},add(n){return t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}var xg;let Y$=Symbol("headlessui.useid"),J$=0;const hc=(xg=ES)!=null?xg:function(){return Fe(Y$,()=>`${++J$}`)()};function Xe(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function Pn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Pn),s}var X$=Object.defineProperty,Q$=(t,e,n)=>e in t?X$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ig=(t,e,n)=>(Q$(t,typeof e!="symbol"?e+"":e,n),n);let Z$=class{constructor(){Ig(this,"current",this.detect()),Ig(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Wo=new Z$;function yr(t){if(Wo.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Xe(t);if(e)return e.ownerDocument}return document}let wd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var _s=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(_s||{}),Qb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Qb||{}),eF=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(eF||{});function tF(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(wd)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Zb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Zb||{});function nF(t,e=0){var n;return t===((n=yr(t))==null?void 0:n.body)?!1:Pn(e,{0(){return t.matches(wd)},1(){let s=t;for(;s!==null;){if(s.matches(wd))return!0;s=s.parentElement}return!1}})}var sF=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(sF||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function si(t){t==null||t.focus({preventScroll:!0})}let iF=["textarea","input"].join(",");function rF(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,iF))!=null?n:!1}function oF(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),r=e(s);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ea(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?oF(t):t:tF(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),s=s??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&rF(h)&&h.select(),2}function e0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function aF(){return/Android/gi.test(window.navigator.userAgent)}function lF(){return e0()||aF()}function sa(t,e,n){Wo.isServer||Jt(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function t0(t,e,n){Wo.isServer||Jt(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}function cF(t,e,n=W(()=>!0)){function s(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Xe(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!nF(a,Zb.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let i=M(null);sa("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),sa("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),sa("click",r=>{lF()||i.value&&(s(r,()=>i.value),i.value=null)},!0),sa("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),t0("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var gl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(gl||{}),Ss=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ss||{});function Nn({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=s0(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return hu(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return Pn(l,{0(){return null},1(){return hu({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return hu(a)}function hu({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...l}=i0(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),u={};if(s){let d=!1,f=[];for(let[h,p]of Object.entries(s))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=n0(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!uF(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,v,w)=>w.indexOf(m)===v).sort((m,v)=>m.localeCompare(v)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=s0((o=d.props)!=null?o:{},l,u),p=Is(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return be(a,Object.assign({},l,u),{default:()=>c})}function n0(t){return t.flatMap(e=>e.type===Ie?n0(e.children):[e])}function s0(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function i0(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function uF(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var vl=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(vl||{});let bd=Se({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var s;let{features:i,...r}=t,o={"aria-hidden":(i&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Nn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),r0=Symbol("Context");var $t=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))($t||{});function dF(){return Th()!==null}function Th(){return Fe(r0,null)}function fF(t){ut(r0,t)}var o0=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(o0||{});function hF(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let qs=[];hF(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&qs[0]!==e.target&&(qs.unshift(e.target),qs=qs.filter(n=>n!=null&&n.isConnected),qs.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function a0(t,e,n,s){Wo.isServer||Jt(i=>{t=t??window,t.addEventListener(e,n,s),i(()=>t.removeEventListener(e,n,s))})}var Br=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Br||{});function pF(){let t=M(0);return t0("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function l0(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let s=Xe(n);s instanceof HTMLElement&&e.add(s)}return e}var c0=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(c0||{});let Nr=Object.assign(Se({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:M(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let i=M(null);s({el:i,$el:i});let r=W(()=>yr(i)),o=M(!1);Ce(()=>o.value=!0),_t(()=>o.value=!1),gF({ownerDocument:r},W(()=>o.value&&!!(t.features&16)));let a=vF({ownerDocument:r,container:i,initialFocus:W(()=>t.initialFocus)},W(()=>o.value&&!!(t.features&2)));yF({ownerDocument:r,container:i,containers:t.containers,previousActiveElement:a},W(()=>o.value&&!!(t.features&8)));let l=pF();function c(h){let p=Xe(i);p&&(m=>m())(()=>{Pn(l.value,{[Br.Forwards]:()=>{Ea(p,_s.First,{skipElements:[h.relatedTarget]})},[Br.Backwards]:()=>{Ea(p,_s.Last,{skipElements:[h.relatedTarget]})}})})}let u=M(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=l0(t.containers);Xe(i)instanceof HTMLElement&&p.add(Xe(i));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(u0(p,m)||(u.value?Ea(Xe(i),Pn(l.value,{[Br.Forwards]:()=>_s.Next,[Br.Backwards]:()=>_s.Previous})|_s.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&si(h.target)))}return()=>{let h={},p={ref:i,onKeydown:d,onFocusout:f},{features:m,initialFocus:v,containers:w,...y}=t;return be(Ie,[!!(m&4)&&be(bd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:vl.Focusable}),Nn({ourProps:p,theirProps:{...e,...y},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&be(bd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:vl.Focusable})])}}}),{features:c0});function mF(t){let e=M(qs.slice());return Ye([t],([n],[s])=>{s===!0&&n===!1?Eh(()=>{e.value.splice(0)}):s===!1&&n===!0&&(e.value=qs.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(s=>s!=null&&s.isConnected))!=null?n:null}}function gF({ownerDocument:t},e){let n=mF(e);Ce(()=>{Jt(()=>{var s,i;e.value||((s=t.value)==null?void 0:s.activeElement)===((i=t.value)==null?void 0:i.body)&&si(n())},{flush:"post"})}),_t(()=>{e.value&&si(n())})}function vF({ownerDocument:t,container:e,initialFocus:n},s){let i=M(null),r=M(!1);return Ce(()=>r.value=!0),_t(()=>r.value=!1),Ce(()=>{Ye([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=Xe(e);l&&Eh(()=>{var c,u;if(!r.value)return;let d=Xe(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?si(d):Ea(l,_s.First|_s.NoScroll)===Qb.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),i}function yF({ownerDocument:t,container:e,containers:n,previousActiveElement:s},i){var r;a0((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!i.value)return;let a=l0(n);Xe(e)instanceof HTMLElement&&a.add(Xe(e));let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?u0(a,c)?(s.value=c,si(c)):(o.preventDefault(),o.stopPropagation(),si(l)):si(s.value)},!0)}function u0(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function _F(t){let e=Bd(t.getSnapshot());return _t(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function wF(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...r){let o=e[i].call(n,...r);o&&(n=o,s.forEach(a=>a()))}}}function bF(){let t;return{before({doc:e}){var n;let s=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:e,d:n}){let s=e.documentElement,i=s.clientWidth-s.offsetWidth,r=t-i;n.style(s,"paddingRight",`${r}px`)}}}function SF(){return e0()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=zo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!s(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let l=a.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(s(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function EF(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function TF(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Js=wF(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:zo(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:TF(n)},i=[SF(),bF(),EF()];i.forEach(({before:r})=>r==null?void 0:r(s)),i.forEach(({after:r})=>r==null?void 0:r(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Js.subscribe(()=>{let t=Js.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&Js.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Js.dispatch("TEARDOWN",n)}});function CF(t,e,n){let s=_F(Js),i=W(()=>{let r=t.value?s.value.get(t.value):void 0;return r?r.count>0:!1});return Ye([t,e],([r,o],[a],l)=>{if(!r||!o)return;Js.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(Js.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),i}let pu=new Map,Mr=new Map;function kg(t,e=M(!0)){Jt(n=>{var s;if(!e.value)return;let i=Xe(t);if(!i)return;n(function(){var o;if(!i)return;let a=(o=Mr.get(i))!=null?o:1;if(a===1?Mr.delete(i):Mr.set(i,a-1),a!==1)return;let l=pu.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,pu.delete(i))});let r=(s=Mr.get(i))!=null?s:0;Mr.set(i,r+1),r===0&&(pu.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function xF({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let s=M(null),i=yr(s);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(Xe(s))||u.contains((l=(a=Xe(s))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:s,MainTreeNode(){return n!=null?null:be(bd,{features:vl.Hidden,ref:s})}}}let d0=Symbol("ForcePortalRootContext");function IF(){return Fe(d0,!1)}let Pg=Se({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return ut(d0,t.force),()=>{let{force:s,...i}=t;return Nn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),f0=Symbol("StackContext");var Sd=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Sd||{});function kF(){return Fe(f0,()=>{})}function PF({type:t,enabled:e,element:n,onUpdate:s}){let i=kF();function r(...o){s==null||s(...o),i(...o)}Ce(()=>{Ye(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),_t(()=>{e.value&&r(1,t,n)}),ut(f0,r)}let AF=Symbol("DescriptionContext");function RF({slot:t=M({}),name:e="Description",props:n={}}={}){let s=M([]);function i(r){return s.value.push(r),()=>{let o=s.value.indexOf(r);o!==-1&&s.value.splice(o,1)}}return ut(AF,{register:i,slot:t,name:e,props:n}),W(()=>s.value.length>0?s.value.join(" "):void 0)}function OF(t){let e=yr(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}const Ed=new WeakMap;function NF(t){var e;return(e=Ed.get(t))!=null?e:0}function Ag(t,e){let n=e(NF(t));return n<=0?Ed.delete(t):Ed.set(t,n),n}let MF=Se({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=M(null),i=W(()=>yr(s)),r=IF(),o=Fe(h0,null),a=M(r===!0||o==null?OF(s.value):o.resolveTarget());a.value&&Ag(a.value,f=>f+1);let l=M(!1);Ce(()=>{l.value=!0}),Jt(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=Fe(Td,null),u=!1,d=An();return Ye(s,()=>{if(u||!c)return;let f=Xe(s);f&&(_t(c.register(f),d),u=!0)}),_t(()=>{var f,h;let p=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||Ag(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return be(_v,{to:a.value},Nn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Td=Symbol("PortalParentContext");function DF(){let t=Fe(Td,null),e=M([]);function n(r){return e.value.push(r),t&&t.register(r),()=>s(r)}function s(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let i={register:n,unregister:s,portals:e};return[e,Se({name:"PortalWrapper",setup(r,{slots:o}){return ut(Td,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let h0=Symbol("PortalGroupContext"),LF=Se({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=yi({resolveTarget(){return t.target}});return ut(h0,s),()=>{let{target:i,...r}=t;return Nn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var $F=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))($F||{});let Cd=Symbol("DialogContext");function Ch(t){let e=Fe(Cd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ch),n}return e}let ia="DC8F892D-2EBD-447C-A4C8-A03058436FF4",qo=Se({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:ia},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${hc()}`,l=M(!1);Ce(()=>{l.value=!0});let c=!1,u=W(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=M(0),f=Th(),h=W(()=>t.open===ia&&f!==null?(f.value&$t.Open)===$t.Open:t.open),p=M(null),m=W(()=>yr(p));if(i({el:p,$el:p}),!(t.open!==ia||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===ia?void 0:t.open}`);let v=W(()=>l.value&&h.value?0:1),w=W(()=>v.value===0),y=W(()=>d.value>1),g=Fe(Cd,null)!==null,[S,E]=DF(),{resolveContainers:A,mainTreeNodeRef:B,MainTreeNode:I}=xF({portals:S,defaultContainers:[W(()=>{var ge;return(ge=re.panelRef.value)!=null?ge:p.value})]}),x=W(()=>y.value?"parent":"leaf"),R=W(()=>f!==null?(f.value&$t.Closing)===$t.Closing:!1),D=W(()=>g||R.value?!1:w.value),K=W(()=>{var ge,ve,Qe;return(Qe=Array.from((ve=(ge=m.value)==null?void 0:ge.querySelectorAll("body > *"))!=null?ve:[]).find(Ze=>Ze.id==="headlessui-portal-root"?!1:Ze.contains(Xe(B))&&Ze instanceof HTMLElement))!=null?Qe:null});kg(K,D);let V=W(()=>y.value?!0:w.value),ie=W(()=>{var ge,ve,Qe;return(Qe=Array.from((ve=(ge=m.value)==null?void 0:ge.querySelectorAll("[data-headlessui-portal]"))!=null?ve:[]).find(Ze=>Ze.contains(Xe(B))&&Ze instanceof HTMLElement))!=null?Qe:null});kg(ie,V),PF({type:"Dialog",enabled:W(()=>v.value===0),element:p,onUpdate:(ge,ve)=>{if(ve==="Dialog")return Pn(ge,{[Sd.Add]:()=>d.value+=1,[Sd.Remove]:()=>d.value-=1})}});let oe=RF({name:"DialogDescription",slot:W(()=>({open:h.value}))}),ne=M(null),re={titleId:ne,panelRef:M(null),dialogState:v,setTitleId(ge){ne.value!==ge&&(ne.value=ge)},close(){e("close",!1)}};ut(Cd,re);let me=W(()=>!(!w.value||y.value));cF(A,(ge,ve)=>{ge.preventDefault(),re.close(),_i(()=>ve==null?void 0:ve.focus())},me);let dt=W(()=>!(y.value||v.value!==0));a0((o=m.value)==null?void 0:o.defaultView,"keydown",ge=>{dt.value&&(ge.defaultPrevented||ge.key===o0.Escape&&(ge.preventDefault(),ge.stopPropagation(),re.close()))});let It=W(()=>!(R.value||v.value!==0||g));return CF(m,It,ge=>{var ve;return{containers:[...(ve=ge.containers)!=null?ve:[],A]}}),Jt(ge=>{if(v.value!==0)return;let ve=Xe(p);if(!ve)return;let Qe=new ResizeObserver(Ze=>{for(let ls of Ze){let ft=ls.target.getBoundingClientRect();ft.x===0&&ft.y===0&&ft.width===0&&ft.height===0&&re.close()}});Qe.observe(ve),ge(()=>Qe.disconnect())}),()=>{let{open:ge,initialFocus:ve,...Qe}=t,Ze={...n,ref:p,id:a,role:u.value,"aria-modal":v.value===0?!0:void 0,"aria-labelledby":ne.value,"aria-describedby":oe.value},ls={open:v.value===0};return be(Pg,{force:!0},()=>[be(MF,()=>be(LF,{target:p.value},()=>be(Pg,{force:!1},()=>be(Nr,{initialFocus:ve,containers:A,features:w.value?Pn(x.value,{parent:Nr.features.RestoreFocus,leaf:Nr.features.All&~Nr.features.FocusLock}):Nr.features.None},()=>be(E,{},()=>Nn({ourProps:Ze,theirProps:{...Qe,...n},slot:ls,attrs:n,slots:s,visible:v.value===0,features:gl.RenderStrategy|gl.Static,name:"Dialog"})))))),be(I)])}}}),sr=Se({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:s}){var i;let r=(i=t.id)!=null?i:`headlessui-dialog-panel-${hc()}`,o=Ch("DialogPanel");s({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return Nn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),vi=Se({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-title-${hc()}`,r=Ch("DialogTitle");return Ce(()=>{r.setTitleId(i),_t(()=>r.setTitleId(null))}),()=>{let{...o}=t;return Nn({ourProps:{id:i},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function FF(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function mu(t,...e){t&&e.length>0&&t.classList.add(...e)}function ra(t,...e){t&&e.length>0&&t.classList.remove(...e)}var xd=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(xd||{});function BF(t,e){let n=zo();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:i}=getComputedStyle(t),[r,o]=[s,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function Rg(t,e,n,s,i,r){let o=zo(),a=r!==void 0?FF(r):()=>{};return ra(t,...i),mu(t,...e,...n),o.nextFrame(()=>{ra(t,...n),mu(t,...s),o.add(BF(t,l=>(ra(t,...s,...e),mu(t,...i),a(l))))}),o.add(()=>ra(t,...e,...n,...s,...i)),o.add(()=>a("cancelled")),o.dispose}function Vs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let xh=Symbol("TransitionContext");var UF=(t=>(t.Visible="visible",t.Hidden="hidden",t))(UF||{});function jF(){return Fe(xh,null)!==null}function VF(){let t=Fe(xh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function HF(){let t=Fe(Ih,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let Ih=Symbol("NestingContext");function pc(t){return"children"in t?pc(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function p0(t){let e=M([]),n=M(!1);Ce(()=>n.value=!0),_t(()=>n.value=!1);function s(r,o=Ss.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(Pn(o,{[Ss.Unmount](){e.value.splice(a,1)},[Ss.Hidden](){e.value[a].state="hidden"}}),!pc(e)&&n.value&&(t==null||t()))}function i(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>s(r,Ss.Unmount)}return{children:e,register:i,unregister:s}}let m0=gl.RenderStrategy,cn=Se({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){let r=M(0);function o(){r.value|=$t.Opening,e("beforeEnter")}function a(){r.value&=~$t.Opening,e("afterEnter")}function l(){r.value|=$t.Closing,e("beforeLeave")}function c(){r.value&=~$t.Closing,e("afterLeave")}if(!jF()&&dF())return()=>be(_r,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},s);let u=M(null),d=W(()=>t.unmount?Ss.Unmount:Ss.Hidden);i({el:u,$el:u});let{show:f,appear:h}=VF(),{register:p,unregister:m}=HF(),v=M(f.value?"visible":"hidden"),w={value:!0},y=hc(),g={value:!1},S=p0(()=>{!g.value&&v.value!=="hidden"&&(v.value="hidden",m(y),c())});Ce(()=>{let V=p(y);_t(V)}),Jt(()=>{if(d.value===Ss.Hidden&&y){if(f.value&&v.value!=="visible"){v.value="visible";return}Pn(v.value,{hidden:()=>m(y),visible:()=>p(y)})}});let E=Vs(t.enter),A=Vs(t.enterFrom),B=Vs(t.enterTo),I=Vs(t.entered),x=Vs(t.leave),R=Vs(t.leaveFrom),D=Vs(t.leaveTo);Ce(()=>{Jt(()=>{if(v.value==="visible"){let V=Xe(u);if(V instanceof Comment&&V.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function K(V){let ie=w.value&&!h.value,oe=Xe(u);!oe||!(oe instanceof HTMLElement)||ie||(g.value=!0,f.value&&o(),f.value||l(),V(f.value?Rg(oe,E,A,B,I,ne=>{g.value=!1,ne===xd.Finished&&a()}):Rg(oe,x,R,D,I,ne=>{g.value=!1,ne===xd.Finished&&(pc(S)||(v.value="hidden",m(y),c()))})))}return Ce(()=>{Ye([f],(V,ie,oe)=>{K(oe),w.value=!1},{immediate:!0})}),ut(Ih,S),fF(W(()=>Pn(v.value,{visible:$t.Open,hidden:$t.Closed})|r.value)),()=>{let{appear:V,show:ie,enter:oe,enterFrom:ne,enterTo:re,entered:me,leave:dt,leaveFrom:It,leaveTo:ge,...ve}=t,Qe={ref:u},Ze={...ve,...h.value&&f.value&&Wo.isServer?{class:Ee([n.class,ve.class,...E,...A])}:{}};return Nn({theirProps:Ze,ourProps:Qe,slot:{},slots:s,attrs:n,features:m0,visible:v.value==="visible",name:"TransitionChild"})}}}),zF=cn,_r=Se({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let i=Th(),r=W(()=>t.show===null&&i!==null?(i.value&$t.Open)===$t.Open:t.show);Jt(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=M(r.value?"visible":"hidden"),a=p0(()=>{o.value="hidden"}),l=M(!0),c={show:r,appear:W(()=>t.appear||!l.value)};return Ce(()=>{Jt(()=>{l.value=!1,r.value?o.value="visible":pc(a)||(o.value="hidden")})}),ut(Ih,a),ut(xh,c),()=>{let u=i0(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return Nn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[be(zF,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},s.default)]},attrs:{},features:m0,visible:o.value==="visible",name:"Transition"})}}});function g0(t){return t?t.flatMap(e=>e.type===Ie?g0(e.children):[e]):[]}const Id=Se({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var l,c;if(!n.default)return null;const s=g0(n.default()),i=s.findIndex(u=>u.type!==In);if(i===-1)return s;const r=s[i];(l=r.props)==null||delete l.ref;const o=r.props?Qn(e,r.props):e;e.class&&((c=r.props)!=null&&c.class)&&delete r.props.class;const a=Is(r,o);for(const u in o)u.startsWith("on")&&(a.props||(a.props={}),a.props[u]=o[u]);return s.length===1?a:(s[i]=a,s)}}}),WF=["area","img","input"],Ko=Se({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const s=t.asChild?"template":t.as;return typeof s=="string"&&WF.includes(s)?()=>be(s,e):s!=="template"?()=>be(t.as,e,{default:n.default}):()=>be(Id,e,{default:n.default})}}),qF=Se({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>(k(),Q(C(Ko),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:z(()=>[et(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const KF=t=>typeof t<"u",GF=cv;function mc(t){var e;const n=cv(t);return(e=n==null?void 0:n.$el)!=null?e:n}function YF(){const t=Bd(!1),e=An();return e&&Ce(()=>{t.value=!0},e),t}function JF(t){return JSON.parse(JSON.stringify(t))}function XF(t,e,n,s={}){var i,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=s,h=An(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const v=g=>a?typeof a=="function"?a(g):JF(g):g,w=()=>KF(t[e])?v(t[e]):d,y=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=w(),S=M(g);let E=!1;return Ye(()=>t[e],A=>{E||(E=!0,S.value=v(A),_i(()=>E=!1))}),Ye(S,A=>{!E&&(A!==t[e]||u)&&y(A)},{deep:u}),S}else return W({get(){return w()},set(g){y(g)}})}function kh(t,e){const n=typeof t=="string"?`${t}Context`:e,s=Symbol(n);return[o=>{const a=Fe(s,o);if(a||a===null)return a;throw new Error(`Injection \`${s.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(ut(s,o),o)]}const[QF,dj]=kh("ConfigProvider");function ZF(t){const e=QF({dir:M("ltr")});return W(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function Ci(){const t=An(),e=M(),n=W(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:mc(e)}),s=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(s).length>0)for(const o in s)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>s[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function r(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:r,currentRef:e,currentElement:n}}function kd(){const t=M(),e=W(()=>{var n,s;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(s=t.value)==null?void 0:s.$el.nextElementSibling:mc(t)});return{primitiveElement:t,currentElement:e}}function e2(t){return W(()=>{var e;return GF(t)?!!((e=mc(t))!=null&&e.closest("form")):!0})}const Og="data-reka-collection-item";function Ph(t={}){const{key:e="",isProvider:n=!1}=t,s=`${e}CollectionProvider`;let i;if(n){const u=M(new Map);i={collectionRef:M(),itemMap:u},ut(s,i)}else i=Fe(s);const r=(u=!1)=>{const d=i.collectionRef.value;if(!d)return[];const f=Array.from(d.querySelectorAll(`[${Og}]`)),p=Array.from(i.itemMap.value.values()).sort((m,v)=>f.indexOf(m.ref)-f.indexOf(v.ref));return u?p:p.filter(m=>m.ref.dataset.disabled!=="")},o=Se({name:"CollectionSlot",setup(u,{slots:d}){const{primitiveElement:f,currentElement:h}=kd();return Ye(h,()=>{i.collectionRef.value=h.value}),()=>be(Id,{ref:f},d)}}),a=Se({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:d,attrs:f}){const{primitiveElement:h,currentElement:p}=kd();return Jt(m=>{if(p.value){const v=Io(p.value);i.itemMap.value.set(v,{ref:p.value,value:u.value}),m(()=>i.itemMap.value.delete(v))}}),()=>be(Id,{...f,[Og]:"",ref:h},d)}}),l=W(()=>Array.from(i.itemMap.value.values())),c=W(()=>i.itemMap.value.size);return{getItems:r,reactiveItems:l,itemMapSize:c,CollectionSlot:o,CollectionItem:a}}const Ng=Se({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:s}=kd(),i=W(()=>e.checked??e.value);return Ye(i,(r,o)=>{if(!s.value)return;const a=s.value,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(u&&r!==o){const d=new Event("input",{bubbles:!0}),f=new Event("change",{bubbles:!0});u.call(a,r),a.dispatchEvent(d),a.dispatchEvent(f)}}),(r,o)=>(k(),Q(qF,Qn({ref_key:"primitiveElement",ref:n},{...e,...r.$attrs},{as:"input"}),null,16))}}),t2=Se({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,n=W(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),s=W(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((i,r)=>typeof i=="object"?Object.entries(i).map(([o,a])=>({name:`[${e.name}][${r}][${o}]`,value:a})):{name:`[${e.name}][${r}]`,value:i}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([i,r])=>({name:`[${e.name}][${i}]`,value:r})):[]);return(i,r)=>n.value?(k(),Q(Ng,Qn({key:i.name},{...e,...i.$attrs},{name:i.name,value:i.value}),null,16,["name","value"])):(k(!0),U(Ie,{key:1},is(s.value,o=>(k(),Q(Ng,Qn({key:o.name,ref_for:!0},{...e,...i.$attrs},{name:o.name,value:o.value}),null,16,["name","value"]))),128))}});function n2(t){const e=M(),n=W(()=>{var i;return((i=e.value)==null?void 0:i.width)??0}),s=W(()=>{var i;return((i=e.value)==null?void 0:i.height)??0});return Ce(()=>{const i=mc(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=i.offsetWidth,c=i.offsetHeight;e.value={width:l,height:c}});return r.observe(i,{box:"border-box"}),()=>r.unobserve(i)}else e.value=void 0}),{width:n,height:s}}function v0(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function s2(t=[],e,n){const s=[...t];return s[n]=e,s.sort((i,r)=>i-r)}function y0(t,e,n){const r=100/(n-e)*(t-e);return v0(r,0,100)}function i2(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function r2(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),s=Math.min(...n);return n.indexOf(s)}function o2(t,e,n){const s=t/2,r=Ah([0,50],[0,s]);return(s-r(e)*n)*n}function a2(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function l2(t,e){if(e>0){const n=a2(t);return Math.min(...n)>=e}return!0}function Ah(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function c2(t){return(String(t).split(".")[1]||"").length}function u2(t,e){const n=10**e;return Math.round(t*n)/n}const _0=["PageUp","PageDown"],w0=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b0={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},[S0,E0]=kh(["SliderVertical","SliderHorizontal"]),T0=Se({__name:"SliderImpl",props:{asChild:{type:Boolean},as:{default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,s=e,i=wr();return(r,o)=>(k(),Q(C(Ko),Qn({"data-slider-impl":""},n,{onKeydown:o[0]||(o[0]=a=>{a.key==="Home"?(s("homeKeyDown",a),a.preventDefault()):a.key==="End"?(s("endKeyDown",a),a.preventDefault()):C(_0).concat(C(w0)).includes(a.key)&&(s("stepKeyDown",a),a.preventDefault())}),onPointerdown:o[1]||(o[1]=a=>{const l=a.target;l.setPointerCapture(a.pointerId),a.preventDefault(),C(i).thumbElements.value.includes(l)?l.focus():s("slideStart",a)}),onPointermove:o[2]||(o[2]=a=>{a.target.hasPointerCapture(a.pointerId)&&s("slideMove",a)}),onPointerup:o[3]||(o[3]=a=>{const l=a.target;l.hasPointerCapture(a.pointerId)&&(l.releasePointerCapture(a.pointerId),s("slideEnd",a))})}),{default:z(()=>[et(r.$slots,"default")]),_:3},16))}}),d2=Se({__name:"SliderHorizontal",props:{dir:{},min:{},max:{},inverted:{type:Boolean}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,s=e,{max:i,min:r,dir:o,inverted:a}=Cl(n),{forwardRef:l,currentElement:c}=Ci(),u=wr(),d=M(),f=M(),h=W(()=>(o==null?void 0:o.value)==="ltr"&&!a.value||(o==null?void 0:o.value)!=="ltr"&&a.value);function p(m,v){const w=f.value||c.value.getBoundingClientRect(),y=[...u.thumbElements.value][u.valueIndexToChangeRef.value],g=u.thumbAlignment.value==="contain"?y.clientWidth:0;!d.value&&!v&&u.thumbAlignment.value==="contain"&&(d.value=m.clientX-y.getBoundingClientRect().left);const S=[0,w.width-g],E=h.value?[r.value,i.value]:[i.value,r.value],A=Ah(S,E);f.value=w;const B=v?m.clientX-w.left-g/2:m.clientX-w.left-(d.value??0);return A(B)}return E0({startEdge:h.value?"left":"right",endEdge:h.value?"right":"left",direction:h.value?1:-1,size:"width"}),(m,v)=>(k(),Q(T0,{ref:C(l),dir:C(o),"data-orientation":"horizontal",style:Ns({"--reka-slider-thumb-transform":!h.value&&C(u).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:v[0]||(v[0]=w=>{const y=p(w,!0);s("slideStart",y)}),onSlideMove:v[1]||(v[1]=w=>{const y=p(w);s("slideMove",y)}),onSlideEnd:v[2]||(v[2]=()=>{f.value=void 0,d.value=void 0,s("slideEnd")}),onStepKeyDown:v[3]||(v[3]=w=>{const y=h.value?"from-left":"from-right",g=C(b0)[y].includes(w.key);s("stepKeyDown",w,g?-1:1)}),onEndKeyDown:v[4]||(v[4]=w=>s("endKeyDown",w)),onHomeKeyDown:v[5]||(v[5]=w=>s("homeKeyDown",w))},{default:z(()=>[et(m.$slots,"default")]),_:3},8,["dir","style"]))}}),f2=Se({__name:"SliderVertical",props:{min:{},max:{},inverted:{type:Boolean}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,s=e,{max:i,min:r,inverted:o}=Cl(n),a=wr(),{forwardRef:l,currentElement:c}=Ci(),u=M(),d=M(),f=W(()=>!o.value);function h(p,m){const v=d.value||c.value.getBoundingClientRect(),w=[...a.thumbElements.value][a.valueIndexToChangeRef.value],y=a.thumbAlignment.value==="contain"?w.clientHeight:0;!u.value&&!m&&a.thumbAlignment.value==="contain"&&(u.value=p.clientY-w.getBoundingClientRect().top);const g=[0,v.height-y],S=f.value?[i.value,r.value]:[r.value,i.value],E=Ah(g,S),A=m?p.clientY-v.top-y/2:p.clientY-v.top-(u.value??0);return d.value=v,E(A)}return E0({startEdge:f.value?"bottom":"top",endEdge:f.value?"top":"bottom",size:"height",direction:f.value?1:-1}),(p,m)=>(k(),Q(T0,{ref:C(l),"data-orientation":"vertical",style:Ns({"--reka-slider-thumb-transform":!f.value&&C(a).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:m[0]||(m[0]=v=>{const w=h(v,!0);s("slideStart",w)}),onSlideMove:m[1]||(m[1]=v=>{const w=h(v);s("slideMove",w)}),onSlideEnd:m[2]||(m[2]=()=>{d.value=void 0,u.value=void 0,s("slideEnd")}),onStepKeyDown:m[3]||(m[3]=v=>{const w=f.value?"from-bottom":"from-top",y=C(b0)[w].includes(v.key);s("stepKeyDown",v,y?-1:1)}),onEndKeyDown:m[4]||(m[4]=v=>s("endKeyDown",v)),onHomeKeyDown:m[5]||(m[5]=v=>s("homeKeyDown",v))},{default:z(()=>[et(p.$slots,"default")]),_:3},8,["style"]))}}),[wr,h2]=kh("SliderRoot"),p2=Se({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{default:()=>[0]},modelValue:{},disabled:{type:Boolean,default:!1},orientation:{default:"horizontal"},dir:{},inverted:{type:Boolean,default:!1},min:{default:0},max:{default:100},step:{default:1},minStepsBetweenThumbs:{default:0},thumbAlignment:{default:"contain"},asChild:{type:Boolean},as:{default:"span"},name:{},required:{type:Boolean}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,s=e,{min:i,max:r,step:o,minStepsBetweenThumbs:a,orientation:l,disabled:c,thumbAlignment:u,dir:d}=Cl(n),f=ZF(d),{forwardRef:h,currentElement:p}=Ci(),m=e2(p),{CollectionSlot:v}=Ph({isProvider:!0}),w=XF(n,"modelValue",s,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),y=W(()=>Array.isArray(w.value)?[...w.value]:[]),g=M(0),S=M(y.value);function E(R){const D=r2(y.value,R);I(R,D)}function A(R){I(R,g.value)}function B(){const R=S.value[g.value];y.value[g.value]!==R&&s("valueCommit",xe(y.value))}function I(R,D,{commit:K}={commit:!1}){var re;const V=c2(o.value),ie=u2(Math.round((R-i.value)/o.value)*o.value+i.value,V),oe=v0(ie,i.value,r.value),ne=s2(y.value,oe,D);if(l2(ne,a.value*o.value)){g.value=ne.indexOf(oe);const me=String(ne)!==String(w.value);me&&K&&s("valueCommit",ne),me&&((re=x.value[g.value])==null||re.focus(),w.value=ne)}}const x=M([]);return h2({modelValue:w,currentModelValue:y,valueIndexToChangeRef:g,thumbElements:x,orientation:l,min:i,max:r,disabled:c,thumbAlignment:u}),(R,D)=>(k(),Q(C(v),null,{default:z(()=>[(k(),Q(Ht(C(l)==="horizontal"?d2:f2),Qn(R.$attrs,{ref:C(h),"as-child":R.asChild,as:R.as,min:C(i),max:C(r),dir:C(f),inverted:R.inverted,"aria-disabled":C(c),"data-disabled":C(c)?"":void 0,onPointerdown:D[0]||(D[0]=()=>{C(c)||(S.value=y.value)}),onSlideStart:D[1]||(D[1]=K=>!C(c)&&E(K)),onSlideMove:D[2]||(D[2]=K=>!C(c)&&A(K)),onSlideEnd:D[3]||(D[3]=K=>!C(c)&&B()),onHomeKeyDown:D[4]||(D[4]=K=>!C(c)&&I(C(i),0,{commit:!0})),onEndKeyDown:D[5]||(D[5]=K=>!C(c)&&I(C(r),y.value.length-1,{commit:!0})),onStepKeyDown:D[6]||(D[6]=(K,V)=>{if(!C(c)){const ne=C(_0).includes(K.key)||K.shiftKey&&C(w0).includes(K.key)?10:1,re=g.value,me=y.value[re],dt=C(o)*ne*V;I(me+dt,re,{commit:!0})}})}),{default:z(()=>[et(R.$slots,"default",{modelValue:C(w)}),C(m)&&R.name?(k(),Q(C(t2),{key:0,type:"number",value:C(w),name:R.name,required:R.required,disabled:C(c),step:C(o)},null,8,["value","name","required","disabled","step"])):Pe("",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),m2=Se({__name:"SliderRange",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=wr(),n=S0();Ci();const s=W(()=>e.currentModelValue.value.map(o=>y0(o,e.min.value,e.max.value))),i=W(()=>e.currentModelValue.value.length>1?Math.min(...s.value):0),r=W(()=>100-Math.max(...s.value,0));return(o,a)=>(k(),Q(C(Ko),{"data-disabled":C(e).disabled.value?"":void 0,"data-orientation":C(e).orientation.value,"as-child":o.asChild,as:o.as,style:Ns({[C(n).startEdge]:`${i.value}%`,[C(n).endEdge]:`${r.value}%`})},{default:z(()=>[et(o.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),g2=Se({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=wr(),s=S0(),{forwardRef:i,currentElement:r}=Ci(),{CollectionItem:o}=Ph(),a=W(()=>{var p,m;return(m=(p=n.modelValue)==null?void 0:p.value)==null?void 0:m[e.index]}),l=W(()=>a.value===void 0?0:y0(a.value,n.min.value??0,n.max.value??100)),c=W(()=>{var p,m;return i2(e.index,((m=(p=n.modelValue)==null?void 0:p.value)==null?void 0:m.length)??0)}),u=n2(r),d=W(()=>u[s.size].value),f=W(()=>n.thumbAlignment.value==="overflow"||!d.value?0:o2(d.value,l.value,s.direction)),h=YF();return Ce(()=>{n.thumbElements.value.push(r.value)}),_t(()=>{const p=n.thumbElements.value.findIndex(m=>m===r.value)??-1;n.thumbElements.value.splice(p,1)}),(p,m)=>(k(),Q(C(o),null,{default:z(()=>[O(C(Ko),Qn(p.$attrs,{ref:C(i),role:"slider",tabindex:C(n).disabled.value?void 0:0,"aria-label":p.$attrs["aria-label"]||c.value,"data-disabled":C(n).disabled.value?"":void 0,"data-orientation":C(n).orientation.value,"aria-valuenow":a.value,"aria-valuemin":C(n).min.value,"aria-valuemax":C(n).max.value,"aria-orientation":C(n).orientation.value,"as-child":p.asChild,as:p.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[C(s).startEdge]:`calc(${l.value}% + ${f.value}px)`,display:!C(h)&&a.value===void 0?"none":void 0},onFocus:m[0]||(m[0]=()=>{C(n).valueIndexToChangeRef.value=p.index})}),{default:z(()=>[et(p.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),v2=Se({__name:"SliderThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,{getItems:n}=Ph(),{forwardRef:s,currentElement:i}=Ci(),r=W(()=>i.value?n(!0).findIndex(o=>o.ref===i.value):-1);return(o,a)=>(k(),Q(g2,Qn({ref:C(s)},e,{index:r.value}),{default:z(()=>[et(o.$slots,"default")]),_:3},16,["index"]))}}),y2=Se({__name:"SliderTrack",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=wr();return Ci(),(n,s)=>(k(),Q(C(Ko),{"as-child":n.asChild,as:n.as,"data-disabled":C(e).disabled.value?"":void 0,"data-orientation":C(e).orientation.value},{default:z(()=>[et(n.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),_2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},w2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},b2={class:"bg-white px-4 pb-4 pt-4"},S2={class:"items-center justify-center relative"},E2={class:"mt-3"},T2={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},C2={class:"text-center text-xs text-red-500"},x2={class:"space-y-1 bg-white",action:"#",method:"POST"},I2={class:"bg-white px-4 pb-4 pt-2"},k2={class:"p-1"},P2={class:"flex flex-col gap-2 my-2 items-center"},A2={class:"text-md font-medium bg-gray-100 text-orange-600 w-10 h-10 flex items-center justify-center rounded-lg"},R2={class:"bg-white px-4 pb-4 pt-2"},C0={__name:"PopupComment",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0},userComment:{type:Object,required:!1,default:{comment:"",vote:0}},filmId:{type:String,required:!0}},setup(t){const e=Ut(),n=os(),s=M(""),i=M(!1),r=M(t.userComment?t.userComment.comment:""),o=M(t.userComment?[t.userComment.vote]:0),a=()=>{if(r.value)i.value=!0,s.value="",Ei(Ke(n,`items/${t.filmId}/comments/${e.currentUser.uid}`),{comment:r.value,vote:o.value[0],name:e.currentUser.displayName,date:new Date().toLocaleString("ru-RU",{timeZone:"UTC"}),uid:e.currentUser.uid}).then(()=>console.log("Добавлено")).catch(l=>console.log(l)),i.value=!1;else return s.value="Вы ничего не написали"};return(l,c)=>(k(),Q(C(_r),{as:"template",show:t.openPopup},{default:z(()=>[O(C(qo),{class:"relative z-10",onClose:t.handleClick},{default:z(()=>[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:z(()=>c[4]||(c[4]=[_("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),_("div",_2,[_("div",w2,[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:z(()=>[O(C(sr),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:z(()=>[_("div",b2,[_("div",S2,[_("div",E2,[O(C(vi),{as:"h3",class:"text-base font-semibold text-center"},{default:z(()=>c[5]||(c[5]=[ke("Оставить отзыв ")])),_:1})]),s.value?(k(),U("div",T2,[O(C(Fl),{class:"size-4 text-red-500","aria-hidden":"true"}),_("div",C2,te(s.value),1)])):Pe("",!0)])]),_("form",x2,[_("div",I2,[_("div",k2,[nt(_("textarea",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"text",id:"comment",autocomplete:"off",required:"",rows:"6",placeholder:"Напишите здесь отзыв",class:"block p-1 text-xs w-full rounded-md bg-gray-100 px-3 py-1.5 outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6 resize-none max-h-96 overflow-hidden overflow-y-scroll"},null,512),[[Kn,r.value]])]),_("div",P2,[_("div",A2,[_("div",{class:Ee(o.value[0]<4?"text-red-400":o.value[0]<7?"text-gray-400":o.value[0]>8?"text-yellow-400":"text-green-400")},te(o.value[0]),3)]),O(C(p2),{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=u=>o.value=u),class:"relative flex items-center select-none touch-none w-full h-5 px-1",max:10,step:1,"default-value":[5]},{default:z(()=>[O(C(y2),{class:"bg-orange-600 relative grow rounded-full h-2"},{default:z(()=>[O(C(m2),{class:"absolute bg-grass8 rounded-full h-full"})]),_:1}),O(C(v2),{class:"block w-6 h-6 bg-white border-gray-300 border-2 rounded-full hover:bg-stone-50 shadow-sm focus:outline-none","aria-label":"Volume"})]),_:1},8,["modelValue"])]),c[6]||(c[6]=_("h4",{class:"text-center text-xs text-gray-600"}," Ваша оценка ",-1))]),_("div",R2,[i.value?(k(),Q(jt,{key:1,"full-screen":!1})):(k(),U("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:c[2]||(c[2]=()=>{a(),s.value||t.handleClick()})}," Оставить отзыв ")),_("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:c[3]||(c[3]=St((...u)=>t.handleClick&&t.handleClick(...u),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},O2={class:"text-md font-medium bg-gray-100 text-orange-600 flex items-center justify-center rounded-lg"},N2={class:"flex justify-between"},M2={class:"text-xs mb-1"},D2={class:"text-xs mb-1 text-gray-500 flex-1 w-60 h-8"},L2={key:1,class:"absolute top-1 right-1"},$2={class:"flex items-center justify-center gap-2 cursor-pointer"},F2={class:"p-1 rounded-full flex items-center gap-2"},B2={__name:"CommentsItem",props:{comment:Object,filmId:String},setup(t){const e=M(!1),n=()=>{e.value=!e.value},s=os(),i=Ut(),r=()=>{tl(Ke(s,`items/${t.filmId}/comments/${i.currentUser.uid}`)).then(()=>console.log("Удалено")).catch(o=>console.log(o))};return(o,a)=>(k(),U("div",{class:Ee(["flex gap-2 items-start p-1 rounded-lg bg-gray-100 bg-opacity-50 relative",t.comment.uid===C(i).currentUser.uid?"text-orange-600":""])},[_("div",O2,[_("span",{class:Ee(["text-sm font-bold w-8 h-8 flex items-center justify-center",t.comment.vote<4?"text-red-400":t.comment.vote<7?"text-gray-400":t.comment.vote>8?"text-yellow-400":"text-green-400"])},te(t.comment.vote),3)]),_("div",null,[_("div",N2,[_("h3",M2,te(t.comment.uid===C(i).currentUser.uid?"Ваш отзыв":t.comment.name),1)]),nt(_("h3",{class:"text-xs mb-1 text-gray-500"},te(t.comment.date.slice(0,10)),513),[[Sn,t.comment.date]]),_("h3",D2,te(t.comment.comment.length>60?t.comment.comment.slice(0,60)+"...":t.comment.comment),1),t.comment.comment.length>60?(k(),Q(Xb,{key:0,"open-text":"Прочитать отзыв",description:t.comment.comment,"open-text-style":"text-xs"},null,8,["description"])):Pe("",!0),t.comment.uid===C(i).currentUser.uid?(k(),U("div",L2,[_("div",$2,[_("div",{class:"flex items-center justify-center gap-2 cursor-pointer",onClick:n},[_("div",F2,[O(C(sf),{class:"size-3 text-blue-400","aria-hidden":"true"}),O(C0,{handleClick:n,openPopup:e.value,"user-comment":t.comment,"film-id":t.filmId},null,8,["openPopup","user-comment","film-id"])])]),_("div",{class:"py-1 px-1 rounded-full flex items-center gap-2",onClick:r},[O(C(qC),{class:"size-3 text-red-400","aria-hidden":"true"})])])])):Pe("",!0)])],2))}},U2={__name:"CommentsList",props:{comments:Object,filmId:String},setup(t){const e=[bh];return(n,s)=>(k(),Q(C(uc),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",modules:e,"space-between":4},{default:z(()=>[(k(!0),U(Ie,null,is(t.comments,i=>(k(),Q(C(dc),{class:"flex-1"},{default:z(()=>[O(B2,{comment:i,"film-id":t.filmId},null,8,["comment","film-id"])]),_:2},1024))),256))]),_:1}))}},j2={key:1,class:"bg-white"},V2={class:"flex justify-center items-center w-full fixed -z-10 -mt-96 pt-12"},H2=["src","alt"],z2={class:"container mt-96 mx-auto pb-4 relative"},W2={class:"fixed z-50 top-4 left-4"},q2={class:"flex flex-col gap-2 w-full justify-between"},K2={class:"text-xl text-center"},G2={class:"self-center"},Y2={class:"flex justify-center items-start gap-2 mb-1 px-1"},J2={class:"text-slate-400 text-sm text-center"},X2={class:"flex gap-4 justify-center items-center"},Q2={key:0,class:"text-sm text-center"},Z2={key:1,class:"text-sm"},eB={key:2,class:"text-gray-500 text-sm"},tB={key:3,class:"text-black text-xs font-semibold w-8 border border-black rounded-md box-border h-5 flex justify-center items-center"},nB={class:"flex items-center justify-around bg-gradient-to-r from-gray-600 via-orange-600 to-fray-600 bg-opacity-10 mt-3 rounded-sm"},sB=["href"],iB={class:"container p-2"},rB={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},oB={class:"py-4"},aB={class:"text-sm font-bold mb-2"},lB={class:"flex flex-col items-center justify-center bg-gray-300 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},cB={key:0,class:"text-md text-gray-600 font-bold"},uB={class:"text-sm text-center mb-2"},dB=["href"],fB={key:0,class:"container p-2"},hB={key:0,class:"bg-gray-100 bg-opacity-50 flex items-center justify-center py-4 rounded-md text-xs text-gray-500"},pB={class:"mt-2"},mB={class:"bg-gray-100 bg-opacity-50 py-2 px-4 rounded-full flex items-center gap-2"},gB={class:"container p-2"},vB={__name:"Item",setup(t){const e=fc(),n=M(!0),s=M(!1),r=fy().params.id,o=M({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),a=M([]),l=M([]),c=M([]),u=M(!1),d=M(!1),f="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",h=Ut(),p=os(),m=()=>{s.value=!s.value},v=async E=>{Tn(h,A=>{if(n.value=!0,A){const B=Ke(p,`items/${E}`);Jn(B,I=>{I.val()?(e.favorites.find(R=>R.id===+E)?o.value={...I.val().data,isFavorite:!0}:o.value={...I.val().data,isFavorite:!1},a.value=I.val().similar,l.value=I.val().staff,c.value=I.val().comments||[],console.log(c.hasOwnProperty(`${h.currentUser.uid}`)),console.log(h.currentUser.uid),console.log(c.value),c.value.hasOwnProperty(h.currentUser.uid)?d.value=!0:d.value=!1):w(E),n.value=!1},I=>{console.log(I)})}else console.log("User logged out")})},w=async E=>{const{data:A}=await He.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${E}`,{headers:{"X-API-KEY":`${f}`,"Content-Type":"application/json"}});Ei(Ke(p,`items/${E}`),{data:A}).then(()=>console.log("Добавлено")).catch(I=>console.log(I)),e.favorites.find(I=>I.id===+E)?o.value={...A,isFavorite:!0}:o.value={...A,isFavorite:!1},await y(E),await g(E)},y=async E=>{const{data:A}=await He.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${E}/similars`,{headers:{"X-API-KEY":`${f}`,"Content-Type":"application/json"}});sd(Ke(p,`items/${E}`),{similar:A.items}).then(()=>console.log("Добавлено")).catch(B=>console.log(B)),a.value=A.items},g=async E=>{const{data:A}=await He.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${E}`,{headers:{"X-API-KEY":`${f}`,"Content-Type":"application/json"}});sd(Ke(p,`items/${E}`),{staff:A}).then(()=>console.log("Добавлено")).catch(B=>console.log(B)),l.value=A},S=E=>{o.value={nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1},a.value=[],l.value=[],v(E),console.log(E)};return Ce(()=>{e.getFavorites(),S(r),window.scrollTo({top:0,behavior:"smooth"})}),BT((E,A)=>{E.params.id!==A.params.id&&(S(E.params.id),u.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),Ao({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(E,A)=>{const B=Yt("metainfo");return k(),U(Ie,null,[O(B,null,{title:z(()=>[ke(te(o.value.nameRu),1)]),meta:z(()=>[ke(te(o.value.shortDescription?o.value.shortDescription:o.value.description),1)]),_:1}),n.value?(k(),Q(jt,{key:0,"full-screen":!0})):(k(),U("main",j2,[_("div",V2,[_("img",{class:"w-1/2",src:o.value.posterUrl,alt:o.value.nameRu?o.value.nameRu:o.value.nameOriginal},null,8,H2)]),_("section",z2,[A[2]||(A[2]=_("div",{class:"absolute -top-20 bg-gradient-to-t from-white to-transparent w-full h-20 z-30"},null,-1)),_("div",W2,[O(Ho)]),_("div",q2,[_("h1",K2,te(o.value.nameRu?o.value.nameRu:o.value.nameOriginal),1),_("div",G2,[_("div",Y2,[_("div",{class:Ee([o.value.ratingKinopoisk?o.value.ratingKinopoisk>8?"text-yellow-500":o.value.ratingKinopoisk>7?"text-green-600":o.value.ratingKinopoisk>5?"text-gray-400":"text-red-600":"text-gray-400","text-sm font-semibold text-center min-w-10 rounded-sm"])},te(o.value.ratingKinopoisk?o.value.ratingKinopoisk:"нет рейтинга"),3)]),_("p",J2,te(o.value.genres.reduce((I,x)=>x.genre+", "+I,""))+" "+te(o.value.countries[0]?o.value.countries[0].country:o.value.countries.country),1)]),_("div",X2,[o.value.startYear?(k(),U("div",Q2,te(o.value.startYear)+"-"+te(o.value.endYear?o.value.endYear:"н.в."),1)):(k(),U("div",Z2,te(o.value.year),1)),o.value.filmLength?(k(),U("div",eB,te(o.value.filmLength)+" мин. ",1)):Pe("",!0),o.value.ratingAgeLimits?(k(),U("div",tB,te(o.value.ratingAgeLimits.split("age")[1])+"+ ",1)):Pe("",!0)])]),_("div",nB,[_("div",{class:"p-2 flex flex-col items-center justify-center",onClick:A[0]||(A[0]=I=>o.value.isFavorite?C(e).removeFromFavorites(o.value,C(r)):C(e).addToFavorites(o.value,C(r)))},[O(C(nf),{class:Ee(["w-6",o.value.isFavorite?"text-orange-600 fill-orange-600":"text-white"]),alt:"home"},null,8,["class"]),A[1]||(A[1]=_("span",{class:"text-xs text-center text-white"},[ke("Буду "),_("br"),ke("смотреть")],-1))]),_("a",{href:o.value.webUrl,class:"my-2 text-sm rounded-full text-white bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,sB)])]),_("section",iB,[O(sn,{title:"Актеры и съемочная группа"}),O(B$,{"staff-list":l.value||[]},null,8,["staff-list"])]),_("section",null,[_("div",rB,[_("div",oB,[_("p",aB,te(o.value.shortDescription?o.value.shortDescription:o.value.description),1),o.value.shortDescription&&o.value.description?(k(),Q(Xb,{key:0,"open-text":"Подробнее",description:o.value.description},null,8,["description"])):Pe("",!0)]),A[3]||(A[3]=_("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),_("div",lB,[o.value.ratingKinopoisk?(k(),U("span",{key:1,class:Ee([o.value.ratingKinopoisk?o.value.ratingKinopoisk>8?"text-yellow-500":o.value.ratingKinopoisk>7?"text-green-500":o.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},te(o.value.ratingKinopoisk),3)):(k(),U("span",cB,"нет рейтинга")),_("div",uB," Оценок: "+te(o.value.ratingKinopoiskVoteCount),1),_("a",{href:o.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 text-white"},"Оценить",8,dB)])])]),(k(),U("section",fB,[O(sn,{title:"Отзывы"}),c.value.length===0?(k(),U("div",hB,"Нет отзывов ")):(k(),Q(U2,{key:1,comments:c.value,"film-id":o.value.kinopoiskId?o.value.kinopoiskId:o.value.filmId},null,8,["comments","film-id"])),_("div",pB,[d.value?Pe("",!0):(k(),U("div",{key:0,class:"flex items-center justify-center gap-2 cursor-pointer",onClick:m},[_("div",mB,[A[4]||(A[4]=_("span",{class:"text-xs text-gray-500"},"Добавить отзыв",-1)),O(C(sf),{class:"size-4 text-blue-400","aria-hidden":"true"}),O(C0,{handleClick:m,openPopup:s.value,"film-id":o.value.kinopoiskId?o.value.kinopoiskId:o.value.filmId},null,8,["openPopup","film-id"])])]))])])),nt(_("section",gB,[O(sn,{title:"Похожие"}),O(_d,{films:a.value?a.value:[]},null,8,["films"])],512),[[Sn,a.value]]),O(gr),A[5]||(A[5]=_("div",{class:"h-28 bg-white"},null,-1))]))],64)}}},yB=vr(vB,[["__scopeId","data-v-c30896bf"]]),_B={key:1},wB={class:"bg-white"},bB={class:"flex w-full mt-14 gap-2 container px-2"},SB=["src","alt"],EB={class:"flex flex-col gap-1"},TB={class:"text-gray-500 text-xs"},CB={class:"fixed z-50 top-4 left-4"},xB={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},IB={class:"columns-2 gap-2 space-y-2"},kB={class:"flex flex-col"},PB={class:"text-xs"},AB={class:"w-4 flex items-center justify-center"},RB={key:0,class:"text-sm text-gray-600"},OB={__name:"Staff",setup(t){const e=Ut(),n=os();fc();const s=M(!0),r=fy().params.id,o=M({}),a="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",l=async f=>{Tn(e,h=>{if(s.value=!0,h){const p=Ke(n,`staff/${f}`);Jn(p,m=>{m.val()?o.value=m.val().data:c(f),s.value=!1},m=>{console.log(m),s.value=!1})}else console.log("User logged out")})},c=async f=>{const{data:h}=await He.get(`https://kinopoiskapiunofficial.tech/api/v1/staff/${f}`,{headers:{"X-API-KEY":`${a}`,"Content-Type":"application/json"}});h.films=h.films.filter((p,m,v)=>m===v.findIndex(w=>w.nameRu===p.nameRu&&w.nameRu===p.nameRu)).sort((p,m)=>m.rating-p.rating),Ei(Ke(n,`staff/${f}`),{data:h}).then(()=>console.log("Добавлено")).catch(p=>console.log(p)),o.value=h},u=f=>{let h="",p=f%100;return p>=5&&p<=20?h="лет":(p=f%10,p===1?h="год":p>=2&&p<=4?h="года":h="лет"),h},d=f=>{l(f)};return Ce(()=>{d(r),window.scrollTo({top:0,behavior:"smooth"})}),Ao({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(f,h)=>{const p=Yt("metainfo"),m=Yt("RouterLink");return k(),U(Ie,null,[O(p,null,{title:z(()=>[ke(te(o.value.nameRu),1)]),meta:z(()=>[ke(te(o.value.shortDescription?o.value.shortDescription:o.value.description),1)]),_:1}),s.value?(k(),Q(jt,{key:0,"full-screen":!0})):(k(),U("div",_B,[_("section",wB,[_("div",bB,[_("img",{class:"w-28 rounded-sm",src:o.value.posterUrl,alt:o.value.nameRu?o.value.nameRu:o.value.nameEn},null,8,SB),_("div",EB,[_("div",null,te(o.value.nameRu?o.value.nameRu:o.value.nameEn),1),nt(_("div",{class:"text-gray-500 text-sm"},te(o.value.nameEn),513),[[Sn,o.value.nameRu]]),nt(_("p",{class:"text-gray-500 text-xs"},te(o.value.age)+" "+te(u(o.value.age)),513),[[Sn,o.value.age]]),_("p",TB,te(o.value.profession),1)])]),_("div",CB,[O(Ho)])]),_("section",null,[_("div",xB,[h[0]||(h[0]=_("h2",{class:"text-xl bold"},"Фильмы",-1)),_("div",IB,[(k(!0),U(Ie,null,is(o.value.films,v=>(k(),Q(m,{to:{name:"item",params:{id:v.filmId}},key:v.rating,class:"flex items-center gap-2 bg-gray-500 bg-opacity-10 p-2 rounded-md justify-between break-inside-avoid-column"},{default:z(()=>[_("div",kB,[_("h3",PB,te(v.nameRu?v.nameRu:v.nameEn),1)]),_("div",AB,[v.rating?(k(),U("span",{key:1,class:Ee([v.rating?v.rating>8?"text-yellow-500":v.rating>7?"text-green-500":v.rating>5?"text-slate-600":"text-red-400":"text-slate-300","text-xs"])},te(v.rating),3)):(k(),U("span",RB,"-"))])]),_:2},1032,["to"]))),128))])]),O(gr),h[1]||(h[1]=_("div",{class:"h-28 bg-white"},null,-1))])]))],64)}}},x0=Ro("newsStore",()=>{const t=M([]),e=M([]),n=M(!0),s=M(1),i=Ut(),r=os();return{newsData:t,getNews:async l=>{n.value=!0,Tn(i,c=>{if(c){const u=Ke(r,`news/${l}`);Jn(u,d=>{t.value=d.val(),n.value=!1},d=>{console.log(d)})}else console.log("User logged out")}),s.value=l},getLastNews:async()=>{n.value=!0,Tn(i,l=>{if(l){const c=Ke(r,"news/1");Jn(c,u=>{e.value=u.val()},u=>{console.log(u)})}else console.log("User logged out")}),n.value=!1},newsOnMain:e,currentPage:s,loader:n}}),NB={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},MB=["href"],DB={__name:"NewsItem",setup(t){const e=[cL,lL],n=x0();return Ce(()=>{n.newsOnMain.length||n.getLastNews()}),(s,i)=>(k(),Q(C(uc),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-4"},{default:z(()=>[(k(!0),U(Ie,null,is(C(n).newsOnMain,r=>(k(),Q(C(dc),{key:r.item.kinopoiskId},{default:z(()=>[_("div",{class:"overflow-hidden bg-cover h-48 w-full",style:Ns(`background-image: url(${r.item.imageUrl})`)},[i[0]||(i[0]=_("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-40"},null,-1)),_("h2",NB,te(r.item.title),1),_("a",{href:r.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,MB)],4)]),_:2},1024))),128))]),_:1}))}},Rh=Ro("premiersStore",()=>{const t=M([]),e=M([]),n=M([]),s=M(1),i=Ut(),r=os(),o=M(!0),a="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",l={0:"january",1:"february",2:"march",3:"april",4:"may",5:"june",6:"july",7:"august",8:"september",9:"october",10:"november",11:"december"},c={year:new Date().getFullYear(),month:new Date().getMonth()},u=async()=>{o.value=!0,Tn(i,p=>{if(p){const m=Ke(r,`premiers/${c.year}/${l[c.month]}`);Jn(m,v=>{v.val()||d(),t.value=v.val().items,o.value=!1},v=>{console.log(v)})}else console.log("User logged out")})},d=async()=>{const{data:p}=await He.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=${c.year}&month=${l[c.month]}`,{headers:{"X-API-KEY":a,"Content-Type":"application/json"}});Ei(Ke(r,`premiers/${c.year}/${l[c.month]}`),{items:p.items}).then(()=>console.log("Добавлено")).catch(m=>console.log(m))};return{premiers:t,getPremiers:u,getTop250:p=>{o.value=!0,Tn(i,m=>{if(m){const v=Ke(r,`top/${p}`);Jn(v,w=>{e.value=w.val(),o.value=!1},w=>{console.log(w)})}else console.log("User logged out")}),s.value=p},top250:e,getTopOnMain:()=>{Tn(i,p=>{if(p){const m=Ke(r,"top/1");Jn(m,v=>{n.value=v.val(),o.value=!1},v=>{console.log(v)})}else console.log("User logged out")})},topOnMain:n,currentPage:s,loader:o}}),LB={key:1,class:"container mx-auto px-1"},$B={__name:"MainPage",setup(t){const e=kn(),n=Rh(),s=()=>{Notification.requestPermission().then(i=>{i==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),kn().notificationToken="")})};return Ce(()=>{(!n.premiers.length||!n.topOnMain.length)&&(n.getPremiers(),n.getTopOnMain()),e.getTokenNotification(),s()}),Ao({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(i,r)=>{const o=Yt("metainfo");return k(),U(Ie,null,[O(o,null,{title:z(()=>r[0]||(r[0]=[])),_:1}),C(n).loader?(k(),Q(jt,{key:0,"full-screen":!0})):(k(),U("section",LB,[O(sn,{title:"Последние новости","show-all":!0,link:"news"}),O(DB),O(sn,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),O(_d,{films:C(n).premiers.slice(0,20),class:"mb-2"},null,8,["films"]),O(sn,{title:"Топ 250","show-all":!0,link:"top"}),O(_d,{films:C(n).topOnMain},null,8,["films"]),r[1]||(r[1]=_("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},FB={class:"flex items-center gap-8 mb-8 relative"},BB={class:"flex items-start justify-around gap-4 w-full"},UB=Se({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=fc(),n=Ut(),s=os(),i=M(!1),r=o=>{t.film.isWatched=!o,sd(Ke(s,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(k(),U(Ie,null,[_("div",null,[O(C(zC),{onClick:a[0]||(a[0]=l=>i.value=!0),class:"w-5 text-gray-500",alt:"favorites"})]),O(C(Jb),{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=l=>i.value=l),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1,class:"bg-gray-600 bg-opacity-50 backdrop-blur-sm"},{default:z(()=>[_("div",FB,[_("div",BB,[_("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[O(C(ky),{class:Ee(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=_("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),_("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>{C(e).removeFromFavorites(null,t.film.id),i.value=!1})},[O(C(nf),{class:Ee(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=_("span",{class:"text-xs text-center text-white"},[ke("Удалить из"),_("br"),ke("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),jB=vr(UB,[["__scopeId","data-v-90348836"]]),VB={class:"relative"},HB={class:"flex justify-between"},zB=["src","alt"],WB={class:"mr-8"},qB={class:"text-xs mb-1"},KB={class:"flex gap-1.5"},GB={__name:"FilmItem",props:{film:{type:Object,required:!0},sizeImage:{type:String,default:"w-16",required:!1},sizeBlock:{type:String,default:"min-w-16",required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1}},setup(t){const e=nh();return(n,s)=>(k(),U("div",VB,[_("div",HB,[O(C(Ml),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-2 mr-8 flex-1",onClick:s[0]||(s[0]=i=>t.remove?null:C(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:z(()=>[_("div",{class:Ee(["image bg-contain",t.sizeBlock])},[_("img",{class:Ee(["h-full",t.sizeImage]),src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,10,zB)],2),_("div",WB,[_("h3",qB,te(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),_("div",KB,[nt(O(C(ky),{class:Ee(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),[[Sn,t.favorite]]),nt(_("h4",{class:"text-xs text-slate-400 mb-1"},te(t.film.year),513),[[Sn,t.film.year&&t.film.year!=="null"]])])])]),_:1},8,["to"]),t.favorite?(k(),Q(jB,{key:0,film:t.film},null,8,["film"])):Pe("",!0)]),t.film.ratingKinopoisk?(k(),U("div",{key:0,class:Ee([t.film.ratingKinopoisk?t.film.ratingKinopoisk>8?"bg-yellow-600":t.film.ratingKinopoisk>7?"bg-green-600":t.film.ratingKinopoisk>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},te(t.film.ratingKinopoisk&&t.film.ratingKinopoisk!=="null"?t.film.ratingKinopoisk:""),3)):t.film.rating?(k(),U("div",{key:1,class:Ee([t.film.rating==="null"?"bg-slate-300":t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},te(t.film.rating&&t.film.rating!=="null"?t.film.rating:"-"),3)):Pe("",!0),nt(O(C(Ay),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-0",alt:"close",onClick:s[1]||(s[1]=i=>C(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[Sn,t.remove]])]))}},YB={class:"flex flex-col"},xo={__name:"FilmList",props:{films:{type:Array,required:!0},sizeImage:{type:String,required:!1},sizeBlock:{type:String,required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(k(),U("div",YB,[(k(!0),U(Ie,null,is(t.films,s=>(k(),Q(GB,{film:s.item?s.item:s,"size-image":t.sizeImage,"size-block":t.sizeBlock,favorite:t.favorite,remove:t.remove},null,8,["film","size-image","size-block","favorite","remove"]))),256))]))}},JB={class:"container mx-auto px-1 text-sm"},XB=["defaultvalue","placeholder"],QB={key:0},ZB={key:1},eU={key:1},tU={key:1},nU={key:1},sU={key:0},iU={class:"flex items-end justify-between pb-3 px-1"},rU={key:1},oU={__name:"Search",setup(t){const e="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",n=nh(),s=M(!1),i=async l=>{n.loader=!0,s.value=!1;const{data:c}=await He.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${l.trim()}`,{headers:{"X-API-KEY":e,"Content-Type":"application/json"}});c.films.length===0?s.value=!0:(n.memoryFilms=c.films,s.value=!1),n.loader=!1},r=()=>{if(!n.memory)return a();n.memory.length>2&&i(n.memory),n.memory.length<2&&(n.memoryFilms=[])},o=M(!1);function a(){o.value=!0,setTimeout(()=>{o.value=!1},1500)}return Ce(()=>{n.getLastSearch()}),Ao({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(l,c)=>{const u=Yt("metainfo");return k(),U(Ie,null,[O(u,null,{title:z(()=>c[4]||(c[4]=[])),_:1}),_("section",JB,[_("div",{class:Ee(["relative w-full px-0.5 mb-3",{shake:o.value}])},[O(C(Py),{class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 left-3",alt:"search"}),nt(O(C(Ay),{onClick:c[0]||(c[0]=()=>{C(n).memory="",C(n).memoryFilms=[],s.value=!1}),class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[Sn,C(n).memory.length>0]]),nt(_("input",{defaultvalue:C(n).memory,placeholder:o.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 py-2 pr-10 flex items-center text-sm text-black bg-gray-100 outline-none placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-none sm:text-sm/6 rounded-md",type:"text","onUpdate:modelValue":c[1]||(c[1]=d=>C(n).memory=d),onKeydown:[dp(r,["enter"]),c[2]||(c[2]=dp(d=>{C(n).memoryFilms=[],s.value=!1},["backspace"]))]},null,40,XB),[[Kn,C(n).memory]])],2),C(n).memory.length>0?(k(),U("div",QB,[C(n).loader?(k(),Q(jt,{key:0,"full-screen":!1})):(k(),U("div",ZB,[s.value?(k(),U("div",eU,c[5]||(c[5]=[_("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(k(),Q(xo,{key:0,films:C(n).memoryFilms,"size-image":"w-14","size-block":"min-w-14"},null,8,["films"]))]))])):(k(),U("div",tU,[C(n).loader?(k(),Q(jt,{key:0,"full-screen":!1})):(k(),U("div",nU,[C(n).lastSearch.length>0?(k(),U("div",sU,[_("div",iU,[c[6]||(c[6]=_("h4",{class:"text-sm text-gray-600"},"Вы недавно искали",-1)),_("span",{class:"text-xs text-gray-600",onClick:c[3]||(c[3]=(...d)=>C(n).removeAllSearch&&C(n).removeAllSearch(...d))},"Очистить")]),O(xo,{films:C(n).lastSearch.slice(0,7),"size-image":"w-14","size-block":"min-w-14",remove:!0},null,8,["films"])])):(k(),U("div",rU,c[7]||(c[7]=[_("div",{class:"flex items-end justify-center pb-3 px-1"},[_("h4",{class:"text-sm text-gray-600"},"История поиска пуста")],-1)])))]))]))]),c[8]||(c[8]=_("div",{class:"h-28"},null,-1))],64)}}},aU=vr(oU,[["__scopeId","data-v-ae125e75"]]),lU="/404-error.png",cU={},uU={class:"w-full h-screen flex justify-center items-center"};function dU(t,e){return k(),U("div",uU,e[0]||(e[0]=[_("img",{src:lU,alt:"404",class:"w-2/5"},null,-1)]))}const fU=vr(cU,[["render",dU]]),hU={key:1,class:"relative container mx-auto p-1"},pU={class:"flex gap-2 mb-1"},mU={__name:"Premier",setup(t){const e=Rh();return Ce(()=>{e.premiers.length||e.getPremiers(),window.scrollTo({top:0,behavior:"smooth"})}),(n,s)=>C(e).loader?(k(),Q(jt,{key:0,"full-screen":!0})):(k(),U("section",hU,[_("div",pU,[O(Ho),O(sn,{title:"Премьеры этого месяца"})]),O(xo,{films:C(e).premiers},null,8,["films"]),s[0]||(s[0]=_("div",{class:"h-28"},null,-1)),O(gr)]))}},gU={key:1,class:"relative container mx-auto p-1"},vU={class:"flex gap-2 mb-1"},yU={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},_U={__name:"Top",setup(t){const e=Rh(),n=M(1),s=async i=>{await e.getTop250(i),window.scrollTo({top:0,behavior:"smooth"})};return Ce(()=>{e.top250.length?n.value=e.currentPage:e.getTop250(1),window.scrollTo({top:0,behavior:"smooth"})}),(i,r)=>C(e).loader?(k(),Q(jt,{key:0,"full-screen":!0})):(k(),U("section",gU,[_("div",vU,[O(Ho),O(sn,{title:"Топ 250"})]),O(xo,{films:C(e).top250},null,8,["films"]),r[1]||(r[1]=_("div",{class:"h-32"},null,-1)),_("div",yU,[O(C(tf),{"total-items":250,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),onClick:s},null,8,["modelValue"])]),O(gr)]))}},wU={key:1,class:"relative container mx-auto p-1"},bU={class:"flex gap-2 mb-1"},SU={class:"grid-cols-1 grid gap-2"},EU={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},TU=["href"],CU={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},xU={__name:"News",setup(t){const e=x0(),n=async i=>{await e.getNews(i),window.scrollTo({top:0,behavior:"smooth"})},s=M(1);return Ce(()=>{e.newsData.length?s.value=e.currentPage:e.getNews(1),window.scrollTo({top:0,behavior:"smooth"})}),Ao({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(i,r)=>{const o=Yt("metainfo");return k(),U(Ie,null,[O(o,null,{title:z(()=>r[1]||(r[1]=[])),_:1}),C(e).loader?(k(),Q(jt,{key:0,"full-screen":!0})):(k(),U("section",wU,[_("div",bU,[O(Ho),O(sn,{title:"Новости"})]),_("div",SU,[(k(!0),U(Ie,null,is(C(e).newsData,a=>(k(),U("div",{key:a.item.kinopoiskId},[_("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:Ns(`background-image: url(${a.item.imageUrl})`)},[r[2]||(r[2]=_("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),_("h2",EU,te(a.item.title),1),_("a",{href:a.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,TU)],4)]))),128))]),O(gr),r[3]||(r[3]=_("div",{class:"h-32"},null,-1))])),_("div",CU,[O(C(tf),{"total-items":208,"items-per-page":20,"max-pages-shown":3,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=a=>s.value=a),onClick:n},null,8,["modelValue"])])],64)}}},I0="/img/icons/192x192.png",IU={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},kU={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},PU={class:"bg-white px-4 pb-4 pt-4"},AU={class:"items-center justify-center relative"},RU={class:"mt-3"},OU={class:"space-y-1 bg-white",action:"#",method:"POST"},NU={class:"bg-white px-4 pb-4 pt-2"},MU={class:"mt-2"},DU={class:"bg-white px-4 pb-4 pt-2"},LU={class:"bg-white px-4 pb-4 pt-4"},$U={class:"items-center justify-center relative"},FU={__name:"ForgorPassword",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=M(""),n=M(!1),s=()=>{const i=Ut();n.value=!0,LA(i,e.value).then(()=>{console.log("password reset"),setTimeout(()=>{t.handleClick(),n.value=!1},3e3)}).catch(r=>{console.log(r),r.code,r.message})};return(i,r)=>(k(),Q(C(_r),{as:"template",show:t.openPopup},{default:z(()=>[O(C(qo),{class:"relative z-10",onClose:t.handleClick},{default:z(()=>[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:z(()=>r[2]||(r[2]=[_("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),_("div",IU,[_("div",kU,[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:z(()=>[n.value?(k(),Q(C(sr),{key:1,class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:z(()=>[_("div",LU,[_("div",$U,[O(C(vi),{as:"h3",class:"text-sm text-center"},{default:z(()=>r[5]||(r[5]=[ke("На указанный email отправлено письмо со ссылкой для сброса пароля ")])),_:1})])])]),_:1})):(k(),Q(C(sr),{key:0,class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:z(()=>[_("div",PU,[_("div",AU,[_("div",RU,[O(C(vi),{as:"h3",class:"text-base font-semibold text-center"},{default:z(()=>r[3]||(r[3]=[ke("Забыли пароль? ")])),_:1})])])]),_("form",OU,[_("div",NU,[r[4]||(r[4]=_("label",{for:"name",class:"text-sm/6 font-medium"},"Введите свою почту",-1)),_("div",MU,[nt(_("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>e.value=o),type:"email",name:"email",id:"forgot",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,e.value]])])]),_("div",DU,[_("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:s}," Сбросить пароль "),_("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:r[1]||(r[1]=St((...o)=>t.handleClick&&t.handleClick(...o),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1}))]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},BU={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},UU={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},jU={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},VU={class:"text-center text-xs text-red-500"},HU={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},zU={class:"space-y-6",action:"#",method:"POST"},WU={class:"mt-2"},qU={class:"flex items-center justify-between"},KU={class:"text-sm"},GU={class:"mt-2"},YU={class:"mt-10 text-center text-sm/6 text-gray-400"},JU=Se({__name:"Login",setup(t){const e=ir(),n=kn(),s=M(""),i=M(""),r=async l=>{l.preventDefault(),n.error="",s.value&&i.value?(await n.auth("login",{email:s.value,password:i.value}),await e.push("/")):n.error="Заполните все поля"},o=M(!1),a=()=>{o.value=!o.value};return Ce(()=>{n.error="",s.value="",i.value=""}),(l,c)=>{const u=Yt("RouterLink");return k(),U("div",BU,[_("div",UU,[c[2]||(c[2]=_("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:I0,alt:"Filmoteka"},null,-1)),c[3]||(c[3]=_("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),C(n).error?(k(),U("div",jU,[O(C(Fl),{class:"size-4 text-red-500","aria-hidden":"true"}),_("div",VU,te(C(n).error),1)])):Pe("",!0)]),_("div",HU,[_("form",zU,[_("div",null,[c[4]||(c[4]=_("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),_("div",WU,[nt(_("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":c[0]||(c[0]=d=>s.value=d),class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,s.value]])])]),_("div",null,[_("div",qU,[c[5]||(c[5]=_("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль",-1)),_("div",KU,[_("a",{href:"#",class:"text-orange-600 hover:text-orange-500",onClick:a},"Забыли пароль?"),O(FU,{handleClick:a,openPopup:o.value},null,8,["openPopup"])])]),_("div",GU,[nt(_("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>i.value=d),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,i.value]])])]),_("div",null,[C(n).loader?(k(),Q(jt,{key:1,"full-screen":!1})):(k(),U("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),_("p",YU,[c[7]||(c[7]=ke(" Нет аккаунта? "+te(" ")+" ")),O(u,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:z(()=>c[6]||(c[6]=[ke("Зарегистрироваться ")])),_:1})])])])}}}),XU={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},QU={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},ZU={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},e4={class:"text-center text-xs text-red-500"},t4={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},n4={class:"space-y-6",action:"#",method:"POST"},s4={class:"mt-2"},i4={class:"mt-2"},r4={class:"mt-2"},o4={class:"mt-10 text-center text-sm text-gray-400"},a4=Se({__name:"Registration",setup(t){const e=kn(),n=M(""),s=M(""),i=M(""),r=ir(),o=async()=>{e.error="",s.value&&i.value&&n.value?(await e.auth("registration",{email:s.value,password:i.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return Ce(()=>{e.error="",s.value="",i.value="",n.value=""}),(a,l)=>{const c=Yt("RouterLink");return k(),U("div",XU,[_("div",QU,[l[3]||(l[3]=_("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:I0,alt:"Your Company"},null,-1)),l[4]||(l[4]=_("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),C(e).error?(k(),U("div",ZU,[O(C(Fl),{class:"size-4 text-red-500","aria-hidden":"true"}),_("div",e4,te(C(e).error),1)])):Pe("",!0)]),_("div",t4,[_("form",n4,[_("div",null,[l[5]||(l[5]=_("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),_("div",s4,[nt(_("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,n.value]])])]),_("div",null,[l[6]||(l[6]=_("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),_("div",i4,[nt(_("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,s.value]])])]),_("div",null,[l[7]||(l[7]=_("div",{class:"flex items-center justify-between"},[_("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),_("div",r4,[nt(_("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,i.value]])])]),_("div",null,[C(e).loader?(k(),Q(jt,{key:1,"full-screen":!1})):(k(),U("button",{key:0,type:"submit",onClick:St(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),_("p",o4,[l[9]||(l[9]=ke(" Есть аккаунт? "+te(" ")+" ")),O(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:z(()=>l[8]||(l[8]=[ke("Войти")])),_:1})])])])}}}),l4={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},c4={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},u4={class:"bg-white px-4 pb-4 pt-4"},d4={class:"items-center justify-center"},f4={class:"mt-3"},h4={class:"bg-white px-4 py-4 items-center flex flex-col"},p4={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=ir(),n=kn(),s=()=>{n.auth("logout"),e.push("/login")};return(i,r)=>(k(),Q(C(_r),{as:"template",show:t.openPopup},{default:z(()=>[O(C(qo),{class:"relative z-10",onClose:t.handleClick},{default:z(()=>[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:z(()=>r[1]||(r[1]=[_("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),_("div",l4,[_("div",c4,[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:z(()=>[O(C(sr),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:z(()=>[_("div",u4,[_("div",d4,[_("div",f4,[O(C(vi),{as:"h3",class:"text-base text-center"},{default:z(()=>r[2]||(r[2]=[ke("Вы хотите выйти из профиля? ")])),_:1})])])]),_("div",h4,[_("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),_("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:s,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},m4={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},g4={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},v4={class:"bg-white px-4 pb-4 pt-4"},y4={class:"items-center justify-center"},_4={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},w4={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},b4={class:"mt-3"},S4={key:2,class:"mt-2"},E4={class:"text-sm text-gray-500 break-words text-center"},T4={class:"bg-white px-4 py-4 items-center flex flex-col"},C4={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=kn(),n=M(!1),s=M(!1),i=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},500)},250)};return(r,o)=>(k(),Q(C(_r),{as:"template",show:t.openPopup},{default:z(()=>[O(C(qo),{class:"relative z-10",onClose:t.handleClick},{default:z(()=>[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:z(()=>o[1]||(o[1]=[_("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),_("div",m4,[_("div",g4,[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:z(()=>[O(C(sr),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:z(()=>[_("div",v4,[_("div",y4,[C(e).notificationToken?(k(),U("div",w4,[O(C(Iy),{class:"size-6 text-green-600","aria-hidden":"true"})])):(k(),U("div",_4,[O(C(xy),{class:"size-6 text-red-600","aria-hidden":"true"})])),_("div",b4,[C(e).notificationToken?(k(),Q(C(vi),{key:1,as:"h3",class:"text-base text-center"},{default:z(()=>o[3]||(o[3]=[ke("Уведомления разрешены ")])),_:1})):(k(),Q(C(vi),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:z(()=>o[2]||(o[2]=[ke(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),C(e).notificationToken?(k(),U("div",S4,[_("div",E4,te(C(e).notificationToken),1)])):Pe("",!0)])])]),_("div",T4,[C(e).notificationToken&&!n.value&&!s.value?(k(),U("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i},"Скопировать токен ")):Pe("",!0),n.value?(k(),Q(jt,{key:1,"full-screen":!1})):Pe("",!0),s.value?(k(),Q(C(HC),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):Pe("",!0),_("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},x4={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},I4={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},k4={class:"bg-white px-4 pb-4 pt-4"},P4={class:"items-center justify-center relative"},A4={class:"mt-3"},R4={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},O4={class:"text-center text-xs text-red-500"},N4={class:"space-y-1 bg-white",action:"#",method:"POST"},M4={class:"bg-white px-4 pb-4 pt-2"},D4={class:"mt-2"},L4={class:"bg-white px-4 pb-4 pt-2"},$4={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=M(""),n=M(""),s=kn(),i=async()=>{if(e.value){if(e.value===s.userInfo.name)return n.value="Имя не изменилось";n.value="",await s.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(k(),Q(C(_r),{as:"template",show:t.openPopup},{default:z(()=>[O(C(qo),{class:"relative z-10",onClose:t.handleClick},{default:z(()=>[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:z(()=>o[3]||(o[3]=[_("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),_("div",x4,[_("div",I4,[O(C(cn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:z(()=>[O(C(sr),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:z(()=>[_("div",k4,[_("div",P4,[_("div",A4,[O(C(vi),{as:"h3",class:"text-base font-semibold text-center"},{default:z(()=>o[4]||(o[4]=[ke("Изменить имя ")])),_:1})]),n.value?(k(),U("div",R4,[O(C(Fl),{class:"size-4 text-red-500","aria-hidden":"true"}),_("div",O4,te(n.value),1)])):Pe("",!0)])]),_("form",N4,[_("div",M4,[o[5]||(o[5]=_("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),_("div",D4,[nt(_("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Kn,e.value]])])]),_("div",L4,[C(s).loader?(k(),Q(jt,{key:1,"full-screen":!1})):(k(),U("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await i(),n.value||t.handleClick()})}," Сохранить ")),_("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:o[2]||(o[2]=St((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},F4={class:"container mx-auto px-1"},B4={class:"mt-2"},U4={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},j4={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},V4={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},H4={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},z4={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},W4={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},q4={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},K4={__name:"Profile",setup(t){const e=kn(),n=M(!1),s=M(!1),i=M(!1),r=()=>{n.value=!n.value},o=()=>{s.value=!s.value},a=()=>{i.value=!i.value};return Ce(()=>{e.getTokenNotification()}),(l,c)=>(k(),U("section",F4,[O(sn,{title:"Профиль"}),c[3]||(c[3]=_("div",{class:"sm:px-0"},[_("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),_("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),_("div",B4,[_("dl",null,[_("div",U4,[c[0]||(c[0]=_("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),_("dd",j4,te(C(e).userInfo.name),1),_("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[O(C(sf),{class:"size-6 text-blue-500","aria-hidden":"true"}),O($4,{handleClick:a,openPopup:i.value},null,8,["openPopup"])])]),_("div",V4,[c[1]||(c[1]=_("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),C(e).notificationToken?(k(),U("dd",H4,"Уведомления разрешены ")):(k(),U("dd",z4,"Уведомления не разрешены")),_("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-100 p-4 rounded-full",onClick:r},[C(e).notificationToken?(k(),Q(C(Iy),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(k(),Q(C(xy),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),O(C4,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),_("div",W4,[c[2]||(c[2]=_("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),_("dd",q4,te(C(e).userInfo.email),1)])])]),_("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md text-white"}," Выйти "),O(p4,{"handle-click":o,"open-popup":s.value},null,8,["open-popup"])]))}};var Mg=function(){return Math.random().toString(36).substring(2)},G4=Se({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(e){var n=W(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idClip"):Mg()}),s=W(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idGradient"):Mg()}),i=W(function(){var a;return(a=e.width)!==null&&a!==void 0?a:400}),r=W(function(){var a;return(a=e.height)!==null&&a!==void 0?a:130}),o=W(function(){var a;return(a=e.viewBox)!==null&&a!==void 0?a:"0 0 ".concat(i.value," ").concat(r.value)});return{idClip:n,idGradient:s,computedViewBox:o}},render:function(){return O("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[O("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),O("defs",null,[O("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():O("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),O("linearGradient",{id:this.idGradient},[O("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),O("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),O("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});const Y4={components:{ContentLoader:G4}},J4={class:"mt-4 px-2"};function X4(t,e,n,s,i,r){const o=Yt("content-loader");return k(),U("div",J4,[O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:z(()=>e[0]||(e[0]=[_("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),_("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),_("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:z(()=>e[1]||(e[1]=[_("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),_("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),_("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:z(()=>e[2]||(e[2]=[_("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),_("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),_("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:z(()=>e[3]||(e[3]=[_("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),_("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),_("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:z(()=>e[4]||(e[4]=[_("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),_("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),_("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1})])}const Q4=vr(Y4,[["render",X4]]),Z4={class:"relative container mx-auto px-1"},ej={key:1},tj={key:1,class:"text-gray-600 text-sm my-4"},nj={__name:"Favorites",setup(t){const e=fc();return Ce(()=>{e.favorites.length||e.getFavorites()}),(n,s)=>(k(),U("section",Z4,[O(sn,{title:"Избранное"}),C(e).loader?(k(),Q(Q4,{key:0,"full-screen":!0})):(k(),U("div",ej,[C(e).favorites.length?(k(),Q(xo,{key:0,films:C(e).favorites,"size-image":"w-16","size-block":"min-w-16",favorite:!0},null,8,["films"])):(k(),U("div",tj,"В избранное ничего не добавлено"))])),s[0]||(s[0]=_("div",{class:"h-28"},null,-1)),nt(O(gr,null,null,512),[[Sn,C(e).favorites.length>6]])]))}};var sj="firebase",ij="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt(sj,ij,"app");const rj=[{path:"/",component:$B,name:"main",meta:{auth:!0}},{path:"/profile",component:K4,name:"profile",meta:{auth:!0}},{path:"/favorites",component:nj,name:"favorites",meta:{auth:!0}},{path:"/login",component:JU,name:"login",meta:{auth:!1}},{path:"/registration",component:a4,name:"registration",meta:{auth:!1}},{path:"/search",component:aU,name:"search",meta:{auth:!0}},{path:"/film/:id",component:yB,name:"item",meta:{auth:!0}},{path:"/staff/:id",component:OB,name:"staff",meta:{auth:!0}},{path:"/premier",component:mU,name:"premier",props:!0,meta:{auth:!0}},{path:"/top",component:_U,name:"top",props:!0,meta:{auth:!0}},{path:"/news",component:xU,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:fU,meta:{auth:!0}}],k0=qT({history:bT("/"),routes:rj}),oj=xC(),aj={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};k0.beforeEach((t,e,n)=>{const s=kn();t.meta.auth&&!s.accessToken?n("/login"):!t.meta.auth&&s.accessToken?n("/"):n()});zy(aj);VE(bM).use(k0).use(oC()).use(CC).use(oj).use(VC).mount("#app");
