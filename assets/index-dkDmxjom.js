var tS=Object.defineProperty;var nS=(t,e,n)=>e in t?tS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ki=(t,e,n)=>nS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Le={},Is=[],Kt=()=>{},iS=()=>!1,rl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pd=t=>t.startsWith("onUpdate:"),pt=Object.assign,md=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sS=Object.prototype.hasOwnProperty,Ie=(t,e)=>sS.call(t,e),ue=Array.isArray,xs=t=>ol(t)==="[object Map]",yg=t=>ol(t)==="[object Set]",he=t=>typeof t=="function",Ge=t=>typeof t=="string",qn=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",_g=t=>(Ve(t)||he(t))&&he(t.then)&&he(t.catch),wg=Object.prototype.toString,ol=t=>wg.call(t),rS=t=>ol(t).slice(8,-1),bg=t=>ol(t)==="[object Object]",gd=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Pr=hd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),al=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},oS=/-(\w)/g,Wt=al(t=>t.replace(oS,(e,n)=>n?n.toUpperCase():"")),aS=/\B([A-Z])/g,Si=al(t=>t.replace(aS,"-$1").toLowerCase()),ll=al(t=>t.charAt(0).toUpperCase()+t.slice(1)),tc=al(t=>t?`on${ll(t)}`:""),fi=(t,e)=>!Object.is(t,e),Ko=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Sg=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},tu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _h;const cl=()=>_h||(_h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vo(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ge(i)?dS(i):vo(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ge(t)||Ve(t))return t}const lS=/;(?![^(]*\))/g,cS=/:([^]+)/,uS=/\/\*[^]*?\*\//g;function dS(t){const e={};return t.replace(uS,"").split(lS).forEach(n=>{if(n){const i=n.split(cS);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function xe(t){let e="";if(Ge(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const i=xe(t[n]);i&&(e+=i+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const fS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hS=hd(fS);function Eg(t){return!!t||t===""}const Tg=t=>!!(t&&t.__v_isRef===!0),ce=t=>Ge(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===wg||!he(t.toString))?Tg(t)?ce(t.value):JSON.stringify(t,Cg,2):String(t),Cg=(t,e)=>Tg(e)?Cg(t,e.value):xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[nc(i,r)+" =>"]=s,n),{})}:yg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nc(n))}:qn(e)?nc(e):Ve(e)&&!ue(e)&&!bg(e)?String(e):e,nc=(t,e="")=>{var n;return qn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class Ig{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){yt=this}off(){yt=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function xg(t){return new Ig(t)}function kg(){return yt}function pS(t,e=!1){yt&&yt.cleanups.push(t)}let Fe;const ic=new WeakSet;class Pg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ic.has(this)&&(ic.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wh(this),Og(this);const e=Fe,n=Yt;Fe=this,Yt=!0;try{return this.fn()}finally{Ng(this),Fe=e,Yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_d(e);this.deps=this.depsTail=void 0,wh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ic.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nu(this)&&this.run()}get dirty(){return nu(this)}}let Ag=0,Ar,Rr;function Rg(t,e=!1){if(t.flags|=8,e){t.next=Rr,Rr=t;return}t.next=Ar,Ar=t}function vd(){Ag++}function yd(){if(--Ag>0)return;if(Rr){let e=Rr;for(Rr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ar;){let e=Ar;for(Ar=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Og(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ng(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),_d(i),mS(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function nu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Mg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Mg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===qr))return;t.globalVersion=qr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!nu(t)){t.flags&=-3;return}const n=Fe,i=Yt;Fe=t,Yt=!0;try{Og(t);const s=t.fn(t._value);(e.version===0||fi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Fe=n,Yt=i,Ng(t),t.flags&=-3}}function _d(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)_d(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function mS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yt=!0;const Lg=[];function Ei(){Lg.push(Yt),Yt=!1}function Ti(){const t=Lg.pop();Yt=t===void 0?!0:t}function wh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let qr=0;class gS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Yt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new gS(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,Dg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=i)}return n}trigger(e){this.version++,qr++,this.notify(e)}notify(e){vd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yd()}}}function Dg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Dg(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const fa=new WeakMap,ji=Symbol(""),iu=Symbol(""),Gr=Symbol("");function ut(t,e,n){if(Yt&&Fe){let i=fa.get(t);i||fa.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new wd),s.map=i,s.key=n),s.track()}}function On(t,e,n,i,s,r){const o=fa.get(t);if(!o){qr++;return}const a=l=>{l&&l.trigger()};if(vd(),e==="clear")o.forEach(a);else{const l=ue(t),c=l&&gd(n);if(l&&n==="length"){const u=Number(i);o.forEach((d,f)=>{(f==="length"||f===Gr||!qn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Gr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ji)),xs(t)&&a(o.get(iu)));break;case"delete":l||(a(o.get(ji)),xs(t)&&a(o.get(iu)));break;case"set":xs(t)&&a(o.get(ji));break}}yd()}function vS(t,e){const n=fa.get(t);return n&&n.get(e)}function vs(t){const e=Se(t);return e===t?e:(ut(e,"iterate",Gr),Ut(t)?e:e.map(dt))}function ul(t){return ut(t=Se(t),"iterate",Gr),t}const yS={__proto__:null,[Symbol.iterator](){return sc(this,Symbol.iterator,dt)},concat(...t){return vs(this).concat(...t.map(e=>ue(e)?vs(e):e))},entries(){return sc(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return In(this,"every",t,e,void 0,arguments)},filter(t,e){return In(this,"filter",t,e,n=>n.map(dt),arguments)},find(t,e){return In(this,"find",t,e,dt,arguments)},findIndex(t,e){return In(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return In(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return In(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return In(this,"forEach",t,e,void 0,arguments)},includes(...t){return rc(this,"includes",t)},indexOf(...t){return rc(this,"indexOf",t)},join(t){return vs(this).join(t)},lastIndexOf(...t){return rc(this,"lastIndexOf",t)},map(t,e){return In(this,"map",t,e,void 0,arguments)},pop(){return dr(this,"pop")},push(...t){return dr(this,"push",t)},reduce(t,...e){return bh(this,"reduce",t,e)},reduceRight(t,...e){return bh(this,"reduceRight",t,e)},shift(){return dr(this,"shift")},some(t,e){return In(this,"some",t,e,void 0,arguments)},splice(...t){return dr(this,"splice",t)},toReversed(){return vs(this).toReversed()},toSorted(t){return vs(this).toSorted(t)},toSpliced(...t){return vs(this).toSpliced(...t)},unshift(...t){return dr(this,"unshift",t)},values(){return sc(this,"values",dt)}};function sc(t,e,n){const i=ul(t),s=i[e]();return i!==t&&!Ut(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const _S=Array.prototype;function In(t,e,n,i,s,r){const o=ul(t),a=o!==t&&!Ut(t),l=o[e];if(l!==_S[e]){const d=l.apply(t,r);return a?dt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,dt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,i);return a&&s?s(u):u}function bh(t,e,n,i){const s=ul(t);let r=n;return s!==t&&(Ut(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,dt(a),l,t)}),s[e](r,...i)}function rc(t,e,n){const i=Se(t);ut(i,"iterate",Gr);const s=i[e](...n);return(s===-1||s===!1)&&dl(n[0])?(n[0]=Se(n[0]),i[e](...n)):s}function dr(t,e,n=[]){Ei(),vd();const i=Se(t)[e].apply(t,n);return yd(),Ti(),i}const wS=hd("__proto__,__v_isRef,__isVue"),Fg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qn));function bS(t){qn(t)||(t=String(t));const e=Se(this);return ut(e,"has",t),e.hasOwnProperty(t)}class $g{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?RS:Vg:r?jg:Ug).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ue(e);if(!s){let l;if(o&&(l=yS[n]))return l;if(n==="hasOwnProperty")return bS}const a=Reflect.get(e,n,qe(e)?e:i);return(qn(n)?Fg.has(n):wS(n))||(s||ut(e,"get",n),r)?a:qe(a)?o&&gd(n)?a:a.value:Ve(a)?s?Wg(a):us(a):a}}class Bg extends $g{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=Yi(r);if(!Ut(i)&&!Yi(i)&&(r=Se(r),i=Se(i)),!ue(e)&&qe(r)&&!qe(i))return l?!1:(r.value=i,!0)}const o=ue(e)&&gd(n)?Number(n)<e.length:Ie(e,n),a=Reflect.set(e,n,i,qe(e)?e:s);return e===Se(s)&&(o?fi(i,r)&&On(e,"set",n,i):On(e,"add",n,i)),a}deleteProperty(e,n){const i=Ie(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&On(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!qn(n)||!Fg.has(n))&&ut(e,"has",n),i}ownKeys(e){return ut(e,"iterate",ue(e)?"length":ji),Reflect.ownKeys(e)}}class SS extends $g{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ES=new Bg,TS=new SS,CS=new Bg(!0);const su=t=>t,Do=t=>Reflect.getPrototypeOf(t);function IS(t,e,n){return function(...i){const s=this.__v_raw,r=Se(s),o=xs(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?su:e?ru:dt;return!e&&ut(r,"iterate",l?iu:ji),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Fo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xS(t,e){const n={get(s){const r=this.__v_raw,o=Se(r),a=Se(s);t||(fi(s,a)&&ut(o,"get",s),ut(o,"get",a));const{has:l}=Do(o),c=e?su:t?ru:dt;if(l.call(o,s))return c(r.get(s));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!t&&ut(Se(s),"iterate",ji),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=Se(r),a=Se(s);return t||(fi(s,a)&&ut(o,"has",s),ut(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,l=Se(a),c=e?su:t?ru:dt;return!t&&ut(l,"iterate",ji),a.forEach((u,d)=>s.call(r,c(u),c(d),o))}};return pt(n,t?{add:Fo("add"),set:Fo("set"),delete:Fo("delete"),clear:Fo("clear")}:{add(s){!e&&!Ut(s)&&!Yi(s)&&(s=Se(s));const r=Se(this);return Do(r).has.call(r,s)||(r.add(s),On(r,"add",s,s)),this},set(s,r){!e&&!Ut(r)&&!Yi(r)&&(r=Se(r));const o=Se(this),{has:a,get:l}=Do(o);let c=a.call(o,s);c||(s=Se(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,r),c?fi(r,u)&&On(o,"set",s,r):On(o,"add",s,r),this},delete(s){const r=Se(this),{has:o,get:a}=Do(r);let l=o.call(r,s);l||(s=Se(s),l=o.call(r,s)),a&&a.call(r,s);const c=r.delete(s);return l&&On(r,"delete",s,void 0),c},clear(){const s=Se(this),r=s.size!==0,o=s.clear();return r&&On(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=IS(s,t,e)}),n}function bd(t,e){const n=xS(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Ie(n,s)&&s in i?n:i,s,r)}const kS={get:bd(!1,!1)},PS={get:bd(!1,!0)},AS={get:bd(!0,!1)};const Ug=new WeakMap,jg=new WeakMap,Vg=new WeakMap,RS=new WeakMap;function OS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function NS(t){return t.__v_skip||!Object.isExtensible(t)?0:OS(rS(t))}function us(t){return Yi(t)?t:Sd(t,!1,ES,kS,Ug)}function Hg(t){return Sd(t,!1,CS,PS,jg)}function Wg(t){return Sd(t,!0,TS,AS,Vg)}function Sd(t,e,n,i,s){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=NS(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function hi(t){return Yi(t)?hi(t.__v_raw):!!(t&&t.__v_isReactive)}function Yi(t){return!!(t&&t.__v_isReadonly)}function Ut(t){return!!(t&&t.__v_isShallow)}function dl(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function fl(t){return!Ie(t,"__v_skip")&&Object.isExtensible(t)&&Sg(t,"__v_skip",!0),t}const dt=t=>Ve(t)?us(t):t,ru=t=>Ve(t)?Wg(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function $(t){return qg(t,!1)}function zg(t){return qg(t,!0)}function qg(t,e){return qe(t)?t:new MS(t,e)}class MS{constructor(e,n){this.dep=new wd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:dt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Ut(e)||Yi(e);e=i?e:Se(e),fi(e,n)&&(this._rawValue=e,this._value=i?e:dt(e),this.dep.trigger())}}function M(t){return qe(t)?t.value:t}const LS={get:(t,e,n)=>e==="__v_raw"?t:M(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return qe(s)&&!qe(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Gg(t){return hi(t)?t:new Proxy(t,LS)}function DS(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Kg(t,n);return e}class FS{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return vS(Se(this._object),this._key)}}class $S{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function BS(t,e,n){return qe(t)?t:he(t)?new $S(t):Ve(t)&&arguments.length>1?Kg(t,e,n):$(t)}function Kg(t,e,n){const i=t[e];return qe(i)?i:new FS(t,e,n)}class US{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Rg(this,!0),!0}get value(){const e=this.dep.track();return Mg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jS(t,e,n=!1){let i,s;return he(t)?i=t:(i=t.get,s=t.set),new US(i,s,n)}const $o={},ha=new WeakMap;let Oi;function VS(t,e=!1,n=Oi){if(n){let i=ha.get(n);i||ha.set(n,i=[]),i.push(t)}}function HS(t,e,n=Le){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>s?S:Ut(S)||s===!1||s===0?Nn(S,1):Nn(S);let u,d,f,h,p=!1,m=!1;if(qe(t)?(d=()=>t.value,p=Ut(t)):hi(t)?(d=()=>c(t),p=!0):ue(t)?(m=!0,p=t.some(S=>hi(S)||Ut(S)),d=()=>t.map(S=>{if(qe(S))return S.value;if(hi(S))return c(S);if(he(S))return l?l(S,2):S()})):he(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ei();try{f()}finally{Ti()}}const S=Oi;Oi=u;try{return l?l(t,3,[h]):t(h)}finally{Oi=S}}:d=Kt,e&&s){const S=d,T=s===!0?1/0:s;d=()=>Nn(S(),T)}const y=kg(),w=()=>{u.stop(),y&&y.active&&md(y.effects,u)};if(r&&e){const S=e;e=(...T)=>{S(...T),w()}}let v=m?new Array(t.length).fill($o):$o;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const T=u.run();if(s||p||(m?T.some((R,B)=>fi(R,v[B])):fi(T,v))){f&&f();const R=Oi;Oi=u;try{const B=[T,v===$o?void 0:m&&v[0]===$o?[]:v,h];l?l(e,3,B):e(...B),v=T}finally{Oi=R}}}else u.run()};return a&&a(g),u=new Pg(d),u.scheduler=o?()=>o(g,!1):g,h=S=>VS(S,!1,u),f=u.onStop=()=>{const S=ha.get(u);if(S){if(l)l(S,4);else for(const T of S)T();ha.delete(u)}},e?i?g(!0):v=u.run():o?o(g.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Nn(t,e=1/0,n){if(e<=0||!Ve(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qe(t))Nn(t.value,e,n);else if(ue(t))for(let i=0;i<t.length;i++)Nn(t[i],e,n);else if(yg(t)||xs(t))t.forEach(i=>{Nn(i,e,n)});else if(bg(t)){for(const i in t)Nn(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Nn(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yo(t,e,n,i){try{return i?t(...i):t()}catch(s){hl(s,e,n)}}function bn(t,e,n,i){if(he(t)){const s=yo(t,e,n,i);return s&&_g(s)&&s.catch(r=>{hl(r,e,n)}),s}if(ue(t)){const s=[];for(let r=0;r<t.length;r++)s.push(bn(t[r],e,n,i));return s}}function hl(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Le;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Ei(),yo(r,null,10,[t,l,c]),Ti();return}}WS(t,n,s,i,o)}function WS(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const _t=[];let dn=-1;const ks=[];let ti=null,_s=0;const Yg=Promise.resolve();let pa=null;function Ks(t){const e=pa||Yg;return t?e.then(this?t.bind(this):t):e}function zS(t){let e=dn+1,n=_t.length;for(;e<n;){const i=e+n>>>1,s=_t[i],r=Kr(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Ed(t){if(!(t.flags&1)){const e=Kr(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=Kr(n)?_t.push(t):_t.splice(zS(e),0,t),t.flags|=1,Jg()}}function Jg(){pa||(pa=Yg.then(Zg))}function Xg(t){ue(t)?ks.push(...t):ti&&t.id===-1?ti.splice(_s+1,0,t):t.flags&1||(ks.push(t),t.flags|=1),Jg()}function Sh(t,e,n=dn+1){for(;n<_t.length;n++){const i=_t[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;_t.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Qg(t){if(ks.length){const e=[...new Set(ks)].sort((n,i)=>Kr(n)-Kr(i));if(ks.length=0,ti){ti.push(...e);return}for(ti=e,_s=0;_s<ti.length;_s++){const n=ti[_s];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ti=null,_s=0}}const Kr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zg(t){try{for(dn=0;dn<_t.length;dn++){const e=_t[dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),yo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;dn<_t.length;dn++){const e=_t[dn];e&&(e.flags&=-2)}dn=-1,_t.length=0,Qg(),pa=null,(_t.length||ks.length)&&Zg()}}let Qe=null,pl=null;function ma(t){const e=Qe;return Qe=t,pl=t&&t.type.__scopeId||null,e}function qS(t){pl=t}function GS(){pl=null}function ee(t,e=Qe,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&Lh(-1);const r=ma(e);let o;try{o=t(...s)}finally{ma(r),i._d&&Lh(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function jt(t,e){if(Qe===null)return t;const n=yl(Qe),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Le]=e[s];r&&(he(r)&&(r={mounted:r,updated:r}),r.deep&&Nn(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Pi(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Ei(),bn(l,n,8,[t.el,a,t,e]),Ti())}}const ev=Symbol("_vte"),KS=t=>t.__isTeleport,Or=t=>t&&(t.disabled||t.disabled===""),Eh=t=>t&&(t.defer||t.defer===""),Th=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ch=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ou=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},tv={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=c,w=Or(e.props);let{shapeFlag:v,children:g,dynamicChildren:S}=e;if(t==null){const T=e.el=m(""),R=e.anchor=m("");h(T,n,i),h(R,n,i);const B=(C,k)=>{v&16&&(s&&s.isCE&&(s.ce._teleportTarget=C),u(g,C,k,s,r,o,a,l))},x=()=>{const C=e.target=ou(e.props,p),k=iv(C,e,m,h);C&&(o!=="svg"&&Th(C)?o="svg":o!=="mathml"&&Ch(C)&&(o="mathml"),w||(B(C,k),Yo(e,!1)))};w&&(B(n,R),Yo(e,!0)),Eh(e.props)?vt(()=>{x(),e.el.__isMounted=!0},r):x()}else{if(Eh(e.props)&&!t.el.__isMounted){vt(()=>{tv.process(t,e,n,i,s,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,R=e.target=t.target,B=e.targetAnchor=t.targetAnchor,x=Or(t.props),C=x?n:R,k=x?T:B;if(o==="svg"||Th(R)?o="svg":(o==="mathml"||Ch(R))&&(o="mathml"),S?(f(t.dynamicChildren,S,C,s,r,o,a),Pd(t,e,!0)):l||d(t,e,C,k,s,r,o,a,!1),w)x?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bo(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=ou(e.props,p);U&&Bo(e,U,null,c,0)}else x&&Bo(e,R,B,c,1);Yo(e,w)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),r&&s(l),o&16){const h=r||!Or(f);for(let p=0;p<a.length;p++){const m=a[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:Bo,hydrate:YS};function Bo(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(o,e,n),(!d||Or(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&i(a,e,n)}function YS(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=ou(e.props,l);if(f){const h=Or(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,i,s,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||iv(f,e,u,c),d(p&&o(p),e,f,n,i,s,r)}Yo(e,h)}return e.anchor&&o(e.anchor)}const nv=tv;function Yo(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function iv(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[ev]=r,t&&(i(s,t),i(r,t)),r}function Td(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Td(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ke(t,e){return he(t)?pt({name:t.name},e,{setup:t}):t}function JS(){const t=ds();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function sv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ga(t,e,n,i,s=!1){if(ue(t)){t.forEach((p,m)=>ga(p,e&&(ue(e)?e[m]:e),n,i,s));return}if(Ps(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&ga(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?yl(i.component):i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Le?a.refs={}:a.refs,d=a.setupState,f=Se(d),h=d===Le?()=>!1:p=>Ie(f,p);if(c!=null&&c!==l&&(Ge(c)?(u[c]=null,h(c)&&(d[c]=null)):qe(c)&&(c.value=null)),he(l))yo(l,a,12,[o,u]);else{const p=Ge(l),m=qe(l);if(p||m){const y=()=>{if(t.f){const w=p?h(l)?d[l]:u[l]:l.value;s?ue(w)&&md(w,r):ue(w)?w.includes(r)||w.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,vt(y,n)):y()}}}cl().requestIdleCallback;cl().cancelIdleCallback;const Ps=t=>!!t.type.__asyncLoader,rv=t=>t.type.__isKeepAlive;function ov(t,e){lv(t,"a",e)}function av(t,e){lv(t,"da",e)}function lv(t,e,n=st){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(ml(e,i,n),n){let s=n.parent;for(;s&&s.parent;)rv(s.parent.vnode)&&XS(i,e,n,s),s=s.parent}}function XS(t,e,n,i){const s=ml(e,t,i,!0);bt(()=>{md(i[e],s)},n)}function ml(t,e,n=st,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ei();const a=_o(n),l=bn(e,n,t,o);return a(),Ti(),l});return i?s.unshift(r):s.push(r),r}}const Gn=t=>(e,n=st)=>{(!Xr||t==="sp")&&ml(t,(...i)=>e(...i),n)},QS=Gn("bm"),ke=Gn("m"),Cd=Gn("bu"),Id=Gn("u"),xd=Gn("bum"),bt=Gn("um"),ZS=Gn("sp"),eE=Gn("rtg"),tE=Gn("rtc");function nE(t,e=st){ml("ec",t,e)}const cv="components";function Kn(t,e){return dv(cv,t,!0,e)||t}const uv=Symbol.for("v-ndc");function qt(t){return Ge(t)?dv(cv,t,!1)||t:t||uv}function dv(t,e,n=!0,i=!1){const s=Qe||st;if(s){const r=s.type;{const a=HE(r,!1);if(a&&(a===e||a===Wt(e)||a===ll(Wt(e))))return r}const o=Ih(s[t]||r[t],e)||Ih(s.appContext[t],e);return!o&&i?r:o}}function Ih(t,e){return t&&(t[e]||t[Wt(e)]||t[ll(Wt(e))])}function Ys(t,e,n,i){let s;const r=n,o=ue(t);if(o||Ge(t)){const a=o&&hi(t);let l=!1;a&&(l=!Ut(t),t=ul(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?dt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,r)}else if(Ve(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,r)}}else s=[];return s}function fn(t,e,n={},i,s){if(Qe.ce||Qe.parent&&Ps(Qe.parent)&&Qe.parent.ce)return e!=="default"&&(n.name=e),P(),fe(Oe,null,[O("slot",n,i&&i())],64);let r=t[e];r&&r._c&&(r._d=!1),P();const o=r&&fv(r(n)),a=n.key||o&&o.key,l=fe(Oe,{key:(a&&!qn(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function fv(t){return t.some(e=>Jr(e)?!(e.type===Vn||e.type===Oe&&!fv(e.children)):!0)?t:null}const au=t=>t?Rv(t)?yl(t):au(t.parent):null,Nr=pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>au(t.parent),$root:t=>au(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>pv(t),$forceUpdate:t=>t.f||(t.f=()=>{Ed(t.update)}),$nextTick:t=>t.n||(t.n=Ks.bind(t.proxy)),$watch:t=>TE.bind(t)}),oc=(t,e)=>t!==Le&&!t.__isScriptSetup&&Ie(t,e),iE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(oc(i,e))return o[e]=1,i[e];if(s!==Le&&Ie(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Ie(c,e))return o[e]=3,r[e];if(n!==Le&&Ie(n,e))return o[e]=4,n[e];lu&&(o[e]=0)}}const u=Nr[e];let d,f;if(u)return e==="$attrs"&&ut(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Le&&Ie(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ie(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return oc(s,e)?(s[e]=n,!0):i!==Le&&Ie(i,e)?(i[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==Le&&Ie(t,o)||oc(e,o)||(a=r[0])&&Ie(a,o)||Ie(i,o)||Ie(Nr,o)||Ie(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function xh(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let lu=!0;function sE(t){const e=pv(t),n=t.proxy,i=t.ctx;lu=!1,e.beforeCreate&&kh(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:g,unmounted:S,render:T,renderTracked:R,renderTriggered:B,errorCaptured:x,serverPrefetch:C,expose:k,inheritAttrs:U,components:J,directives:H,filters:te}=e;if(c&&rE(c,i,null),o)for(const se in o){const we=o[se];he(we)&&(i[se]=we.bind(n))}if(s){const se=s.call(n,n);Ve(se)&&(t.data=us(se))}if(lu=!0,r)for(const se in r){const we=r[se],mt=he(we)?we.bind(n,n):he(we.get)?we.get.bind(n,n):Kt,Et=!he(we)&&he(we.set)?we.set.bind(n):Kt,me=Q({get:mt,set:Et});Object.defineProperty(i,se,{enumerable:!0,configurable:!0,get:()=>me.value,set:ge=>me.value=ge})}if(a)for(const se in a)hv(a[se],i,n,se);if(l){const se=he(l)?l.call(n):l;Reflect.ownKeys(se).forEach(we=>{ht(we,se[we])})}u&&kh(u,t,"c");function ie(se,we){ue(we)?we.forEach(mt=>se(mt.bind(n))):we&&se(we.bind(n))}if(ie(QS,d),ie(ke,f),ie(Cd,h),ie(Id,p),ie(ov,m),ie(av,y),ie(nE,x),ie(tE,R),ie(eE,B),ie(xd,v),ie(bt,S),ie(ZS,C),ue(k))if(k.length){const se=t.exposed||(t.exposed={});k.forEach(we=>{Object.defineProperty(se,we,{get:()=>n[we],set:mt=>n[we]=mt})})}else t.exposed||(t.exposed={});T&&t.render===Kt&&(t.render=T),U!=null&&(t.inheritAttrs=U),J&&(t.components=J),H&&(t.directives=H),C&&sv(t)}function rE(t,e,n=Kt){ue(t)&&(t=cu(t));for(const i in t){const s=t[i];let r;Ve(s)?"default"in s?r=je(s.from||i,s.default,!0):r=je(s.from||i):r=je(s),qe(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function kh(t,e,n){bn(ue(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function hv(t,e,n,i){let s=i.includes(".")?Iv(n,i):()=>n[i];if(Ge(t)){const r=e[t];he(r)&&ot(s,r)}else if(he(t))ot(s,t.bind(n));else if(Ve(t))if(ue(t))t.forEach(r=>hv(r,e,n,i));else{const r=he(t.handler)?t.handler.bind(n):e[t.handler];he(r)&&ot(s,r,t)}}function pv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>va(l,c,o,!0)),va(l,e,o)),Ve(e)&&r.set(e,l),l}function va(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&va(t,r,n,!0),s&&s.forEach(o=>va(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=oE[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const oE={data:Ph,props:Ah,emits:Ah,methods:Tr,computed:Tr,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:Tr,directives:Tr,watch:lE,provide:Ph,inject:aE};function Ph(t,e){return e?t?function(){return pt(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function aE(t,e){return Tr(cu(t),cu(e))}function cu(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gt(t,e){return t?[...new Set([].concat(t,e))]:e}function Tr(t,e){return t?pt(Object.create(null),t,e):e}function Ah(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:pt(Object.create(null),xh(t),xh(e??{})):e}function lE(t,e){if(!t)return e;if(!e)return t;const n=pt(Object.create(null),t);for(const i in e)n[i]=gt(t[i],e[i]);return n}function mv(){return{app:null,config:{isNativeTag:iS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cE=0;function uE(t,e){return function(i,s=null){he(i)||(i=pt({},i)),s!=null&&!Ve(s)&&(s=null);const r=mv(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:cE++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:zE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&he(u.install)?(o.add(u),u.install(c,...d)):he(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||O(i,s);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,yl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(bn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Vi;Vi=c;try{return u()}finally{Vi=d}}};return c}}let Vi=null;function ht(t,e){if(st){let n=st.provides;const i=st.parent&&st.parent.provides;i===n&&(n=st.provides=Object.create(i)),n[t]=e}}function je(t,e,n=!1){const i=st||Qe;if(i||Vi){const s=Vi?Vi._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&he(e)?e.call(i&&i.proxy):e}}function dE(){return!!(st||Qe||Vi)}const gv={},vv=()=>Object.create(gv),yv=t=>Object.getPrototypeOf(t)===gv;function fE(t,e,n,i=!1){const s={},r=vv();t.propsDefaults=Object.create(null),_v(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:Hg(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function hE(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=Se(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(gl(t.emitsOptions,f))continue;const h=e[f];if(l)if(Ie(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Wt(f);s[p]=uu(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{_v(t,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!Ie(e,d)&&((u=Si(d))===d||!Ie(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=uu(l,a,d,void 0,t,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!Ie(e,d))&&(delete r[d],c=!0)}c&&On(t.attrs,"set","")}function _v(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Pr(l))continue;const c=e[l];let u;s&&Ie(s,u=Wt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:gl(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=Se(n),c=a||Le;for(let u=0;u<r.length;u++){const d=r[u];n[d]=uu(s,l,d,c[d],t,!Ie(c,d))}}return o}function uu(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=Ie(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=_o(s);i=c[n]=l.call(null,e),u()}}else i=l;s.ce&&s.ce._setProp(n,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Si(n))&&(i=!0))}return i}const pE=new WeakMap;function wv(t,e,n=!1){const i=n?pE:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!he(t)){const u=d=>{l=!0;const[f,h]=wv(d,e,!0);pt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ve(t)&&i.set(t,Is),Is;if(ue(r))for(let u=0;u<r.length;u++){const d=Wt(r[u]);Rh(d)&&(o[d]=Le)}else if(r)for(const u in r){const d=Wt(u);if(Rh(d)){const f=r[u],h=o[d]=ue(f)||he(f)?{type:f}:pt({},f),p=h.type;let m=!1,y=!0;if(ue(p))for(let w=0;w<p.length;++w){const v=p[w],g=he(v)&&v.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=he(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||Ie(h,"default"))&&a.push(d)}}const c=[o,a];return Ve(t)&&i.set(t,c),c}function Rh(t){return t[0]!=="$"&&!Pr(t)}const bv=t=>t[0]==="_"||t==="$stable",kd=t=>ue(t)?t.map(pn):[pn(t)],mE=(t,e,n)=>{if(e._n)return e;const i=ee((...s)=>kd(e(...s)),n);return i._c=!1,i},Sv=(t,e,n)=>{const i=t._ctx;for(const s in t){if(bv(s))continue;const r=t[s];if(he(r))e[s]=mE(s,r,i);else if(r!=null){const o=kd(r);e[s]=()=>o}}},Ev=(t,e)=>{const n=kd(e);t.slots.default=()=>n},Tv=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},gE=(t,e,n)=>{const i=t.slots=vv();if(t.vnode.shapeFlag&32){const s=e._;s?(Tv(i,e,n),n&&Sg(i,"_",s,!0)):Sv(e,i)}else e&&Ev(t,e)},vE=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Le;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Tv(s,e,n):(r=!e.$stable,Sv(e,s)),o=e}else e&&(Ev(t,e),o={default:1});if(r)for(const a in s)!bv(a)&&o[a]==null&&delete s[a]},vt=RE;function yE(t){return _E(t)}function _E(t,e){const n=cl();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Kt,insertStaticContent:p}=t,m=(_,b,I,N=null,F=null,D=null,G=void 0,q=null,z=!!b.dynamicChildren)=>{if(_===b)return;_&&!fr(_,b)&&(N=L(_),ge(_,F,D,!0),_=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:j,ref:oe,shapeFlag:Y}=b;switch(j){case vl:y(_,b,I,N);break;case Vn:w(_,b,I,N);break;case Jo:_==null&&v(b,I,N,G);break;case Oe:J(_,b,I,N,F,D,G,q,z);break;default:Y&1?T(_,b,I,N,F,D,G,q,z):Y&6?H(_,b,I,N,F,D,G,q,z):(Y&64||Y&128)&&j.process(_,b,I,N,F,D,G,q,z,Z)}oe!=null&&F&&ga(oe,_&&_.ref,D,b||_,!b)},y=(_,b,I,N)=>{if(_==null)i(b.el=a(b.children),I,N);else{const F=b.el=_.el;b.children!==_.children&&c(F,b.children)}},w=(_,b,I,N)=>{_==null?i(b.el=l(b.children||""),I,N):b.el=_.el},v=(_,b,I,N)=>{[_.el,_.anchor]=p(_.children,b,I,N,_.el,_.anchor)},g=({el:_,anchor:b},I,N)=>{let F;for(;_&&_!==b;)F=f(_),i(_,I,N),_=F;i(b,I,N)},S=({el:_,anchor:b})=>{let I;for(;_&&_!==b;)I=f(_),s(_),_=I;s(b)},T=(_,b,I,N,F,D,G,q,z)=>{b.type==="svg"?G="svg":b.type==="math"&&(G="mathml"),_==null?R(b,I,N,F,D,G,q,z):C(_,b,F,D,G,q,z)},R=(_,b,I,N,F,D,G,q)=>{let z,j;const{props:oe,shapeFlag:Y,transition:ne,dirs:de}=_;if(z=_.el=o(_.type,D,oe&&oe.is,oe),Y&8?u(z,_.children):Y&16&&x(_.children,z,null,N,F,ac(_,D),G,q),de&&Pi(_,null,N,"created"),B(z,_,_.scopeId,G,N),oe){for(const De in oe)De!=="value"&&!Pr(De)&&r(z,De,null,oe[De],D,N);"value"in oe&&r(z,"value",null,oe.value,D),(j=oe.onVnodeBeforeMount)&&cn(j,N,_)}de&&Pi(_,null,N,"beforeMount");const be=wE(F,ne);be&&ne.beforeEnter(z),i(z,b,I),((j=oe&&oe.onVnodeMounted)||be||de)&&vt(()=>{j&&cn(j,N,_),be&&ne.enter(z),de&&Pi(_,null,N,"mounted")},F)},B=(_,b,I,N,F)=>{if(I&&h(_,I),N)for(let D=0;D<N.length;D++)h(_,N[D]);if(F){let D=F.subTree;if(b===D||kv(D.type)&&(D.ssContent===b||D.ssFallback===b)){const G=F.vnode;B(_,G,G.scopeId,G.slotScopeIds,F.parent)}}},x=(_,b,I,N,F,D,G,q,z=0)=>{for(let j=z;j<_.length;j++){const oe=_[j]=q?ni(_[j]):pn(_[j]);m(null,oe,b,I,N,F,D,G,q)}},C=(_,b,I,N,F,D,G)=>{const q=b.el=_.el;let{patchFlag:z,dynamicChildren:j,dirs:oe}=b;z|=_.patchFlag&16;const Y=_.props||Le,ne=b.props||Le;let de;if(I&&Ai(I,!1),(de=ne.onVnodeBeforeUpdate)&&cn(de,I,b,_),oe&&Pi(b,_,I,"beforeUpdate"),I&&Ai(I,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(q,""),j?k(_.dynamicChildren,j,q,I,N,ac(b,F),D):G||we(_,b,q,null,I,N,ac(b,F),D,!1),z>0){if(z&16)U(q,Y,ne,I,F);else if(z&2&&Y.class!==ne.class&&r(q,"class",null,ne.class,F),z&4&&r(q,"style",Y.style,ne.style,F),z&8){const be=b.dynamicProps;for(let De=0;De<be.length;De++){const Pe=be[De],At=Y[Pe],Tt=ne[Pe];(Tt!==At||Pe==="value")&&r(q,Pe,At,Tt,F,I)}}z&1&&_.children!==b.children&&u(q,b.children)}else!G&&j==null&&U(q,Y,ne,I,F);((de=ne.onVnodeUpdated)||oe)&&vt(()=>{de&&cn(de,I,b,_),oe&&Pi(b,_,I,"updated")},N)},k=(_,b,I,N,F,D,G)=>{for(let q=0;q<b.length;q++){const z=_[q],j=b[q],oe=z.el&&(z.type===Oe||!fr(z,j)||z.shapeFlag&70)?d(z.el):I;m(z,j,oe,null,N,F,D,G,!0)}},U=(_,b,I,N,F)=>{if(b!==I){if(b!==Le)for(const D in b)!Pr(D)&&!(D in I)&&r(_,D,b[D],null,F,N);for(const D in I){if(Pr(D))continue;const G=I[D],q=b[D];G!==q&&D!=="value"&&r(_,D,q,G,F,N)}"value"in I&&r(_,"value",b.value,I.value,F)}},J=(_,b,I,N,F,D,G,q,z)=>{const j=b.el=_?_.el:a(""),oe=b.anchor=_?_.anchor:a("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:de}=b;de&&(q=q?q.concat(de):de),_==null?(i(j,I,N),i(oe,I,N),x(b.children||[],I,oe,F,D,G,q,z)):Y>0&&Y&64&&ne&&_.dynamicChildren?(k(_.dynamicChildren,ne,I,F,D,G,q),(b.key!=null||F&&b===F.subTree)&&Pd(_,b,!0)):we(_,b,I,oe,F,D,G,q,z)},H=(_,b,I,N,F,D,G,q,z)=>{b.slotScopeIds=q,_==null?b.shapeFlag&512?F.ctx.activate(b,I,N,G,z):te(b,I,N,F,D,G,z):re(_,b,z)},te=(_,b,I,N,F,D,G)=>{const q=_.component=$E(_,N,F);if(rv(_)&&(q.ctx.renderer=Z),BE(q,!1,G),q.asyncDep){if(F&&F.registerDep(q,ie,G),!_.el){const z=q.subTree=O(Vn);w(null,z,b,I)}}else ie(q,_,b,I,F,D,G)},re=(_,b,I)=>{const N=b.component=_.component;if(PE(_,b,I))if(N.asyncDep&&!N.asyncResolved){se(N,b,I);return}else N.next=b,N.update();else b.el=_.el,N.vnode=b},ie=(_,b,I,N,F,D,G)=>{const q=()=>{if(_.isMounted){let{next:Y,bu:ne,u:de,parent:be,vnode:De}=_;{const an=Cv(_);if(an){Y&&(Y.el=De.el,se(_,Y,G)),an.asyncDep.then(()=>{_.isUnmounted||q()});return}}let Pe=Y,At;Ai(_,!1),Y?(Y.el=De.el,se(_,Y,G)):Y=De,ne&&Ko(ne),(At=Y.props&&Y.props.onVnodeBeforeUpdate)&&cn(At,be,Y,De),Ai(_,!0);const Tt=Nh(_),on=_.subTree;_.subTree=Tt,m(on,Tt,d(on.el),L(on),_,F,D),Y.el=Tt.el,Pe===null&&AE(_,Tt.el),de&&vt(de,F),(At=Y.props&&Y.props.onVnodeUpdated)&&vt(()=>cn(At,be,Y,De),F)}else{let Y;const{el:ne,props:de}=b,{bm:be,m:De,parent:Pe,root:At,type:Tt}=_,on=Ps(b);Ai(_,!1),be&&Ko(be),!on&&(Y=de&&de.onVnodeBeforeMount)&&cn(Y,Pe,b),Ai(_,!0);{At.ce&&At.ce._injectChildStyle(Tt);const an=_.subTree=Nh(_);m(null,an,I,N,_,F,D),b.el=an.el}if(De&&vt(De,F),!on&&(Y=de&&de.onVnodeMounted)){const an=b;vt(()=>cn(Y,Pe,an),F)}(b.shapeFlag&256||Pe&&Ps(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&_.a&&vt(_.a,F),_.isMounted=!0,b=I=N=null}};_.scope.on();const z=_.effect=new Pg(q);_.scope.off();const j=_.update=z.run.bind(z),oe=_.job=z.runIfDirty.bind(z);oe.i=_,oe.id=_.uid,z.scheduler=()=>Ed(oe),Ai(_,!0),j()},se=(_,b,I)=>{b.component=_;const N=_.vnode.props;_.vnode=b,_.next=null,hE(_,b.props,N,I),vE(_,b.children,I),Ei(),Sh(_),Ti()},we=(_,b,I,N,F,D,G,q,z=!1)=>{const j=_&&_.children,oe=_?_.shapeFlag:0,Y=b.children,{patchFlag:ne,shapeFlag:de}=b;if(ne>0){if(ne&128){Et(j,Y,I,N,F,D,G,q,z);return}else if(ne&256){mt(j,Y,I,N,F,D,G,q,z);return}}de&8?(oe&16&&at(j,F,D),Y!==j&&u(I,Y)):oe&16?de&16?Et(j,Y,I,N,F,D,G,q,z):at(j,F,D,!0):(oe&8&&u(I,""),de&16&&x(Y,I,N,F,D,G,q,z))},mt=(_,b,I,N,F,D,G,q,z)=>{_=_||Is,b=b||Is;const j=_.length,oe=b.length,Y=Math.min(j,oe);let ne;for(ne=0;ne<Y;ne++){const de=b[ne]=z?ni(b[ne]):pn(b[ne]);m(_[ne],de,I,null,F,D,G,q,z)}j>oe?at(_,F,D,!0,!1,Y):x(b,I,N,F,D,G,q,z,Y)},Et=(_,b,I,N,F,D,G,q,z)=>{let j=0;const oe=b.length;let Y=_.length-1,ne=oe-1;for(;j<=Y&&j<=ne;){const de=_[j],be=b[j]=z?ni(b[j]):pn(b[j]);if(fr(de,be))m(de,be,I,null,F,D,G,q,z);else break;j++}for(;j<=Y&&j<=ne;){const de=_[Y],be=b[ne]=z?ni(b[ne]):pn(b[ne]);if(fr(de,be))m(de,be,I,null,F,D,G,q,z);else break;Y--,ne--}if(j>Y){if(j<=ne){const de=ne+1,be=de<oe?b[de].el:N;for(;j<=ne;)m(null,b[j]=z?ni(b[j]):pn(b[j]),I,be,F,D,G,q,z),j++}}else if(j>ne)for(;j<=Y;)ge(_[j],F,D,!0),j++;else{const de=j,be=j,De=new Map;for(j=be;j<=ne;j++){const Rt=b[j]=z?ni(b[j]):pn(b[j]);Rt.key!=null&&De.set(Rt.key,j)}let Pe,At=0;const Tt=ne-be+1;let on=!1,an=0;const ur=new Array(Tt);for(j=0;j<Tt;j++)ur[j]=0;for(j=de;j<=Y;j++){const Rt=_[j];if(At>=Tt){ge(Rt,F,D,!0);continue}let ln;if(Rt.key!=null)ln=De.get(Rt.key);else for(Pe=be;Pe<=ne;Pe++)if(ur[Pe-be]===0&&fr(Rt,b[Pe])){ln=Pe;break}ln===void 0?ge(Rt,F,D,!0):(ur[ln-be]=j+1,ln>=an?an=ln:on=!0,m(Rt,b[ln],I,null,F,D,G,q,z),At++)}const vh=on?bE(ur):Is;for(Pe=vh.length-1,j=Tt-1;j>=0;j--){const Rt=be+j,ln=b[Rt],yh=Rt+1<oe?b[Rt+1].el:N;ur[j]===0?m(null,ln,I,yh,F,D,G,q,z):on&&(Pe<0||j!==vh[Pe]?me(ln,I,yh,2):Pe--)}}},me=(_,b,I,N,F=null)=>{const{el:D,type:G,transition:q,children:z,shapeFlag:j}=_;if(j&6){me(_.component.subTree,b,I,N);return}if(j&128){_.suspense.move(b,I,N);return}if(j&64){G.move(_,b,I,Z);return}if(G===Oe){i(D,b,I);for(let Y=0;Y<z.length;Y++)me(z[Y],b,I,N);i(_.anchor,b,I);return}if(G===Jo){g(_,b,I);return}if(N!==2&&j&1&&q)if(N===0)q.beforeEnter(D),i(D,b,I),vt(()=>q.enter(D),F);else{const{leave:Y,delayLeave:ne,afterLeave:de}=q,be=()=>i(D,b,I),De=()=>{Y(D,()=>{be(),de&&de()})};ne?ne(D,be,De):De()}else i(D,b,I)},ge=(_,b,I,N=!1,F=!1)=>{const{type:D,props:G,ref:q,children:z,dynamicChildren:j,shapeFlag:oe,patchFlag:Y,dirs:ne,cacheIndex:de}=_;if(Y===-2&&(F=!1),q!=null&&ga(q,null,I,_,!0),de!=null&&(b.renderCache[de]=void 0),oe&256){b.ctx.deactivate(_);return}const be=oe&1&&ne,De=!Ps(_);let Pe;if(De&&(Pe=G&&G.onVnodeBeforeUnmount)&&cn(Pe,b,_),oe&6)Xn(_.component,I,N);else{if(oe&128){_.suspense.unmount(I,N);return}be&&Pi(_,null,b,"beforeUnmount"),oe&64?_.type.remove(_,b,I,Z,N):j&&!j.hasOnce&&(D!==Oe||Y>0&&Y&64)?at(j,b,I,!1,!0):(D===Oe&&Y&384||!F&&oe&16)&&at(z,b,I),N&&Je(_)}(De&&(Pe=G&&G.onVnodeUnmounted)||be)&&vt(()=>{Pe&&cn(Pe,b,_),be&&Pi(_,null,b,"unmounted")},I)},Je=_=>{const{type:b,el:I,anchor:N,transition:F}=_;if(b===Oe){Xe(I,N);return}if(b===Jo){S(_);return}const D=()=>{s(I),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:G,delayLeave:q}=F,z=()=>G(I,D);q?q(_.el,D,z):z()}else D()},Xe=(_,b)=>{let I;for(;_!==b;)I=f(_),s(_),_=I;s(b)},Xn=(_,b,I)=>{const{bum:N,scope:F,job:D,subTree:G,um:q,m:z,a:j}=_;Oh(z),Oh(j),N&&Ko(N),F.stop(),D&&(D.flags|=8,ge(G,_,b,I)),q&&vt(q,b),vt(()=>{_.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},at=(_,b,I,N=!1,F=!1,D=0)=>{for(let G=D;G<_.length;G++)ge(_[G],b,I,N,F)},L=_=>{if(_.shapeFlag&6)return L(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=f(_.anchor||_.el),I=b&&b[ev];return I?f(I):b};let X=!1;const K=(_,b,I)=>{_==null?b._vnode&&ge(b._vnode,null,null,!0):m(b._vnode||null,_,b,null,null,null,I),b._vnode=_,X||(X=!0,Sh(),Qg(),X=!1)},Z={p:m,um:ge,m:me,r:Je,mt:te,mc:x,pc:we,pbc:k,n:L,o:t};return{render:K,hydrate:void 0,createApp:uE(K)}}function ac({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ai({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pd(t,e,n=!1){const i=t.children,s=e.children;if(ue(i)&&ue(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=ni(s[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Pd(o,a)),a.type===vl&&(a.el=o.el)}}function bE(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Cv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Cv(e)}function Oh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const SE=Symbol.for("v-scx"),EE=()=>je(SE);function Qt(t,e){return Ad(t,null,e)}function ot(t,e,n){return Ad(t,e,n)}function Ad(t,e,n=Le){const{immediate:i,deep:s,flush:r,once:o}=n,a=pt({},n),l=e&&i||!e&&r!=="post";let c;if(Xr){if(r==="sync"){const h=EE();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Kt,h.resume=Kt,h.pause=Kt,h}}const u=st;a.call=(h,p,m)=>bn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Ed(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=HS(t,e,a);return Xr&&(c?c.push(f):l&&f()),f}function TE(t,e,n){const i=this.proxy,s=Ge(t)?t.includes(".")?Iv(i,t):()=>i[t]:t.bind(i,i);let r;he(e)?r=e:(r=e.handler,n=e);const o=_o(this),a=Ad(s,r.bind(i),n);return o(),a}function Iv(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const CE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Wt(e)}Modifiers`]||t[`${Si(e)}Modifiers`];function IE(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Le;let s=n;const r=e.startsWith("update:"),o=r&&CE(i,e.slice(7));o&&(o.trim&&(s=n.map(u=>Ge(u)?u.trim():u)),o.number&&(s=n.map(tu)));let a,l=i[a=tc(e)]||i[a=tc(Wt(e))];!l&&r&&(l=i[a=tc(Si(e))]),l&&bn(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bn(c,t,6,s)}}function xv(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!he(t)){const l=c=>{const u=xv(c,e,!0);u&&(a=!0,pt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ve(t)&&i.set(t,null),null):(ue(r)?r.forEach(l=>o[l]=null):pt(o,r),Ve(t)&&i.set(t,o),o)}function gl(t,e){return!t||!rl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,Si(e))||Ie(t,e))}function Nh(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=ma(t);let w,v;try{if(n.shapeFlag&4){const S=s||i,T=S;w=pn(c.call(T,S,u,d,h,f,p)),v=a}else{const S=e;w=pn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),v=e.props?a:xE(a)}}catch(S){Mr.length=0,hl(S,t,1),w=O(Vn)}let g=w;if(v&&m!==!1){const S=Object.keys(v),{shapeFlag:T}=g;S.length&&T&7&&(r&&S.some(pd)&&(v=kE(v,r)),g=Ji(g,v,!1,!0))}return n.dirs&&(g=Ji(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Td(g,n.transition),w=g,ma(y),w}const xE=t=>{let e;for(const n in t)(n==="class"||n==="style"||rl(n))&&((e||(e={}))[n]=t[n]);return e},kE=(t,e)=>{const n={};for(const i in t)(!pd(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function PE(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Mh(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!gl(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Mh(i,o,c):!0:!!o;return!1}function Mh(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!gl(n,r))return!0}return!1}function AE({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const kv=t=>t.__isSuspense;function RE(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Xg(t)}const Oe=Symbol.for("v-fgt"),vl=Symbol.for("v-txt"),Vn=Symbol.for("v-cmt"),Jo=Symbol.for("v-stc"),Mr=[];let Lt=null;function P(t=!1){Mr.push(Lt=t?null:[])}function OE(){Mr.pop(),Lt=Mr[Mr.length-1]||null}let Yr=1;function Lh(t,e=!1){Yr+=t,t<0&&Lt&&e&&(Lt.hasOnce=!0)}function Pv(t){return t.dynamicChildren=Yr>0?Lt||Is:null,OE(),Yr>0&&Lt&&Lt.push(t),t}function V(t,e,n,i,s,r){return Pv(E(t,e,n,i,s,r,!0))}function fe(t,e,n,i,s){return Pv(O(t,e,n,i,s,!0))}function Jr(t){return t?t.__v_isVNode===!0:!1}function fr(t,e){return t.type===e.type&&t.key===e.key}const Av=({key:t})=>t??null,Xo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||qe(t)||he(t)?{i:Qe,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,i=0,s=null,r=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Av(e),ref:e&&Xo(e),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Qe};return a?(Rd(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),Yr>0&&!o&&Lt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Lt.push(l),l}const O=NE;function NE(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===uv)&&(t=Vn),Jr(t)){const a=Ji(t,e,!0);return n&&Rd(a,n),Yr>0&&!r&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(t)]=a:Lt.push(a)),a.patchFlag=-2,a}if(WE(t)&&(t=t.__vccOpts),e){e=ME(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=xe(a)),Ve(l)&&(dl(l)&&!ue(l)&&(l=pt({},l)),e.style=vo(l))}const o=Ge(t)?1:kv(t)?128:KS(t)?64:Ve(t)?4:he(t)?2:0;return E(t,e,n,i,s,o,r,!0)}function ME(t){return t?dl(t)||yv(t)?pt({},t):t:null}function Ji(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?LE(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Av(c),ref:e&&e.ref?n&&r?ue(r)?r.concat(Xo(e)):[r,Xo(e)]:Xo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ji(t.ssContent),ssFallback:t.ssFallback&&Ji(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Td(u,l.clone(u)),u}function Be(t=" ",e=0){return O(vl,null,t,e)}function Me(t="",e=!1){return e?(P(),fe(Vn,null,t)):O(Vn,null,t)}function pn(t){return t==null||typeof t=="boolean"?O(Vn):ue(t)?O(Oe,null,t.slice()):Jr(t)?ni(t):O(vl,null,String(t))}function ni(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ji(t)}function Rd(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Rd(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!yv(e)?e._ctx=Qe:s===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:Qe},n=32):(e=String(e),i&64?(n=16,e=[Be(e)]):n=8);t.children=e,t.shapeFlag|=n}function LE(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=xe([e.class,i.class]));else if(s==="style")e.style=vo([e.style,i.style]);else if(rl(s)){const r=e[s],o=i[s];o&&r!==o&&!(ue(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function cn(t,e,n,i=null){bn(t,e,7,[n,i])}const DE=mv();let FE=0;function $E(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||DE,r={uid:FE++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ig(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wv(i,s),emitsOptions:xv(i,s),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:i.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=IE.bind(null,r),t.ce&&t.ce(r),r}let st=null;const ds=()=>st||Qe;let ya,du;{const t=cl(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};ya=e("__VUE_INSTANCE_SETTERS__",n=>st=n),du=e("__VUE_SSR_SETTERS__",n=>Xr=n)}const _o=t=>{const e=st;return ya(t),t.scope.on(),()=>{t.scope.off(),ya(e)}},Dh=()=>{st&&st.scope.off(),ya(null)};function Rv(t){return t.vnode.shapeFlag&4}let Xr=!1;function BE(t,e=!1,n=!1){e&&du(e);const{props:i,children:s}=t.vnode,r=Rv(t);fE(t,i,r,e),gE(t,s,n);const o=r?UE(t,e):void 0;return e&&du(!1),o}function UE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,iE);const{setup:i}=n;if(i){Ei();const s=t.setupContext=i.length>1?VE(t):null,r=_o(t),o=yo(i,t,0,[t.props,s]),a=_g(o);if(Ti(),r(),(a||t.sp)&&!Ps(t)&&sv(t),a){if(o.then(Dh,Dh),e)return o.then(l=>{Fh(t,l)}).catch(l=>{hl(l,t,0)});t.asyncDep=o}else Fh(t,o)}else Ov(t)}function Fh(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=Gg(e)),Ov(t)}function Ov(t,e,n){const i=t.type;t.render||(t.render=i.render||Kt);{const s=_o(t);Ei();try{sE(t)}finally{Ti(),s()}}}const jE={get(t,e){return ut(t,"get",""),t[e]}};function VE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,jE),slots:t.slots,emit:t.emit,expose:e}}function yl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Gg(fl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Nr)return Nr[n](t)},has(e,n){return n in e||n in Nr}})):t.proxy}function HE(t,e=!0){return he(t)?t.displayName||t.name:t.name||e&&t.__name}function WE(t){return he(t)&&"__vccOpts"in t}const Q=(t,e)=>jS(t,e,Xr);function Ee(t,e,n){const i=arguments.length;return i===2?Ve(e)&&!ue(e)?Jr(e)?O(t,null,[e]):O(t,e):O(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Jr(n)&&(n=[n]),O(t,e,n))}const zE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fu;const $h=typeof window<"u"&&window.trustedTypes;if($h)try{fu=$h.createPolicy("vue",{createHTML:t=>t})}catch{}const Nv=fu?t=>fu.createHTML(t):t=>t,qE="http://www.w3.org/2000/svg",GE="http://www.w3.org/1998/Math/MathML",Pn=typeof document<"u"?document:null,Bh=Pn&&Pn.createElement("template"),KE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?Pn.createElementNS(qE,t):e==="mathml"?Pn.createElementNS(GE,t):n?Pn.createElement(t,{is:n}):Pn.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Pn.createTextNode(t),createComment:t=>Pn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Bh.innerHTML=Nv(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Bh.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},YE=Symbol("_vtc");function JE(t,e,n){const i=t[YE];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _a=Symbol("_vod"),Mv=Symbol("_vsh"),Lr={beforeMount(t,{value:e},{transition:n}){t[_a]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):hr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),hr(t,!0),i.enter(t)):i.leave(t,()=>{hr(t,!1)}):hr(t,e))},beforeUnmount(t,{value:e}){hr(t,e)}};function hr(t,e){t.style.display=e?t[_a]:"none",t[Mv]=!e}const Lv=Symbol("");function XE(t){const e=ds();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>wa(r,s))},i=()=>{const s=t(e.proxy);e.ce?wa(e.ce,s):hu(e.subTree,s),n(s)};Cd(()=>{Xg(i)}),ke(()=>{ot(i,Kt,{flush:"post"});const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),bt(()=>s.disconnect())})}function hu(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{hu(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)wa(t.el,e);else if(t.type===Oe)t.children.forEach(n=>hu(n,e));else if(t.type===Jo){let{el:n,anchor:i}=t;for(;n&&(wa(n,e),n!==i);)n=n.nextSibling}}function wa(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const s in e)n.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;n[Lv]=i}}const QE=/(^|;)\s*display\s*:/;function ZE(t,e,n){const i=t.style,s=Ge(n);let r=!1;if(n&&!s){if(e)if(Ge(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Qo(i,a,"")}else for(const o in e)n[o]==null&&Qo(i,o,"");for(const o in n)o==="display"&&(r=!0),Qo(i,o,n[o])}else if(s){if(e!==n){const o=i[Lv];o&&(n+=";"+o),i.cssText=n,r=QE.test(n)}}else e&&t.removeAttribute("style");_a in t&&(t[_a]=r?i.display:"",t[Mv]&&(i.display="none"))}const Uh=/\s*!important$/;function Qo(t,e,n){if(ue(n))n.forEach(i=>Qo(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=e0(t,e);Uh.test(n)?t.setProperty(Si(i),n.replace(Uh,""),"important"):t[i]=n}}const jh=["Webkit","Moz","ms"],lc={};function e0(t,e){const n=lc[e];if(n)return n;let i=Wt(e);if(i!=="filter"&&i in t)return lc[e]=i;i=ll(i);for(let s=0;s<jh.length;s++){const r=jh[s]+i;if(r in t)return lc[e]=r}return e}const Vh="http://www.w3.org/1999/xlink";function Hh(t,e,n,i,s,r=hS(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Vh,e.slice(6,e.length)):t.setAttributeNS(Vh,e,n):n==null||r&&!Eg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":qn(n)?String(n):n)}function Wh(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Nv(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Eg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function ws(t,e,n,i){t.addEventListener(e,n,i)}function t0(t,e,n,i){t.removeEventListener(e,n,i)}const zh=Symbol("_vei");function n0(t,e,n,i,s=null){const r=t[zh]||(t[zh]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=i0(e);if(i){const c=r[e]=o0(i,s);ws(t,a,c,l)}else o&&(t0(t,a,o,l),r[e]=void 0)}}const qh=/(?:Once|Passive|Capture)$/;function i0(t){let e;if(qh.test(t)){e={};let i;for(;i=t.match(qh);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Si(t.slice(2)),e]}let cc=0;const s0=Promise.resolve(),r0=()=>cc||(s0.then(()=>cc=0),cc=Date.now());function o0(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;bn(a0(i,n.value),e,5,[i])};return n.value=t,n.attached=r0(),n}function a0(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Gh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,l0=(t,e,n,i,s,r)=>{const o=s==="svg";e==="class"?JE(t,i,o):e==="style"?ZE(t,n,i):rl(e)?pd(e)||n0(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):c0(t,e,i,o))?(Wh(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Hh(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(i))?Wh(t,Wt(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Hh(t,e,i,o))};function c0(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Gh(e)&&he(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Gh(e)&&Ge(n)?!1:e in t}const Kh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Ko(e,n):e};function u0(t){t.target.composing=!0}function Yh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const uc=Symbol("_assign"),Hi={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[uc]=Kh(s);const r=i||s.props&&s.props.type==="number";ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=tu(a)),t[uc](a)}),n&&ws(t,"change",()=>{t.value=t.value.trim()}),e||(ws(t,"compositionstart",u0),ws(t,"compositionend",Yh),ws(t,"change",Yh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},o){if(t[uc]=Kh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?tu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},d0=["ctrl","shift","alt","meta"],f0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>d0.some(n=>t[`${n}Key`]&&!e.includes(n))},Ot=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=f0[e[o]];if(a&&a(s,e))return}return t(s,...r)})},h0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=Si(s.key);if(e.some(o=>o===r||h0[o]===r))return t(s)})},p0=pt({patchProp:l0},KE);let Xh;function m0(){return Xh||(Xh=yE(p0))}const g0=(...t)=>{const e=m0().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=y0(i);if(!s)return;const r=e._component;!he(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,v0(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function v0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function y0(t){return Ge(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const bs=typeof document<"u";function Dv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function _0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Dv(t.default)}const Ce=Object.assign;function dc(t,e){const n={};for(const i in e){const s=e[i];n[i]=Zt(s)?s.map(t):t(s)}return n}const Dr=()=>{},Zt=Array.isArray,Fv=/#/g,w0=/&/g,b0=/\//g,S0=/=/g,E0=/\?/g,$v=/\+/g,T0=/%5B/g,C0=/%5D/g,Bv=/%5E/g,I0=/%60/g,Uv=/%7B/g,x0=/%7C/g,jv=/%7D/g,k0=/%20/g;function Od(t){return encodeURI(""+t).replace(x0,"|").replace(T0,"[").replace(C0,"]")}function P0(t){return Od(t).replace(Uv,"{").replace(jv,"}").replace(Bv,"^")}function pu(t){return Od(t).replace($v,"%2B").replace(k0,"+").replace(Fv,"%23").replace(w0,"%26").replace(I0,"`").replace(Uv,"{").replace(jv,"}").replace(Bv,"^")}function A0(t){return pu(t).replace(S0,"%3D")}function R0(t){return Od(t).replace(Fv,"%23").replace(E0,"%3F")}function O0(t){return t==null?"":R0(t).replace(b0,"%2F")}function Qr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const N0=/\/$/,M0=t=>t.replace(N0,"");function fc(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=$0(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:Qr(o)}}function L0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Qh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function D0(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Fs(e.matched[i],n.matched[s])&&Vv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Vv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!F0(t[n],e[n]))return!1;return!0}function F0(t,e){return Zt(t)?Zh(t,e):Zt(e)?Zh(e,t):t===e}function Zh(t,e){return Zt(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function $0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zr;(function(t){t.pop="pop",t.push="push"})(Zr||(Zr={}));var Fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Fr||(Fr={}));function B0(t){if(!t)if(bs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),M0(t)}const U0=/^[^#]+#/;function j0(t,e){return t.replace(U0,"#")+e}function V0(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const _l=()=>({left:window.scrollX,top:window.scrollY});function H0(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=V0(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ep(t,e){return(history.state?history.state.position-e:-1)+t}const mu=new Map;function W0(t,e){mu.set(t,e)}function z0(t){const e=mu.get(t);return mu.delete(t),e}let q0=()=>location.protocol+"//"+location.host;function Hv(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Qh(l,"")}return Qh(n,t)+i+s}function G0(t,e,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const h=Hv(t,location),p=n.value,m=e.value;let y=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else i(h);s.forEach(w=>{w(n.value,p,{delta:y,type:Zr.pop,direction:y?y>0?Fr.forward:Fr.back:Fr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Ce({},f.state,{scroll:_l()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function tp(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?_l():null}}function K0(t){const{history:e,location:n}=window,i={value:Hv(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:q0()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ce({},e.state,tp(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=Ce({},s.value,e.state,{forward:l,scroll:_l()});r(u.current,u,!0);const d=Ce({},tp(i.value,l,null),{position:u.position+1},c);r(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function Y0(t){t=B0(t);const e=K0(t),n=G0(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Ce({location:"",base:t,go:i,createHref:j0.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function J0(t){return typeof t=="string"||t&&typeof t=="object"}function Wv(t){return typeof t=="string"||typeof t=="symbol"}const zv=Symbol("");var np;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(np||(np={}));function $s(t,e){return Ce(new Error,{type:t,[zv]:!0},e)}function xn(t,e){return t instanceof Error&&zv in t&&(e==null||!!(t.type&e))}const ip="[^/]+?",X0={sensitive:!1,strict:!1,start:!0,end:!0},Q0=/[.+*?^${}()[\]/\\]/g;function Z0(t,e){const n=Ce({},X0,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(Q0,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:w}=f;r.push({name:p,repeatable:m,optional:y});const v=w||ip;if(v!==ip){h+=10;try{new RegExp(`(${v})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+S.message)}}let g=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),s+=g,h+=20,y&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,w=p in c?c[p]:"";if(Zt(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Zt(w)?w.join("/"):w;if(!v)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function eT(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function qv(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=eT(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(sp(i))return 1;if(sp(s))return-1}return s.length-i.length}function sp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tT={type:0,value:""},nT=/[a-zA-Z0-9_]/;function iT(t){if(!t)return[[]];if(t==="/")return[[tT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:nT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function sT(t,e,n){const i=Z0(iT(t.path),n),s=Ce(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function rT(t,e){const n=[],i=new Map;e=lp({strict:!1,end:!0,sensitive:!1},e);function s(d){return i.get(d)}function r(d,f,h){const p=!h,m=op(d);m.aliasOf=h&&h.record;const y=lp(e,d),w=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of S)w.push(op(Ce({},m,{components:h?h.record.components:m.components,path:T,aliasOf:h?h.record:m})))}let v,g;for(const S of w){const{path:T}=S;if(f&&T[0]!=="/"){const R=f.record.path,B=R[R.length-1]==="/"?"":"/";S.path=f.record.path+(T&&B+T)}if(v=sT(S,f,y),h?h.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),p&&d.name&&!ap(v)&&o(d.name)),Gv(v)&&l(v),m.children){const R=m.children;for(let B=0;B<R.length;B++)r(R[B],v,h&&h.children[B])}h=h||v}return g?()=>{o(g)}:Dr}function o(d){if(Wv(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=lT(d,n);n.splice(f,0,d),d.record.name&&!ap(d)&&i.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw $s(1,{location:d});y=h.record.name,p=Ce(rp(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&rp(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?i.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw $s(1,{location:d,currentLocation:f});y=h.record.name,p=Ce({},f.params,d.params),m=h.stringify(p)}const w=[];let v=h;for(;v;)w.unshift(v.record),v=v.parent;return{name:y,path:m,params:p,matched:w,meta:aT(w)}}t.forEach(d=>r(d));function u(){n.length=0,i.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function rp(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function op(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:oT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function oT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function ap(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function aT(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function lp(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function lT(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;qv(t,e[r])<0?i=r:n=r+1}const s=cT(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function cT(t){let e=t;for(;e=e.parent;)if(Gv(e)&&qv(t,e)===0)return e}function Gv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function uT(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace($v," "),o=r.indexOf("="),a=Qr(o<0?r:r.slice(0,o)),l=o<0?null:Qr(r.slice(o+1));if(a in e){let c=e[a];Zt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function cp(t){let e="";for(let n in t){const i=t[n];if(n=A0(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zt(i)?i.map(r=>r&&pu(r)):[i&&pu(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function dT(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Zt(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Kv=Symbol(""),up=Symbol(""),wl=Symbol(""),Nd=Symbol(""),gu=Symbol("");function pr(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function fT(t,e,n){const i=()=>{t[e].delete(n)};bt(i),av(i),ov(()=>{t[e].add(n)}),t[e].add(n)}function hT(t){const e=je(Kv,{}).value;e&&fT(e,"updateGuards",t)}function ii(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l($s(4,{from:n,to:e})):f instanceof Error?l(f):J0(f)?l($s(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(i&&i.instances[s],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function hc(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Dv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ii(u,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=_0(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ii(h,n,i,o,a,s)()}))}}return r}function dp(t){const e=je(wl),n=je(Nd),i=Q(()=>{const l=M(t.to);return e.resolve(l)}),s=Q(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Fs.bind(null,u));if(f>-1)return f;const h=fp(l[c-2]);return c>1&&fp(u)===h&&d[d.length-1].path!==h?d.findIndex(Fs.bind(null,l[c-2])):f}),r=Q(()=>s.value>-1&&vT(n.params,i.value.params)),o=Q(()=>s.value>-1&&s.value===n.matched.length-1&&Vv(n.params,i.value.params));function a(l={}){if(gT(l)){const c=e[M(t.replace)?"replace":"push"](M(t.to)).catch(Dr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:Q(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}function pT(t){return t.length===1?t[0]:t}const mT=Ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dp,setup(t,{slots:e}){const n=us(dp(t)),{options:i}=je(wl),s=Q(()=>({[hp(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[hp(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&pT(e.default(n));return t.custom?r:Ee("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),bl=mT;function gT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function vT(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Zt(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function fp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const hp=(t,e,n)=>t??e??n,yT=Ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=je(gu),s=Q(()=>t.route||i.value),r=je(up,0),o=Q(()=>{let c=M(r);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Q(()=>s.value.matched[o.value]);ht(up,Q(()=>o.value+1)),ht(Kv,a),ht(gu,s);const l=$();return ot(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Fs(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return pp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Ee(f,Ce({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return pp(n.default,{Component:y,route:c})||y}}});function pp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const _T=yT;function wT(t){const e=rT(t.routes,t),n=t.parseQuery||uT,i=t.stringifyQuery||cp,s=t.history,r=pr(),o=pr(),a=pr(),l=zg(Qn);let c=Qn;bs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=dc.bind(null,L=>""+L),d=dc.bind(null,O0),f=dc.bind(null,Qr);function h(L,X){let K,Z;return Wv(L)?(K=e.getRecordMatcher(L),Z=X):Z=L,e.addRoute(Z,K)}function p(L){const X=e.getRecordMatcher(L);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(L=>L.record)}function y(L){return!!e.getRecordMatcher(L)}function w(L,X){if(X=Ce({},X||l.value),typeof L=="string"){const I=fc(n,L,X.path),N=e.resolve({path:I.path},X),F=s.createHref(I.fullPath);return Ce(I,N,{params:f(N.params),hash:Qr(I.hash),redirectedFrom:void 0,href:F})}let K;if(L.path!=null)K=Ce({},L,{path:fc(n,L.path,X.path).path});else{const I=Ce({},L.params);for(const N in I)I[N]==null&&delete I[N];K=Ce({},L,{params:d(I)}),X.params=d(X.params)}const Z=e.resolve(K,X),Ne=L.hash||"";Z.params=u(f(Z.params));const _=L0(i,Ce({},L,{hash:P0(Ne),path:Z.path})),b=s.createHref(_);return Ce({fullPath:_,hash:Ne,query:i===cp?dT(L.query):L.query||{}},Z,{redirectedFrom:void 0,href:b})}function v(L){return typeof L=="string"?fc(n,L,l.value.path):Ce({},L)}function g(L,X){if(c!==L)return $s(8,{from:X,to:L})}function S(L){return B(L)}function T(L){return S(Ce(v(L),{replace:!0}))}function R(L){const X=L.matched[L.matched.length-1];if(X&&X.redirect){const{redirect:K}=X;let Z=typeof K=="function"?K(L):K;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=v(Z):{path:Z},Z.params={}),Ce({query:L.query,hash:L.hash,params:Z.path!=null?{}:L.params},Z)}}function B(L,X){const K=c=w(L),Z=l.value,Ne=L.state,_=L.force,b=L.replace===!0,I=R(K);if(I)return B(Ce(v(I),{state:typeof I=="object"?Ce({},Ne,I.state):Ne,force:_,replace:b}),X||K);const N=K;N.redirectedFrom=X;let F;return!_&&D0(i,Z,K)&&(F=$s(16,{to:N,from:Z}),me(Z,Z,!0,!1)),(F?Promise.resolve(F):k(N,Z)).catch(D=>xn(D)?xn(D,2)?D:Et(D):we(D,N,Z)).then(D=>{if(D){if(xn(D,2))return B(Ce({replace:b},v(D.to),{state:typeof D.to=="object"?Ce({},Ne,D.to.state):Ne,force:_}),X||N)}else D=J(N,Z,!0,b,Ne);return U(N,Z,D),D})}function x(L,X){const K=g(L,X);return K?Promise.reject(K):Promise.resolve()}function C(L){const X=Xe.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(L):L()}function k(L,X){let K;const[Z,Ne,_]=bT(L,X);K=hc(Z.reverse(),"beforeRouteLeave",L,X);for(const I of Z)I.leaveGuards.forEach(N=>{K.push(ii(N,L,X))});const b=x.bind(null,L,X);return K.push(b),at(K).then(()=>{K=[];for(const I of r.list())K.push(ii(I,L,X));return K.push(b),at(K)}).then(()=>{K=hc(Ne,"beforeRouteUpdate",L,X);for(const I of Ne)I.updateGuards.forEach(N=>{K.push(ii(N,L,X))});return K.push(b),at(K)}).then(()=>{K=[];for(const I of _)if(I.beforeEnter)if(Zt(I.beforeEnter))for(const N of I.beforeEnter)K.push(ii(N,L,X));else K.push(ii(I.beforeEnter,L,X));return K.push(b),at(K)}).then(()=>(L.matched.forEach(I=>I.enterCallbacks={}),K=hc(_,"beforeRouteEnter",L,X,C),K.push(b),at(K))).then(()=>{K=[];for(const I of o.list())K.push(ii(I,L,X));return K.push(b),at(K)}).catch(I=>xn(I,8)?I:Promise.reject(I))}function U(L,X,K){a.list().forEach(Z=>C(()=>Z(L,X,K)))}function J(L,X,K,Z,Ne){const _=g(L,X);if(_)return _;const b=X===Qn,I=bs?history.state:{};K&&(Z||b?s.replace(L.fullPath,Ce({scroll:b&&I&&I.scroll},Ne)):s.push(L.fullPath,Ne)),l.value=L,me(L,X,K,b),Et()}let H;function te(){H||(H=s.listen((L,X,K)=>{if(!Xn.listening)return;const Z=w(L),Ne=R(Z);if(Ne){B(Ce(Ne,{replace:!0,force:!0}),Z).catch(Dr);return}c=Z;const _=l.value;bs&&W0(ep(_.fullPath,K.delta),_l()),k(Z,_).catch(b=>xn(b,12)?b:xn(b,2)?(B(Ce(v(b.to),{force:!0}),Z).then(I=>{xn(I,20)&&!K.delta&&K.type===Zr.pop&&s.go(-1,!1)}).catch(Dr),Promise.reject()):(K.delta&&s.go(-K.delta,!1),we(b,Z,_))).then(b=>{b=b||J(Z,_,!1),b&&(K.delta&&!xn(b,8)?s.go(-K.delta,!1):K.type===Zr.pop&&xn(b,20)&&s.go(-1,!1)),U(Z,_,b)}).catch(Dr)}))}let re=pr(),ie=pr(),se;function we(L,X,K){Et(L);const Z=ie.list();return Z.length?Z.forEach(Ne=>Ne(L,X,K)):console.error(L),Promise.reject(L)}function mt(){return se&&l.value!==Qn?Promise.resolve():new Promise((L,X)=>{re.add([L,X])})}function Et(L){return se||(se=!L,te(),re.list().forEach(([X,K])=>L?K(L):X()),re.reset()),L}function me(L,X,K,Z){const{scrollBehavior:Ne}=t;if(!bs||!Ne)return Promise.resolve();const _=!K&&z0(ep(L.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Ks().then(()=>Ne(L,X,_)).then(b=>b&&H0(b)).catch(b=>we(b,L,X))}const ge=L=>s.go(L);let Je;const Xe=new Set,Xn={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:w,options:t,push:S,replace:T,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:mt,install(L){const X=this;L.component("RouterLink",bl),L.component("RouterView",_T),L.config.globalProperties.$router=X,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>M(l)}),bs&&!Je&&l.value===Qn&&(Je=!0,S(s.location).catch(Ne=>{}));const K={};for(const Ne in Qn)Object.defineProperty(K,Ne,{get:()=>l.value[Ne],enumerable:!0});L.provide(wl,X),L.provide(Nd,Hg(K)),L.provide(gu,l);const Z=L.unmount;Xe.add(L),L.unmount=function(){Xe.delete(L),Xe.size<1&&(c=Qn,H&&H(),H=null,l.value=Qn,Je=!1,se=!1),Z()}}};function at(L){return L.reduce((X,K)=>X.then(()=>C(K)),Promise.resolve())}return Xn}function bT(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Fs(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Fs(c,l))||s.push(l))}return[n,i,s]}function Js(){return je(wl)}function ST(t){return je(Nd)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const ET=(t,e)=>(n,i)=>{let s=-1;if(i.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(s=a,l):r},e),s>-1)return n[s]},TT=ET((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var CT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:TT});const IT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},xT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},Vt=Array.isArray,Zo=t=>typeof t=="function",mp=t=>typeof t=="string",Sl=t=>t!==null&&typeof t=="object",kT=Object.prototype.toString,$r=t=>kT.call(t)==="[object Object]",gp=Symbol("kIsProxy"),PT=Symbol("kProxySources"),Yv=Symbol("kProxyTarget"),Ss=Symbol("kResolveContext");function eo(t){if(Vt(t))return t.map(eo);if(Sl(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:eo(t[n]);return e}return t}const ea=(t,e,n)=>{const i=[];for(const s of t)s&&e in s&&(i.push(s[e]),n&&n(s));return i},ba=(t,e=[],n,i)=>{if(!n&&!i&&({active:n,sources:i}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],i=i.map(l=>l[a]).filter(Boolean)}if(!n||!i)return;const s=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&Sl(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...i),r=Object.keys(n);for(const o of r)s.includes(o)||delete n[o];for(const o of s){let a=!1;for(let d=0;d<i.length;d++){const f=i[d];if(f&&o in f&&f[o]!==void 0){a=$r(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of i)o in f&&d.push(f[o]);ba(t,[...e,o],n[o],d);continue}!n[o]&&Vt(i[0][o])&&(n[o]=[]);const l=[],c=ea(i,o,d=>l.push(d[Ss]));let u=t.resolve(c,l,n[o],o,e);$r(u)&&(u=eo(u)),n[o]=u}},Jv=(t,e,n,i=[])=>{const s=AT(t,n,i),r=fl(new Proxy(e,s));return!i.length&&t.sources&&t.sources.push(r),r},AT=(t,e,n=[])=>({get:(i,s,r)=>{if(s===gp)return!0;if(s===PT)return t.sources;if(s===Yv)return i;if(s===Ss)return e;let o=Reflect.get(i,s,r);if(!Sl(o))return o;if(!o[gp]){const a=[...n,s];o=Jv(t,o,e,a),Reflect.set(i,s,o)}return o},set:(i,s,r)=>{const o=Reflect.set(i,s,r);if(o){const a=Vt(i);let l,c=!1,{sources:u,active:d}=t,f=0;for(const y of n){if(u=ea(u,y),a&&f===n.length-1){l=y;break}Vt(d)&&(c=!0),d=d[y],f++}if(c)return ba(t),o;if($r(r))return ba(t,n),o;let h,p=[];a?(h=u,p=u.map(y=>y[Ss])):h=ea(u,s,y=>p.push(y[Ss]));let m=t.resolve(h,p,d,s,n);$r(m)&&(m=eo(m)),a&&l?d[l]=m:d[s]=m}return o},deleteProperty:(i,s)=>{const r=Reflect.deleteProperty(i,s);if(r){const o=Vt(i);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&s in d)){let d,f=[];o?(d=l,f=l.map(p=>p[Ss])):d=ea(l,s,p=>f.push(p[Ss]));let h=t.resolve(d,f,c,s,n);$r(h)&&(h=eo(h)),o&&a?c[a]=h:c[s]=h}else delete c[s]}return r}}),pc={};function RT(t,e,n,i){return"attributesFor"in i?function(s,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(s.isSSR)return{to:"",vnode:Ee(`ssr-${l}`,o)};if(!pc[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),pc[l]={el:f,attrs:[]}}const{el:c,attrs:u}=pc[l];for(const f in o){let h=ta(s,`${r}(${f})`,o[f],o);Vt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,i):"group"in i?function(s,r,o,a){return Vt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return Sa(s,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,i):Sa(t,e,n,i)}function Sa(t,e,n,i={},s){const r=["content","json","rawContent"],o=y=>function(w,v){for(const g of w){const S=xT[g];if(g&&S)return S[v]}}([a,i.tag],y);if(Vt(n))return n.map(y=>Sa(t,e,y,i,s)).filter(Boolean).flat();const{tag:a=i.tag||e}=n;let l="",c=!1,u=!1;if(mp(n))l=n;else if(n.children&&Vt(n.children))c=!0,l=n.children.map(y=>{const w=Sa(t,e,y,i,s);return Vt(w)?w.map(({vnode:v})=>v):w&&w.vnode});else{let y=0;for(const w of r){if(!l&&n[w]){l=y===1?JSON.stringify(n[w]):n[w],u=y>1;break}y++}}const d=s&&s.fullName||e,f=s&&s.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const y of r)delete h[y]}if(c)l=ta(t,f,l,n);else{const y=!!o("contentAsAttribute");let{valueAttribute:w}=i;if(!w&&y){const[v]=o("attributes");w=mp(y)?y:v}if(w){const{nameless:v}=i;if(!v){const g=i.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[w]=ta(t,f,h[w]||l,s),l=""}else l=ta(t,f,l,n)}const p=s&&s.tagNamespace?`${s.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Ee(p,h,l||void 0);return{to:n.to,vnode:m}}function ta({metainfo:t,slots:e},n,i,s){const r=e&&e[n];if(!r||!Zo(r))return i;const o={content:i,metainfo:t};if(s&&s.group){const{group:l,data:c}=s;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return i}const OT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",NT=(t=>OT?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function Xv(t,e,n){for(const i in e)i in n?Sl(t[i])?Xv(t[i],e[i],n[i]):e[i]!==n[i]&&(t[i]=e[i]):t[i]=e[i];for(const i in n)e&&i in e||delete t[i]}function Qv(t){if(t||(t=ds()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function El(t,e){const n=ds()||void 0;if(!e&&n&&(e=Qv(n)),!e)throw new Error("No manager or current instance");dl(t)&&(ot(t,(s,r)=>{Xv(i.meta,s,r)}),t=t.value);const i=e.addMeta(t,n);return i}const MT=Ke({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=Qv();if(n)return n.render({slots:e})}});function vp(t,e,n,i){const s=Vt(i)?i:[i];t?n.endsWith("Attrs")||s.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):s.forEach((r,o)=>{r.type===Vn&&s.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...s)}const LT=(t=!1,e,n)=>DT.create(t,IT,CT);var Ui;let DT=(Ui=class{constructor(e,n,i,s){ki(this,"isSSR",!1);ki(this,"config");ki(this,"target");ki(this,"resolver");ki(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=i,s&&"setup"in s&&Zo(s.setup)&&(this.resolver=s)}install(e){e.component("Metainfo",MT),e.config.globalProperties.$metaManager=this,e.provide(NT,this.target.context.active)}addMeta(e,n){n||(n=ds()||void 0);const i={removed:[]},s={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(s);const o=this.target.addSource(e,s,!0),a=l=>this.unmount(!!l,o,i,n);return n&&bt(a),{meta:o,onRemoved:l=>i.removed.push(l),unmount:a}}unmount(e,n,i,s){if(s){const{$el:r}=s.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,i))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,i)}async reallyUnmount(e,n,i){this.target.delSource(n),!e&&i&&await Promise.all(i.removed.map(s=>s()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:i}=this;if(!i&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const s={};for(const r in n){const o=this.config[r]||{};let a=RT({isSSR:i,metainfo:n,slots:e},r,n[r],o);if(!a)continue;Vt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)vp(this.isSSR,s,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];Zo(a)&&vp(this.isSSR,s,o,a({metainfo:n}))}return Object.keys(s).map(r=>Ee(nv,{to:r},s[r]))}},ki(Ui,"create",(e,n,i)=>{const s=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>ba(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=Jv(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[Yv]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>Zo(i)?i(r,o,a,l,c):i.resolve(r,o,a,l,c),us({}));return new Ui(e,n,s,i)}),Ui);const Zv=new Set,xt=new WeakMap,Bs=new WeakMap,Xi=new WeakMap,vu=new WeakMap,FT=new WeakMap,Us=new WeakMap,Ea=new WeakMap,Cr=new WeakSet;let vi,Md=0,Ld=0;const Mn="__aa_tgt",to="__aa_del",Ta="__aa_new",$T=t=>{const e=WT(t);e&&e.forEach(n=>zT(n))},BT=t=>{t.forEach(e=>{e.target===vi&&jT(),xt.has(e.target)&&fs(e.target)})};function UT(t){const e=vu.get(t);e==null||e.disconnect();let n=xt.get(t),i=0;const s=5;n||(n=js(t),xt.set(t,n));const{offsetWidth:r,offsetHeight:o}=vi,l=[n.top-s,r-(n.left+s+n.width),o-(n.top+s+n.height),n.left-s].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++i>1&&fs(t)},{root:vi,threshold:1,rootMargin:l});c.observe(t),vu.set(t,c)}function fs(t){clearTimeout(Ea.get(t));const e=Tl(t),n=no(e)?500:e.duration;Ea.set(t,setTimeout(async()=>{const i=Xi.get(t);try{await(i==null?void 0:i.finished),xt.set(t,js(t)),UT(t)}catch{}},n))}function jT(){clearTimeout(Ea.get(vi)),Ea.set(vi,setTimeout(()=>{Zv.forEach(t=>iy(t,e=>ey(()=>fs(e))))},100))}function VT(t){setTimeout(()=>{FT.set(t,setInterval(()=>ey(fs.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function ey(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let yu,Es;const HT=typeof window<"u"&&"ResizeObserver"in window;HT&&(vi=document.documentElement,yu=new MutationObserver($T),Es=new ResizeObserver(BT),window.addEventListener("scroll",()=>{Ld=window.scrollY,Md=window.scrollX}),Es.observe(vi));function WT(t){return t.reduce((i,s)=>[...i,...Array.from(s.addedNodes),...Array.from(s.removedNodes)],[]).every(i=>i.nodeName==="#comment")?!1:t.reduce((i,s)=>{if(i===!1)return!1;if(s.target instanceof Element){if(mc(s.target),!i.has(s.target)){i.add(s.target);for(let r=0;r<s.target.children.length;r++){const o=s.target.children.item(r);if(o){if(to in o)return!1;mc(s.target,o),i.add(o)}}}if(s.removedNodes.length)for(let r=0;r<s.removedNodes.length;r++){const o=s.removedNodes[r];if(to in o)return!1;o instanceof Element&&(i.add(o),mc(s.target,o),Bs.set(o,[s.previousSibling,s.nextSibling]))}}return i},new Set)}function mc(t,e){!e&&!(Mn in t)?Object.defineProperty(t,Mn,{value:t}):e&&!(Mn in e)&&Object.defineProperty(e,Mn,{value:t})}function zT(t){var e;const n=t.isConnected,i=xt.has(t);n&&Bs.has(t)&&Bs.delete(t),Xi.has(t)&&((e=Xi.get(t))===null||e===void 0||e.cancel()),Ta in t?yp(t):i&&n?GT(t):i&&!n?KT(t):yp(t)}function hn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function qT(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function js(t){const e=t.getBoundingClientRect(),{x:n,y:i}=qT(t);return{top:e.top+i,left:e.left+n,width:e.width,height:e.height}}function ty(t,e,n){let i=e.width,s=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=hn(a.paddingTop)+hn(a.paddingBottom)+hn(a.borderTopWidth)+hn(a.borderBottomWidth),u=hn(a.paddingLeft)+hn(a.paddingRight)+hn(a.borderRightWidth)+hn(a.borderLeftWidth);i-=u,r-=u,s-=c,o-=c}return[i,r,s,o].map(Math.round)}function Tl(t){return Mn in t&&Us.has(t[Mn])?Us.get(t[Mn]):{duration:250,easing:"ease-in-out"}}function ny(t){if(Mn in t)return t[Mn]}function Dd(t){const e=ny(t);return e?Cr.has(e):!1}function iy(t,...e){e.forEach(n=>n(t,Us.has(t)));for(let n=0;n<t.children.length;n++){const i=t.children.item(n);i&&e.forEach(s=>s(i,Us.has(i)))}}function Fd(t){return Array.isArray(t)?t:[t]}function no(t){return typeof t=="function"}function GT(t){const e=xt.get(t),n=js(t);if(!Dd(t))return xt.set(t,n);let i;if(!e)return;const s=Tl(t);if(typeof s!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=ty(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),i=t.animate([d,f],{duration:s.duration,easing:s.easing})}else{const[r]=Fd(s(t,"remain",e,n));i=new Animation(r),i.play()}Xi.set(t,i),xt.set(t,n),i.addEventListener("finish",fs.bind(null,t))}function yp(t){Ta in t&&delete t[Ta];const e=js(t);xt.set(t,e);const n=Tl(t);if(!Dd(t))return;let i;if(typeof n!="function")i=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[s]=Fd(n(t,"add",e));i=new Animation(s),i.play()}Xi.set(t,i),i.addEventListener("finish",fs.bind(null,t))}function _p(t,e){var n;t.remove(),xt.delete(t),Bs.delete(t),Xi.delete(t),(n=vu.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(to in t&&delete t[to],Object.defineProperty(t,Ta,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const i in e)t.style[i]=""},0)}function KT(t){var e;if(!Bs.has(t)||!xt.has(t))return;const[n,i]=Bs.get(t);Object.defineProperty(t,to,{value:!0,configurable:!0});const s=window.scrollX,r=window.scrollY;if(i&&i.parentNode&&i.parentNode instanceof Element?i.parentNode.insertBefore(t,i):n&&n.parentNode?n.parentNode.appendChild(t):(e=ny(t))===null||e===void 0||e.appendChild(t),!Dd(t))return _p(t);const[o,a,l,c]=JT(t),u=Tl(t),d=xt.get(t);(s!==Md||r!==Ld)&&YT(t,s,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!no(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=Fd(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}Xi.set(t,f),f.addEventListener("finish",_p.bind(null,t,h))}function YT(t,e,n,i){const s=Md-e,r=Ld-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(vi).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+s,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!no(i)){const h=c-l.clientHeight,p=u-l.clientWidth;d+i.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function JT(t){const e=xt.get(t),[n,,i]=ty(t,e,js(t));let s=t.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const r=getComputedStyle(s),o=xt.get(s)||js(s),a=Math.round(e.top-o.top)-hn(r.borderTopWidth),l=Math.round(e.left-o.left)-hn(r.borderLeftWidth);return[a,l,n,i]}function XT(t,e={}){return yu&&Es&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!no(e)&&!e.disrespectUserMotionPreference||(Cr.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),iy(t,fs,VT,s=>Es==null?void 0:Es.observe(s)),no(e)?Us.set(t,e):Us.set(t,{duration:250,easing:"ease-in-out",...e}),yu.observe(t,{childList:!0}),Zv.add(t))),Object.freeze({parent:t,enable:()=>{Cr.add(t)},disable:()=>{Cr.delete(t)},isEnabled:()=>Cr.has(t)})}const QT={mounted:(t,e)=>{XT(t,e.value||{})},getSSRProps:()=>({})},ZT=QT,eC={install(t){t.directive("auto-animate",ZT)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let sy;const Cl=t=>sy=t,ry=Symbol();function _u(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Br;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Br||(Br={}));function tC(){const t=xg(!0),e=t.run(()=>$({}));let n=[],i=[];const s=fl({install(r){Cl(s),s._a=r,r.provide(ry,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return this._a?n.push(r):i.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const oy=()=>{};function wp(t,e,n,i=oy){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&kg()&&pS(s),s}function ys(t,...e){t.slice().forEach(n=>{n(...e)})}const nC=t=>t(),bp=Symbol(),gc=Symbol();function wu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];_u(s)&&_u(i)&&t.hasOwnProperty(n)&&!qe(i)&&!hi(i)?t[n]=wu(s,i):t[n]=i}return t}const iC=Symbol();function sC(t){return!_u(t)||!t.hasOwnProperty(iC)}const{assign:ei}=Object;function rC(t){return!!(qe(t)&&t.effect)}function oC(t,e,n,i){const{state:s,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=DS(n.state.value[t]);return ei(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=fl(Q(()=>{Cl(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=ay(t,c,e,n,i,!0),l}function ay(t,e,n={},i,s,r){let o;const a=ei({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=i.state.value[t];!r&&!p&&(i.state.value[t]={}),$({});let m;function y(x){let C;c=u=!1,typeof x=="function"?(x(i.state.value[t]),C={type:Br.patchFunction,storeId:t,events:h}):(wu(i.state.value[t],x),C={type:Br.patchObject,payload:x,storeId:t,events:h});const k=m=Symbol();Ks().then(()=>{m===k&&(c=!0)}),u=!0,ys(d,C,i.state.value[t])}const w=r?function(){const{state:C}=n,k=C?C():{};this.$patch(U=>{ei(U,k)})}:oy;function v(){o.stop(),d=[],f=[],i._s.delete(t)}const g=(x,C="")=>{if(bp in x)return x[gc]=C,x;const k=function(){Cl(i);const U=Array.from(arguments),J=[],H=[];function te(se){J.push(se)}function re(se){H.push(se)}ys(f,{args:U,name:k[gc],store:T,after:te,onError:re});let ie;try{ie=x.apply(this&&this.$id===t?this:T,U)}catch(se){throw ys(H,se),se}return ie instanceof Promise?ie.then(se=>(ys(J,se),se)).catch(se=>(ys(H,se),Promise.reject(se))):(ys(J,ie),ie)};return k[bp]=!0,k[gc]=C,k},S={_p:i,$id:t,$onAction:wp.bind(null,f),$patch:y,$reset:w,$subscribe(x,C={}){const k=wp(d,x,C.detached,()=>U()),U=o.run(()=>ot(()=>i.state.value[t],J=>{(C.flush==="sync"?u:c)&&x({storeId:t,type:Br.direct,events:h},J)},ei({},l,C)));return k},$dispose:v},T=us(S);i._s.set(t,T);const B=(i._a&&i._a.runWithContext||nC)(()=>i._e.run(()=>(o=xg()).run(()=>e({action:g}))));for(const x in B){const C=B[x];if(qe(C)&&!rC(C)||hi(C))r||(p&&sC(C)&&(qe(C)?C.value=p[x]:wu(C,p[x])),i.state.value[t][x]=C);else if(typeof C=="function"){const k=g(C,x);B[x]=k,a.actions[x]=C}}return ei(T,B),ei(Se(T),B),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:x=>{y(C=>{ei(C,x)})}}),i._p.forEach(x=>{ei(T,o.run(()=>x({store:T,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function wo(t,e,n){let i,s;const r=typeof e=="function";typeof t=="string"?(i=t,s=r?n:e):(s=t,i=t.id);function o(a,l){const c=dE();return a=a||(c?je(ry,null):null),a&&Cl(a),a=sy,a._s.has(i)||(r?ay(i,e,s,a):oC(i,s,a)),a._s.get(i)}return o.$id=i,o}const aC={key:0},lC={key:1},cC={key:2},uC={key:3},dC={key:4},fC={key:5},hC={key:6},pC={key:7},mC={key:8},gC={key:9},$d=Ke({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const i=BS(n,"modelValue"),s=e,r=g=>{g!==i.value&&(g>l.value||g<1||n.disablePagination||(s("update:modelValue",g),s("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=Q(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=Q(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let R=Math.floor(n.maxPagesShown/2),B=Math.ceil(n.maxPagesShown/2)-1;i.value<=R?(g=1,S=n.maxPagesShown):i.value+B>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=i.value-R,S=i.value+B)}let T=Array.from(Array(S+1-g).keys()).map(R=>g+R);return n.dir==="rtl"&&(T=T.reverse()),{totalItems:n.totalItems,currentPage:i.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:T}}),u=Q(()=>n.dir==="rtl"),d=Q(()=>u.value?!n.hidePrevNextWhenEnds||i.value!==l.value:!n.hidePrevNextWhenEnds||i.value!==1),f=Q(()=>u.value?!n.hidePrevNextWhenEnds||i.value!==1:!n.hidePrevNextWhenEnds||i.value!==l.value),h=Q(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=Q(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),y=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),w=Q(()=>i.value!==1),v=Q(()=>i.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(P(),V("ul",{id:"componentContainer",class:xe(t.paginationContainerClass)},[t.showEndingButtons&&w.value?(P(),V("li",aC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=Ot(T=>r(u.value?l.value:1),["prevent"])),class:xe([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[fn(g.$slots,"first-page-button",{},()=>[Be(ce(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showJumpButtons&&h.value?(P(),V("li",lC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=Ot(T=>r(u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:xe([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[fn(g.$slots,"backward-jump-button",{},()=>[Be(ce(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),!t.hidePrevNext&&d.value?(P(),V("li",cC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?i.value+1:i.value-1),onClick:S[2]||(S[2]=Ot(T=>r(u.value?i.value+1:i.value-1),["prevent"])),class:xe([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[fn(g.$slots,"prev-button",{},()=>[Be(ce(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showBreakpointButtons&&m.value?(P(),V("li",uC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=Ot(T=>r(u.value?l.value:1),["prevent"])),class:xe([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Be(ce(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):Me("",!0),t.showBreakpointButtons&&h.value?(P(),V("li",dC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?i.value:u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=Ot(T=>r(t.disableBreakpointButtons?i.value:u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:xe([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[fn(g.$slots,"starting-breakpoint-button",{},()=>[Be(ce(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):Me("",!0),(P(!0),V(Oe,null,Ys(c.value.pages,(T,R)=>(P(),V("li",{key:R},[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(T),onClick:Ot(()=>r(T),["prevent"]),class:xe([t.paginateButtonsClass,t.numberButtonsClass,T===i.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[Be(ce(o(T)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(P(),V("li",fC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?i.value:u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=Ot(T=>r(t.disableBreakpointButtons?i.value:u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:xe([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[fn(g.$slots,"ending-breakpoint-button",{},()=>[Be(ce(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):Me("",!0),t.showBreakpointButtons&&y.value?(P(),V("li",hC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=Ot(T=>r(u.value?1:l.value),["prevent"])),class:xe([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Be(ce(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):Me("",!0),!t.hidePrevNext&&f.value?(P(),V("li",pC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?i.value-1:i.value+1),onClick:S[7]||(S[7]=Ot(T=>r(u.value?i.value-1:i.value+1),["prevent"])),class:xe([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[fn(g.$slots,"next-button",{},()=>[Be(ce(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showJumpButtons&&p.value?(P(),V("li",mC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=Ot(T=>r(u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:xe([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[fn(g.$slots,"forward-jump-button",{},()=>[Be(ce(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showEndingButtons&&v.value?(P(),V("li",gC,[(P(),fe(qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=Ot(T=>r(u.value?1:l.value),["prevent"])),class:xe([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[fn(g.$slots,"last-page-button",{},()=>[Be(ce(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0)],2))}});var vC={install:t=>{t.component("VueAwesomePaginate",$d)}};function ly(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function cy(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Bd(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function yC(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function _C(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function Ud(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function uy(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function wC(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function dy(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function bC(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function SC(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function fy(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var Sp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Xs(e)},Xs=function(t){return new Error("Firebase Database ("+hy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(py(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw new TC;const f=r<<2|a>>4;if(i.push(f),c!==64){const h=a<<4&240|c>>2;if(i.push(h),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const my=function(t){const e=py(t);return jd.encodeByteArray(e,!0)},Ca=function(t){return my(t).replace(/\./g,"")},Ia=function(t){try{return jd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){return gy(void 0,t)}function gy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!IC(n)||(t[n]=gy(t[n],e[n]));return t}function IC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=()=>xC().__FIREBASE_DEFAULTS__,PC=()=>{if(typeof process>"u"||typeof Sp>"u")return;const t=Sp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ia(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return kC()||PC()||AC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vy=t=>{var e,n;return(n=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RC=t=>{const e=vy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},yy=()=>{var t;return(t=Vd())===null||t===void 0?void 0:t.config},_y=t=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ca(JSON.stringify(n)),Ca(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function NC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LC(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DC(){return hy.NODE_ADMIN===!0}function by(){try{return typeof indexedDB=="object"}catch{return!1}}function Sy(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="FirebaseError";class Yn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FC,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ci.prototype.create)}}class Ci{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?$C(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Yn(s,a,i)}}function $C(t,e){return t.replace(BC,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const BC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=io(Ia(r[0])||""),n=io(Ia(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},UC=function(t){const e=Ey(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jC=function(t){const e=Ey(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xa(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Ep(r)&&Ep(o)){if(!ka(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ep(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ir(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function xr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function HC(t,e){const n=new WC(t,e);return n.subscribe.bind(n)}class WC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");zC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=vc),s.error===void 0&&(s.error=vc),s.complete===void 0&&(s.complete=vc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vc(){}function Il(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,W(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xl=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class zt{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new bo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YC(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(t){return t===Ni?void 0:t}function YC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const XC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},QC=Re.INFO,ZC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},eI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=ZC[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wd{constructor(e){this.name=e,this._logLevel=QC,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const tI=(t,e)=>e.some(n=>t instanceof n);let Tp,Cp;function nI(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iI(){return Cp||(Cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ty=new WeakMap,Su=new WeakMap,Cy=new WeakMap,yc=new WeakMap,zd=new WeakMap;function sI(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Bn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ty.set(n,t)}).catch(()=>{}),zd.set(e,t),e}function rI(t){if(Su.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Su.set(t,e)}let Eu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Su.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oI(t){Eu=t(Eu)}function aI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_c(this),e,...n);return Cy.set(i,e.sort?e.sort():[e]),Bn(i)}:iI().includes(t)?function(...e){return t.apply(_c(this),e),Bn(Ty.get(this))}:function(...e){return Bn(t.apply(_c(this),e))}}function lI(t){return typeof t=="function"?aI(t):(t instanceof IDBTransaction&&rI(t),tI(t,nI())?new Proxy(t,Eu):t)}function Bn(t){if(t instanceof IDBRequest)return sI(t);if(yc.has(t))return yc.get(t);const e=lI(t);return e!==t&&(yc.set(t,e),zd.set(e,t)),e}const _c=t=>zd.get(t);function Zs(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=Bn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Bn(o.result),l.oldVersion,l.newVersion,Bn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function As(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),Bn(n).then(()=>{})}const cI=["get","getKey","getAll","getAllKeys","count"],uI=["put","add","delete","clear"],wc=new Map;function Ip(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=uI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||cI.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return wc.set(e,r),r}oI(t=>({...t,get:(e,n,i)=>Ip(e,n)||t.get(e,n,i),has:(e,n)=>!!Ip(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tu="@firebase/app",xp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Wd("@firebase/app"),hI="@firebase/app-compat",pI="@firebase/analytics-compat",mI="@firebase/analytics",gI="@firebase/app-check-compat",vI="@firebase/app-check",yI="@firebase/auth",_I="@firebase/auth-compat",wI="@firebase/database",bI="@firebase/data-connect",SI="@firebase/database-compat",EI="@firebase/functions",TI="@firebase/functions-compat",CI="@firebase/installations",II="@firebase/installations-compat",xI="@firebase/messaging",kI="@firebase/messaging-compat",PI="@firebase/performance",AI="@firebase/performance-compat",RI="@firebase/remote-config",OI="@firebase/remote-config-compat",NI="@firebase/storage",MI="@firebase/storage-compat",LI="@firebase/firestore",DI="@firebase/vertexai",FI="@firebase/firestore-compat",$I="firebase",BI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu="[DEFAULT]",UI={[Tu]:"fire-core",[hI]:"fire-core-compat",[mI]:"fire-analytics",[pI]:"fire-analytics-compat",[vI]:"fire-app-check",[gI]:"fire-app-check-compat",[yI]:"fire-auth",[_I]:"fire-auth-compat",[wI]:"fire-rtdb",[bI]:"fire-data-connect",[SI]:"fire-rtdb-compat",[EI]:"fire-fn",[TI]:"fire-fn-compat",[CI]:"fire-iid",[II]:"fire-iid-compat",[xI]:"fire-fcm",[kI]:"fire-fcm-compat",[PI]:"fire-perf",[AI]:"fire-perf-compat",[RI]:"fire-rc",[OI]:"fire-rc-compat",[NI]:"fire-gcs",[MI]:"fire-gcs-compat",[LI]:"fire-fst",[FI]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[$I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Map,jI=new Map,Iu=new Map;function kp(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Iu.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Iu.set(e,t);for(const n of Pa.values())kp(n,t);for(const n of jI.values())kp(n,t);return!0}function er(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Ci("app","Firebase",VI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=BI;function Iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Cu,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw pi.create("bad-app-name",{appName:String(s)});if(n||(n=yy()),!n)throw pi.create("no-options");const r=Pa.get(s);if(r){if(ka(n,r.options)&&ka(i,r.config))return r;throw pi.create("duplicate-app",{appName:s})}const o=new JC(s);for(const l of Iu.values())o.addComponent(l);const a=new HI(n,i,o);return Pa.set(s,a),a}function qd(t=Cu){const e=Pa.get(t);if(!e&&t===Cu&&yy())return Iy();if(!e)throw pi.create("no-app",{appName:t});return e}function Ht(t,e,n){var i;let s=(i=UI[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(a.join(" "));return}en(new zt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebase-heartbeat-database",zI=1,so="firebase-heartbeat-store";let bc=null;function xy(){return bc||(bc=Zs(WI,zI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(so)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),bc}async function qI(t){try{const n=(await xy()).transaction(so),i=await n.objectStore(so).get(ky(t));return await n.done,i}catch(e){if(e instanceof Yn)Hn.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hn.warn(n.message)}}}async function Pp(t,e){try{const i=(await xy()).transaction(so,"readwrite");await i.objectStore(so).put(e,ky(t)),await i.done}catch(n){if(n instanceof Yn)Hn.warn(n.message);else{const i=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hn.warn(i.message)}}}function ky(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,KI=30*24*60*60*1e3;class YI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Hn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ap(),{heartbeatsToSend:i,unsentEntries:s}=JI(this._heartbeatsCache.heartbeats),r=Ca(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Hn.warn(n),""}}}function Ap(){return new Date().toISOString().substring(0,10)}function JI(t,e=GI){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Rp(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rp(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class XI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return by()?Sy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rp(t){return Ca(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){en(new zt("platform-logger",e=>new dI(e),"PRIVATE")),en(new zt("heartbeat",e=>new YI(e),"PRIVATE")),Ht(Tu,xp,t),Ht(Tu,xp,"esm2017"),Ht("fire-js","")}QI("");var Op={};const Np="@firebase/database",Mp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py="";function ZI(t){Py=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:io(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ex(e)}}catch{}return new tx},Di=Ay("localStorage"),nx=Ay("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Wd("@firebase/database"),ix=function(){let t=1;return function(){return t++}}(),Ry=function(t){const e=qC(t),n=new VC;n.update(e);const i=n.digest();return jd.encodeByteArray(i)},So=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=So.apply(null,i):typeof i=="object"?e+=rt(i):e+=i,e+=" "}return e};let Ur=null,Lp=!0;const sx=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Rs.logLevel=Re.VERBOSE,Ur=Rs.log.bind(Rs)},lt=function(...t){if(Lp===!0&&(Lp=!1,Ur===null&&nx.get("logging_enabled")===!0&&sx()),Ur){const e=So.apply(null,t);Ur(e)}},Eo=function(t){return function(...e){lt(t,...e)}},xu=function(...t){const e="FIREBASE INTERNAL ERROR: "+So(...t);Rs.error(e)},Wn=function(...t){const e=`FIREBASE FATAL ERROR: ${So(...t)}`;throw Rs.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+So(...t);Rs.warn(e)},rx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ox=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qi="[MIN_NAME]",yi="[MAX_NAME]",hs=function(t,e){if(t===e)return 0;if(t===Qi||e===yi)return-1;if(e===Qi||t===yi)return 1;{const n=Dp(t),i=Dp(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},ax=function(t,e){return t===e?0:t<e?-1:1},mr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Kd=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=rt(e[i]),n+=":",n+=Kd(t[e[i]]);return n+="}",n},Oy=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ny=function(t){W(!Gd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},lx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ux(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const dx=new RegExp("^-?(0*)\\d{1,10}$"),fx=-2147483648,hx=2147483647,Dp=function(t){if(dx.test(t)){const e=Number(t);if(e>=fx&&e<=hx)return e}return null},nr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},px=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class na{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}na.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="5",My="v",Ly="s",Dy="r",Fy="f",$y=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,By="ls",Uy="p",ku="ac",jy="websocket",Vy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Wy(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let i;if(e===jy)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Vy)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vx(t)&&(n.ns=t.namespace);const s=[];return ct(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.counters_={}}incrementCounter(e,n=1){Tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return CC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={},Ec={};function Jd(t){const e=t.toString();return Sc[e]||(Sc[e]=new yx),Sc[e]}function _x(t,e){const n=t.toString();return Ec[n]||(Ec[n]=e()),Ec[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&nr(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="start",bx="close",Sx="pLPCommand",Ex="pRTLPCB",zy="id",qy="pw",Gy="ser",Tx="cb",Cx="seg",Ix="ts",xx="d",kx="dframe",Ky=1870,Yy=30,Px=Ky-Yy,Ax=25e3,Rx=3e4;class Ts{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Eo(e),this.stats_=Jd(n),this.urlFn=l=>(this.appCheckToken&&(l[ku]=this.appCheckToken),Wy(n,Vy,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rx)),ox(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xd((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Fp)this.id=a,this.password=l;else if(o===bx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Fp]="t",i[Gy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Tx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[My]=Yd,this.transportSessionId&&(i[Ly]=this.transportSessionId),this.lastSessionId&&(i[By]=this.lastSessionId),this.applicationId&&(i[Uy]=this.applicationId),this.appCheckToken&&(i[ku]=this.appCheckToken),typeof location<"u"&&location.hostname&&$y.test(location.hostname)&&(i[Dy]=Fy);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ts.forceAllow_=!0}static forceDisallow(){Ts.forceDisallow_=!0}static isAvailable(){return Ts.forceAllow_?!0:!Ts.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lx()&&!cx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=my(n),s=Oy(i,Px);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[kx]="t",i[zy]=e,i[qy]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ix(),window[Sx+this.uniqueCallbackIdentifier]=e,window[Ex+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){lt("frame writing exception"),a.stack&&lt(a.stack),lt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zy]=this.myID,e[qy]=this.myPW,e[Gy]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yy+i.length<=Ky;){const o=this.pendingSegs.shift();i=i+"&"+Cx+s+"="+o.seg+"&"+Ix+s+"="+o.ts+"&"+xx+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Ax)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=16384,Nx=45e3;let Aa=null;typeof MozWebSocket<"u"?Aa=MozWebSocket:typeof WebSocket<"u"&&(Aa=WebSocket);class gn{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Eo(this.connId),this.stats_=Jd(n),this.connURL=gn.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[My]=Yd,typeof location<"u"&&location.hostname&&$y.test(location.hostname)&&(o[Dy]=Fy),n&&(o[Ly]=n),i&&(o[By]=i),s&&(o[ku]=s),r&&(o[Uy]=r),Wy(e,jy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{let i;DC(),this.mySock=new Aa(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){gn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Aa!==null&&!gn.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||Di.get("previous_websocket_failure")===!0}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=io(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Oy(n,Ox);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Nx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gn.responsesRequiredToBeHealthy=2;gn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static get ALL_TRANSPORTS(){return[Ts,gn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=gn.isAvailable();let i=n&&!gn.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[gn];else{const s=this.transports_=[];for(const r of ro.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);ro.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ro.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=6e4,Lx=5e3,Dx=10*1024,Fx=100*1024,Tc="t",$p="d",$x="s",Bp="r",Bx="e",Up="o",jp="a",Vp="n",Hp="p",Ux="h";class jx{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Eo("c:"+this.id+":"),this.transportManager_=new ro(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=jr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Fx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Dx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tc in e){const n=e[Tc];n===jp?this.upgradeIfSecondaryHealthy_():n===Bp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Up&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=mr("t",e),i=mr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=mr("t",e),i=mr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=mr(Tc,e);if($p in e){const i=e[$p];if(n===Ux){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Vp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$x?this.onConnectionShutdown_(i):n===Bp?this.onReset_(i):n===Bx?xu("Server Error: "+i):n===Up?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yd!==i&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),jr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Mx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Lx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Xy{static getInstance(){return new Ra}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=32,zp=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Ae("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _i(t){return t.pieces_.length-t.pieceNum_}function Ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function Qd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Qy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function ze(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ae)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ae(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=ve(t),i=ve(e);if(n===null)return e;if(n===i)return Ct(Ue(t),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Hx(t,e){const n=oo(t,0),i=oo(e,0);for(let s=0;s<n.length&&s<i.length;s++){const r=hs(n[s],i[s]);if(r!==0)return r}return n.length===i.length?0:n.length<i.length?-1:1}function Zd(t,e){if(_i(t)!==_i(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(_i(t)>_i(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Wx{constructor(e,n){this.errorPrefix_=n,this.parts_=oo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xl(this.parts_[i]);Zy(this)}}function zx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xl(e),Zy(t)}function qx(t){const e=t.parts_.pop();t.byteLength_-=xl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Zy(t){if(t.byteLength_>zp)throw new Error(t.errorPrefix_+"has a key path longer than "+zp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wp+") or object contains a cycle "+Mi(t))}function Mi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Xy{static getInstance(){return new ef}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=1e3,Gx=60*5*1e3,qp=30*1e3,Kx=1.3,Yx=3e4,Jx="server_kill",Gp=3;class Un extends Jy{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Un.nextPersistentConnectionId_++,this.log_=Eo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gr,this.maxReconnectDelay_=Gx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ef.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(rt(r)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new bo,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Un.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Tn(e,"w")){const i=Vs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=UC(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xu("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Yx&&(this.reconnectDelay_=gr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Kx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Un.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new jx(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{wt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jx)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wt(d),l())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bu(this.interruptReasons_)&&(this.reconnectDelay_=gr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>Kd(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ae(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gp&&(this.reconnectDelay_=qp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Py.replace(/\./g,"-")]=1,Hd()?e["framework.cordova"]=1:wy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ra.getInstance().currentlyOnline();return bu(this.interruptReasons_)&&e}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new _e(Qi,e),s=new _e(Qi,n);return this.compare(i,s)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class e_ extends kl{static get __EMPTY_NODE(){return Uo}static set __EMPTY_NODE(e){Uo=e}compare(e,n){return hs(e.name,n.name)}isDefinedOn(e){throw Xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(yi,Uo)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Uo)}toString(){return".key"}}const Wi=new e_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??nt.RED,this.left=s??It.EMPTY_NODE,this.right=r??It.EMPTY_NODE}copy(e,n,i,s,r){return new nt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class Xx{copy(e,n,i,s,r){return this}insert(e,n,i){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new Xx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){return hs(t.name,e.name)}function tf(t,e){return hs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;function Zx(t){Pu=t}const t_=function(t){return typeof t=="number"?"number:"+Ny(t):"string:"+t},n_=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Tn(e,".sv"),"Priority must be a string or number.")}else W(t===Pu||t.isEmpty(),"priority of unexpected type.");W(t===Pu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp;class et{static set __childrenNodeConstructor(e){Kp=e}static get __childrenNodeConstructor(){return Kp}constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),n_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:ve(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ve(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||_i(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+t_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ny(this.value_):e+=this.value_,this.lazyHash_=Ry(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=et.VALUE_TYPE_ORDER.indexOf(n),r=et.VALUE_TYPE_ORDER.indexOf(i);return W(s>=0,"Unknown leaf type: "+n),W(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_,s_;function e1(t){i_=t}function t1(t){s_=t}class n1 extends kl{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?hs(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(yi,new et("[PRIORITY-POST]",s_))}makePost(e,n){const i=i_(e);return new _e(n,new et("[PRIORITY-POST]",i))}toString(){return".priority"}}const He=new n1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=Math.log(2);class s1{constructor(e){const n=r=>parseInt(Math.log(r)/i1,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oa=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new nt(f,d.node,nt.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=s(l,h),m=s(h+1,c);return d=t[h],f=n?n(d):d,new nt(f,d.node,nt.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const y=d-p,w=d;d-=p;const v=s(y+1,w),g=t[y],S=n?n(g):g;h(new nt(S,g.node,m,null,v))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?f(y,nt.BLACK):(f(y,nt.BLACK),f(y,nt.RED))}return u},o=new s1(t.length),a=r(o);return new It(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const vr={};class Ln{static get Default(){return W(He,"ChildrenNode.ts has not been loaded"),Cc=Cc||new Ln({".priority":vr},{".priority":He}),Cc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Vs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return Tn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==Wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(_e.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=Oa(i,e.getCompare()):a=vr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ln(u,c)}addToIndexes(e,n){const i=xa(this.indexes_,(s,r)=>{const o=Vs(this.indexSet_,r);if(W(o,"Missing index implementation for "+r),s===vr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Oa(a,o.getCompare())}else return vr;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new Ln(i,this.indexSet_)}removeFromIndexes(e,n){const i=xa(this.indexes_,s=>{if(s===vr)return s;{const r=n.get(e.name);return r?s.remove(new _e(e.name,r)):s}});return new Ln(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr;class le{static get EMPTY_NODE(){return yr||(yr=new le(new It(tf),null,Ln.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&n_(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yr}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yr:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new _e(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?yr:this.priorityNode_;return new le(s,o,r)}}updateChild(e,n){const i=ve(e);if(i===null)return n;{W(ve(e)!==".priority"||_i(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ue(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),i++,r&&le.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+t_(this.getPriority().val())+":"),this.forEachChild(He,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Ry(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new _e(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,_e.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===To?-1:0}withIndex(e){if(e===Wi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(He),s=n.getIterator(He);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wi?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class r1 extends le{constructor(){super(new It(tf),le.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const To=new r1;Object.defineProperties(_e,{MIN:{value:new _e(Qi,le.EMPTY_NODE)},MAX:{value:new _e(yi,To)}});e_.__EMPTY_NODE=le.EMPTY_NODE;et.__childrenNodeConstructor=le;Zx(To);t1(To);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=!0;function it(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,it(e))}if(!(t instanceof Array)&&o1){const n=[];let i=!1;if(ct(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=it(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),n.length===0)return le.EMPTY_NODE;const r=Oa(n,Qx,o=>o.name,tf);if(i){const o=Oa(n,He.getCompare());return new le(r,it(e),new Ln({".priority":o},{".priority":He}))}else return new le(r,it(e),Ln.Default)}else{let n=le.EMPTY_NODE;return ct(t,(i,s)=>{if(Tn(t,i)&&i.substring(0,1)!=="."){const r=it(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(it(e))}}e1(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends kl{constructor(e){super(),this.indexPath_=e,W(!ye(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?hs(e.name,n.name):r}makePost(e,n){const i=it(e),s=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new _e(n,s)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,To);return new _e(yi,e)}toString(){return oo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends kl{compare(e,n){const i=e.node.compareTo(n.node);return i===0?hs(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const i=it(e);return new _e(n,i)}toString(){return".value"}}const r_=new a1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){return{type:"value",snapshotNode:t}}function Hs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ao(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function lo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function l1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ao(n,a)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Hs(n,i)):o.trackChildChange(lo(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(He,(s,r)=>{n.hasChild(s)||i.trackChildChange(ao(s,r))}),n.isLeafNode()||n.forEachChild(He,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(lo(s,r,o))}else i.trackChildChange(Hs(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.indexedFilter_=new sf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=co.getStartPost_(e),this.endPost_=co.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new _e(n,i))||(i=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=le.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(le.EMPTY_NODE);const r=this;return n.forEachChild(He,(o,a)=>{r.matches(new _e(o,a))||(s=s.updateImmediateChild(o,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new co(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new _e(n,i))||(i=le.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=le.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(le.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;W(a.numChildren()===this.limit_,"");const l=new _e(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!i.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(lo(n,i,d)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(ao(n,d));const m=a.updateImmediateChild(n,le.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Hs(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(ao(c.name,c.node)),r.trackChildChange(Hs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qi}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new rf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function u1(t){return t.loadsAllData()?new sf(t.getIndex()):t.hasLimit()?new c1(t):new co(t)}function d1(t,e){const n=t.copy();return n.index_=e,n}function Yp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===r_?n="$value":t.index_===Wi?n="$key":(W(t.index_ instanceof nf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=rt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+rt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=rt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Jy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Eo("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Na.getListenId_(e,i),a={};this.listens_[o]=a;const l=Yp(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),Vs(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const i=Na.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Yp(e._queryParams),i=e._path.toString(),s=new bo;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qs(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=io(a.responseText)}catch{wt("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&wt("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function a_(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ve(e);t.children.has(i)||t.children.set(i,Ma());const s=t.children.get(i);e=Ue(e),a_(s,e,n)}}function Au(t,e,n){t.value!==null?n(e,t.value):h1(t,(i,s)=>{const r=new Ae(e.toString()+"/"+i);Au(s,r,n)})}function h1(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=10*1e3,m1=30*1e3,g1=5*60*1e3;class v1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new p1(e);const i=Xp+(m1-Xp)*Math.random();jr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ct(e,(s,r)=>{r>0&&Tn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),jr(this.reportStats_.bind(this),Math.floor(Math.random()*2*g1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function of(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function af(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Gt.ACK_USER_WRITE,this.source=of()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new La(Te(),n,this.revert)}}else return W(ve(this.path)===e,"operationForChild called for unrelated child."),new La(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new uo(this.source,Te()):new uo(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Gt.OVERWRITE}operationForChild(e){return ye(this.path)?new Zi(this.source,Te(),this.snap.getImmediateChild(e)):new Zi(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Gt.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Zi(this.source,Te(),n.value):new Ws(this.source,Te(),n)}else return W(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ws(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _1(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(l1(o.childName,o.snapshotNode))}),_r(t,s,"child_removed",e,i,n),_r(t,s,"child_added",e,i,n),_r(t,s,"child_moved",r,i,n),_r(t,s,"child_changed",e,i,n),_r(t,s,"value",e,i,n),s}function _r(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>b1(t,a,l)),o.forEach(a=>{const l=w1(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function w1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function b1(t,e,n){if(e.childName==null||n.childName==null)throw Xs("Should only compare child_ events.");const i=new _e(e.childName,e.snapshotNode),s=new _e(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return{eventCache:t,serverCache:e}}function Vr(t,e,n,i){return Pl(new es(e,n,i),t.serverCache)}function l_(t,e,n,i){return Pl(t.eventCache,new es(e,n,i))}function Ru(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ts(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;const S1=()=>(Ic||(Ic=new It(ax)),Ic);class $e{static fromObject(e){let n=new $e(null);return ct(e,(i,s)=>{n=n.set(new Ae(i),s)}),n}constructor(e,n=S1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(ye(e))return null;{const i=ve(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Ue(e),n);return r!=null?{path:ze(new Ae(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=ve(e),i=this.children.get(n);return i!==null?i.subtree(Ue(e)):new $e(null)}}set(e,n){if(ye(e))return new $e(n,this.children);{const i=ve(e),r=(this.children.get(i)||new $e(null)).set(Ue(e),n),o=this.children.insert(i,r);return new $e(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=ve(e),i=this.children.get(n);if(i){const s=i.remove(Ue(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new $e(null):new $e(this.value,r)}else return this}}get(e){if(ye(e))return this.value;{const n=ve(e),i=this.children.get(n);return i?i.get(Ue(e)):null}}setTree(e,n){if(ye(e))return n;{const i=ve(e),r=(this.children.get(i)||new $e(null)).setTree(Ue(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new $e(this.value,o)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(ze(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ye(e))return null;{const r=ve(e),o=this.children.get(r);return o?o.findOnPath_(Ue(e),ze(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,i){if(ye(e))return this;{this.value&&i(n,this.value);const s=ve(e),r=this.children.get(s);return r?r.foreachOnPath_(Ue(e),ze(n,s),i):new $e(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(ze(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new $e(null))}}function Hr(t,e,n){if(ye(e))return new Jt(new $e(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Ct(s,e);return r=r.updateChild(o,n),new Jt(t.writeTree_.set(s,r))}else{const s=new $e(n),r=t.writeTree_.setTree(e,s);return new Jt(r)}}}function Ou(t,e,n){let i=t;return ct(n,(s,r)=>{i=Hr(i,ze(e,s),r)}),i}function Qp(t,e){if(ye(e))return Jt.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new Jt(n)}}function Nu(t,e){return ps(t,e)!=null}function ps(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Zp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(i,s)=>{e.push(new _e(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new _e(i,s.value))}),e}function mi(t,e){if(ye(e))return t;{const n=ps(t,e);return n!=null?new Jt(new $e(n)):new Jt(t.writeTree_.subtree(e))}}function Mu(t){return t.writeTree_.isEmpty()}function zs(t,e){return c_(Te(),t.writeTree_,e)}function c_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(W(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=c_(ze(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ze(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){return h_(e,t)}function E1(t,e,n,i,s){W(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Hr(t.visibleWrites,e,n)),t.lastWriteId=i}function T1(t,e,n,i){W(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Ou(t.visibleWrites,e,n),t.lastWriteId=i}function C1(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function I1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&x1(a,i.path)?s=!1:Bt(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return k1(t),!0;if(i.snap)t.visibleWrites=Qp(t.visibleWrites,i.path);else{const a=i.children;ct(a,l=>{t.visibleWrites=Qp(t.visibleWrites,ze(i.path,l))})}return!0}else return!1}function x1(t,e){if(t.snap)return Bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bt(ze(t.path,n),e))return!0;return!1}function k1(t){t.visibleWrites=u_(t.allWrites,P1,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function P1(t){return t.visible}function u_(t,e,n){let i=Jt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)Bt(n,o)?(a=Ct(n,o),i=Hr(i,a,r.snap)):Bt(o,n)&&(a=Ct(o,n),i=Hr(i,Te(),r.snap.getChild(a)));else if(r.children){if(Bt(n,o))a=Ct(n,o),i=Ou(i,a,r.children);else if(Bt(o,n))if(a=Ct(o,n),ye(a))i=Ou(i,Te(),r.children);else{const l=Vs(r.children,ve(a));if(l){const c=l.getChild(Ue(a));i=Hr(i,Te(),c)}}}else throw Xs("WriteRecord should have .snap or .children")}}return i}function d_(t,e,n,i,s){if(!i&&!s){const r=ps(t.visibleWrites,e);if(r!=null)return r;{const o=mi(t.visibleWrites,e);if(Mu(o))return n;if(n==null&&!Nu(o,Te()))return null;{const a=n||le.EMPTY_NODE;return zs(o,a)}}}else{const r=mi(t.visibleWrites,e);if(!s&&Mu(r))return n;if(!s&&n==null&&!Nu(r,Te()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Bt(c.path,e)||Bt(e,c.path))},a=u_(t.allWrites,o,e),l=n||le.EMPTY_NODE;return zs(a,l)}}}function A1(t,e,n){let i=le.EMPTY_NODE;const s=ps(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=mi(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=zs(mi(r,new Ae(o)),a);i=i.updateImmediateChild(o,l)}),Zp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=mi(t.visibleWrites,e);return Zp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function R1(t,e,n,i,s){W(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=ze(e,n);if(Nu(t.visibleWrites,r))return null;{const o=mi(t.visibleWrites,r);return Mu(o)?s.getChild(n):zs(o,s.getChild(n))}}function O1(t,e,n,i){const s=ze(e,n),r=ps(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=mi(t.visibleWrites,s);return zs(o,i.getNode().getImmediateChild(n))}else return null}function N1(t,e){return ps(t.visibleWrites,e)}function M1(t,e,n,i,s,r,o){let a;const l=mi(t.visibleWrites,e),c=ps(l,Te());if(c!=null)a=c;else if(n!=null)a=zs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let h=f.getNext();for(;h&&u.length<s;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function L1(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Da(t,e,n,i){return d_(t.writeTree,t.treePath,e,n,i)}function uf(t,e){return A1(t.writeTree,t.treePath,e)}function em(t,e,n,i){return R1(t.writeTree,t.treePath,e,n,i)}function Fa(t,e){return N1(t.writeTree,ze(t.treePath,e))}function D1(t,e,n,i,s,r){return M1(t.writeTree,t.treePath,e,n,i,s,r)}function df(t,e,n){return O1(t.writeTree,t.treePath,e,n)}function f_(t,e){return h_(ze(t.treePath,e),t.writeTree)}function h_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,lo(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,ao(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Hs(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,lo(i,e.snapshotNode,s.oldSnap));else throw Xs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const p_=new $1;class ff{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new es(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return df(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ts(this.viewCache_),r=D1(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){return{filter:t}}function U1(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function j1(t,e,n,i,s){const r=new F1;let o,a;if(n.type===Gt.OVERWRITE){const c=n;c.source.fromUser?o=Lu(t,e,c.path,c.snap,i,s,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ye(c.path),o=$a(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===Gt.MERGE){const c=n;c.source.fromUser?o=H1(t,e,c.path,c.children,i,s,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Du(t,e,c.path,c.children,i,s,a,r))}else if(n.type===Gt.ACK_USER_WRITE){const c=n;c.revert?o=q1(t,e,c.path,i,s,r):o=W1(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===Gt.LISTEN_COMPLETE)o=z1(t,e,n.path,i,r);else throw Xs("Unknown operation type: "+n.type);const l=r.getChanges();return V1(e,o,l),{viewCache:o,changes:l}}function V1(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Ru(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(o_(Ru(e)))}}function m_(t,e,n,i,s,r){const o=e.eventCache;if(Fa(i,n)!=null)return e;{let a,l;if(ye(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ts(e),u=c instanceof le?c:le.EMPTY_NODE,d=uf(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Da(i,ts(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ve(n);if(c===".priority"){W(_i(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=em(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ue(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=em(i,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=df(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,r):a=o.getNode()}}return Vr(e,a,o.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function $a(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ye(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),h,null)}else{const h=ve(n);if(!l.isCompleteForPath(n)&&_i(n)>1)return e;const p=Ue(n),y=l.getNode().getImmediateChild(h).updateChild(p,i);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,p_,null)}const d=l_(e,c,l.isFullyInitialized()||ye(n),u.filtersNodes()),f=new ff(s,d,r);return m_(t,d,n,s,f,a)}function Lu(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new ff(s,e,r);if(ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Vr(e,c,!0,t.filter.filtersNodes());else{const d=ve(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Vr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ue(n),h=a.getNode().getImmediateChild(d);let p;if(ye(f))p=i;else{const m=u.getCompleteChild(d);m!=null?Qd(f)===".priority"&&m.getChild(Qy(f)).isEmpty()?p=m:p=m.updateChild(f,i):p=le.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Vr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function tm(t,e){return t.eventCache.isCompleteForChild(e)}function H1(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=ze(n,l);tm(e,ve(u))&&(a=Lu(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=ze(n,l);tm(e,ve(u))||(a=Lu(t,a,u,c,s,r,o))}),a}function nm(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Du(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ye(n)?c=i:c=new $e(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=nm(t,h,f);l=$a(t,l,new Ae(d),p,s,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=nm(t,p,f);l=$a(t,l,new Ae(d),m,s,r,o,a)}}),l}function W1(t,e,n,i,s,r,o){if(Fa(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $a(t,e,n,l.getNode().getChild(n),s,r,a,o);if(ye(n)){let c=new $e(null);return l.getNode().forEachChild(Wi,(u,d)=>{c=c.set(new Ae(u),d)}),Du(t,e,n,c,s,r,a,o)}else return e}else{let c=new $e(null);return i.foreach((u,d)=>{const f=ze(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Du(t,e,n,c,s,r,a,o)}}function z1(t,e,n,i,s){const r=e.serverCache,o=l_(e,r.getNode(),r.isFullyInitialized()||ye(n),r.isFiltered());return m_(t,o,n,i,p_,s)}function q1(t,e,n,i,s,r){let o;if(Fa(i,n)!=null)return e;{const a=new ff(i,e,s),l=e.eventCache.getNode();let c;if(ye(n)||ve(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Da(i,ts(e));else{const d=e.serverCache.getNode();W(d instanceof le,"serverChildren would be complete if leaf node"),u=uf(i,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ve(n);let d=df(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ue(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,le.EMPTY_NODE,Ue(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Da(i,ts(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Fa(i,Te())!=null,Vr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new sf(i.getIndex()),r=u1(i);this.processor_=B1(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(le.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(le.EMPTY_NODE,a.getNode(),null),u=new es(l,o.isFullyInitialized(),s.filtersNodes()),d=new es(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Pl(d,u),this.eventGenerator_=new y1(this.query_)}get query(){return this.query_}}function K1(t){return t.viewCache_.serverCache.getNode()}function Y1(t,e){const n=ts(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function im(t){return t.eventRegistrations_.length===0}function J1(t,e){t.eventRegistrations_.push(e)}function sm(t,e,n){const i=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function rm(t,e,n,i){e.type===Gt.MERGE&&e.source.queryId!==null&&(W(ts(t.viewCache_),"We should always have a full cache before handling merges"),W(Ru(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=j1(t.processor_,s,e,n,i);return U1(t.processor_,r.viewCache),W(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,g_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function X1(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(r,o)=>{i.push(Hs(r,o))}),n.isFullyInitialized()&&i.push(o_(n.getNode())),g_(t,i,n.getNode(),e)}function g_(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return _1(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;class Q1{constructor(){this.views=new Map}}function Z1(t){W(!Ba,"__referenceConstructor has already been defined"),Ba=t}function ek(){return W(Ba,"Reference.ts has not been loaded"),Ba}function tk(t){return t.views.size===0}function hf(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return W(r!=null,"SyncTree gave us an op for an invalid query."),rm(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(rm(o,e,n,i));return r}}function nk(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Da(n,s?i:null),l=!1;a?l=!0:i instanceof le?(a=uf(n,i),l=!1):(a=le.EMPTY_NODE,l=!1);const c=Pl(new es(a,l,!1),new es(i,s,!1));return new G1(e,c)}return o}function ik(t,e,n,i,s,r){const o=nk(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),J1(o,n),X1(o,n)}function sk(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=wi(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(sm(c,n,i)),im(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(sm(l,n,i)),im(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!wi(t)&&r.push(new(ek())(e._repo,e._path)),{removed:r,events:o}}function v_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Os(t,e){let n=null;for(const i of t.views.values())n=n||Y1(i,e);return n}function y_(t,e){if(e._queryParams.loadsAllData())return Al(t);{const i=e._queryIdentifier;return t.views.get(i)}}function __(t,e){return y_(t,e)!=null}function wi(t){return Al(t)!=null}function Al(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;function rk(t){W(!Ua,"__referenceConstructor has already been defined"),Ua=t}function ok(){return W(Ua,"Reference.ts has not been loaded"),Ua}let ak=1;class om{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=L1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function w_(t,e,n,i,s){return E1(t.pendingWriteTree_,e,n,i,s),s?ir(t,new Zi(of(),e,n)):[]}function lk(t,e,n,i){T1(t.pendingWriteTree_,e,n,i);const s=$e.fromObject(n);return ir(t,new Ws(of(),e,s))}function ci(t,e,n=!1){const i=C1(t.pendingWriteTree_,e);if(I1(t.pendingWriteTree_,e)){let r=new $e(null);return i.snap!=null?r=r.set(Te(),!0):ct(i.children,o=>{r=r.set(new Ae(o),!0)}),ir(t,new La(i.path,r,n))}else return[]}function Rl(t,e,n){return ir(t,new Zi(af(),e,n))}function ck(t,e,n){const i=$e.fromObject(n);return ir(t,new Ws(af(),e,i))}function uk(t,e){return ir(t,new uo(af(),e))}function dk(t,e,n){const i=mf(t,n);if(i){const s=gf(i),r=s.path,o=s.queryId,a=Ct(r,e),l=new uo(lf(o),a);return vf(t,r,l)}else return[]}function Fu(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||__(o,e))){const l=sk(o,e,n,i);tk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>wi(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=pk(f);for(let p=0;p<h.length;++p){const m=h[p],y=m.query,w=E_(t,m);t.listenProvider_.startListening(Wr(y),ja(t,y),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Wr(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Ol(f));t.listenProvider_.stopListening(Wr(f),h)}))}mk(t,c)}return a}function fk(t,e,n,i){const s=mf(t,i);if(s!=null){const r=gf(s),o=r.path,a=r.queryId,l=Ct(o,e),c=new Zi(lf(a),l,n);return vf(t,o,c)}else return[]}function hk(t,e,n,i){const s=mf(t,i);if(s){const r=gf(s),o=r.path,a=r.queryId,l=Ct(o,e),c=$e.fromObject(n),u=new Ws(lf(a),l,c);return vf(t,o,u)}else return[]}function am(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,h)=>{const p=Ct(f,s);r=r||Os(h,p),o=o||wi(h)});let a=t.syncPointTree_.get(s);a?(o=o||wi(a),r=r||Os(a,Te())):(a=new Q1,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=le.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((h,p)=>{const m=Os(p,Te());m&&(r=r.updateImmediateChild(h,m))}));const c=__(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ol(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=gk();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=cf(t.pendingWriteTree_,s);let d=ik(a,e,n,u,r,l);if(!c&&!o&&!i){const f=y_(a,e);d=d.concat(vk(t,e,f))}return d}function pf(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ct(o,e),c=Os(a,l);if(c)return c});return d_(s,e,r,n,!0)}function ir(t,e){return b_(e,t.syncPointTree_,null,cf(t.pendingWriteTree_,Te()))}function b_(t,e,n,i){if(ye(t.path))return S_(t,e,n,i);{const s=e.get(Te());n==null&&s!=null&&(n=Os(s,Te()));let r=[];const o=ve(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=f_(i,o);r=r.concat(b_(a,l,c,u))}return s&&(r=r.concat(hf(s,t,i,n))),r}}function S_(t,e,n,i){const s=e.get(Te());n==null&&s!=null&&(n=Os(s,Te()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=f_(i,o),u=t.operationForChild(o);u&&(r=r.concat(S_(u,a,l,c)))}),s&&(r=r.concat(hf(s,t,i,n))),r}function E_(t,e){const n=e.query,i=ja(t,n);return{hashFn:()=>(K1(e)||le.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?dk(t,n._path,i):uk(t,n._path);{const r=ux(s,n);return Fu(t,n,null,r)}}}}function ja(t,e){const n=Ol(e);return t.queryToTagMap.get(n)}function Ol(t){return t._path.toString()+"$"+t._queryIdentifier}function mf(t,e){return t.tagToQueryMap.get(e)}function gf(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function vf(t,e,n){const i=t.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const s=cf(t.pendingWriteTree_,e);return hf(i,n,s,null)}function pk(t){return t.fold((e,n,i)=>{if(n&&wi(n))return[Al(n)];{let s=[];return n&&(s=v_(n)),ct(i,(r,o)=>{s=s.concat(o)}),s}})}function Wr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ok())(t._repo,t._path):t}function mk(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Ol(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function gk(){return ak++}function vk(t,e,n){const i=e._path,s=ja(t,e),r=E_(t,n),o=t.listenProvider_.startListening(Wr(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)W(!wi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ye(c)&&u&&wi(u))return[Al(u).query];{let f=[];return u&&(f=f.concat(v_(u).map(h=>h.query))),ct(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Wr(u),ja(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yf(n)}node(){return this.node_}}class _f{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new _f(this.syncTree_,n)}node(){return pf(this.syncTree_,this.path_)}}const yk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lm=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _k(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wk(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_k=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},wk=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const s=e.node();if(W(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},T_=function(t,e,n,i){return wf(e,new _f(n,t),i)},C_=function(t,e,n){return wf(t,new yf(e),n)};function wf(t,e,n){const i=t.getPriority().val(),s=lm(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=lm(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new et(a,it(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new et(s))),o.forEachChild(He,(a,l)=>{const c=wf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Sf(t,e){let n=e instanceof Ae?e:new Ae(e),i=t,s=ve(n);for(;s!==null;){const r=Vs(i.node.children,s)||{children:{},childCount:0};i=new bf(s,i,r),n=Ue(n),s=ve(n)}return i}function sr(t){return t.node.value}function I_(t,e){t.node.value=e,$u(t)}function x_(t){return t.node.childCount>0}function bk(t){return sr(t)===void 0&&!x_(t)}function Nl(t,e){ct(t.node.children,(n,i)=>{e(new bf(n,t,i))})}function k_(t,e,n,i){n&&e(t),Nl(t,s=>{k_(s,e,!0)})}function Sk(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Co(t){return new Ae(t.parent===null?t.name:Co(t.parent)+"/"+t.name)}function $u(t){t.parent!==null&&Ek(t.parent,t.name,t)}function Ek(t,e,n){const i=bk(n),s=Tn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,$u(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,$u(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=/[\[\].#$\/\u0000-\u001F\u007F]/,Ck=/[\[\].#$\u0000-\u001F\u007F]/,xc=10*1024*1024,Ef=function(t){return typeof t=="string"&&t.length!==0&&!Tk.test(t)},P_=function(t){return typeof t=="string"&&t.length!==0&&!Ck.test(t)},Ik=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),P_(t)},Bu=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gd(t)||t&&typeof t=="object"&&Tn(t,".sv")},xk=function(t,e,n,i){Ml(Il(t,"value"),e,n)},Ml=function(t,e,n){const i=n instanceof Ae?new Wx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Mi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Mi(i)+" with contents = "+e.toString());if(Gd(e))throw new Error(t+"contains "+e.toString()+" "+Mi(i));if(typeof e=="string"&&e.length>xc/3&&xl(e)>xc)throw new Error(t+"contains a string greater than "+xc+" utf8 bytes "+Mi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(ct(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Ef(o)))throw new Error(t+" contains an invalid key ("+o+") "+Mi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zx(i,o),Ml(t,a,i),qx(i)}),s&&r)throw new Error(t+' contains ".value" child '+Mi(i)+" in addition to actual children.")}},kk=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=oo(i);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Ef(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Hx);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Bt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},Pk=function(t,e,n,i){const s=Il(t,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const r=[];ct(e,(o,a)=>{const l=new Ae(o);if(Ml(s,a,ze(n,l)),Qd(l)===".priority"&&!Bu(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),kk(s,r)},Tf=function(t,e,n,i){if(!P_(n))throw new Error(Il(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ak=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Tf(t,e,n)},A_=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Rk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ef(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ik(n))throw new Error(Il(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ll(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!Zd(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function R_(t,e,n){Ll(t,n),O_(t,i=>Zd(i,e))}function tn(t,e,n){Ll(t,n),O_(t,i=>Bt(i,e)||Bt(e,i))}function O_(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(Nk(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Nk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Ur&&lt("event: "+n.toString()),nr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="repo_interrupt",Lk=25;class Dk{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ok,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fk(t,e,n){if(t.stats_=Jd(t.repoInfo_),t.forceRestClient_||px())t.server_=new Na(t.repoInfo_,(i,s,r,o)=>{cm(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>um(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Un(t.repoInfo_,e,(i,s,r,o)=>{cm(t,i,s,r,o)},i=>{um(t,i)},i=>{Bk(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=_x(t.repoInfo_,()=>new v1(t.stats_,t.server_)),t.infoData_=new f1,t.infoSyncTree_=new om({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Rl(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Cf(t,"connected",!1),t.serverSyncTree_=new om({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);tn(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function $k(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Dl(t){return yk({timestamp:$k(t)})}function cm(t,e,n,i,s){t.dataUpdateCount++;const r=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=xa(n,c=>it(c));o=hk(t.serverSyncTree_,r,l,s)}else{const l=it(n);o=fk(t.serverSyncTree_,r,l,s)}else if(i){const l=xa(n,c=>it(c));o=ck(t.serverSyncTree_,r,l)}else{const l=it(n);o=Rl(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=qs(t,r)),tn(t.eventQueue_,a,o)}function um(t,e){Cf(t,"connected",e),e===!1&&Vk(t)}function Bk(t,e){ct(e,(n,i)=>{Cf(t,n,i)})}function Cf(t,e,n){const i=new Ae("/.info/"+e),s=it(n);t.infoData_.updateSnapshot(i,s);const r=Rl(t.infoSyncTree_,i,s);tn(t.eventQueue_,i,r)}function If(t){return t.nextWriteId_++}function Uk(t,e,n,i,s){Fl(t,"set",{path:e.toString(),value:n,priority:i});const r=Dl(t),o=it(n,i),a=pf(t.serverSyncTree_,e),l=C_(o,a,r),c=If(t),u=w_(t.serverSyncTree_,e,l,c,!0);Ll(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||wt("set at "+e+" failed: "+f);const m=ci(t.serverSyncTree_,c,!p);tn(t.eventQueue_,e,m),Uu(t,s,f,h)});const d=kf(t,e);qs(t,d),tn(t.eventQueue_,d,[])}function jk(t,e,n,i){Fl(t,"update",{path:e.toString(),value:n});let s=!0;const r=Dl(t),o={};if(ct(n,(a,l)=>{s=!1,o[a]=T_(ze(e,a),it(l),t.serverSyncTree_,r)}),s)lt("update() called with empty data.  Don't do anything."),Uu(t,i,"ok",void 0);else{const a=If(t),l=lk(t.serverSyncTree_,e,o,a);Ll(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||wt("update at "+e+" failed: "+c);const f=ci(t.serverSyncTree_,a,!d),h=f.length>0?qs(t,e):e;tn(t.eventQueue_,h,f),Uu(t,i,c,u)}),ct(n,c=>{const u=kf(t,ze(e,c));qs(t,u)}),tn(t.eventQueue_,e,[])}}function Vk(t){Fl(t,"onDisconnectEvents");const e=Dl(t),n=Ma();Au(t.onDisconnect_,Te(),(s,r)=>{const o=T_(s,r,t.serverSyncTree_,e);a_(n,s,o)});let i=[];Au(n,Te(),(s,r)=>{i=i.concat(Rl(t.serverSyncTree_,s,r));const o=kf(t,s);qs(t,o)}),t.onDisconnect_=Ma(),tn(t.eventQueue_,Te(),i)}function Hk(t,e,n){let i;ve(e._path)===".info"?i=am(t.infoSyncTree_,e,n):i=am(t.serverSyncTree_,e,n),R_(t.eventQueue_,e._path,i)}function dm(t,e,n){let i;ve(e._path)===".info"?i=Fu(t.infoSyncTree_,e,n):i=Fu(t.serverSyncTree_,e,n),R_(t.eventQueue_,e._path,i)}function Wk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Mk)}function Fl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),lt(n,...e)}function Uu(t,e,n,i){e&&nr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function N_(t,e,n){return pf(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function xf(t,e=t.transactionQueueTree_){if(e||$l(t,e),sr(e)){const n=L_(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&zk(t,Co(e),n)}else x_(e)&&Nl(e,n=>{xf(t,n)})}function zk(t,e,n){const i=n.map(c=>c.currentWriteId),s=N_(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];W(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ct(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Fl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ci(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();$l(t,Sf(t.transactionQueueTree_,e)),xf(t,t.transactionQueueTree_),tn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)nr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}qs(t,e)}},o)}function qs(t,e){const n=M_(t,e),i=Co(n),s=L_(t,n);return qk(t,s,i),i}function qk(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ct(n,l.path);let u=!1,d;if(W(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(ci(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Lk)u=!0,d="maxretry",s=s.concat(ci(t.serverSyncTree_,l.currentWriteId,!0));else{const f=N_(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Ml("transaction failed: Data returned ",h,l.path);let p=it(h);typeof h=="object"&&h!=null&&Tn(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,w=Dl(t),v=C_(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=If(t),o.splice(o.indexOf(y),1),s=s.concat(w_(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(ci(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",s=s.concat(ci(t.serverSyncTree_,l.currentWriteId,!0))}tn(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}$l(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)nr(i[a]);xf(t,t.transactionQueueTree_)}function M_(t,e){let n,i=t.transactionQueueTree_;for(n=ve(e);n!==null&&sr(i)===void 0;)i=Sf(i,n),e=Ue(e),n=ve(e);return i}function L_(t,e){const n=[];return D_(t,e,n),n.sort((i,s)=>i.order-s.order),n}function D_(t,e,n){const i=sr(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Nl(e,s=>{D_(t,s,n)})}function $l(t,e){const n=sr(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,I_(e,n.length>0?n:void 0)}Nl(e,i=>{$l(t,i)})}function kf(t,e){const n=Co(M_(t,e)),i=Sf(t.transactionQueueTree_,e);return Sk(i,s=>{kc(t,s)}),kc(t,i),k_(i,s=>{kc(t,s)}),n}function kc(t,e){const n=sr(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(W(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(W(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ci(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?I_(e,void 0):n.length=r+1,tn(t.eventQueue_,Co(e),s);for(let o=0;o<i.length;o++)nr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Kk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const fm=function(t,e){const n=Yk(t),i=n.namespace;n.domain==="firebase.com"&&Wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Hy(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ae(n.pathString)}},Yk=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=Gk(t.substring(u,d)));const f=Kk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class Xk{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ye(this._path)?null:Qd(this._path)}get ref(){return new Ii(this._repo,this._path)}get _queryIdentifier(){const e=Jp(this._queryParams),n=Kd(e);return n==="{}"?"default":n}get _queryObject(){return Jp(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof Bl))return!1;const n=this._repo===e._repo,i=Zd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Vx(this._path)}}function Zk(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function eP(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Wi){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Qi)throw new Error(i);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==yi)throw new Error(i);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===He){if(e!=null&&!Bu(e)||n!=null&&!Bu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof nf||t.getIndex()===r_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ii extends Bl{constructor(e,n){super(e,n,new rf,!1)}get parent(){const e=Qy(this._path);return e===null?null:new Ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Va{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),i=ju(this.ref,e);return new Va(this._node.getChild(n),i,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Va(s,ju(this.ref,i),He)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dt(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?ju(t._root,e):t._root}function ju(t,e){return t=Ze(t),ve(t._path)===null?Ak("child","path",e):Tf("child","path",e),new Ii(t._repo,ze(t._path,e))}function Vu(t){return A_("remove",t._path),Pf(t,null)}function Pf(t,e){t=Ze(t),A_("set",t._path),xk("set",e,t._path);const n=new bo;return Uk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function tP(t,e){Pk("update",e,t._path);const n=new bo;return jk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Af{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Jk("value",this,new Va(e.snapshotNode,new Ii(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Xk(this,e,n):null}matches(e){return e instanceof Af?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function nP(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(u,d)=>{dm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Qk(n,r||void 0),a=new Af(o);return Hk(t._repo,t,a),()=>dm(t._repo,t,a)}function zi(t,e,n,i){return nP(t,"value",e,n,i)}class iP{}class sP extends iP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Zk(e,"orderByChild");const n=new Ae(this._path);if(ye(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new nf(n),s=d1(e._queryParams,i);return eP(s),new Bl(e._repo,e._path,s,!0)}}function F_(t){return Tf("orderByChild","path",t),new sP(t)}function $_(t,...e){let n=Ze(t);for(const i of e)n=i._apply(n);return n}Z1(Ii);rk(Ii);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="FIREBASE_DATABASE_EMULATOR_HOST",Hu={};let oP=!1;function aP(t,e,n,i){t.repoInfo_=new Hy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function lP(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=fm(r,s),a=o.repoInfo,l;typeof process<"u"&&Op&&(l=Op[rP]),l?(r=`http://${l}?ns=${a.namespace}`,o=fm(r,s),a=o.repoInfo):o.repoInfo.secure;const c=new gx(t.name,t.options,e);Rk("Invalid Firebase Database URL",o),ye(o.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=uP(a,t,c,new mx(t.name,n));return new dP(u,t)}function cP(t,e){const n=Hu[e];(!n||n[t.key]!==t)&&Wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Wk(t),delete n[t.key]}function uP(t,e,n,i){let s=Hu[e.name];s||(s={},Hu[e.name]=s);let r=s[t.toURLString()];return r&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Dk(t,oP,n,i),s[t.toURLString()]=r,r}class dP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wn("Cannot call "+e+" on a deleted database.")}}function Io(t=qd(),e){const n=er(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=RC("database");i&&fP(n,...i)}return n}function fP(t,e,n,i={}){t=Ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Wn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new na(na.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:OC(i.mockUserToken,t.app.options.projectId);r=new na(o)}aP(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){ZI(tr),en(new zt("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return lP(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Ht(Np,Mp,t),Ht(Np,Mp,"esm2017")}Un.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Un.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hP();function Rf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function B_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=B_,U_=new Ci("auth","Firebase",B_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Wd("@firebase/auth");function mP(t,...e){Ha.logLevel<=Re.WARN&&Ha.warn(`Auth (${tr}): ${t}`,...e)}function ia(t,...e){Ha.logLevel<=Re.ERROR&&Ha.error(`Auth (${tr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Of(t,...e)}function yn(t,...e){return Of(t,...e)}function j_(t,e,n){const i=Object.assign(Object.assign({},pP()),{[e]:n});return new Ci("auth","Firebase",i).create(e,{appName:t.name})}function jn(t){return j_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Of(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return U_.create(t,...e)}function ae(t,e,...n){if(!t)throw Of(e,...n)}function Dn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ia(e),new Error(e)}function zn(t,e){t||Dn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gP(){return hm()==="http:"||hm()==="https:"}function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||MC()||"connection"in navigator)?navigator.onLine:!0}function yP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.shortDelay=e,this.longDelay=n,zn(n>e,"Short delay should be less than long delay!"),this.isMobile=Hd()||wy()}get(){return vP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e){zn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new xo(3e4,6e4);function xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jn(t,e,n,i,s={}){return H_(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=Qs(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return NC()||(c.referrerPolicy="no-referrer"),V_.fetch()(W_(t,t.config.apiHost,n,a),c)})}async function H_(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},_P),e);try{const s=new SP(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Vo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vo(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw j_(t,u,c);nn(t,u)}}catch(s){if(s instanceof Yn)throw s;nn(t,"network-request-failed",{message:String(s)})}}async function ko(t,e,n,i,s={}){const r=await Jn(t,e,n,i,s);return"mfaPendingCredential"in r&&nn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function W_(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Nf(t.config,s):`${t.config.apiScheme}://${s}`}function bP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(yn(this.auth,"network-request-failed")),wP.get())})}}function Vo(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=yn(t,e,i);return s.customData._tokenResponse=n,s}function pm(t){return t!==void 0&&t.enterprise!==void 0}class EP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TP(t,e){return Jn(t,"GET","/v2/recaptchaConfig",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){return Jn(t,"POST","/v1/accounts:delete",e)}async function z_(t,e){return Jn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IP(t,e=!1){const n=Ze(t),i=await n.getIdToken(e),s=Mf(i);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:zr(Pc(s.auth_time)),issuedAtTime:zr(Pc(s.iat)),expirationTime:zr(Pc(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Pc(t){return Number(t)*1e3}function Mf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ia("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ia(n);return s?JSON.parse(s):(ia("Failed to decode base64 JWT payload"),null)}catch(s){return ia("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mm(t){const e=Mf(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Yn&&xP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function xP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Gs(t,z_(n,{idToken:i}));ae(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?q_(r.providerUserInfo):[],a=AP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new zu(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function PP(t){const e=Ze(t);await Wa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AP(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function q_(t){return t.map(e=>{var{providerId:n}=e,i=Rf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){const n=await H_(t,{},async()=>{const i=Qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=W_(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V_.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OP(t,e){return Jn(t,"POST","/v2/accounts:revokeToken",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=mm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await RP(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Ns;return i&&(ae(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(ae(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ns,this.toJSON())}_performRefresh(){return Dn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new zu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Gs(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IP(this,e)}reload(){return PP(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Wa(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await Gs(this,CP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:T,providerData:R,stsTokenManager:B}=n;ae(g&&B,e,"internal-error");const x=Ns.fromJSON(this.name,B);ae(typeof g=="string",e,"internal-error"),Zn(d,e.name),Zn(f,e.name),ae(typeof S=="boolean",e,"internal-error"),ae(typeof T=="boolean",e,"internal-error"),Zn(h,e.name),Zn(p,e.name),Zn(m,e.name),Zn(y,e.name),Zn(w,e.name),Zn(v,e.name);const C=new Fn({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:x,createdAt:w,lastLoginAt:v});return R&&Array.isArray(R)&&(C.providerData=R.map(k=>Object.assign({},k))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,n,i=!1){const s=new Ns;s.updateFromServerResponse(n);const r=new Fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Wa(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?q_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new Ns;a.updateFromIdToken(i);const l=new Fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new zu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map;function $n(t){zn(t instanceof Function,"Expected a class definition");let e=gm.get(t);return e?(zn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}G_.type="NONE";const vm=G_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=sa(this.userKey,s.apiKey,r),this.fullPersistenceKey=sa("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ms($n(vm),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||$n(vm);const o=sa(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Fn._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Ms(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Ms(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z_(e))return"Blackberry";if(ew(e))return"Webos";if(Y_(e))return"Safari";if((e.includes("chrome/")||J_(e))&&!e.includes("edge/"))return"Chrome";if(Q_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function K_(t=St()){return/firefox\//i.test(t)}function Y_(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J_(t=St()){return/crios\//i.test(t)}function X_(t=St()){return/iemobile/i.test(t)}function Q_(t=St()){return/android/i.test(t)}function Z_(t=St()){return/blackberry/i.test(t)}function ew(t=St()){return/webos/i.test(t)}function Lf(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NP(t=St()){var e;return Lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MP(){return LC()&&document.documentMode===10}function tw(t=St()){return Lf(t)||Q_(t)||ew(t)||Z_(t)||/windows phone/i.test(t)||X_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e=[]){let n;switch(t){case"Browser":n=ym(St());break;case"Worker":n=`${ym(St())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e={}){return Jn(t,"GET","/v2/passwordPolicy",xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=6;class $P{constructor(e){var n,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _m(this),this.idTokenSubscription=new _m(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await z_(this,{idToken:e}),i=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(jn(this));const n=e?Ze(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DP(this),n=new $P(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ci("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await OP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ms(t){return Ze(t)}class _m{constructor(e){this.auth=e,this.observer=null,this.addObserver=HC(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UP(t){Ul=t}function iw(t){return Ul.loadJS(t)}function jP(){return Ul.recaptchaEnterpriseScript}function VP(){return Ul.gapiScript}function HP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WP{constructor(){this.enterprise=new zP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qP="recaptcha-enterprise",sw="NO_RECAPTCHA";class GP{constructor(e){this.type=qP,this.auth=ms(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{TP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new EP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;pm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(sw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WP().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&pm(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jP();l.length!==0&&(l+=a),iw(l).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wm(t,e,n,i=!1,s=!1){const r=new GP(t);let o;if(s)o=sw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qu(t,e,n,i,s){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wm(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await wm(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e){const n=er(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(ka(r,e??{}))return s;nn(s,"already-initialized")}return n.initialize({options:e})}function YP(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function JP(t,e,n){const i=ms(t);ae(i._canInitEmulator,i,"emulator-config-failed"),ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=rw(e),{host:o,port:a}=XP(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),QP()}function rw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XP(t){const e=rw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:bm(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:bm(o)}}}function bm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,n){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}async function ZP(t,e){return Jn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e){return ko(t,"POST","/v1/accounts:signInWithPassword",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e){return ko(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}async function nA(t,e){return ko(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Df{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new fo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,n,"signInWithPassword",eA);case"emailLink":return tA(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,i,"signUpPassword",ZP);case"emailLink":return nA(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return ko(t,"POST","/v1/accounts:signInWithIdp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="http://localhost";class ns extends Df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Rf(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new ns(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ls(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:iA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rA(t){const e=Ir(xr(t)).link,n=e?Ir(xr(e)).deep_link_id:null,i=Ir(xr(t)).deep_link_id;return(i?Ir(xr(i)).link:null)||i||n||e||t}class Ff{constructor(e){var n,i,s,r,o,a;const l=Ir(xr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=sA((s=l.mode)!==null&&s!==void 0?s:null);ae(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rA(e);try{return new Ff(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.providerId=rr.PROVIDER_ID}static credential(e,n){return fo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ff.parseLink(n);return ae(i,"argument-error"),fo._fromEmailAndCode(e,i.code,i.tenantId)}}rr.PROVIDER_ID="password";rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Po{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ri.credential(n,i)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Po{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Po{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ai.credential(n,i)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e){return ko(t,"POST","/v1/accounts:signUp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Fn._fromIdTokenResponse(e,i,s),o=Sm(i);return new is({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Sm(i);return new is({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Sm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Yn{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,za.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new za(e,n,i,s)}}function aw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(t,r,e,i):r})}async function aA(t,e,n=!1){const i=await Gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return is._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(jn(i));const s="reauthenticate";try{const r=await Gs(t,aw(i,s,e,t),n);ae(r.idToken,i,"internal-error");const o=Mf(r.idToken);ae(o,i,"internal-error");const{sub:a}=o;return ae(t.uid===a,i,"user-mismatch"),is._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&nn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t,e,n=!1){if(mn(t.app))return Promise.reject(jn(t));const i="signIn",s=await aw(t,i,e),r=await is._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function cA(t,e){return lw(ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(t){const e=ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uA(t,e,n){if(mn(t.app))return Promise.reject(jn(t));const i=ms(t),o=await qu(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cw(t),l}),a=await is._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function dA(t,e,n){return mn(t.app)?Promise.reject(jn(t)):cA(Ze(t),rr.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cw(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(t,e){return Jn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ze(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Gs(i,fA(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function hA(t,e,n,i){return Ze(t).onIdTokenChanged(e,n,i)}function pA(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function gi(t,e,n,i){return Ze(t).onAuthStateChanged(e,n,i)}function mA(t){return Ze(t).signOut()}const qa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1e3,vA=10;class dw extends uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);MP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vA):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},gA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dw.type="LOCAL";const yA=dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fw.type="SESSION";const hw=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new jl(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await _A(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=$f("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function bA(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function SA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TA(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebaseLocalStorageDb",CA=1,Ga="firebaseLocalStorage",gw="fbase_key";class Ao{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vl(t,e){return t.transaction([Ga],e?"readwrite":"readonly").objectStore(Ga)}function IA(){const t=indexedDB.deleteDatabase(mw);return new Ao(t).toPromise()}function Gu(){const t=indexedDB.open(mw,CA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ga,{keyPath:gw})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ga)?e(i):(i.close(),await IA(),e(await Gu()))})})}async function Tm(t,e,n){const i=Vl(t,!0).put({[gw]:e,value:n});return new Ao(i).toPromise()}async function xA(t,e){const n=Vl(t,!1).get(e),i=await new Ao(n).toPromise();return i===void 0?null:i.value}function Cm(t,e){const n=Vl(t,!0).delete(e);return new Ao(n).toPromise()}const kA=800,PA=3;class vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>PA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jl._getInstance(TA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SA(),!this.activeServiceWorker)return;this.sender=new wA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gu();return await Tm(e,qa,"1"),await Cm(e,qa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tm(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>xA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Vl(s,!1).getAll();return new Ao(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vw.type="LOCAL";const AA=vw;new xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e){return e?$n(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OA(t){return lw(t.auth,new Bf(t),t.bypassAuthState)}function NA(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),lA(n,new Bf(t),t.bypassAuthState)}async function MA(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),aA(n,new Bf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OA;case"linkViaPopup":case"linkViaRedirect":return MA;case"reauthViaPopup":case"reauthViaRedirect":return NA;default:nn(this.auth,"internal-error")}}resolve(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new xo(2e3,1e4);class Cs extends yw{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){zn(this.filter.length===1,"Popup operations only handle one event");const e=$f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LA.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="pendingRedirect",ra=new Map;class FA extends yw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ra.get(this.auth._key());if(!e){try{const i=await $A(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $A(t,e){const n=jA(e),i=UA(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function BA(t,e){ra.set(t._key(),e)}function UA(t){return $n(t._redirectPersistence)}function jA(t){return sa(DA,t.config.apiKey,t.name)}async function VA(t,e,n=!1){if(mn(t.app))return Promise.reject(jn(t));const i=ms(t),s=RA(i,e),o=await new FA(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=10*60*1e3;class WA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!_w(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Im(e))}saveEventToCache(e){this.cachedEventUids.add(Im(e)),this.lastProcessedEventTime=Date.now()}}function Im(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _w({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e={}){return Jn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KA=/^https?/;async function YA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qA(t);for(const n of e)try{if(JA(n))return}catch{}nn(t,"unauthorized-domain")}function JA(t){const e=Wu(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!KA.test(n))return!1;if(GA.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new xo(3e4,6e4);function xm(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QA(t){return new Promise((e,n)=>{var i,s,r;function o(){xm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xm(),n(yn(t,"network-request-failed"))},timeout:XA.get()})}if(!((s=(i=_n().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=_n().gapi)===null||r===void 0)&&r.load)o();else{const a=HP("iframefcb");return _n()[a]=()=>{gapi.load?o():n(yn(t,"network-request-failed"))},iw(`${VP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw oa=null,e})}let oa=null;function ZA(t){return oa=oa||QA(t),oa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new xo(5e3,15e3),tR="__/auth/iframe",nR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rR(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nf(e,nR):`https://${t.config.authDomain}/${tR}`,i={apiKey:e.apiKey,appName:t.name,v:tr},s=sR.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Qs(i).slice(1)}`}async function oR(t){const e=await ZA(t),n=_n().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:rR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=yn(t,"network-request-failed"),a=_n().setTimeout(()=>{r(o)},eR.get());function l(){_n().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lR=500,cR=600,uR="_blank",dR="http://localhost";class km{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fR(t,e,n,i=lR,s=cR){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aR),{width:i.toString(),height:s.toString(),top:r,left:o}),c=St().toLowerCase();n&&(a=J_(c)?uR:n),K_(c)&&(e=e||dR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(NP(c)&&a!=="_self")return hR(e||"",a),new km(null);const d=window.open(e||"",a,u);ae(d,t,"popup-blocked");try{d.focus()}catch{}return new km(d)}function hR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="__/auth/handler",mR="emulator/auth/handler",gR=encodeURIComponent("fac");async function Pm(t,e,n,i,s,r){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:tr,eventId:s};if(e instanceof ow){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Po){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${gR}=${encodeURIComponent(l)}`:"";return`${vR(t)}?${Qs(a).slice(1)}${c}`}function vR({config:t}){return t.emulator?Nf(t,mR):`https://${t.authDomain}/${pR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="webStorageSupport";class yR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hw,this._completeRedirectFn=VA,this._overrideRedirectResult=BA}async _openPopup(e,n,i,s){var r;zn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Pm(e,n,i,Wu(),s);return fR(e,o,$f())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await Pm(e,n,i,Wu(),s);return bA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(zn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await oR(e),i=new WA(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ac,{type:Ac},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Ac];o!==void 0&&n(!!o),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tw()||Y_()||Lf()}}const _R=yR;var Am="@firebase/auth",Rm="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SR(t){en(new zt("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nw(t)},c=new BP(i,s,r,l);return YP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),en(new zt("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(i=>new wR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(Am,Rm,bR(t)),Ht(Am,Rm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=5*60,TR=_y("authIdTokenMaxAge")||ER;let Om=null;const CR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>TR)return;const s=n==null?void 0:n.token;Om!==s&&(Om=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bi(t=qd()){const e=er(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KP(t,{popupRedirectResolver:_R,persistence:[AA,yA,hw]}),i=_y("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=CR(r.toString());pA(n,o,()=>o(n.currentUser)),hA(n,a=>o(a))}}const s=vy("auth");return s&&JP(n,`http://${s}`),n}function IR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=yn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",IR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SR("Browser");const Uf=wo("searchStore",()=>{const t=$([]),e=$(""),n=$([]),i=Io(),s=bi(),r=$(!0);return{memory:e,memoryFilms:n,lastSearch:t,loader:r,getLastSearch:()=>{r.value=!0,gi(s,u=>{if(u){const d=$_(Dt(i,`users/${u.uid}/search`),F_("date"));zi(d,f=>{const h=[];f.forEach(p=>{h.push(p.val())}),t.value=h.reverse(),r.value=!1},f=>{console.log(f)})}else console.log("User logged out")})},addToLastSearch:(u,d)=>{const f=new Date().getTime();u.isFavorite=!0,Pf(Dt(i,"users/"+s.currentUser.uid+"/search/"+d),{nameRu:u.nameRu?u.nameRu:u.nameEn,year:u.year,rating:u.rating,posterUrl:u.posterUrl,id:+d,date:f}).then(()=>console.log("Добавлено")).catch(h=>console.log(h))},removeFromSearch:u=>{Vu(Dt(i,"users/"+s.currentUser.uid+"/search/"+u)).then(()=>console.log("Удалено")).catch(d=>console.log(d))},removeAllSearch:()=>{Vu(Dt(i,"users/"+s.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(u=>console.log(u))}}}),xR={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-600 bg-opacity-50 backdrop-blur-sm"},kR={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},PR={__name:"Header",setup(t){const e=Uf();return(n,i)=>{const s=Kn("RouterLink");return P(),V("header",xR,[E("nav",kR,[O(s,{to:"/",class:"flex flex-col items-center gap-1"},{default:ee(()=>[O(M(wC),{class:"w-6 text-gray-50",alt:"home"}),i[1]||(i[1]=E("span",{class:"text-xs text-white"},"Главное",-1))]),_:1}),O(s,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:ee(()=>[O(M(Bd),{class:"w-6 text-gray-50",alt:"favorites"}),i[2]||(i[2]=E("span",{class:"text-xs text-white"},"Мое",-1))]),_:1}),O(s,{to:"/search",class:"flex flex-col items-center gap-1",onClick:i[0]||(i[0]=r=>{M(e).memory="",M(e).memoryFilms=[]})},{default:ee(()=>[O(M(dy),{class:"w-6 text-gray-50",alt:"search"}),i[3]||(i[3]=E("span",{class:"text-xs text-white"},"Поиск",-1))]),_:1}),O(s,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:ee(()=>[O(M(SC),{class:"w-6 text-gray-50",alt:"profile"}),i[4]||(i[4]=E("span",{class:"text-xs text-white"},"Профиль",-1))]),_:1})])])}}},ww="@firebase/installations",jf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=1e4,Sw=`w:${jf}`,Ew="FIS_v2",AR="https://firebaseinstallations.googleapis.com/v1",RR=60*60*1e3,OR="installations",NR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ss=new Ci(OR,NR,MR);function Tw(t){return t instanceof Yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw({projectId:t}){return`${AR}/projects/${t}/installations`}function Iw(t){return{token:t.token,requestStatus:2,expiresIn:DR(t.expiresIn),creationTime:Date.now()}}async function xw(t,e){const i=(await e.json()).error;return ss.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function kw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LR(t,{refreshToken:e}){const n=kw(t);return n.append("Authorization",FR(e)),n}async function Pw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DR(t){return Number(t.replace("s","000"))}function FR(t){return`${Ew} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Cw(t),s=kw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Ew,appId:t.appId,sdkVersion:Sw},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Pw(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Iw(c.authToken)}}else throw await xw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/^[cdef][\w-]{21}$/,Ku="";function jR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=VR(t);return UR.test(n)?n:Ku}catch{return Ku}}function VR(t){return BR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Map;function Ow(t,e){const n=Hl(t);Nw(n,e),HR(n,e)}function Nw(t,e){const n=Rw.get(t);if(n)for(const i of n)i(e)}function HR(t,e){const n=WR();n&&n.postMessage({key:t,fid:e}),zR()}let Fi=null;function WR(){return!Fi&&"BroadcastChannel"in self&&(Fi=new BroadcastChannel("[Firebase] FID Change"),Fi.onmessage=t=>{Nw(t.data.key,t.data.fid)}),Fi}function zR(){Rw.size===0&&Fi&&(Fi.close(),Fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebase-installations-database",GR=1,rs="firebase-installations-store";let Rc=null;function Vf(){return Rc||(Rc=Zs(qR,GR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rs)}}})),Rc}async function Ka(t,e){const n=Hl(t),s=(await Vf()).transaction(rs,"readwrite"),r=s.objectStore(rs),o=await r.get(n);return await r.put(e,n),await s.done,(!o||o.fid!==e.fid)&&Ow(t,e.fid),e}async function Mw(t){const e=Hl(t),i=(await Vf()).transaction(rs,"readwrite");await i.objectStore(rs).delete(e),await i.done}async function Wl(t,e){const n=Hl(t),s=(await Vf()).transaction(rs,"readwrite"),r=s.objectStore(rs),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Ow(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){let e;const n=await Wl(t.appConfig,i=>{const s=KR(i),r=YR(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===Ku?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function KR(t){const e=t||{fid:jR(),registrationStatus:0};return Lw(e)}function YR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ss.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=JR(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XR(t)}:{installationEntry:e}}async function JR(t,e){try{const n=await $R(t,e);return Ka(t.appConfig,n)}catch(n){throw Tw(n)&&n.customData.serverCode===409?await Mw(t.appConfig):await Ka(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XR(t){let e=await Nm(t.appConfig);for(;e.registrationStatus===1;)await Aw(100),e=await Nm(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Hf(t);return i||n}return e}function Nm(t){return Wl(t,e=>{if(!e)throw ss.create("installation-not-found");return Lw(e)})}function Lw(t){return QR(t)?{fid:t.fid,registrationStatus:0}:t}function QR(t){return t.registrationStatus===1&&t.registrationTime+bw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR({appConfig:t,heartbeatServiceProvider:e},n){const i=eO(t,n),s=LR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Sw,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Pw(()=>fetch(i,a));if(l.ok){const c=await l.json();return Iw(c)}else throw await xw("Generate Auth Token",l)}function eO(t,{fid:e}){return`${Cw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t,e=!1){let n;const i=await Wl(t.appConfig,r=>{if(!Dw(r))throw ss.create("not-registered");const o=r.authToken;if(!e&&iO(o))return r;if(o.requestStatus===1)return n=tO(t,e),r;{if(!navigator.onLine)throw ss.create("app-offline");const a=rO(r);return n=nO(t,a),a}});return n?await n:i.authToken}async function tO(t,e){let n=await Mm(t.appConfig);for(;n.authToken.requestStatus===1;)await Aw(100),n=await Mm(t.appConfig);const i=n.authToken;return i.requestStatus===0?Wf(t,e):i}function Mm(t){return Wl(t,e=>{if(!Dw(e))throw ss.create("not-registered");const n=e.authToken;return oO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nO(t,e){try{const n=await ZR(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Ka(t.appConfig,i),n}catch(n){if(Tw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mw(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ka(t.appConfig,i)}throw n}}function Dw(t){return t!==void 0&&t.registrationStatus===2}function iO(t){return t.requestStatus===2&&!sO(t)}function sO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RR}function rO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oO(t){return t.requestStatus===1&&t.requestTime+bw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t){const e=t,{installationEntry:n,registrationPromise:i}=await Hf(e);return i?i.catch(console.error):Wf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e=!1){const n=t;return await cO(n),(await Wf(n,e)).token}async function cO(t){const{registrationPromise:e}=await Hf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){if(!t||!t.options)throw Oc("App Configuration");if(!t.name)throw Oc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Oc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Oc(t){return ss.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="installations",dO="installations-internal",fO=t=>{const e=t.getProvider("app").getImmediate(),n=uO(e),i=er(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},hO=t=>{const e=t.getProvider("app").getImmediate(),n=er(e,Fw).getImmediate();return{getId:()=>aO(n),getToken:s=>lO(n,s)}};function pO(){en(new zt(Fw,fO,"PUBLIC")),en(new zt(dO,hO,"PRIVATE"))}pO();Ht(ww,jf);Ht(ww,jf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="/firebase-messaging-sw.js",gO="/firebase-cloud-messaging-push-scope",$w="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vO="https://fcmregistrations.googleapis.com/v1",Bw="google.c.a.c_id",yO="google.c.a.c_l",_O="google.c.a.ts",wO="google.c.a.e",Lm=1e4;var Dm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Dm||(Dm={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ho;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ho||(ho={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),s=new Uint8Array(i.length);for(let r=0;r<i.length;++r)s[r]=i.charCodeAt(r);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="fcm_token_details_db",SO=5,Fm="fcm_token_object_Store";async function EO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Nc))return null;let e=null;return(await Zs(Nc,SO,{upgrade:async(i,s,r,o)=>{var a;if(s<2||!i.objectStoreNames.contains(Fm))return;const l=o.objectStore(Fm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:An(u.vapidKey)}}}else if(s===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:An(u.auth),p256dh:An(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:An(u.vapidKey)}}}else if(s===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:An(u.auth),p256dh:An(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:An(u.vapidKey)}}}}}})).close(),await As(Nc),await As("fcm_vapid_details_db"),await As("undefined"),TO(e)?e:null}function TO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="firebase-messaging-database",IO=1,po="firebase-messaging-store";let Mc=null;function Uw(){return Mc||(Mc=Zs(CO,IO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(po)}}})),Mc}async function xO(t){const e=jw(t),i=await(await Uw()).transaction(po).objectStore(po).get(e);if(i)return i;{const s=await EO(t.appConfig.senderId);if(s)return await zf(t,s),s}}async function zf(t,e){const n=jw(t),s=(await Uw()).transaction(po,"readwrite");return await s.objectStore(po).put(e,n),await s.done,e}function jw({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},kt=new Ci("messaging","Messaging",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){const n=await Gf(t),i=Vw(e),s={method:"POST",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(qf(t.appConfig),s)).json()}catch(o){throw kt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw kt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw kt.create("token-subscribe-no-token");return r.token}async function AO(t,e){const n=await Gf(t),i=Vw(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(`${qf(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw kt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw kt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw kt.create("token-update-no-token");return r.token}async function RO(t,e){const i={method:"DELETE",headers:await Gf(t)};try{const r=await(await fetch(`${qf(t.appConfig)}/${e}`,i)).json();if(r.error){const o=r.error.message;throw kt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw kt.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function qf({projectId:t}){return`${vO}/projects/${t}/registrations`}async function Gf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Vw({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const s={web:{endpoint:n,auth:e,p256dh:t}};return i!==$w&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=7*24*60*60*1e3;async function NO(t){const e=await LO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:An(e.getKey("auth")),p256dh:An(e.getKey("p256dh"))},i=await xO(t.firebaseDependencies);if(i){if(DO(i.subscriptionOptions,n))return Date.now()>=i.createTime+OO?MO(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await RO(t.firebaseDependencies,i.token)}catch(s){console.warn(s)}return $m(t.firebaseDependencies,n)}else return $m(t.firebaseDependencies,n)}async function MO(t,e){try{const n=await AO(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await zf(t.firebaseDependencies,i),n}catch(n){throw n}}async function $m(t,e){const i={token:await PO(t,e),createTime:Date.now(),subscriptionOptions:e};return await zf(t,i),i.token}async function LO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bO(e)})}function DO(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,s=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&i&&s&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return FO(e,t),$O(e,t),BO(e,t),e}function FO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const s=e.notification.image;s&&(t.notification.image=s);const r=e.notification.icon;r&&(t.notification.icon=r)}function $O(t,e){e.data&&(t.data=e.data)}function BO(t,e){var n,i,s,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&s!==void 0?s:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){return typeof t=="object"&&!!t&&Bw in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){if(!t||!t.options)throw Lc("App Configuration Object");if(!t.name)throw Lc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Lc(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Lc(t){return kt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VO=class{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=jO(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t){try{t.swRegistration=await navigator.serviceWorker.register(mO,{scope:gO}),t.swRegistration.update().catch(()=>{}),await WO(t.swRegistration)}catch(e){throw kt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function WO(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${Lm} ms`)),Lm),s=t.installing||t.waiting;t.active?(clearTimeout(i),e()):s?s.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){if(!e&&!t.swRegistration&&await HO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=$w)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(t,e){if(!navigator)throw kt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw kt.create("permission-blocked");return await qO(t,e==null?void 0:e.vapidKey),await zO(t,e==null?void 0:e.serviceWorkerRegistration),NO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e,n){const i=KO(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Bw],message_name:n[yO],message_time:n[_O],message_device_time:Math.floor(Date.now()/1e3)})}function KO(t){switch(t){case ho.NOTIFICATION_CLICKED:return"notification_open";case ho.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ho.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Bm(n)):t.onMessageHandler.next(Bm(n)));const i=n.data;UO(i)&&i[wO]==="1"&&await GO(t,n.messageType,i)}const Um="@firebase/messaging",jm="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=t=>{const e=new VO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>YO(e,n)),e},XO=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>Hw(e,i)}};function QO(){en(new zt("messaging",JO,"PUBLIC")),en(new zt("messaging-internal",XO,"PRIVATE")),Ht(Um,jm),Ht(Um,jm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t,e){if(!navigator)throw kt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function eN(t,e){return t=Ze(t),Hw(t,e)}function tN(t,e){return t=Ze(t),ZO(t,e)}QO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nN="https://fcmregistrations.googleapis.com/v1",zw="FCM_MSG",iN="google.c.a.c_id",sN=3,rN=1;var Ya;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ya||(Ya={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ja;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),s=new Uint8Array(i.length);for(let r=0;r<i.length;++r)s[r]=i.charCodeAt(r);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="fcm_token_details_db",aN=5,Vm="fcm_token_object_Store";async function lN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Dc))return null;let e=null;return(await Zs(Dc,aN,{upgrade:async(i,s,r,o)=>{var a;if(s<2||!i.objectStoreNames.contains(Vm))return;const l=o.objectStore(Vm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Rn(u.vapidKey)}}}else if(s===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Rn(u.auth),p256dh:Rn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Rn(u.vapidKey)}}}else if(s===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Rn(u.auth),p256dh:Rn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Rn(u.vapidKey)}}}}}})).close(),await As(Dc),await As("fcm_vapid_details_db"),await As("undefined"),cN(e)?e:null}function cN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firebase-messaging-database",dN=1,os="firebase-messaging-store";let Fc=null;function Kf(){return Fc||(Fc=Zs(uN,dN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(os)}}})),Fc}async function Yf(t){const e=Xf(t),i=await(await Kf()).transaction(os).objectStore(os).get(e);if(i)return i;{const s=await lN(t.appConfig.senderId);if(s)return await Jf(t,s),s}}async function Jf(t,e){const n=Xf(t),s=(await Kf()).transaction(os,"readwrite");return await s.objectStore(os).put(e,n),await s.done,e}async function fN(t){const e=Xf(t),i=(await Kf()).transaction(os,"readwrite");await i.objectStore(os).delete(e),await i.done}function Xf({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xt=new Ci("messaging","Messaging",hN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){const n=await Zf(t),i=Gw(e),s={method:"POST",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(Qf(t.appConfig),s)).json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Xt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Xt.create("token-subscribe-no-token");return r.token}async function mN(t,e){const n=await Zf(t),i=Gw(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(`${Qf(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Xt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Xt.create("token-update-no-token");return r.token}async function qw(t,e){const i={method:"DELETE",headers:await Zf(t)};try{const r=await(await fetch(`${Qf(t.appConfig)}/${e}`,i)).json();if(r.error){const o=r.error.message;throw Xt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Xt.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Qf({projectId:t}){return`${nN}/projects/${t}/registrations`}async function Zf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Gw({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const s={web:{endpoint:n,auth:e,p256dh:t}};return i!==Ww&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=7*24*60*60*1e3;async function vN(t){const e=await _N(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Rn(e.getKey("auth")),p256dh:Rn(e.getKey("p256dh"))},i=await Yf(t.firebaseDependencies);if(i){if(wN(i.subscriptionOptions,n))return Date.now()>=i.createTime+gN?yN(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await qw(t.firebaseDependencies,i.token)}catch(s){console.warn(s)}return Wm(t.firebaseDependencies,n)}else return Wm(t.firebaseDependencies,n)}async function Hm(t){const e=await Yf(t.firebaseDependencies);e&&(await qw(t.firebaseDependencies,e.token),await fN(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function yN(t,e){try{const n=await mN(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Jf(t.firebaseDependencies,i),n}catch(n){throw n}}async function Wm(t,e){const i={token:await pN(t,e),createTime:Date.now(),subscriptionOptions:e};return await Jf(t,i),i.token}async function _N(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oN(e)})}function wN(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,s=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&i&&s&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return SN(e,t),EN(e,t),TN(e,t),e}function SN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const s=e.notification.image;s&&(t.notification.image=s);const r=e.notification.icon;r&&(t.notification.icon=r)}function EN(t,e){e.data&&(t.data=e.data)}function TN(t,e){var n,i,s,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&s!==void 0?s:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){return typeof t=="object"&&!!t&&iN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){return new Promise(e=>{setTimeout(e,t)})}async function xN(t,e){const n=kN(e,await t.firebaseDependencies.installations.getId());PN(t,n,e.productId)}function kN(t,e){var n,i;const s={};return t.from&&(s.project_number=t.from),t.fcmMessageId&&(s.message_id=t.fcmMessageId),s.instance_id=e,t.notification?s.message_type=Ya.DISPLAY_NOTIFICATION.toString():s.message_type=Ya.DATA_MESSAGE.toString(),s.sdk_platform=sN.toString(),s.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(s.collapse_key=t.collapse_key),s.event=rN.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(s.analytics_label=(i=t.fcmOptions)===null||i===void 0?void 0:i.analytics_label),s}function PN(t,e,n){const i={};i.event_time_ms=Math.floor(Date.now()).toString(),i.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(i.compliance_data=AN(n)),t.logEvents.push(i)}function AN(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){var n,i;const{newSubscription:s}=t;if(!s){await Hm(e);return}const r=await Yf(e.firebaseDependencies);await Hm(e),e.vapidKey=(i=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&i!==void 0?i:Ww,await vN(e)}async function ON(t,e){const n=LN(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await xN(e,n);const i=await Kw();if(FN(i))return $N(i,n);if(n.notification&&await BN(MN(n)),!!e&&e.onBackgroundMessageHandler){const s=bN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(s):e.onBackgroundMessageHandler.next(s)}}async function NN(t){var e,n;const i=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[zw];if(i){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const s=UN(i);if(!s)return;const r=new URL(s,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await DN(r);if(a?a=await a.focus():(a=await self.clients.openWindow(s),await IN(3e3)),!!a)return i.messageType=Ja.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,a.postMessage(i)}function MN(t){const e=Object.assign({},t.notification);return e.data={[zw]:t},e}function LN({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function DN(t){const e=await Kw();for(const n of e){const i=new URL(n.url,self.location.href);if(t.host===i.host)return n}return null}function FN(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function $N(t,e){e.isFirebaseMessaging=!0,e.messageType=Ja.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function Kw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function BN(t){var e;const{actions:n}=t,{maxActions:i}=Notification;return n&&i&&n.length>i&&console.warn(`This browser only supports ${i} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function UN(t){var e,n,i;const s=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(i=t.notification)===null||i===void 0?void 0:i.click_action;return s||(CN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){if(!t||!t.options)throw $c("App Configuration Object");if(!t.name)throw $c("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw $c(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function $c(t){return Xt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=jN(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=t=>{const e=new VN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(ON(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(RN(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(NN(n))}),e};function WN(){en(new zt("messaging-sw",HN,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(){return by()&&await Sy()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t=qd()){return zN().then(e=>{if(!e)throw Xt.create("unsupported-browser")},e=>{throw Xt.create("indexed-db-unsupported")}),er(Ze(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */WN();const Sn=wo("auth",()=>{const t=$(""),e=Js(),n=$(!1),i=$(""),s=$(""),r=$(""),o=$({email:"",userId:"",name:""}),a=async(f,h)=>{const p=bi();switch(f){case"logout":mA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),i.value="",s.value="",o.value={email:"",userId:"",name:""},e.push("/login"),console.log("Logout OK")}).catch(m=>console.log(m));break;case"login":n.value=!0;try{const{user:m}=await dA(p,h.email,h.password);m&&(i.value=m.accessToken,s.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await uA(p,h.email,h.password);m&&(i.value=m.accessToken,s.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Em(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=bi();console.log(f),await Em(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:i,refreshToken:s,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=qN();eN(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),tN(h,p=>{console.log("Message received. ",p)})}}}),sn={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(P(),V("div",{role:"status",class:xe(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(P(),V("svg",{"aria-hidden":"true",class:xe(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[E("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),E("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=E("span",{class:"sr-only"},"Loading...",-1))],2))}},GN={class:"mt-2"},KN={__name:"App",setup(t){const e=Sn();Js();const n=Q(()=>e.accessToken);$(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const i=bi(),s=$(!0),r=()=>{gi(i,o=>{o?console.log("User logged in"):(console.log("User logged out"),e.auth("logout"))}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return ke(()=>{r(),s.value=!1}),(o,a)=>{const l=Kn("RouterView");return P(),V(Oe,null,[jt(O(PR,null,null,512),[[Lr,n.value]]),E("main",GN,[O(l)])],64)}}};function Yw(t,e){return function(){return t.apply(e,arguments)}}const{toString:YN}=Object.prototype,{getPrototypeOf:eh}=Object,zl=(t=>e=>{const n=YN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rn=t=>(t=t.toLowerCase(),e=>zl(e)===t),ql=t=>e=>typeof e===t,{isArray:or}=Array,mo=ql("undefined");function JN(t){return t!==null&&!mo(t)&&t.constructor!==null&&!mo(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jw=rn("ArrayBuffer");function XN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jw(t.buffer),e}const QN=ql("string"),Ft=ql("function"),Xw=ql("number"),Gl=t=>t!==null&&typeof t=="object",ZN=t=>t===!0||t===!1,aa=t=>{if(zl(t)!=="object")return!1;const e=eh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eM=rn("Date"),tM=rn("File"),nM=rn("Blob"),iM=rn("FileList"),sM=t=>Gl(t)&&Ft(t.pipe),rM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ft(t.append)&&((e=zl(t))==="formdata"||e==="object"&&Ft(t.toString)&&t.toString()==="[object FormData]"))},oM=rn("URLSearchParams"),[aM,lM,cM,uM]=["ReadableStream","Request","Response","Headers"].map(rn),dM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ro(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),or(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function Qw(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const $i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zw=t=>!mo(t)&&t!==$i;function Yu(){const{caseless:t}=Zw(this)&&this||{},e={},n=(i,s)=>{const r=t&&Qw(e,s)||s;aa(e[r])&&aa(i)?e[r]=Yu(e[r],i):aa(i)?e[r]=Yu({},i):or(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ro(arguments[i],n);return e}const fM=(t,e,n,{allOwnKeys:i}={})=>(Ro(e,(s,r)=>{n&&Ft(s)?t[r]=Yw(s,n):t[r]=s},{allOwnKeys:i}),t),hM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pM=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mM=(t,e,n,i)=>{let s,r,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&eh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},gM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},vM=t=>{if(!t)return null;if(or(t))return t;let e=t.length;if(!Xw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},yM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),_M=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},wM=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},bM=rn("HTMLFormElement"),SM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),zm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),EM=rn("RegExp"),eb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ro(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},TM=t=>{eb(t,(e,n)=>{if(Ft(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ft(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},CM=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return or(t)?i(t):i(String(t).split(e)),n},IM=()=>{},xM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Bc="abcdefghijklmnopqrstuvwxyz",qm="0123456789",tb={DIGIT:qm,ALPHA:Bc,ALPHA_DIGIT:Bc+Bc.toUpperCase()+qm},kM=(t=16,e=tb.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function PM(t){return!!(t&&Ft(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const AM=t=>{const e=new Array(10),n=(i,s)=>{if(Gl(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=or(i)?[]:{};return Ro(i,(o,a)=>{const l=n(o,s+1);!mo(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return n(t,0)},RM=rn("AsyncFunction"),OM=t=>t&&(Gl(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),nb=((t,e)=>t?setImmediate:e?((n,i)=>($i.addEventListener("message",({source:s,data:r})=>{s===$i&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),$i.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft($i.postMessage)),NM=typeof queueMicrotask<"u"?queueMicrotask.bind($i):typeof process<"u"&&process.nextTick||nb,A={isArray:or,isArrayBuffer:Jw,isBuffer:JN,isFormData:rM,isArrayBufferView:XN,isString:QN,isNumber:Xw,isBoolean:ZN,isObject:Gl,isPlainObject:aa,isReadableStream:aM,isRequest:lM,isResponse:cM,isHeaders:uM,isUndefined:mo,isDate:eM,isFile:tM,isBlob:nM,isRegExp:EM,isFunction:Ft,isStream:sM,isURLSearchParams:oM,isTypedArray:yM,isFileList:iM,forEach:Ro,merge:Yu,extend:fM,trim:dM,stripBOM:hM,inherits:pM,toFlatObject:mM,kindOf:zl,kindOfTest:rn,endsWith:gM,toArray:vM,forEachEntry:_M,matchAll:wM,isHTMLForm:bM,hasOwnProperty:zm,hasOwnProp:zm,reduceDescriptors:eb,freezeMethods:TM,toObjectSet:CM,toCamelCase:SM,noop:IM,toFiniteNumber:xM,findKey:Qw,global:$i,isContextDefined:Zw,ALPHABET:tb,generateString:kM,isSpecCompliantForm:PM,toJSONObject:AM,isAsyncFn:RM,isThenable:OM,setImmediate:nb,asap:NM};function pe(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}A.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const ib=pe.prototype,sb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sb[t]={value:t}});Object.defineProperties(pe,sb);Object.defineProperty(ib,"isAxiosError",{value:!0});pe.from=(t,e,n,i,s,r)=>{const o=Object.create(ib);return A.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pe.call(o,t.message,e,n,i,s),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const MM=null;function Ju(t){return A.isPlainObject(t)||A.isArray(t)}function rb(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function Gm(t,e,n){return t?t.concat(e).map(function(s,r){return s=rb(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function LM(t){return A.isArray(t)&&!t.some(Ju)}const DM=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function Kl(t,e,n){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!A.isUndefined(y[m])});const i=n.metaTokens,s=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(A.isDate(p))return p.toISOString();if(!l&&A.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(p)||A.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let w=p;if(p&&!y&&typeof p=="object"){if(A.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(A.isArray(p)&&LM(p)||(A.isFileList(p)||A.endsWith(m,"[]"))&&(w=A.toArray(p)))return m=rb(m),w.forEach(function(g,S){!(A.isUndefined(g)||g===null)&&e.append(o===!0?Gm([m],S,r):o===null?m:m+"[]",c(g))}),!1}return Ju(p)?!0:(e.append(Gm(y,m,r),c(p)),!1)}const d=[],f=Object.assign(DM,{defaultVisitor:u,convertValue:c,isVisitable:Ju});function h(p,m){if(!A.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),A.forEach(p,function(w,v){(!(A.isUndefined(w)||w===null)&&s.call(e,w,A.isString(v)?v.trim():v,m,f))===!0&&h(w,m?m.concat(v):[v])}),d.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Km(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function th(t,e){this._pairs=[],t&&Kl(t,this,e)}const ob=th.prototype;ob.append=function(e,n){this._pairs.push([e,n])};ob.toString=function(e){const n=e?function(i){return e.call(this,i,Km)}:Km;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function FM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ab(t,e,n){if(!e)return t;const i=n&&n.encode||FM;A.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=A.isURLSearchParams(e)?e.toString():new th(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Ym{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(i){i!==null&&e(i)})}}const lb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$M=typeof URLSearchParams<"u"?URLSearchParams:th,BM=typeof FormData<"u"?FormData:null,UM=typeof Blob<"u"?Blob:null,jM={isBrowser:!0,classes:{URLSearchParams:$M,FormData:BM,Blob:UM},protocols:["http","https","file","blob","url","data"]},nh=typeof window<"u"&&typeof document<"u",Xu=typeof navigator=="object"&&navigator||void 0,VM=nh&&(!Xu||["ReactNative","NativeScript","NS"].indexOf(Xu.product)<0),HM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WM=nh&&window.location.href||"http://localhost",zM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nh,hasStandardBrowserEnv:VM,hasStandardBrowserWebWorkerEnv:HM,navigator:Xu,origin:WM},Symbol.toStringTag,{value:"Module"})),ft={...zM,...jM};function qM(t,e){return Kl(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return ft.isNode&&A.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function GM(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KM(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function cb(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&A.isArray(s)?s.length:o,l?(A.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!A.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&A.isArray(s[o])&&(s[o]=KM(s[o])),!a)}if(A.isFormData(t)&&A.isFunction(t.entries)){const n={};return A.forEachEntry(t,(i,s)=>{e(GM(i),s,n,0)}),n}return null}function YM(t,e,n){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(t)}const Oo={transitional:lb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=A.isObject(e);if(r&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return s?JSON.stringify(cb(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e)||A.isReadableStream(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return qM(e,this.formSerializer).toString();if((a=A.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),YM(e)):e}],transformResponse:[function(e){const n=this.transitional||Oo.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(A.isResponse(e)||A.isReadableStream(e))return e;if(e&&A.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{Oo.headers[t]={}});const JM=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XM=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&JM[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Jm=Symbol("internals");function wr(t){return t&&String(t).trim().toLowerCase()}function la(t){return t===!1||t==null?t:A.isArray(t)?t.map(la):String(t)}function QM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const ZM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Uc(t,e,n,i,s){if(A.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!A.isString(e)){if(A.isString(i))return e.indexOf(i)!==-1;if(A.isRegExp(i))return i.test(e)}}function eL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function tL(t,e){const n=A.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Pt{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(a,l,c){const u=wr(l);if(!u)throw new Error("header name must be a non-empty string");const d=A.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=la(a))}const o=(a,l)=>A.forEach(a,(c,u)=>r(c,u,l));if(A.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(A.isString(e)&&(e=e.trim())&&!ZM(e))o(XM(e),n);else if(A.isHeaders(e))for(const[a,l]of e.entries())r(l,a,i);else e!=null&&r(n,e,i);return this}get(e,n){if(e=wr(e),e){const i=A.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return QM(s);if(A.isFunction(n))return n.call(this,s,i);if(A.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=wr(e),e){const i=A.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Uc(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=wr(o),o){const a=A.findKey(i,o);a&&(!n||Uc(i,i[a],a,n))&&(delete i[a],s=!0)}}return A.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||Uc(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return A.forEach(this,(s,r)=>{const o=A.findKey(i,r);if(o){n[o]=la(s),delete n[r];return}const a=e?eL(r):String(r).trim();a!==r&&delete n[r],n[a]=la(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return A.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&A.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Jm]=this[Jm]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=wr(o);i[a]||(tL(s,o),i[a]=!0)}return A.isArray(e)?e.forEach(r):r(e),this}}Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(Pt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});A.freezeMethods(Pt);function jc(t,e){const n=this||Oo,i=e||n,s=Pt.from(i.headers);let r=i.data;return A.forEach(t,function(a){r=a.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function ub(t){return!!(t&&t.__CANCEL__)}function ar(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}A.inherits(ar,pe,{__CANCEL__:!0});function db(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function iL(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),n[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function sL(t,e){let n=0,i=1e3/e,s,r;const o=(c,u=Date.now())=>{n=u,s=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?o(c,u):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},i-d)))},()=>s&&o(s)]}const Xa=(t,e,n=3)=>{let i=0;const s=iL(50,250);return sL(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,c=s(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Xm=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Qm=t=>(...e)=>A.asap(()=>t(...e)),rL=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,oL=ft.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const o=[t+"="+encodeURIComponent(e)];A.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),A.isString(i)&&o.push("path="+i),A.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function fb(t,e){return t&&!aL(e)?lL(t,e):e}const Zm=t=>t instanceof Pt?{...t}:t;function as(t,e){e=e||{};const n={};function i(c,u,d,f){return A.isPlainObject(c)&&A.isPlainObject(u)?A.merge.call({caseless:f},c,u):A.isPlainObject(u)?A.merge({},u):A.isArray(u)?u.slice():u}function s(c,u,d,f){if(A.isUndefined(u)){if(!A.isUndefined(c))return i(void 0,c,d,f)}else return i(c,u,d,f)}function r(c,u){if(!A.isUndefined(u))return i(void 0,u)}function o(c,u){if(A.isUndefined(u)){if(!A.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>s(Zm(c),Zm(u),d,!0)};return A.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||s,f=d(t[u],e[u],u);A.isUndefined(f)&&d!==a||(n[u]=f)}),n}const hb=t=>{const e=as({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=Pt.from(o),e.url=ab(fb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(A.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ft.hasStandardBrowserEnv&&(i&&A.isFunction(i)&&(i=i(e)),i||i!==!1&&rL(e.url))){const c=s&&r&&oL.read(r);c&&o.set(s,c)}return e},cL=typeof XMLHttpRequest<"u",uL=cL&&function(t){return new Promise(function(n,i){const s=hb(t);let r=s.data;const o=Pt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,h,p;function m(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function w(){if(!y)return;const g=Pt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};db(function(B){n(B),m()},function(B){i(B),m()},T),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(i(new pe("Request aborted",pe.ECONNABORTED,t,y)),y=null)},y.onerror=function(){i(new pe("Network Error",pe.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||lb;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),i(new pe(S,T.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&A.forEach(o.toJSON(),function(S,T){y.setRequestHeader(T,S)}),A.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),c&&([f,p]=Xa(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Xa(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(u=g=>{y&&(i(!g||g.type?new ar(null,t,y):g),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const v=nL(s.url);if(v&&ft.protocols.indexOf(v)===-1){i(new pe("Unsupported protocol "+v+":",pe.ERR_BAD_REQUEST,t));return}y.send(r||null)})},dL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof pe?u:new ar(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>A.asap(a),l}},fL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},hL=async function*(t,e){for await(const n of pL(t))yield*fL(n,e)},pL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},eg=(t,e,n,i)=>{const s=hL(t,e);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pb=Yl&&typeof ReadableStream=="function",mL=Yl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),mb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gL=pb&&mb(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),tg=64*1024,Qu=pb&&mb(()=>A.isReadableStream(new Response("").body)),Qa={stream:Qu&&(t=>t.body)};Yl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qa[e]&&(Qa[e]=A.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new pe(`Response type '${e}' is not supported`,pe.ERR_NOT_SUPPORT,i)})})})(new Response);const vL=async t=>{if(t==null)return 0;if(A.isBlob(t))return t.size;if(A.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(A.isArrayBufferView(t)||A.isArrayBuffer(t))return t.byteLength;if(A.isURLSearchParams(t)&&(t=t+""),A.isString(t))return(await mL(t)).byteLength},yL=async(t,e)=>{const n=A.toFiniteNumber(t.getContentLength());return n??vL(e)},_L=Yl&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=hb(t);c=c?(c+"").toLowerCase():"text";let h=dL([s,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&gL&&n!=="get"&&n!=="head"&&(y=await yL(u,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),R;if(A.isFormData(i)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){const[B,x]=Xm(y,Xa(Qm(l)));i=eg(T.body,tg,B,x)}}A.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:w?d:void 0});let v=await fetch(p);const g=Qu&&(c==="stream"||c==="response");if(Qu&&(a||g&&m)){const T={};["status","statusText","headers"].forEach(C=>{T[C]=v[C]});const R=A.toFiniteNumber(v.headers.get("content-length")),[B,x]=a&&Xm(R,Xa(Qm(a),!0))||[];v=new Response(eg(v.body,tg,B,()=>{x&&x(),m&&m()}),T)}c=c||"text";let S=await Qa[A.findKey(Qa,c)||"text"](v,t);return!g&&m&&m(),await new Promise((T,R)=>{db(T,R,{data:S,headers:Pt.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,t,p),{cause:w.cause||w}):pe.from(w,w&&w.code,t,p)}}),Zu={http:MM,xhr:uL,fetch:_L};A.forEach(Zu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ng=t=>`- ${t}`,wL=t=>A.isFunction(t)||t===null||t===!1,gb={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let o;if(i=n,!wL(n)&&(i=Zu[(o=String(n)).toLowerCase()],i===void 0))throw new pe(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(ng).join(`
`):" "+ng(r[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Zu};function Vc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ar(null,t)}function ig(t){return Vc(t),t.headers=Pt.from(t.headers),t.data=jc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gb.getAdapter(t.adapter||Oo.adapter)(t).then(function(i){return Vc(t),i.data=jc.call(t,t.transformResponse,i),i.headers=Pt.from(i.headers),i},function(i){return ub(i)||(Vc(t),i&&i.response&&(i.response.data=jc.call(t,t.transformResponse,i.response),i.response.headers=Pt.from(i.response.headers))),Promise.reject(i)})}const vb="1.7.9",Jl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jl[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const sg={};Jl.transitional=function(e,n,i){function s(r,o){return"[Axios v"+vb+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new pe(s(o," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!sg[o]&&(sg[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};Jl.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function bL(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new pe("option "+r+" must be "+l,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+r,pe.ERR_BAD_OPTION)}}const ca={assertOptions:bL,validators:Jl},un=ca.validators;class qi{constructor(e){this.defaults=e,this.interceptors={request:new Ym,response:new Ym}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=as(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&ca.assertOptions(i,{silentJSONParsing:un.transitional(un.boolean),forcedJSONParsing:un.transitional(un.boolean),clarifyTimeoutError:un.transitional(un.boolean)},!1),s!=null&&(A.isFunction(s)?n.paramsSerializer={serialize:s}:ca.assertOptions(s,{encode:un.function,serialize:un.function},!0)),ca.assertOptions(n,{baseUrl:un.spelling("baseURL"),withXsrfToken:un.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&A.merge(r.common,r[n.method]);r&&A.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Pt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[ig.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=ig.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=as(this.defaults,e);const n=fb(e.baseURL,e.url);return ab(n,e.params,e.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(e){qi.prototype[e]=function(n,i){return this.request(as(i||{},{method:e,url:n,data:(i||{}).data}))}});A.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(as(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}qi.prototype[e]=n(),qi.prototype[e+"Form"]=n(!0)});class ih{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new ar(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ih(function(s){e=s}),cancel:e}}}function SL(t){return function(n){return t.apply(null,n)}}function EL(t){return A.isObject(t)&&t.isAxiosError===!0}const ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ed).forEach(([t,e])=>{ed[e]=t});function yb(t){const e=new qi(t),n=Yw(qi.prototype.request,e);return A.extend(n,qi.prototype,e,{allOwnKeys:!0}),A.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return yb(as(t,s))},n}const We=yb(Oo);We.Axios=qi;We.CanceledError=ar;We.CancelToken=ih;We.isCancel=ub;We.VERSION=vb;We.toFormData=Kl;We.AxiosError=pe;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=SL;We.isAxiosError=EL;We.mergeConfig=as;We.AxiosHeaders=Pt;We.formToJSON=t=>cb(A.isHTMLForm(t)?new FormData(t):t);We.getAdapter=gb.getAdapter;We.HttpStatusCode=ed;We.default=We;const TL="/right_arrow.svg",Xl={__name:"BackLink",setup(t){const e=Js(),n=()=>e.go(-1);return(i,s)=>(P(),V("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},s[0]||(s[0]=[E("img",{src:TL,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function rg(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function sh(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:rg(e[n])&&rg(t[n])&&Object.keys(e[n]).length>0&&sh(t[n],e[n])})}const _b={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gs(){const t=typeof document<"u"?document:{};return sh(t,_b),t}const CL={document:_b,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function $t(){const t=typeof window<"u"?window:{};return sh(t,CL),t}function IL(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function xL(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function td(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Gi(){return Date.now()}function kL(t){const e=$t();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function PL(t,e){e===void 0&&(e="x");const n=$t();let i,s,r;const o=kL(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(s==="none"?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function Ho(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function AL(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Nt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!AL(i)){const s=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Ho(t[a])&&Ho(i[a])?i[a].__swiper__?t[a]=i[a]:Nt(t[a],i[a]):!Ho(t[a])&&Ho(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Nt(t[a],i[a])):t[a]=i[a])}}}return t}function Wo(t,e,n){t.style.setProperty(e,n)}function wb(t){let{swiper:e,targetPosition:n,side:i}=t;const s=$t(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[i]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:p})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function vn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function RL(t,e){var i,s;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((i=r.shadowRoot)==null?void 0:i.children)||[],...((s=r.assignedElements)==null?void 0:s.call(r))||[])}}function OL(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=RL(t,e))),n}function Za(t){try{console.warn(t);return}catch{}}function el(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:IL(e)),n}function NL(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function ML(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function ui(t,e){return $t().getComputedStyle(t,null).getPropertyValue(e)}function tl(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function bb(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function Hc(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function nd(t,e,n){const i=$t();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function tt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Sb(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(s=>{if(!n[s]&&n.auto===!0){let r=vn(t.el,`.${i[s]}`)[0];r||(r=el("div",i[s]),r.className=i[s],t.el.append(r)),n[s]=r,e[s]=r}}),n}function LL(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const y=e.params.navigation;p=tt(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...y.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=Sb(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),y=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:y}),m=tt(m),y=tt(y);const w=(v,g)=>{v&&v.addEventListener("click",g==="next"?c:l),!e.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};m.forEach(v=>w(v,"next")),y.forEach(v=>w(v,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=tt(p),m=tt(m);const y=(w,v)=>{w.removeEventListener("click",v==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>y(w,"next")),m.forEach(w=>y(w,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=tt(p),m=tt(m),e.enabled){a();return}[...p,...m].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),i("click",(p,m)=>{let{nextEl:y,prevEl:w}=e.navigation;y=tt(y),w=tt(w);const v=m.target;let g=w.includes(v)||y.includes(v);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(T=>y.includes(T)||w.includes(T)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let S;y.length?S=y[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),s(S===!0?"navigationShow":"navigationHide"),[...y,...w].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function br(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function DL(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(v,g){const{bulletActiveClass:S}=e.params.pagination;v&&(v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${S}-${g}`),v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${S}-${g}-${g}`)))}function u(v,g,S){if(v=v%S,g=g%S,g===v+1)return"next";if(g===v-1)return"previous"}function d(v){const g=v.target.closest(br(e.params.pagination.bulletClass));if(!g)return;v.preventDefault();const S=tl(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=u(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const v=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=tt(S);let T,R;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,x=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(R=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,R=e.previousSnapIndex):(R=e.previousIndex||0,T=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let k,U,J;if(g.dynamicBullets&&(o=nd(C[0],e.isHorizontal()?"width":"height"),S.forEach(H=>{H.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&R!==void 0&&(a+=T-(R||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),k=Math.max(T-a,0),U=k+(Math.min(C.length,g.dynamicMainBullets)-1),J=(U+k)/2),C.forEach(H=>{const te=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${g.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();H.classList.remove(...te)}),S.length>1)C.forEach(H=>{const te=tl(H);te===T?H.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&H.setAttribute("part","bullet"),g.dynamicBullets&&(te>=k&&te<=U&&H.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),te===k&&c(H,"prev"),te===U&&c(H,"next"))});else{const H=C[T];if(H&&H.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&C.forEach((te,re)=>{te.setAttribute("part",re===T?"bullet-active":"bullet")}),g.dynamicBullets){const te=C[k],re=C[U];for(let ie=k;ie<=U;ie+=1)C[ie]&&C[ie].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(te,"prev"),c(re,"next")}}if(g.dynamicBullets){const H=Math.min(C.length,g.dynamicMainBullets+4),te=(o*H-o)/2-J*o,re=v?"right":"left";C.forEach(ie=>{ie.style[e.isHorizontal()?re:"top"]=`${te}px`})}}S.forEach((C,k)=>{if(g.type==="fraction"&&(C.querySelectorAll(br(g.currentClass)).forEach(U=>{U.textContent=g.formatFractionCurrent(T+1)}),C.querySelectorAll(br(g.totalClass)).forEach(U=>{U.textContent=g.formatFractionTotal(x)})),g.type==="progressbar"){let U;g.progressbarOpposite?U=e.isHorizontal()?"vertical":"horizontal":U=e.isHorizontal()?"horizontal":"vertical";const J=(T+1)/x;let H=1,te=1;U==="horizontal"?H=J:te=J,C.querySelectorAll(br(g.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${H}) scaleY(${te})`,re.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(C.innerHTML=g.renderCustom(e,T+1,x),k===0&&s("paginationRender",C)):(k===0&&s("paginationRender",C),s("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const v=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=tt(S);let T="";if(v.type==="bullets"){let R=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&R>g&&(R=g);for(let B=0;B<R;B+=1)v.renderBullet?T+=v.renderBullet.call(e,B,v.bulletClass):T+=`<${v.bulletElement} ${e.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?T=v.renderFraction.call(e,v.currentClass,v.totalClass):T=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?T=v.renderProgressbar.call(e,v.progressbarFillClass):T=`<span class="${v.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(R=>{v.type!=="custom"&&(R.innerHTML=T||""),v.type==="bullets"&&e.pagination.bullets.push(...R.querySelectorAll(br(v.bulletClass)))}),v.type!=="custom"&&s("paginationRender",S[0])}function p(){e.params.pagination=Sb(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const v=e.params.pagination;if(!v.el)return;let g;typeof v.el=="string"&&e.isElement&&(g=e.el.querySelector(v.el)),!g&&typeof v.el=="string"&&(g=[...document.querySelectorAll(v.el)]),g||(g=v.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(v.el)],g.length>1&&(g=g.find(S=>bb(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=tt(g),g.forEach(S=>{v.type==="bullets"&&v.clickable&&S.classList.add(...(v.clickableClass||"").split(" ")),S.classList.add(v.modifierClass+v.type),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.classList.add(v.progressbarOppositeClass),v.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(v.lockClass)}))}function m(){const v=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=tt(g),g.forEach(S=>{S.classList.remove(v.hiddenClass),S.classList.remove(v.modifierClass+v.type),S.classList.remove(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(S.classList.remove(...(v.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...v.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const v=e.params.pagination;let{el:g}=e.pagination;g=tt(g),g.forEach(S=>{S.classList.remove(v.horizontalClass,v.verticalClass),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?w():(p(),h(),f())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),i("snapIndexChange",()=>{f()}),i("snapGridLengthChange",()=>{h(),f()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{f()}),i("click",(v,g)=>{const S=g.target,T=tt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const R=T[0].classList.contains(e.params.pagination.hiddenClass);s(R===!0?"paginationShow":"paginationHide"),T.forEach(B=>B.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:w,render:h,update:f,init:p,destroy:m})}function Eb(t){let{swiper:e,extendParams:n,emit:i,once:s}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Gi()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,y=Gi()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const x=p.velocities.pop(),C=p.velocities.pop(),k=x.position-C.position,U=x.time-C.time;e.velocity=k/U,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(U>150||Gi()-x.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const v=e.velocity*w;let g=e.translate+v;f&&(g=-g);let S=!1,T;const R=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let B;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-R&&(g=e.maxTranslate()-R),T=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&(B=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>R&&(g=e.minTranslate()+R),T=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&(B=!0);else if(u.freeMode.sticky){let x;for(let C=0;C<h.length;C+=1)if(h[C]>-g){x=C;break}Math.abs(h[x]-g)<Math.abs(h[x-1]-g)||e.swipeDirection==="next"?g=h[x]:g=h[x-1],g=-g}if(B&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-g-e.translate)/e.velocity):w=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const x=Math.abs((f?-g:g)-e.translate),C=e.slidesSizesGrid[e.activeIndex];x<C?w=u.speed:x<2*C?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(T),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Hc(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),Hc(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Hc(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&i("_freeModeNoMomentumRelease");(!u.freeMode.momentum||y>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Wc;function FL(){const t=$t(),e=gs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Tb(){return Wc||(Wc=FL()),Wc}let zc;function $L(t){let{userAgent:e}=t===void 0?{}:t;const n=Tb(),i=$t(),s=i.navigator.platform,r=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=s==="Win32";let p=s==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Cb(t){return t===void 0&&(t={}),zc||(zc=$L(t)),zc}let qc;function BL(){const t=$t(),e=Cb();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=i(),o=r||s&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function UL(){return qc||(qc=BL()),qc}function jL(t){let{swiper:e,on:n,emit:i}=t;const s=$t();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=s.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(y=>{let{contentBoxSize:w,contentRect:v,target:g}=y;g&&g!==e.el||(p=v?v.width:(w[0]||w).inlineSize,m=v?v.height:(w[0]||w).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&s.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",u)})}function VL(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;const r=[],o=$t(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){s("observerUpdate",p[0]);return}const m=function(){s("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=bb(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var HL={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=n?"unshift":"push";return t.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(i,o)}return s.__emitterProxy=e,i.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[i].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),i=t):(e=r[0].events,n=r[0].data,i=r[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function WL(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ui(i,"padding-left")||0,10)-parseInt(ui(i,"padding-right")||0,10),n=n-parseInt(ui(i,"padding-top")||0,10)-parseInt(ui(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function zL(){const t=this;function e(k,U){return parseFloat(k.getPropertyValue(t.getDirectionLabel(U))||0)}const n=t.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=vn(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,v=t.slidesGrid.length;let g=n.spaceBetween,S=-m,T=0,R=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(k=>{o?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Wo(i,"--swiper-centered-offset-before",""),Wo(i,"--swiper-centered-offset-after",""));const B=n.grid&&n.grid.rows>1&&t.grid;B?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let x;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<d;k+=1){x=0;let U;if(u[k]&&(U=u[k]),B&&t.grid.updateSlide(k,U,u),!(u[k]&&ui(U,"display")==="none")){if(n.slidesPerView==="auto"){C&&(u[k].style[t.getDirectionLabel("width")]="");const J=getComputedStyle(U),H=U.style.transform,te=U.style.webkitTransform;if(H&&(U.style.transform="none"),te&&(U.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?nd(U,"width"):nd(U,"height");else{const re=e(J,"width"),ie=e(J,"padding-left"),se=e(J,"padding-right"),we=e(J,"margin-left"),mt=e(J,"margin-right"),Et=J.getPropertyValue("box-sizing");if(Et&&Et==="border-box")x=re+we+mt;else{const{clientWidth:me,offsetWidth:ge}=U;x=re+ie+se+we+mt+(ge-me)}}H&&(U.style.transform=H),te&&(U.style.webkitTransform=te),n.roundLengths&&(x=Math.floor(x))}else x=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),u[k]&&(u[k].style[t.getDirectionLabel("width")]=`${x}px`);u[k]&&(u[k].swiperSlideSize=x),p.push(x),n.centeredSlides?(S=S+x/2+T/2+g,T===0&&k!==0&&(S=S-r/2-g),k===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),R%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+x+g),t.virtualSize+=x+g,T=x,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),B&&t.grid.updateWrapperSize(x,f),!n.centeredSlides){const k=[];for(let U=0;U<f.length;U+=1){let J=f[U];n.roundLengths&&(J=Math.floor(J)),f[U]<=t.virtualSize-r&&k.push(J)}f=k,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const k=p[0]+g;if(n.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),J=k*n.slidesPerGroup;for(let H=0;H<U;H+=1)f.push(f[f.length-1]+J)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+k),h.push(h[h.length-1]+k),t.virtualSize+=k}if(f.length===0&&(f=[0]),g!==0){const k=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((U,J)=>!n.cssMode||n.loop?!0:J!==u.length-1).forEach(U=>{U.style[k]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const U=k>r?k-r:0;f=f.map(J=>J<=0?-m:J>U?U+y:J)}if(n.centerInsufficientSlides){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const U=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+U<r){const J=(r-k-U)/2;f.forEach((H,te)=>{f[te]=H-J}),h.forEach((H,te)=>{h[te]=H+J})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Wo(i,"--swiper-centered-offset-before",`${-f[0]}px`),Wo(i,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const k=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(J=>J+k),t.slidesGrid=t.slidesGrid.map(J=>J+U)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,U=t.el.classList.contains(k);d<=n.maxBackfaceHiddenSlides?U||t.el.classList.add(k):U&&t.el.classList.remove(k)}}function qL(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function GL(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const og=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function KL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),og(c,y,n.slideVisibleClass),og(c,m,n.slideFullyVisibleClass),c.progress=s?-d:d,c.originalProgress=s?-f:f}}function YL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(i===0)s=0,r=!0,o=!0;else{s=(t-e.minTranslate())/i;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||s<=0,o=d||s>=1,u&&(s=0),d&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const Gc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function JL(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:s}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>vn(i,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=s-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.find(d=>d.column===s),u=e.find(d=>d.column===s+1),c=e.find(d=>d.column===s-1)):l=e[s];l&&(o||(u=ML(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=NL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Gc(d,d===l,n.slideActiveClass),Gc(d,d===u,n.slideNextClass),Gc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ua=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let s=i.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Kc=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},id=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Kc(t,c)});return}const r=s+i-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<s||a>r)&&Kc(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(r+e,n-1);o+=1)o!==s&&(o>r||o<s)&&Kc(t,o)};function XL(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function QL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=XL(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const h=Math.min(s.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/s.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&id(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function ZL(t,e){const n=this,i=n.params;let s=t.closest(`.${i.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(s=a)});let r=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){r=!0,o=a;break}}if(s&&r)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var eD={updateSize:WL,updateSlides:zL,updateAutoHeight:qL,updateSlidesOffset:GL,updateSlidesProgress:KL,updateProgress:YL,updateSlidesClasses:JL,updateActiveIndex:QL,updateClickedSlide:ZL};function tD(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(n.virtualTranslate)return i?-s:s;if(n.cssMode)return s;let o=PL(r,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function nD(t,e){const n=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,s.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function iD(){return-this.snapGrid[0]}function sD(){return-this.snapGrid[this.snapGrid.length-1]}function rD(t,e,n,i,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(i&&t>l?u=l:i&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return wb({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var oD={getTranslate:tD,setTranslate:nD,minTranslate:iD,maxTranslate:sD,translateTo:rD};function aD(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Ib(t){let{swiper:e,runCallbacks:n,direction:i,step:s}=t;const{activeIndex:r,previousIndex:o}=e;let a=i;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${s}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function lD(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Ib({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function cD(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),Ib({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var uD={setTransition:aD,transitionStart:lD,transitionEnd:cD};function dD(t,e,n,i,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!i&&!s||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const w=-l[y];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const R=-Math.floor(w*100),B=Math.floor(c[T]*100),x=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?R>=B&&R<x-(x-B)/2?o=T:R>=B&&R<x&&(o=T+1):R>=B&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let v;o>d?v="next":o<d?v="prev":v="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&s)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(a.cssMode){const T=r.isHorizontal(),R=f?w:-w;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[T?"scrollLeft":"scrollTop"]=R})):h[T?"scrollLeft":"scrollTop"]=R,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return wb({swiper:r,targetPosition:R,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:R,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,v),e===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(R){!r||r.destroyed||R.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function fD(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(r){const f=o*s.params.grid.rows;a=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=s.getSlideIndexByData(o);const l=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&s.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(r){const f=o*s.params.grid.rows;o=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,i)}),s}function hD(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function pD(t,e,n){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const u=i.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const h=f(d),p=r.map(w=>f(w));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&s.cssMode){let w;r.forEach((v,g)=>{h>=v&&(w=g)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let y=0;if(typeof m<"u"&&(y=o.indexOf(m),y<0&&(y=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(y=y-i.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),s.rewind&&i.isBeginning){const w=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(w,t,e,n)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(y,t,e,n)}),!0;return i.slideTo(y,t,e,n)}function mD(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function gD(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*i&&(r+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,t,e,n)}function vD(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-i/2||s>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),s=t.getSlideIndex(vn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),td(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-i?(t.loopFix(),s=t.getSlideIndex(vn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),td(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var yD={slideTo:dD,slideToLoop:fD,slideNext:hD,slidePrev:pD,slideReset:mD,slideToClosest:gD,slideToClickedSlide:vD};function _D(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{vn(i,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?el("swiper-slide",[n.slideBlankClass]):el("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else Za("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Za("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function wD(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:s,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const y=h.slidesPerGroupAuto?m:h.slidesPerGroup;let w=y;w%y!==0&&(w+=y-w%y),w+=h.loopAdditionalSlides,l.loopedSlides=w;const v=l.grid&&h.grid&&h.grid.rows>1;c.length<m+w?Za("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&h.grid.fill==="row"&&Za("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(H=>H.classList.contains(h.slideActiveClass))):T=r;const R=i==="next"||!i,B=i==="prev"||!i;let x=0,C=0;const k=v?Math.ceil(c.length/h.grid.rows):c.length,J=(v?c[r].column:r)+(p&&typeof s>"u"?-m/2+.5:0);if(J<w){x=Math.max(w-J,y);for(let H=0;H<w-J;H+=1){const te=H-Math.floor(H/k)*k;if(v){const re=k-te-1;for(let ie=c.length-1;ie>=0;ie-=1)c[ie].column===re&&g.push(ie)}else g.push(k-te-1)}}else if(J+m>k-w){C=Math.max(J-(k-w*2),y);for(let H=0;H<C;H+=1){const te=H-Math.floor(H/k)*k;v?c.forEach((re,ie)=>{re.column===te&&S.push(ie)}):S.push(te)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),B&&g.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.prepend(c[H]),c[H].swiperLoopMoveDOM=!1}),R&&S.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.append(c[H]),c[H].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():v&&(g.length>0&&B||S.length>0&&R)&&l.slides.forEach((H,te)=>{l.grid.updateSlide(te,H,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&B){if(typeof e>"u"){const H=l.slidesGrid[T],re=l.slidesGrid[T+x]-H;a?l.setTranslate(l.translate-re):(l.slideTo(T+Math.ceil(x),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else if(s){const H=v?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+H,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&R)if(typeof e>"u"){const H=l.slidesGrid[T],re=l.slidesGrid[T-C]-H;a?l.setTranslate(l.translate-re):(l.slideTo(T-C,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else{const H=v?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-H,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const H={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(te=>{!te.destroyed&&te.params.loop&&te.loopFix({...H,slideTo:te.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...H,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function bD(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var SD={loopCreate:_D,loopFix:wD,loopDestroy:bD};function ED(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function TD(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var CD={setGrabCursor:ED,unsetGrabCursor:TD};function ID(t,e){e===void 0&&(e=this);function n(i){if(!i||i===gs()||i===$t())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(t);return!s&&!i.getRootNode?null:s||n(i.getRootNode().host)}return n(e)}function ag(t,e,n){const i=$t(),{params:s}=t,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return r&&(n<=o||n>=i.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function xD(t){const e=this,n=gs();let i=t;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){ag(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=i.target;if(r.touchEventsTarget==="wrapper"&&!OL(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(f?ID(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const h=o.currentX,p=o.currentY;if(!ag(e,i,h))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,s.touchStartTime=Gi(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const y=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function kD(t){const e=gs(),n=this,i=n.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Gi());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:f*f+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,i.isScrolling=n.isHorizontal()?T>s.touchAngle:90-T>s.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=s.touchRatio,o&&(p=-p,m=-m);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const w=n.params.loop&&!s.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(w&&v&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}i.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&y!==n.touchesDirection&&w&&v&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=p+i.startTranslate;let g=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),p>0?(w&&v&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(g=!1,s.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+p)**S))):p<0&&(w&&v&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(p)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function PD(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(T=>T.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Gi(),f=d-n.touchStartTime;if(e.allowClick){const T=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(T&&T[0]||i.target,T),e.emit("tap click",i),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Gi(),td(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,y=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+R]<"u"?(p||h>=c[T]&&h<c[T+R])&&(m=T,y=c[T+R]-c[T]):(p||h>=c[T])&&(m=T,y=c[c.length-1]-c[c.length-2])}let w=null,v=null;o.rewind&&(e.isBeginning?v=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(h-c[m])/y,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):v!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(v):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+S),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:m))}}function lg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=i,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function AD(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function RD(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const r=t.maxTranslate()-t.minTranslate();r===0?s=0:s=(t.translate-t.minTranslate())/r,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function OD(t){const e=this;ua(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function ND(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const xb=(t,e)=>{const n=gs(),{params:i,el:s,wrapperEl:r,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",t.onClick,!0),i.cssMode&&r[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",lg,!0):t[c]("observerUpdate",lg,!0),s[l]("load",t.onLoad,{capture:!0}))};function MD(){const t=this,{params:e}=t;t.onTouchStart=xD.bind(t),t.onTouchMove=kD.bind(t),t.onTouchEnd=PD.bind(t),t.onDocumentTouchStart=ND.bind(t),e.cssMode&&(t.onScroll=RD.bind(t)),t.onClick=AD.bind(t),t.onLoad=OD.bind(t),xb(t,"on")}function LD(){xb(this,"off")}var DD={attachEvents:MD,detachEvents:LD};const cg=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function FD(){const t=this,{realIndex:e,initialized:n,params:i,el:s}=t,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=gs(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=cg(t,i),h=cg(t,d),p=t.params.grabCursor,m=d.grabCursor,y=i.enabled;f&&!h?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(s.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof d[R]>"u")return;const B=i[R]&&i[R].enabled,x=d[R]&&d[R].enabled;B&&!x&&t[R].disable(),!B&&x&&t[R].enable()});const w=d.direction&&d.direction!==i.direction,v=i.loop&&(d.slidesPerView!==i.slidesPerView||w),g=i.loop;w&&n&&t.changeDirection(),Nt(t.params,d);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!S?t.disable():!y&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&T?(t.loopCreate(e),t.updateSlides()):g&&!T&&t.loopDestroy()),t.emit("breakpoint",d)}function $D(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const s=$t(),r=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var BD={setBreakpoint:FD,getBreakpoint:$D};function UD(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&n.push(e+s)}):typeof i=="string"&&n.push(e+i)}),n}function jD(){const t=this,{classNames:e,params:n,rtl:i,el:s,device:r}=t,o=UD(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function VD(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var HD={addClasses:jD,removeClasses:VD};function WD(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const s=t.slides.length-1,r=t.slidesGrid[s]+t.slidesSizesGrid[s]+i*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var zD={checkOverflow:WD},sd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function qD(t,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){Nt(e,i);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in r)){Nt(e,i);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Nt(e,i)}}const Yc={eventsEmitter:HL,update:eD,translate:oD,transition:uD,slide:yD,loop:SD,grabCursor:CD,events:DD,breakpoints:BD,checkOverflow:zD,classes:HD},Jc={};let rh=class kn{constructor(){let e,n;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Nt({},n),e&&!n.el&&(n.el=e);const o=gs();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Nt({},n,{el:d});u.push(new kn(f))}),u}const a=this;a.__swiper__=!0,a.support=Tb(),a.device=Cb({userAgent:n.userAgent}),a.browser=UL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:qD(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Nt({},sd,l);return a.params=Nt({},c,Jc,n),a.originalParams=Nt({},a.params),a.passedParams=Nt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,s=vn(n,`.${i.slideClass}, swiper-slide`),r=tl(s[0]);return tl(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=vn(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),o=(i.maxTranslate()-s)*e+s;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);n.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:s,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ua(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):vn(i,s())[0];return!o&&n.params.createElements&&(o=el("div",n.params.wrapperClass),i.append(o),vn(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||ui(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||ui(i,"direction")==="rtl"),wrongRTL:ui(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?ua(n,r):r.addEventListener("load",o=>{ua(n,o.target)})}),id(n),n.initialized=!0,id(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:s,el:r,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),n&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),xL(i)),i.destroyed=!0),null}static extendDefaults(e){Nt(Jc,e)}static get extendedDefaults(){return Jc}static get defaults(){return sd}static installModule(e){kn.prototype.__modules__||(kn.prototype.__modules__=[]);const n=kn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>kn.installModule(n)),kn):(kn.installModule(e),kn)}};Object.keys(Yc).forEach(t=>{Object.keys(Yc[t]).forEach(e=>{rh.prototype[e]=Yc[t][e]})});rh.use([jL,VL]);const kb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ls(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ds(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:ls(e[i])&&ls(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Ds(t[i],e[i]):t[i]=e[i]})}function Pb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Ab(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Rb(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Ob(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function GD(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function KD(t){let{swiper:e,slides:n,passedParams:i,changedParams:s,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=s.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let y,w,v,g,S,T,R,B;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),s.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(w=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(v=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const x=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!i.loop?T=!0:!u.loop&&i.loop?R=!0:B=!0),c.forEach(C=>{if(ls(u[C])&&ls(i[C]))Object.assign(u[C],i[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in i[C]&&!i[C].enabled&&x(C);else{const k=i[C];(k===!0||k===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?k===!1&&x(C):u[C]=i[C]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):s.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),s.includes("children")&&n&&u.loop&&(B=!0),y&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(T||B)&&e.loopDestroy(),(R||B)&&e.loopCreate(),e.update()}function ug(t,e){t===void 0&&(t={});const n={on:{}},i={},s={};Ds(n,sd),n._emitClasses=!0,n.init=!1;const r={},o=kb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ls(t[l])?(n[l]={},s[l]={},Ds(n[l],t[l]),Ds(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:r,events:i}}function YD(t,e){let{el:n,nextEl:i,prevEl:s,paginationEl:r,scrollbarEl:o,swiper:a}=t;Pb(e)&&i&&s&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=s,a.originalParams.navigation.prevEl=s),Ab(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Rb(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function JD(t,e,n,i,s){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&i){const l=i.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return kb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ls(t[l])&&ls(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const XD=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Xc(t,e,n){t===void 0&&(t={});const i=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?i.push(l):s[a]&&s[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=i,{slides:i,slots:s}}function QD(t,e,n){if(!n)return null;const i=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},s=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[i(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=s,u.type)return Ee(u.type,{...u.props},u.children);if(u.componentOptions)return Ee(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const oh={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:i}=e;const{tag:s,wrapperTag:r}=t,o=$("swiper"),a=$(null),l=$(!1),c=$(!1),u=$(null),d=$(null),f=$(null),h={value:[]},p={value:[]},m=$(null),y=$(null),w=$(null),v=$(null),{params:g,passedParams:S}=ug(t);Xc(n,h,p),f.value=S,p.value=h.value;const T=()=>{Xc(n,h,p),l.value=!0};g.onAny=function(x){for(var C=arguments.length,k=new Array(C>1?C-1:0),U=1;U<C;U++)k[U-1]=arguments[U];i(x,...k)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(x,C){o.value=C}});const R={...g};if(delete R.wrapperClass,d.value=new rh(R),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const x={cache:!1,slides:h.value,renderExternal:C=>{a.value=C},renderExternalUpdate:!1};Ds(d.value.params.virtual,x),Ds(d.value.originalParams.virtual,x)}Id(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:x}=ug(t),C=JD(x,f.value,h.value,p.value,k=>k.props&&k.props.key);f.value=x,(C.length||l.value)&&d.value&&!d.value.destroyed&&KD({swiper:d.value,slides:h.value,passedParams:x,changedParams:C,nextEl:m.value,prevEl:y.value,scrollbarEl:v.value,paginationEl:w.value}),l.value=!1}),ht("swiper",d),ot(a,()=>{Ks(()=>{XD(d.value)})}),ke(()=>{u.value&&(YD({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:w.value,scrollbarEl:v.value,swiper:d.value},g),i("swiper",d.value))}),xd(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function B(x){return g.virtual?QD(d,x,a.value):(x.forEach((C,k)=>{C.props||(C.props={}),C.props.swiperRef=d,C.props.swiperSlideIndex=k}),x)}return()=>{const{slides:x,slots:C}=Xc(n,h,p);return Ee(s,{ref:u,class:Ob(o.value)},[C["container-start"],Ee(r,{class:GD(g.wrapperClass)},[C["wrapper-start"],B(x),C["wrapper-end"]]),Pb(t)&&[Ee("div",{ref:y,class:"swiper-button-prev"}),Ee("div",{ref:m,class:"swiper-button-next"})],Rb(t)&&Ee("div",{ref:v,class:"swiper-scrollbar"}),Ab(t)&&Ee("div",{ref:w,class:"swiper-pagination"}),C["container-end"]])}}},ah={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,i=!1;const{swiperRef:s}=t,r=$(null),o=$("swiper-slide"),a=$(!1);function l(d,f,h){f===r.value&&(o.value=h)}ke(()=>{!s||!s.value||(s.value.on("_slideClass",l),i=!0)}),Cd(()=>{i||!s||!s.value||(s.value.on("_slideClass",l),i=!0)}),Id(()=>{!r.value||!s||!s.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),s.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),xd(()=>{!s||!s.value||s.value.off("_slideClass",l)});const c=Q(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));ht("swiperSlide",c);const u=()=>{a.value=!0};return()=>Ee(t.tag,{class:Ob(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&s&&s.value&&s.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Ee("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})])}},ZD={class:"relative"},eF=["src","alt"],tF={class:"text-xs mb-1"},nF={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(P(),V("div",ZD,[O(M(bl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:ee(()=>[E("div",{class:xe(["mb-1 image bg-contain",t.size])},[E("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,eF)],2),E("h3",tF,ce(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},rd={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[Eb];return(n,i)=>(P(),fe(M(oh),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(P(!0),V(Oe,null,Ys(t.films,s=>(P(),fe(M(ah),{key:s.kinopoiskId?s.kinopoiskId:s.filmId,class:"flex-1"},{default:ee(()=>[O(nF,{film:s.item?s.item:s},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},iF="/arrow.svg",No={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,i)=>(P(),V("div",{class:"fixed bottom-20 right-7 inline-block p-2 rounded-md z-50 mb-1 cursor-pointer bg-gray-600 bg-opacity-50 backdrop-blur-sm",onClick:e},i[0]||(i[0]=[E("img",{src:iF,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},sF={class:"flex justify-between mb-3 pt-0.5"},rF={class:"text-lg font-semibold"},wn={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(P(),V("div",sF,[E("h2",rF,ce(t.title),1),t.showAll?(P(),fe(M(bl),{key:0,to:{name:t.link},class:"text-orange-600 font-semibold flex gap-1.5 pt-1"},{default:ee(()=>n[0]||(n[0]=[E("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):Me("",!0)]))}},oF={class:"w-20 h-20 rounded-full flex items-center overflow-hidden mb-1"},aF=["src","alt"],lF={class:"text-xs mb-1"},cF={key:0,class:"text-xs mb-1 text-gray-500"},uF={key:1,class:"text-xs mb-1 text-gray-500"},dF={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>(P(),V("div",null,[E("div",oF,[E("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,aF)]),E("h3",lF,ce(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(P(),V("h3",cF,"Режиссер")):Me("",!0),t.staffItem.description?(P(),V("h3",uF,ce(t.staffItem.description),1)):Me("",!0)]))}},fF={__name:"StaffList",props:{staffList:Array},setup(t){const e=[Eb];return(n,i)=>(P(),fe(M(oh),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(P(!0),V(Oe,null,Ys(t.staffList.slice(0,10),s=>(P(),fe(M(ah),{key:s.staffId,class:"flex-1"},{default:ee(()=>[O(dF,{staffItem:s},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},lh=wo("favoritesStore",()=>{const t=$([]),e=Io(),n=bi(),i=$(!0);return{favorites:t,getFavorites:()=>{i.value=!0,gi(n,a=>{if(a){console.log(a);const l=$_(Dt(e,`users/${a.uid}/favorites`),F_("date"));zi(l,c=>{const u=[];c.forEach(d=>{u.push(d.val())}),t.value=u.reverse(),i.value=!1},c=>{console.log(c)})}else console.log("User logged out")})},addToFavorites:(a,l)=>{const c=new Date().getTime();a.isFavorite=!0,Pf(Dt(e,"users/"+n.currentUser.uid+"/favorites/"+l),{nameRu:a.nameRu?a.nameRu:a.nameOriginal,genres:a.genres,year:a.year,posterUrl:a.posterUrl,id:+l,isFavorite:!0,isWatched:!1,date:c}).then(()=>console.log("Добавлено")).catch(u=>console.log(u))},removeFromFavorites:(a,l)=>{a&&(a.isFavorite=!1),Vu(Dt(e,"users/"+n.currentUser.uid+"/favorites/"+l)).then(()=>console.log("Удалено")).catch(c=>console.log(c))},loader:i}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const hF=t=>typeof t<"u";function pF(t){return JSON.parse(JSON.stringify(t))}function mF(t,e,n,i={}){var s,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=i,h=ds(),p=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const y=g=>a?typeof a=="function"?a(g):pF(g):g,w=()=>hF(t[e])?y(t[e]):d,v=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=w(),S=$(g);let T=!1;return ot(()=>t[e],R=>{T||(T=!0,S.value=y(R),Ks(()=>T=!1))}),ot(S,R=>{!T&&(R!==t[e]||u)&&v(R)},{deep:u}),S}else return Q({get(){return w()},set(g){v(g)}})}const gF=t=>(qS("data-v-8a63990a"),t=t(),GS(),t),vF=gF(()=>E("div",{class:"swipe-modal-drag-handle"},null,-1)),yF=Ke({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){XE(x=>({ef0a5750:M(a)}));const n=t,i=e,s=$(null),r=$(null),o=mF(n,"modelValue",i),a=$("-100%"),l=$(!1),c=$(0),u=$(0),d=$("close"),f=Q(()=>{var x;return n.snapPoint?n.snapPoint==="auto"?`calc(${((x=r.value)==null?void 0:x.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:x,touchEvent:C,eventType:k})=>{k==="mouse"?c.value=x.y:c.value=C.touches[0].clientY,l.value=!0},p=({mouseEvent:x,touchEvent:C,eventType:k})=>{var U,J;if(l.value&&(k==="mouse"?u.value=c.value-x.y:u.value=c.value-C.touches[0].clientY,!(u.value>0&&d.value==="full"||(((U=s.value)==null?void 0:U.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(J=s.value)==null||J.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var x;if(l.value=!1,(x=s.value)==null||x.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?w():n.isPersistent?y():o.value=!1;case"snap":return n.isPersistent?y():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?v():y();default:return}}return y()},y=()=>{if(!s.value)return;const x=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";s.value.animate([{bottom:a.value},{bottom:x()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=x()}},w=()=>{s.value&&n.snapPoint&&(s.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},v=()=>{s.value&&(s.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=x=>{if(n.isBackdrop&&x.target===x.currentTarget){if(n.isPersistent)return y();o.value=!1}},S=x=>{x.stopPropagation()},T=()=>{var x;s.value&&(n.isBackdrop?s.value.showModal():s.value.show(),(x=s.value)==null||x.style.setProperty("visibility","visible"),s.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),s.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&B("hidden")})},R=()=>{s.value&&(s.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),s.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var x,C,k;a.value="-100%",d.value="close",l.value=!1,(x=s.value)==null||x.close(),(C=s.value)==null||C.style.setProperty("display","initial"),(k=s.value)==null||k.style.setProperty("visibility","hidden"),B("reset")})},B=x=>{if(x==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let C=window,k,U,J;document.defaultView?(C=document.defaultView,k=C.scrollX,U=C.scrollY):(J=document.documentElement,k=J.scrollLeft,U=J.scrollTop),document.documentElement.style.overflow=x,document.documentElement.style.overscrollBehaviorY=x==="auto"?"auto":"none",C.scrollTo(k,U)};return ot(()=>o.value,x=>{x?T():R()}),ot(()=>n.isScrollLock,x=>{B(x?"hidden":"auto")}),ke(()=>{s.value&&(o.value||(s.value.style.setProperty("display","initial"),s.value.style.setProperty("visibility","hidden")))}),(x,C)=>(P(),V("dialog",{ref_key:"modalRef",ref:s,class:"swipe-modal modal-style",onClick:g},[E("div",{tabindex:"-1",class:"swipe-modal-content",onClick:S},[E("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:C[0]||(C[0]=k=>h({mouseEvent:k,eventType:"mouse"})),onMousemove:C[1]||(C[1]=k=>p({mouseEvent:k,eventType:"mouse"})),onMouseup:m,onTouchstart:C[2]||(C[2]=k=>h({touchEvent:k,eventType:"touch"})),onTouchmove:C[3]||(C[3]=k=>p({touchEvent:k,eventType:"touch"})),onTouchend:m},[x.isDragHandle?fn(x.$slots,"drag-handle",{key:0},()=>[vF],!0):Me("",!0)],32),E("div",{ref_key:"panelRef",ref:r,class:"panel"},[fn(x.$slots,"default",{},void 0,!0)],512)])],512))}}),_F=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Nb=_F(yF,[["__scopeId","data-v-8a63990a"]]),wF={class:"px-2 pb-8 text-sm text-white"},bF=Ke({__name:"Swiper",props:{openText:{type:String,required:!0},shortDescription:{type:String,required:!1},description:{type:String,required:!1}},setup(t){const e=$(!1);return(n,i)=>(P(),V(Oe,null,[E("p",{class:"text-orange-600 text-sm text-end",onClick:i[0]||(i[0]=s=>e.value=!0)},ce(t.openText),1),O(M(Nb),{modelValue:e.value,"onUpdate:modelValue":i[1]||(i[1]=s=>e.value=s),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1},{default:ee(()=>[E("div",wF,ce(t.description),1)]),_:1},8,["modelValue"])],64))}}),lr=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},SF=lr(bF,[["__scopeId","data-v-be89b96d"]]),EF={key:1,class:"bg-white"},TF={class:"flex justify-center items-center w-full fixed -z-10 -mt-96 pt-12"},CF=["src","alt"],IF={class:"container mt-96 mx-auto pb-4 relative"},xF={class:"fixed z-50 top-4 left-4"},kF={class:"flex flex-col gap-2 w-full justify-between"},PF={class:"text-xl text-center"},AF={class:"self-center"},RF={class:"flex justify-center items-start gap-2 mb-1 px-1"},OF={class:"text-slate-400 text-sm text-center"},NF={class:"flex gap-4 justify-center items-center"},MF={key:0,class:"text-sm text-center"},LF={key:1,class:"text-sm"},DF={key:2,class:"text-gray-500 text-sm"},FF={key:3,class:"text-black text-xs font-semibold w-8 border border-black rounded-md box-border h-5 flex justify-center items-center"},$F={class:"flex items-center justify-around bg-gradient-to-r from-gray-600 via-orange-600 to-fray-600 bg-opacity-10 mt-3 rounded-sm"},BF=["href"],UF={class:"container p-2"},jF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},VF={class:"py-4"},HF={class:"text-sm font-bold mb-2"},WF={class:"flex flex-col items-center justify-center bg-gray-300 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},zF={key:0,class:"text-md text-gray-600 font-bold"},qF={class:"text-sm text-center mb-2"},GF=["href"],KF={key:0,class:"container p-2"},YF={__name:"Item",setup(t){const e=lh(),n=$(!0),s=ST().params.id,r=$({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),o=$([]),a=$([]),l=$(!1),c="9e52d931-b757-457b-a1ea-0d872ae51d51",u=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${p}`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});e.favorites.find(w=>w.id===+p)?r.value={...m,isFavorite:!0}:r.value={...m,isFavorite:!1}},d=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${p}/similars`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});o.value=m.items},f=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${p}`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});a.value=m},h=p=>{n.value=!0,u(p),d(p),f(p),n.value=!1};return ke(()=>{e.getFavorites(),h(s),window.scrollTo({top:0,behavior:"smooth"})}),hT((p,m)=>{p.params.id!==m.params.id&&(h(p.params.id),l.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),El({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(p,m)=>{const y=Kn("metainfo");return P(),V(Oe,null,[O(y,null,{title:ee(()=>[Be(ce(r.value.nameRu),1)]),meta:ee(()=>[Be(ce(r.value.shortDescription?r.value.shortDescription:r.value.description),1)]),_:1}),n.value?(P(),fe(sn,{key:0,"full-screen":!0})):(P(),V("main",EF,[E("div",TF,[E("img",{class:"w-1/2",src:r.value.posterUrl,alt:r.value.nameRu?r.value.nameRu:r.value.nameOriginal},null,8,CF)]),E("section",IF,[m[2]||(m[2]=E("div",{class:"absolute -top-20 bg-gradient-to-t from-white to-transparent w-full h-20 z-30"},null,-1)),E("div",xF,[O(Xl)]),E("div",kF,[E("h1",PF,ce(r.value.nameRu?r.value.nameRu:r.value.nameOriginal),1),E("div",AF,[E("div",RF,[E("div",{class:xe([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-600":r.value.ratingKinopoisk>5?"text-gray-400":"text-red-600":"text-gray-400","text-sm font-semibold text-center min-w-10 rounded-sm"])},ce(r.value.ratingKinopoisk?r.value.ratingKinopoisk:"нет рейтинга"),3)]),E("p",OF,ce(r.value.genres.reduce((w,v)=>v.genre+", "+w,""))+" "+ce(r.value.countries[0]?r.value.countries[0].country:r.value.countries.country),1)]),E("div",NF,[r.value.startYear?(P(),V("div",MF,ce(r.value.startYear)+"-"+ce(r.value.endYear?r.value.endYear:"н.в."),1)):(P(),V("div",LF,ce(r.value.year),1)),r.value.filmLength?(P(),V("div",DF,ce(r.value.filmLength)+" мин. ",1)):Me("",!0),r.value.ratingAgeLimits?(P(),V("div",FF,ce(r.value.ratingAgeLimits.split("age")[1])+"+ ",1)):Me("",!0)])]),E("div",$F,[E("div",{class:"p-2 flex flex-col items-center justify-center",onClick:m[0]||(m[0]=w=>r.value.isFavorite?M(e).removeFromFavorites(r.value,M(s)):M(e).addToFavorites(r.value,M(s)))},[O(M(Bd),{class:xe(["w-6",r.value.isFavorite?"text-orange-600 fill-orange-600":"text-white"]),alt:"home"},null,8,["class"]),m[1]||(m[1]=E("span",{class:"text-xs text-center text-white"},[Be("Буду "),E("br"),Be("смотреть")],-1))]),E("a",{href:r.value.webUrl,class:"my-2 text-sm rounded-full text-white bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,BF)])]),E("section",UF,[O(wn,{title:"Актеры и съемочная группа"}),O(fF,{"staff-list":a.value},null,8,["staff-list"])]),E("section",null,[E("div",jF,[E("div",VF,[E("p",HF,ce(r.value.shortDescription),1),r.value.shortDescription?(P(),fe(SF,{key:0,"open-text":"Подробнее","short-description":r.value.shortDescription,description:r.value.description},null,8,["short-description","description"])):Me("",!0)]),m[3]||(m[3]=E("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),E("div",WF,[r.value.ratingKinopoisk?(P(),V("span",{key:1,class:xe([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ce(r.value.ratingKinopoisk),3)):(P(),V("span",zF,"нет рейтинга")),E("div",qF," Оценок: "+ce(r.value.ratingKinopoiskVoteCount),1),E("a",{href:r.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 text-white"},"Оценить",8,GF)])])]),o.value.length?(P(),V("section",KF,[O(wn,{title:"Похожие"}),O(rd,{films:o.value},null,8,["films"])])):Me("",!0),O(No),m[4]||(m[4]=E("div",{class:"h-28 bg-white"},null,-1))]))],64)}}},JF=lr(YF,[["__scopeId","data-v-8f40252d"]]),Mb=wo("newsStore",()=>{const t=$([]),e=$([]),n=$(!0),i=$(1),s=bi(),r=Io();return{newsData:t,getNews:async l=>{n.value=!0,gi(s,c=>{if(c){const u=Dt(r,`news/${l}`);zi(u,d=>{t.value=d.val(),n.value=!1},d=>{console.log(d)})}else console.log("User logged out")}),i.value=l},getLastNews:async()=>{n.value=!0,gi(s,l=>{if(l){const c=Dt(r,"news/1");zi(c,u=>{e.value=u.val()},u=>{console.log(u)})}else console.log("User logged out")}),n.value=!1},newsOnMain:e,currentPage:i,loader:n}}),XF={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},QF=["href"],ZF={__name:"NewsItem",setup(t){const e=[DL,LL],n=Mb();return ke(()=>{n.newsOnMain.length||n.getLastNews()}),(i,s)=>(P(),fe(M(oh),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-4"},{default:ee(()=>[(P(!0),V(Oe,null,Ys(M(n).newsOnMain,r=>(P(),fe(M(ah),{key:r.item.kinopoiskId},{default:ee(()=>[E("div",{class:"overflow-hidden bg-cover h-48 w-full",style:vo(`background-image: url(${r.item.imageUrl})`)},[s[0]||(s[0]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-40"},null,-1)),E("h2",XF,ce(r.item.title),1),E("a",{href:r.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,QF)],4)]),_:2},1024))),128))]),_:1}))}},ch=wo("premiersStore",()=>{const t=$([]),e=$([]),n=$([]),i=$(1),s=bi(),r=Io(),o=$(!0);return{premiers:t,getPremiers:()=>{o.value=!0,gi(s,u=>{if(u){const d=Dt(r,"premiers");zi(d,f=>{t.value=f.val(),o.value=!1},f=>{console.log(f)})}else console.log("User logged out")})},getTop250:u=>{o.value=!0,gi(s,d=>{if(d){const f=Dt(r,`top/${u}`);zi(f,h=>{e.value=h.val(),o.value=!1},h=>{console.log(h)})}else console.log("User logged out")}),i.value=u},top250:e,getTopOnMain:()=>{gi(s,u=>{if(u){const d=Dt(r,"top/1");zi(d,f=>{n.value=f.val(),o.value=!1},f=>{console.log(f)})}else console.log("User logged out")})},topOnMain:n,currentPage:i,loader:o}}),e$={key:1,class:"container mx-auto px-1"},t$={__name:"MainPage",setup(t){const e=Sn(),n=ch(),i=()=>{Notification.requestPermission().then(s=>{s==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),Sn().notificationToken="")})};return ke(()=>{(!n.premiers.length||!n.topOnMain.length)&&(n.getPremiers(),n.getTopOnMain()),e.getTokenNotification(),i()}),El({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(s,r)=>{const o=Kn("metainfo");return P(),V(Oe,null,[O(o,null,{title:ee(()=>r[0]||(r[0]=[])),_:1}),M(n).loader?(P(),fe(sn,{key:0,"full-screen":!0})):(P(),V("section",e$,[O(wn,{title:"Последние новости","show-all":!0,link:"news"}),O(ZF),O(wn,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),O(rd,{films:M(n).premiers.slice(0,20),class:"mb-2"},null,8,["films"]),O(wn,{title:"Топ 250","show-all":!0,link:"top"}),O(rd,{films:M(n).topOnMain},null,8,["films"]),r[1]||(r[1]=E("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},n$={class:"flex items-center gap-8 mb-8 relative"},i$={class:"flex items-start justify-around gap-4 w-full"},s$=Ke({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=lh(),n=bi(),i=Io(),s=$(!1),r=o=>{t.film.isWatched=!o,tP(Dt(i,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(P(),V(Oe,null,[E("div",null,[O(M(_C),{onClick:a[0]||(a[0]=l=>s.value=!0),class:"w-5 text-gray-500",alt:"favorites"})]),O(M(Nb),{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=l=>s.value=l),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1,class:"bg-gray-600 bg-opacity-50 backdrop-blur-sm"},{default:ee(()=>[E("div",n$,[E("div",i$,[E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[O(M(uy),{class:xe(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=E("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>M(e).removeFromFavorites(null,t.film.id))},[O(M(Bd),{class:xe(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=E("span",{class:"text-xs text-center text-white"},[Be("Удалить из"),E("br"),Be("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),r$=lr(s$,[["__scopeId","data-v-bbd35135"]]),o$={class:"relative"},a$={class:"flex justify-between"},l$=["src","alt"],c$={class:"mr-8"},u$={class:"text-xs mb-1"},d$={class:"flex gap-1.5"},f$={__name:"FilmItem",props:{film:{type:Object,required:!0},sizeImage:{type:String,default:"w-16",required:!1},sizeBlock:{type:String,default:"min-w-16",required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1}},setup(t){const e=Uf();return(n,i)=>(P(),V("div",o$,[E("div",a$,[O(M(bl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-2 mr-8 flex-1",onClick:i[0]||(i[0]=s=>t.remove?null:M(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:ee(()=>[E("div",{class:xe(["image bg-contain",t.sizeBlock])},[E("img",{class:xe(["h-full",t.sizeImage]),src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,10,l$)],2),E("div",c$,[E("h3",u$,ce(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),E("div",d$,[jt(O(M(uy),{class:xe(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),[[Lr,t.favorite]]),jt(E("h4",{class:"text-xs text-slate-400 mb-1"},ce(t.film.year),513),[[Lr,t.film.year&&t.film.year!=="null"]])])])]),_:1},8,["to"]),t.favorite?(P(),fe(r$,{key:0,film:t.film},null,8,["film"])):Me("",!0)]),t.film.ratingKinopoisk?(P(),V("div",{key:0,class:xe([t.film.ratingKinopoisk?t.film.ratingKinopoisk>8?"bg-yellow-600":t.film.ratingKinopoisk>7?"bg-green-600":t.film.ratingKinopoisk>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},ce(t.film.ratingKinopoisk&&t.film.ratingKinopoisk!=="null"?t.film.ratingKinopoisk:""),3)):t.film.rating?(P(),V("div",{key:1,class:xe([t.film.rating==="null"?"bg-slate-300":t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},ce(t.film.rating&&t.film.rating!=="null"?t.film.rating:"-"),3)):Me("",!0),jt(O(M(fy),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-0",alt:"close",onClick:i[1]||(i[1]=s=>M(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[Lr,t.remove]])]))}},h$={class:"flex flex-col"},go={__name:"FilmList",props:{films:{type:Array,required:!0},sizeImage:{type:String,required:!1},sizeBlock:{type:String,required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(P(),V("div",h$,[(P(!0),V(Oe,null,Ys(t.films,i=>(P(),fe(f$,{film:i.item?i.item:i,"size-image":t.sizeImage,"size-block":t.sizeBlock,favorite:t.favorite,remove:t.remove},null,8,["film","size-image","size-block","favorite","remove"]))),256))]))}},p$={class:"container mx-auto px-1 text-sm"},m$=["defaultvalue","placeholder"],g$={key:0},v$={key:1},y$={key:1},_$={key:1},w$={key:1},b$={key:0},S$={class:"flex items-end justify-between pb-3 px-1"},E$={key:1},T$={__name:"Search",setup(t){const e="9e52d931-b757-457b-a1ea-0d872ae51d51",n=Uf(),i=$(!1),s=async l=>{n.loader=!0,i.value=!1;const{data:c}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${l.trim()}`,{headers:{"X-API-KEY":e,"Content-Type":"application/json"}});c.films.length===0?i.value=!0:(n.memoryFilms=c.films,i.value=!1),n.loader=!1},r=()=>{if(!n.memory)return a();n.memory.length>2&&s(n.memory),n.memory.length<2&&(n.memoryFilms=[])},o=$(!1);function a(){o.value=!0,setTimeout(()=>{o.value=!1},1500)}return ke(()=>{n.getLastSearch()}),El({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(l,c)=>{const u=Kn("metainfo");return P(),V(Oe,null,[O(u,null,{title:ee(()=>c[4]||(c[4]=[])),_:1}),E("section",p$,[E("div",{class:xe(["relative w-full px-0.5 mb-3",{shake:o.value}])},[O(M(dy),{class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 left-3",alt:"search"}),jt(O(M(fy),{onClick:c[0]||(c[0]=()=>{M(n).memory="",M(n).memoryFilms=[],i.value=!1}),class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[Lr,M(n).memory.length>0]]),jt(E("input",{defaultvalue:M(n).memory,placeholder:o.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 py-2 pr-10 flex items-center text-sm text-black bg-gray-100 outline-none placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-none sm:text-sm/6 rounded-md",type:"text","onUpdate:modelValue":c[1]||(c[1]=d=>M(n).memory=d),onKeydown:[Jh(r,["enter"]),c[2]||(c[2]=Jh(d=>{M(n).memoryFilms=[],i.value=!1},["backspace"]))]},null,40,m$),[[Hi,M(n).memory]])],2),M(n).memory.length>0?(P(),V("div",g$,[M(n).loader?(P(),fe(sn,{key:0,"full-screen":!1})):(P(),V("div",v$,[i.value?(P(),V("div",y$,c[5]||(c[5]=[E("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(P(),fe(go,{key:0,films:M(n).memoryFilms,"size-image":"w-14","size-block":"min-w-14"},null,8,["films"]))]))])):(P(),V("div",_$,[M(n).loader?(P(),fe(sn,{key:0,"full-screen":!1})):(P(),V("div",w$,[M(n).lastSearch.length>0?(P(),V("div",b$,[E("div",S$,[c[6]||(c[6]=E("h4",{class:"text-sm text-gray-600"},"Вы недавно искали",-1)),E("span",{class:"text-xs text-gray-600",onClick:c[3]||(c[3]=(...d)=>M(n).removeAllSearch&&M(n).removeAllSearch(...d))},"Очистить")]),O(go,{films:M(n).lastSearch.slice(0,7),"size-image":"w-14","size-block":"min-w-14",remove:!0},null,8,["films"])])):(P(),V("div",E$,c[7]||(c[7]=[E("div",{class:"flex items-end justify-center pb-3 px-1"},[E("h4",{class:"text-sm text-gray-600"},"История поиска пуста")],-1)])))]))]))]),c[8]||(c[8]=E("div",{class:"h-28"},null,-1))],64)}}},C$=lr(T$,[["__scopeId","data-v-ae125e75"]]),I$="/404-error.png",x$={},k$={class:"w-full h-screen flex justify-center items-center"};function P$(t,e){return P(),V("div",k$,e[0]||(e[0]=[E("img",{src:I$,alt:"404",class:"w-2/5"},null,-1)]))}const A$=lr(x$,[["render",P$]]),R$={key:1,class:"relative container mx-auto p-1"},O$={class:"flex gap-2 mb-1"},N$={__name:"Premier",setup(t){const e=ch();return ke(()=>{e.premiers.length||e.getPremiers(),window.scrollTo({top:0,behavior:"smooth"})}),(n,i)=>M(e).loader?(P(),fe(sn,{key:0,"full-screen":!0})):(P(),V("section",R$,[E("div",O$,[O(Xl),O(wn,{title:"Премьеры этого месяца"})]),O(go,{films:M(e).premiers},null,8,["films"]),i[0]||(i[0]=E("div",{class:"h-28"},null,-1)),O(No)]))}},M$={key:1,class:"relative container mx-auto p-1"},L$={class:"flex gap-2 mb-1"},D$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},F$={__name:"Top",setup(t){const e=ch(),n=$(1),i=async s=>{await e.getTop250(s),window.scrollTo({top:0,behavior:"smooth"})};return ke(()=>{e.top250.length?n.value=e.currentPage:e.getTop250(1),window.scrollTo({top:0,behavior:"smooth"})}),(s,r)=>M(e).loader?(P(),fe(sn,{key:0,"full-screen":!0})):(P(),V("section",M$,[E("div",L$,[O(Xl),O(wn,{title:"Топ 250"})]),O(go,{films:M(e).top250},null,8,["films"]),r[1]||(r[1]=E("div",{class:"h-32"},null,-1)),E("div",D$,[O(M($d),{"total-items":250,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),onClick:i},null,8,["modelValue"])]),O(No)]))}},$$={key:1,class:"relative container mx-auto p-1"},B$={class:"flex gap-2 mb-1"},U$={class:"grid-cols-1 grid gap-2"},j$={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},V$=["href"],H$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},W$={__name:"News",setup(t){const e=Mb(),n=async s=>{await e.getNews(s),window.scrollTo({top:0,behavior:"smooth"})},i=$(1);return ke(()=>{e.newsData.length?i.value=e.currentPage:e.getNews(1),window.scrollTo({top:0,behavior:"smooth"})}),El({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(s,r)=>{const o=Kn("metainfo");return P(),V(Oe,null,[O(o,null,{title:ee(()=>r[1]||(r[1]=[])),_:1}),M(e).loader?(P(),fe(sn,{key:0,"full-screen":!0})):(P(),V("section",$$,[E("div",B$,[O(Xl),O(wn,{title:"Новости"})]),E("div",U$,[(P(!0),V(Oe,null,Ys(M(e).newsData,a=>(P(),V("div",{key:a.item.kinopoiskId},[E("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:vo(`background-image: url(${a.item.imageUrl})`)},[r[2]||(r[2]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),E("h2",j$,ce(a.item.title),1),E("a",{href:a.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,V$)],4)]))),128))]),O(No),r[3]||(r[3]=E("div",{class:"h-32"},null,-1))])),E("div",H$,[O(M($d),{"total-items":208,"items-per-page":20,"max-pages-shown":3,modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=a=>i.value=a),onClick:n},null,8,["modelValue"])])],64)}}},Lb="/img/icons/192x192.png",z$={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},q$={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},G$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},K$={class:"text-center text-xs text-red-500"},Y$={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},J$={class:"space-y-6",action:"#",method:"POST"},X$={class:"mt-2"},Q$={class:"mt-2"},Z$={class:"mt-10 text-center text-sm/6 text-gray-400"},eB=Ke({__name:"Login",setup(t){const e=Js(),n=Sn(),i=$(""),s=$(""),r=async o=>{o.preventDefault(),n.error="",i.value&&s.value?(await n.auth("login",{email:i.value,password:s.value}),await e.push("/")):n.error="Заполните все поля"};return ke(()=>{n.error="",i.value="",s.value=""}),(o,a)=>{const l=Kn("RouterLink");return P(),V("div",z$,[E("div",q$,[a[2]||(a[2]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Lb,alt:"Filmoteka"},null,-1)),a[3]||(a[3]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),M(n).error?(P(),V("div",G$,[O(M(Ud),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",K$,ce(M(n).error),1)])):Me("",!0)]),E("div",Y$,[E("form",J$,[E("div",null,[a[4]||(a[4]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",X$,[jt(E("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c),class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Hi,i.value]])])]),E("div",null,[a[5]||(a[5]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль"),E("div",{class:"text-sm"},[E("a",{href:"#",class:"text-orange-600 hover:text-orange-500"},"Забыли пароль?")])],-1)),E("div",Q$,[jt(E("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>s.value=c),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Hi,s.value]])])]),E("div",null,[M(n).loader?(P(),fe(sn,{key:1,"full-screen":!1})):(P(),V("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),E("p",Z$,[a[7]||(a[7]=Be(" Нет аккаунта? "+ce(" ")+" ")),O(l,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>a[6]||(a[6]=[Be("Зарегистрироваться ")])),_:1})])])])}}}),tB={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},nB={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},iB={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},sB={class:"text-center text-xs text-red-500"},rB={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},oB={class:"space-y-6",action:"#",method:"POST"},aB={class:"mt-2"},lB={class:"mt-2"},cB={class:"mt-2"},uB={class:"mt-10 text-center text-sm text-gray-400"},dB=Ke({__name:"Registration",setup(t){const e=Sn(),n=$(""),i=$(""),s=$(""),r=Js(),o=async()=>{e.error="",i.value&&s.value&&n.value?(await e.auth("registration",{email:i.value,password:s.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return ke(()=>{e.error="",i.value="",s.value="",n.value=""}),(a,l)=>{const c=Kn("RouterLink");return P(),V("div",tB,[E("div",nB,[l[3]||(l[3]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Lb,alt:"Your Company"},null,-1)),l[4]||(l[4]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),M(e).error?(P(),V("div",iB,[O(M(Ud),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",sB,ce(M(e).error),1)])):Me("",!0)]),E("div",rB,[E("form",oB,[E("div",null,[l[5]||(l[5]=E("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),E("div",aB,[jt(E("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Hi,n.value]])])]),E("div",null,[l[6]||(l[6]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",lB,[jt(E("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>i.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Hi,i.value]])])]),E("div",null,[l[7]||(l[7]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),E("div",cB,[jt(E("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>s.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Hi,s.value]])])]),E("div",null,[M(e).loader?(P(),fe(sn,{key:1,"full-screen":!1})):(P(),V("button",{key:0,type:"submit",onClick:Ot(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),E("p",uB,[l[9]||(l[9]=Be(" Есть аккаунт? "+ce(" ")+" ")),O(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>l[8]||(l[8]=[Be("Войти")])),_:1})])])])}}});function uh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Mo(){let t=[],e={addEventListener(n,i,s,r){return n.addEventListener(i,s,r),e.add(()=>n.removeEventListener(i,s,r))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return uh(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let r=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:r})})},group(n){let i=Mo();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var dg;let fB=Symbol("headlessui.useid"),hB=0;const Ql=(dg=JS)!=null?dg:function(){return je(fB,()=>`${++hB}`)()};function Ye(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function En(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,En),i}var pB=Object.defineProperty,mB=(t,e,n)=>e in t?pB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fg=(t,e,n)=>(mB(t,typeof e!="symbol"?e+"":e,n),n);let gB=class{constructor(){fg(this,"current",this.detect()),fg(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Lo=new gB;function cr(t){if(Lo.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ye(t);if(e)return e.ownerDocument}return document}let od=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var li=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(li||{}),Db=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Db||{}),vB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(vB||{});function yB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(od)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Fb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Fb||{});function _B(t,e=0){var n;return t===((n=cr(t))==null?void 0:n.body)?!1:En(e,{0(){return t.matches(od)},1(){let i=t;for(;i!==null;){if(i.matches(od))return!0;i=i.parentElement}return!1}})}var wB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(wB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ki(t){t==null||t.focus({preventScroll:!0})}let bB=["textarea","input"].join(",");function SB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,bB))!=null?n:!1}function EB(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),r=e(i);if(s===null||r===null)return 0;let o=s.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function da(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?EB(t):t:yB(t);s.length>0&&a.length>1&&(a=a.filter(p=>!s.includes(p))),i=i??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(i))-1;if(e&4)return Math.max(0,a.indexOf(i))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&SB(h)&&h.select(),2}function $b(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function TB(){return/Android/gi.test(window.navigator.userAgent)}function CB(){return $b()||TB()}function zo(t,e,n){Lo.isServer||Qt(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function Bb(t,e,n){Lo.isServer||Qt(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function IB(t,e,n=Q(()=>!0)){function i(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Ye(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!_B(a,Fb.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let s=$(null);zo("pointerdown",r=>{var o,a;n.value&&(s.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),zo("mousedown",r=>{var o,a;n.value&&(s.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),zo("click",r=>{CB()||s.value&&(i(r,()=>s.value),s.value=null)},!0),zo("touchend",r=>i(r,()=>r.target instanceof HTMLElement?r.target:null),!0),Bb("blur",r=>i(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var nl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(nl||{}),di=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(di||{});function Cn({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var r;let o=jb(i,n),a=Object.assign(s,{props:o});if(t||e&2&&o.static)return Qc(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return En(l,{0(){return null},1(){return Qc({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Qc(a)}function Qc({props:t,attrs:e,slots:n,slot:i,name:s}){var r,o;let{as:a,...l}=Vb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,i),u={};if(i){let d=!1,f=[];for(let[h,p]of Object.entries(i))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=Ub(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!xB(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,y,w)=>w.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=jb((o=d.props)!=null?o:{},l,u),p=Ji(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Ee(a,Object.assign({},l,u),{default:()=>c})}function Ub(t){return t.flatMap(e=>e.type===Oe?Ub(e.children):[e])}function jb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...r){let o=n[i];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...r)}}});return e}function Vb(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function xB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var il=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(il||{});let ad=Ke({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var i;let{features:s,...r}=t,o={"aria-hidden":(s&2)===2?!0:(i=r["aria-hidden"])!=null?i:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Cn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Hb=Symbol("Context");var Mt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Mt||{});function kB(){return dh()!==null}function dh(){return je(Hb,null)}function PB(t){ht(Hb,t)}var Wb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Wb||{});function AB(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Li=[];AB(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Li[0]!==e.target&&(Li.unshift(e.target),Li=Li.filter(n=>n!=null&&n.isConnected),Li.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function zb(t,e,n,i){Lo.isServer||Qt(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}var kr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(kr||{});function RB(){let t=$(0);return Bb("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function qb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=Ye(n);i instanceof HTMLElement&&e.add(i)}return e}var Gb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Gb||{});let Sr=Object.assign(Ke({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:$(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=$(null);i({el:s,$el:s});let r=Q(()=>cr(s)),o=$(!1);ke(()=>o.value=!0),bt(()=>o.value=!1),NB({ownerDocument:r},Q(()=>o.value&&!!(t.features&16)));let a=MB({ownerDocument:r,container:s,initialFocus:Q(()=>t.initialFocus)},Q(()=>o.value&&!!(t.features&2)));LB({ownerDocument:r,container:s,containers:t.containers,previousActiveElement:a},Q(()=>o.value&&!!(t.features&8)));let l=RB();function c(h){let p=Ye(s);p&&(m=>m())(()=>{En(l.value,{[kr.Forwards]:()=>{da(p,li.First,{skipElements:[h.relatedTarget]})},[kr.Backwards]:()=>{da(p,li.Last,{skipElements:[h.relatedTarget]})}})})}let u=$(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=qb(t.containers);Ye(s)instanceof HTMLElement&&p.add(Ye(s));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Kb(p,m)||(u.value?da(Ye(s),En(l.value,{[kr.Forwards]:()=>li.Next,[kr.Backwards]:()=>li.Previous})|li.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Ki(h.target)))}return()=>{let h={},p={ref:s,onKeydown:d,onFocusout:f},{features:m,initialFocus:y,containers:w,...v}=t;return Ee(Oe,[!!(m&4)&&Ee(ad,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:il.Focusable}),Cn({ourProps:p,theirProps:{...e,...v},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Ee(ad,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:il.Focusable})])}}}),{features:Gb});function OB(t){let e=$(Li.slice());return ot([t],([n],[i])=>{i===!0&&n===!1?uh(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=Li.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function NB({ownerDocument:t},e){let n=OB(e);ke(()=>{Qt(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&Ki(n())},{flush:"post"})}),bt(()=>{e.value&&Ki(n())})}function MB({ownerDocument:t,container:e,initialFocus:n},i){let s=$(null),r=$(!1);return ke(()=>r.value=!0),bt(()=>r.value=!1),ke(()=>{ot([e,n,i],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!i.value)return;let l=Ye(e);l&&uh(()=>{var c,u;if(!r.value)return;let d=Ye(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){s.value=f;return}}else if(l.contains(f)){s.value=f;return}d?Ki(d):da(l,li.First|li.NoScroll)===Db.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),s}function LB({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var r;zb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!s.value)return;let a=qb(n);Ye(e)instanceof HTMLElement&&a.add(Ye(e));let l=i.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?Kb(a,c)?(i.value=c,Ki(c)):(o.preventDefault(),o.stopPropagation(),Ki(l)):Ki(i.value)},!0)}function Kb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function DB(t){let e=zg(t.getSnapshot());return bt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function FB(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...r){let o=e[s].call(n,...r);o&&(n=o,i.forEach(a=>a()))}}}function $B(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,r=t-s;n.style(i,"paddingRight",`${r}px`)}}}function BB(){return $b()?{before({doc:t,d:e,meta:n}){function i(s){return n.containers.flatMap(r=>r()).some(r=>r.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Mo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!i(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(i(a.target)){let l=a.target;for(;l.parentElement&&i(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(i(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function UB(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function jB(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Bi=FB(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Mo(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:jB(n)},s=[BB(),$B(),UB()];s.forEach(({before:r})=>r==null?void 0:r(i)),s.forEach(({after:r})=>r==null?void 0:r(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Bi.subscribe(()=>{let t=Bi.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&Bi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Bi.dispatch("TEARDOWN",n)}});function VB(t,e,n){let i=DB(Bi),s=Q(()=>{let r=t.value?i.value.get(t.value):void 0;return r?r.count>0:!1});return ot([t,e],([r,o],[a],l)=>{if(!r||!o)return;Bi.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(Bi.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),s}let Zc=new Map,Er=new Map;function hg(t,e=$(!0)){Qt(n=>{var i;if(!e.value)return;let s=Ye(t);if(!s)return;n(function(){var o;if(!s)return;let a=(o=Er.get(s))!=null?o:1;if(a===1?Er.delete(s):Er.set(s,a-1),a!==1)return;let l=Zc.get(s);l&&(l["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",l["aria-hidden"]),s.inert=l.inert,Zc.delete(s))});let r=(i=Er.get(s))!=null?i:0;Er.set(s,r+1),r===0&&(Zc.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}function HB({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=$(null),s=cr(i);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(Ye(i))||u.contains((l=(a=Ye(i))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:Ee(ad,{features:il.Hidden,ref:i})}}}let Yb=Symbol("ForcePortalRootContext");function WB(){return je(Yb,!1)}let pg=Ke({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return ht(Yb,t.force),()=>{let{force:i,...s}=t;return Cn({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),Jb=Symbol("StackContext");var ld=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(ld||{});function zB(){return je(Jb,()=>{})}function qB({type:t,enabled:e,element:n,onUpdate:i}){let s=zB();function r(...o){i==null||i(...o),s(...o)}ke(()=>{ot(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),bt(()=>{e.value&&r(1,t,n)}),ht(Jb,r)}let GB=Symbol("DescriptionContext");function KB({slot:t=$({}),name:e="Description",props:n={}}={}){let i=$([]);function s(r){return i.value.push(r),()=>{let o=i.value.indexOf(r);o!==-1&&i.value.splice(o,1)}}return ht(GB,{register:s,slot:t,name:e,props:n}),Q(()=>i.value.length>0?i.value.join(" "):void 0)}function YB(t){let e=cr(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}const cd=new WeakMap;function JB(t){var e;return(e=cd.get(t))!=null?e:0}function mg(t,e){let n=e(JB(t));return n<=0?cd.delete(t):cd.set(t,n),n}let XB=Ke({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=$(null),s=Q(()=>cr(i)),r=WB(),o=je(Xb,null),a=$(r===!0||o==null?YB(i.value):o.resolveTarget());a.value&&mg(a.value,f=>f+1);let l=$(!1);ke(()=>{l.value=!0}),Qt(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=je(ud,null),u=!1,d=ds();return ot(i,()=>{if(u||!c)return;let f=Ye(i);f&&(bt(c.register(f),d),u=!0)}),bt(()=>{var f,h;let p=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||mg(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return Ee(nv,{to:a.value},Cn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),ud=Symbol("PortalParentContext");function QB(){let t=je(ud,null),e=$([]);function n(r){return e.value.push(r),t&&t.register(r),()=>i(r)}function i(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let s={register:n,unregister:i,portals:e};return[e,Ke({name:"PortalWrapper",setup(r,{slots:o}){return ht(ud,s),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let Xb=Symbol("PortalGroupContext"),ZB=Ke({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=us({resolveTarget(){return t.target}});return ht(Xb,i),()=>{let{target:s,...r}=t;return Cn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var e2=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(e2||{});let dd=Symbol("DialogContext");function fh(t){let e=je(dd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fh),n}return e}let qo="DC8F892D-2EBD-447C-A4C8-A03058436FF4",hh=Ke({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:qo},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${Ql()}`,l=$(!1);ke(()=>{l.value=!0});let c=!1,u=Q(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=$(0),f=dh(),h=Q(()=>t.open===qo&&f!==null?(f.value&Mt.Open)===Mt.Open:t.open),p=$(null),m=Q(()=>cr(p));if(s({el:p,$el:p}),!(t.open!==qo||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===qo?void 0:t.open}`);let y=Q(()=>l.value&&h.value?0:1),w=Q(()=>y.value===0),v=Q(()=>d.value>1),g=je(dd,null)!==null,[S,T]=QB(),{resolveContainers:R,mainTreeNodeRef:B,MainTreeNode:x}=HB({portals:S,defaultContainers:[Q(()=>{var me;return(me=se.panelRef.value)!=null?me:p.value})]}),C=Q(()=>v.value?"parent":"leaf"),k=Q(()=>f!==null?(f.value&Mt.Closing)===Mt.Closing:!1),U=Q(()=>g||k.value?!1:w.value),J=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("body > *"))!=null?ge:[]).find(Xe=>Xe.id==="headlessui-portal-root"?!1:Xe.contains(Ye(B))&&Xe instanceof HTMLElement))!=null?Je:null});hg(J,U);let H=Q(()=>v.value?!0:w.value),te=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(Xe=>Xe.contains(Ye(B))&&Xe instanceof HTMLElement))!=null?Je:null});hg(te,H),qB({type:"Dialog",enabled:Q(()=>y.value===0),element:p,onUpdate:(me,ge)=>{if(ge==="Dialog")return En(me,{[ld.Add]:()=>d.value+=1,[ld.Remove]:()=>d.value-=1})}});let re=KB({name:"DialogDescription",slot:Q(()=>({open:h.value}))}),ie=$(null),se={titleId:ie,panelRef:$(null),dialogState:y,setTitleId(me){ie.value!==me&&(ie.value=me)},close(){e("close",!1)}};ht(dd,se);let we=Q(()=>!(!w.value||v.value));IB(R,(me,ge)=>{me.preventDefault(),se.close(),Ks(()=>ge==null?void 0:ge.focus())},we);let mt=Q(()=>!(v.value||y.value!==0));zb((o=m.value)==null?void 0:o.defaultView,"keydown",me=>{mt.value&&(me.defaultPrevented||me.key===Wb.Escape&&(me.preventDefault(),me.stopPropagation(),se.close()))});let Et=Q(()=>!(k.value||y.value!==0||g));return VB(m,Et,me=>{var ge;return{containers:[...(ge=me.containers)!=null?ge:[],R]}}),Qt(me=>{if(y.value!==0)return;let ge=Ye(p);if(!ge)return;let Je=new ResizeObserver(Xe=>{for(let Xn of Xe){let at=Xn.target.getBoundingClientRect();at.x===0&&at.y===0&&at.width===0&&at.height===0&&se.close()}});Je.observe(ge),me(()=>Je.disconnect())}),()=>{let{open:me,initialFocus:ge,...Je}=t,Xe={...n,ref:p,id:a,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":ie.value,"aria-describedby":re.value},Xn={open:y.value===0};return Ee(pg,{force:!0},()=>[Ee(XB,()=>Ee(ZB,{target:p.value},()=>Ee(pg,{force:!1},()=>Ee(Sr,{initialFocus:ge,containers:R,features:w.value?En(C.value,{parent:Sr.features.RestoreFocus,leaf:Sr.features.All&~Sr.features.FocusLock}):Sr.features.None},()=>Ee(T,{},()=>Cn({ourProps:Xe,theirProps:{...Je,...n},slot:Xn,attrs:n,slots:i,visible:y.value===0,features:nl.RenderStrategy|nl.Static,name:"Dialog"})))))),Ee(x)])}}}),ph=Ke({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:i}){var s;let r=(s=t.id)!=null?s:`headlessui-dialog-panel-${Ql()}`,o=fh("DialogPanel");i({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return Cn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),sl=Ke({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var i;let s=(i=t.id)!=null?i:`headlessui-dialog-title-${Ql()}`,r=fh("DialogTitle");return ke(()=>{r.setTitleId(s),bt(()=>r.setTitleId(null))}),()=>{let{...o}=t;return Cn({ourProps:{id:s},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function t2(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function eu(t,...e){t&&e.length>0&&t.classList.add(...e)}function Go(t,...e){t&&e.length>0&&t.classList.remove(...e)}var fd=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(fd||{});function n2(t,e){let n=Mo();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[r,o]=[i,s].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function gg(t,e,n,i,s,r){let o=Mo(),a=r!==void 0?t2(r):()=>{};return Go(t,...s),eu(t,...e,...n),o.nextFrame(()=>{Go(t,...n),eu(t,...i),o.add(n2(t,l=>(Go(t,...i,...e),eu(t,...s),a(l))))}),o.add(()=>Go(t,...e,...n,...i,...s)),o.add(()=>a("cancelled")),o.dispose}function Ri(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let mh=Symbol("TransitionContext");var i2=(t=>(t.Visible="visible",t.Hidden="hidden",t))(i2||{});function s2(){return je(mh,null)!==null}function r2(){let t=je(mh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function o2(){let t=je(gh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let gh=Symbol("NestingContext");function Zl(t){return"children"in t?Zl(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Qb(t){let e=$([]),n=$(!1);ke(()=>n.value=!0),bt(()=>n.value=!1);function i(r,o=di.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(En(o,{[di.Unmount](){e.value.splice(a,1)},[di.Hidden](){e.value[a].state="hidden"}}),!Zl(e)&&n.value&&(t==null||t()))}function s(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>i(r,di.Unmount)}return{children:e,register:s,unregister:i}}let Zb=nl.RenderStrategy,cs=Ke({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let r=$(0);function o(){r.value|=Mt.Opening,e("beforeEnter")}function a(){r.value&=~Mt.Opening,e("afterEnter")}function l(){r.value|=Mt.Closing,e("beforeLeave")}function c(){r.value&=~Mt.Closing,e("afterLeave")}if(!s2()&&kB())return()=>Ee(ec,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},i);let u=$(null),d=Q(()=>t.unmount?di.Unmount:di.Hidden);s({el:u,$el:u});let{show:f,appear:h}=r2(),{register:p,unregister:m}=o2(),y=$(f.value?"visible":"hidden"),w={value:!0},v=Ql(),g={value:!1},S=Qb(()=>{!g.value&&y.value!=="hidden"&&(y.value="hidden",m(v),c())});ke(()=>{let H=p(v);bt(H)}),Qt(()=>{if(d.value===di.Hidden&&v){if(f.value&&y.value!=="visible"){y.value="visible";return}En(y.value,{hidden:()=>m(v),visible:()=>p(v)})}});let T=Ri(t.enter),R=Ri(t.enterFrom),B=Ri(t.enterTo),x=Ri(t.entered),C=Ri(t.leave),k=Ri(t.leaveFrom),U=Ri(t.leaveTo);ke(()=>{Qt(()=>{if(y.value==="visible"){let H=Ye(u);if(H instanceof Comment&&H.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function J(H){let te=w.value&&!h.value,re=Ye(u);!re||!(re instanceof HTMLElement)||te||(g.value=!0,f.value&&o(),f.value||l(),H(f.value?gg(re,T,R,B,x,ie=>{g.value=!1,ie===fd.Finished&&a()}):gg(re,C,k,U,x,ie=>{g.value=!1,ie===fd.Finished&&(Zl(S)||(y.value="hidden",m(v),c()))})))}return ke(()=>{ot([f],(H,te,re)=>{J(re),w.value=!1},{immediate:!0})}),ht(gh,S),PB(Q(()=>En(y.value,{visible:Mt.Open,hidden:Mt.Closed})|r.value)),()=>{let{appear:H,show:te,enter:re,enterFrom:ie,enterTo:se,entered:we,leave:mt,leaveFrom:Et,leaveTo:me,...ge}=t,Je={ref:u},Xe={...ge,...h.value&&f.value&&Lo.isServer?{class:xe([n.class,ge.class,...T,...R])}:{}};return Cn({theirProps:Xe,ourProps:Je,slot:{},slots:i,attrs:n,features:Zb,visible:y.value==="visible",name:"TransitionChild"})}}}),a2=cs,ec=Ke({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=dh(),r=Q(()=>t.show===null&&s!==null?(s.value&Mt.Open)===Mt.Open:t.show);Qt(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=$(r.value?"visible":"hidden"),a=Qb(()=>{o.value="hidden"}),l=$(!0),c={show:r,appear:Q(()=>t.appear||!l.value)};return ke(()=>{Qt(()=>{l.value=!1,r.value?o.value="visible":Zl(a)||(o.value="hidden")})}),ht(gh,a),ht(mh,c),()=>{let u=Vb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return Cn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[Ee(a2,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},i.default)]},attrs:{},features:Zb,visible:o.value==="visible",name:"Transition"})}}});const l2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},c2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},u2={class:"bg-gray-100 px-4 pb-4 pt-4"},d2={class:"items-center justify-center"},f2={class:"mt-3"},h2={class:"bg-gray-100 px-4 py-4 items-center flex flex-col"},p2={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Js(),n=Sn(),i=()=>{n.auth("logout"),e.push("/login")};return(s,r)=>(P(),fe(M(ec),{as:"template",show:t.openPopup},{default:ee(()=>[O(M(hh),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[O(M(cs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>r[1]||(r[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",l2,[E("div",c2,[O(M(cs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[O(M(ph),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",u2,[E("div",d2,[E("div",f2,[O(M(sl),{as:"h3",class:"text-base text-center"},{default:ee(()=>r[2]||(r[2]=[Be("Вы хотите выйти из профиля? ")])),_:1})])])]),E("div",h2,[E("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:i,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},m2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},g2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},v2={class:"bg-gray-100 px-4 pb-4 pt-4"},y2={class:"items-center justify-center"},_2={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},w2={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},b2={class:"mt-3"},S2={key:2,class:"mt-2"},E2={class:"text-sm text-gray-500 break-words text-center"},T2={class:"bg-gray-100 px-4 py-4 items-center flex flex-col"},C2={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Sn(),n=$(!1),i=$(!1),s=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,i.value=!0,setTimeout(()=>{i.value=!1},500)},250)};return(r,o)=>(P(),fe(M(ec),{as:"template",show:t.openPopup},{default:ee(()=>[O(M(hh),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[O(M(cs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[1]||(o[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",m2,[E("div",g2,[O(M(cs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[O(M(ph),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",v2,[E("div",y2,[M(e).notificationToken?(P(),V("div",w2,[O(M(cy),{class:"size-6 text-green-600","aria-hidden":"true"})])):(P(),V("div",_2,[O(M(ly),{class:"size-6 text-red-600","aria-hidden":"true"})])),E("div",b2,[M(e).notificationToken?(P(),fe(M(sl),{key:1,as:"h3",class:"text-base text-center"},{default:ee(()=>o[3]||(o[3]=[Be("Уведомления разрешены ")])),_:1})):(P(),fe(M(sl),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[2]||(o[2]=[Be(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),M(e).notificationToken?(P(),V("div",S2,[E("div",E2,ce(M(e).notificationToken),1)])):Me("",!0)])])]),E("div",T2,[M(e).notificationToken&&!n.value&&!i.value?(P(),V("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:s},"Скопировать токен ")):Me("",!0),n.value?(P(),fe(sn,{key:1,"full-screen":!1})):Me("",!0),i.value?(P(),fe(M(yC),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):Me("",!0),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},I2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},x2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},k2={class:"bg-gray-100 px-4 pb-4 pt-4"},P2={class:"items-center justify-center relative"},A2={class:"mt-3"},R2={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},O2={class:"text-center text-xs text-red-500"},N2={class:"space-y-1 bg-gray-100",action:"#",method:"POST"},M2={class:"bg-gray-100 px-4 pb-4 pt-2"},L2={class:"mt-2"},D2={class:"bg-gray-100 px-4 pb-4 pt-2"},F2={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=$(""),n=$(""),i=Sn(),s=async()=>{if(e.value){if(e.value===i.userInfo.name)return n.value="Имя не изменилось";n.value="",await i.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(P(),fe(M(ec),{as:"template",show:t.openPopup},{default:ee(()=>[O(M(hh),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[O(M(cs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[3]||(o[3]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",I2,[E("div",x2,[O(M(cs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[O(M(ph),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",k2,[E("div",P2,[E("div",A2,[O(M(sl),{as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[4]||(o[4]=[Be("Изменить имя ")])),_:1})]),n.value?(P(),V("div",R2,[O(M(Ud),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",O2,ce(n.value),1)])):Me("",!0)])]),E("form",N2,[E("div",M2,[o[5]||(o[5]=E("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),E("div",L2,[jt(E("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"w-full px-3 rounded-md bg-gray-100 py-1.5 text-base outline outline-1 outline-gray-400 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Hi,e.value]])])]),E("div",D2,[M(i).loader?(P(),fe(sn,{key:1,"full-screen":!1})):(P(),V("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await s(),n.value||t.handleClick()})}," Сохранить ")),E("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:o[2]||(o[2]=Ot((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},$2={class:"container mx-auto px-1"},B2={class:"mt-2"},U2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},j2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},V2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},H2={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},W2={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},z2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},q2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},G2={__name:"Profile",setup(t){const e=Sn(),n=$(!1),i=$(!1),s=$(!1),r=()=>{n.value=!n.value},o=()=>{i.value=!i.value},a=()=>{s.value=!s.value};return ke(()=>{e.getTokenNotification()}),(l,c)=>(P(),V("section",$2,[O(wn,{title:"Профиль"}),c[3]||(c[3]=E("div",{class:"sm:px-0"},[E("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),E("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),E("div",B2,[E("dl",null,[E("div",U2,[c[0]||(c[0]=E("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),E("dd",j2,ce(M(e).userInfo.name),1),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[O(M(bC),{class:"size-6 text-blue-500","aria-hidden":"true"}),O(F2,{handleClick:a,openPopup:s.value},null,8,["openPopup"])])]),E("div",V2,[c[1]||(c[1]=E("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),M(e).notificationToken?(P(),V("dd",H2,"Уведомления разрешены ")):(P(),V("dd",W2,"Уведомления не разрешены")),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-100 p-4 rounded-full",onClick:r},[M(e).notificationToken?(P(),fe(M(cy),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(P(),fe(M(ly),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),O(C2,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),E("div",z2,[c[2]||(c[2]=E("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),E("dd",q2,ce(M(e).userInfo.email),1)])])]),E("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md text-white"}," Выйти "),O(p2,{"handle-click":o,"open-popup":i.value},null,8,["open-popup"])]))}};var vg=function(){return Math.random().toString(36).substring(2)},K2=Ke({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(e){var n=Q(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idClip"):vg()}),i=Q(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idGradient"):vg()}),s=Q(function(){var a;return(a=e.width)!==null&&a!==void 0?a:400}),r=Q(function(){var a;return(a=e.height)!==null&&a!==void 0?a:130}),o=Q(function(){var a;return(a=e.viewBox)!==null&&a!==void 0?a:"0 0 ".concat(s.value," ").concat(r.value)});return{idClip:n,idGradient:i,computedViewBox:o}},render:function(){return O("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[O("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),O("defs",null,[O("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():O("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),O("linearGradient",{id:this.idGradient},[O("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),O("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),O("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});const Y2={components:{ContentLoader:K2}},J2={class:"mt-10 px-1"};function X2(t,e,n,i,s,r){const o=Kn("content-loader");return P(),V("div",J2,[O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[0]||(e[0]=[E("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),E("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),E("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[1]||(e[1]=[E("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),E("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),E("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[2]||(e[2]=[E("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),E("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),E("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[3]||(e[3]=[E("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),E("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),E("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1})])}const Q2=lr(Y2,[["render",X2]]),Z2={key:1,class:"relative container mx-auto px-1"},eU={__name:"Favorites",setup(t){const e=lh();return ke(()=>{e.favorites.length||e.getFavorites()}),(n,i)=>M(e).loader?(P(),fe(Q2,{key:0,"full-screen":!0})):(P(),V("section",Z2,[O(wn,{title:"Избранное"}),O(go,{films:M(e).favorites,"size-image":"w-16","size-block":"min-w-16",favorite:!0},null,8,["films"]),i[0]||(i[0]=E("div",{class:"h-28"},null,-1)),O(No)]))}};var tU="firebase",nU="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(tU,nU,"app");const iU=[{path:"/",component:t$,name:"main",meta:{auth:!0}},{path:"/profile",component:G2,name:"profile",meta:{auth:!0}},{path:"/favorites",component:eU,name:"favorites",meta:{auth:!0}},{path:"/login",component:eB,name:"login",meta:{auth:!1}},{path:"/registration",component:dB,name:"registration",meta:{auth:!1}},{path:"/search",component:C$,name:"search",meta:{auth:!0}},{path:"/film/:id",component:JF,name:"item",meta:{auth:!0}},{path:"/premier",component:N$,name:"premier",props:!0,meta:{auth:!0}},{path:"/top",component:F$,name:"top",props:!0,meta:{auth:!0}},{path:"/news",component:W$,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:A$,meta:{auth:!0}}],eS=wT({history:Y0("/"),routes:iU}),sU=tC(),rU={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};eS.beforeEach((t,e,n)=>{const i=Sn();t.meta.auth&&!i.accessToken?n("/login"):!t.meta.auth&&i.accessToken?n("/"):n()});Iy(rU);g0(KN).use(eS).use(LT()).use(eC).use(sU).use(vC).mount("#app");
