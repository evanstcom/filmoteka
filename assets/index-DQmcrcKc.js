var d0=Object.defineProperty;var f0=(t,e,n)=>e in t?d0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $s=(t,e,n)=>f0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ue={},Oi=[],en=()=>{},h0=()=>!1,hl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Sd=t=>t.startsWith("onUpdate:"),bt=Object.assign,Ed=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},p0=Object.prototype.hasOwnProperty,De=(t,e)=>p0.call(t,e),he=Array.isArray,Ni=t=>pl(t)==="[object Map]",Tg=t=>pl(t)==="[object Set]",me=t=>typeof t=="function",et=t=>typeof t=="string",ns=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",Cg=t=>(Ge(t)||me(t))&&me(t.then)&&me(t.catch),xg=Object.prototype.toString,pl=t=>xg.call(t),m0=t=>pl(t).slice(8,-1),Ig=t=>pl(t)==="[object Object]",Td=t=>et(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$r=bd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ml=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},g0=/-(\w)/g,Yt=ml(t=>t.replace(g0,(e,n)=>n?n.toUpperCase():"")),v0=/\B([A-Z])/g,Ps=ml(t=>t.replace(v0,"-$1").toLowerCase()),gl=ml(t=>t.charAt(0).toUpperCase()+t.slice(1)),uc=ml(t=>t?`on${gl(t)}`:""),bs=(t,e)=>!Object.is(t,e),ta=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},kg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},uu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Eh;const vl=()=>Eh||(Eh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zt(t){if(he(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=et(s)?b0(s):zt(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(et(t)||Ge(t))return t}const y0=/;(?![^(]*\))/g,_0=/:([^]+)/,w0=/\/\*[^]*?\*\//g;function b0(t){const e={};return t.replace(w0,"").split(y0).forEach(n=>{if(n){const s=n.split(_0);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ie(t){let e="";if(et(t))e=t;else if(he(t))for(let n=0;n<t.length;n++){const s=Ie(t[n]);s&&(e+=s+" ")}else if(Ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const S0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",E0=bd(S0);function Pg(t){return!!t||t===""}const Ag=t=>!!(t&&t.__v_isRef===!0),ne=t=>et(t)?t:t==null?"":he(t)||Ge(t)&&(t.toString===xg||!me(t.toString))?Ag(t)?ne(t.value):JSON.stringify(t,Rg,2):String(t),Rg=(t,e)=>Ag(e)?Rg(t,e.value):Ni(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[dc(s,r)+" =>"]=i,n),{})}:Tg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>dc(n))}:ns(e)?dc(e):Ge(e)&&!he(e)&&!Ig(e)?String(e):e,dc=(t,e="")=>{var n;return ns(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Og{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!e&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ct;try{return Ct=this,e()}finally{Ct=n}}}on(){Ct=this}off(){Ct=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ng(t){return new Og(t)}function Mg(){return Ct}function T0(t,e=!1){Ct&&Ct.cleanups.push(t)}let Ve;const fc=new WeakSet;class Dg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fc.has(this)&&(fc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$g(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Th(this),Fg(this);const e=Ve,n=tn;Ve=this,tn=!0;try{return this.fn()}finally{Bg(this),Ve=e,tn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Id(e);this.deps=this.depsTail=void 0,Th(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){du(this)&&this.run()}get dirty(){return du(this)}}let Lg=0,Fr,Br;function $g(t,e=!1){if(t.flags|=8,e){t.next=Br,Br=t;return}t.next=Fr,Fr=t}function Cd(){Lg++}function xd(){if(--Lg>0)return;if(Br){let e=Br;for(Br=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Fr;){let e=Fr;for(Fr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Fg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Id(s),C0(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function du(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ug(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ug(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Zr))return;t.globalVersion=Zr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!du(t)){t.flags&=-3;return}const n=Ve,s=tn;Ve=t,tn=!0;try{Fg(t);const i=t.fn(t._value);(e.version===0||bs(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ve=n,tn=s,Bg(t),t.flags&=-3}}function Id(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Id(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function C0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let tn=!0;const jg=[];function As(){jg.push(tn),tn=!1}function Rs(){const t=jg.pop();tn=t===void 0?!0:t}function Th(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ve;Ve=void 0;try{e()}finally{Ve=n}}}let Zr=0;class x0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ve||!tn||Ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ve)n=this.activeLink=new x0(Ve,this),Ve.deps?(n.prevDep=Ve.depsTail,Ve.depsTail.nextDep=n,Ve.depsTail=n):Ve.deps=Ve.depsTail=n,Vg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ve.depsTail,n.nextDep=void 0,Ve.depsTail.nextDep=n,Ve.depsTail=n,Ve.deps===n&&(Ve.deps=s)}return n}trigger(e){this.version++,Zr++,this.notify(e)}notify(e){Cd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{xd()}}}function Vg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Vg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _a=new WeakMap,Xs=Symbol(""),fu=Symbol(""),eo=Symbol("");function vt(t,e,n){if(tn&&Ve){let s=_a.get(t);s||_a.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new kd),i.map=s,i.key=n),i.track()}}function Un(t,e,n,s,i,r){const o=_a.get(t);if(!o){Zr++;return}const a=l=>{l&&l.trigger()};if(Cd(),e==="clear")o.forEach(a);else{const l=he(t),c=l&&Td(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===eo||!ns(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(eo)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Xs)),Ni(t)&&a(o.get(fu)));break;case"delete":l||(a(o.get(Xs)),Ni(t)&&a(o.get(fu)));break;case"set":Ni(t)&&a(o.get(Xs));break}}xd()}function I0(t,e){const n=_a.get(t);return n&&n.get(e)}function Ei(t){const e=ke(t);return e===t?e:(vt(e,"iterate",eo),qt(t)?e:e.map(yt))}function yl(t){return vt(t=ke(t),"iterate",eo),t}const k0={__proto__:null,[Symbol.iterator](){return hc(this,Symbol.iterator,yt)},concat(...t){return Ei(this).concat(...t.map(e=>he(e)?Ei(e):e))},entries(){return hc(this,"entries",t=>(t[1]=yt(t[1]),t))},every(t,e){return Mn(this,"every",t,e,void 0,arguments)},filter(t,e){return Mn(this,"filter",t,e,n=>n.map(yt),arguments)},find(t,e){return Mn(this,"find",t,e,yt,arguments)},findIndex(t,e){return Mn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Mn(this,"findLast",t,e,yt,arguments)},findLastIndex(t,e){return Mn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Mn(this,"forEach",t,e,void 0,arguments)},includes(...t){return pc(this,"includes",t)},indexOf(...t){return pc(this,"indexOf",t)},join(t){return Ei(this).join(t)},lastIndexOf(...t){return pc(this,"lastIndexOf",t)},map(t,e){return Mn(this,"map",t,e,void 0,arguments)},pop(){return _r(this,"pop")},push(...t){return _r(this,"push",t)},reduce(t,...e){return Ch(this,"reduce",t,e)},reduceRight(t,...e){return Ch(this,"reduceRight",t,e)},shift(){return _r(this,"shift")},some(t,e){return Mn(this,"some",t,e,void 0,arguments)},splice(...t){return _r(this,"splice",t)},toReversed(){return Ei(this).toReversed()},toSorted(t){return Ei(this).toSorted(t)},toSpliced(...t){return Ei(this).toSpliced(...t)},unshift(...t){return _r(this,"unshift",t)},values(){return hc(this,"values",yt)}};function hc(t,e,n){const s=yl(t),i=s[e]();return s!==t&&!qt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const P0=Array.prototype;function Mn(t,e,n,s,i,r){const o=yl(t),a=o!==t&&!qt(t),l=o[e];if(l!==P0[e]){const d=l.apply(t,r);return a?yt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,yt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Ch(t,e,n,s){const i=yl(t);let r=n;return i!==t&&(qt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,yt(a),l,t)}),i[e](r,...s)}function pc(t,e,n){const s=ke(t);vt(s,"iterate",eo);const i=s[e](...n);return(i===-1||i===!1)&&_l(n[0])?(n[0]=ke(n[0]),s[e](...n)):i}function _r(t,e,n=[]){As(),Cd();const s=ke(t)[e].apply(t,n);return xd(),Rs(),s}const A0=bd("__proto__,__v_isRef,__isVue"),Hg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ns));function R0(t){ns(t)||(t=String(t));const e=ke(this);return vt(e,"has",t),e.hasOwnProperty(t)}class zg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?j0:Kg:r?Gg:qg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=he(e);if(!i){let l;if(o&&(l=k0[n]))return l;if(n==="hasOwnProperty")return R0}const a=Reflect.get(e,n,Ze(e)?e:s);return(ns(n)?Hg.has(n):A0(n))||(i||vt(e,"get",n),r)?a:Ze(a)?o&&Td(n)?a:a.value:Ge(a)?i?Xg(a):Os(a):a}}class Wg extends zg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=ni(r);if(!qt(s)&&!ni(s)&&(r=ke(r),s=ke(s)),!he(e)&&Ze(r)&&!Ze(s))return l?!1:(r.value=s,!0)}const o=he(e)&&Td(n)?Number(n)<e.length:De(e,n),a=Reflect.set(e,n,s,Ze(e)?e:i);return e===ke(i)&&(o?bs(s,r)&&Un(e,"set",n,s):Un(e,"add",n,s)),a}deleteProperty(e,n){const s=De(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Un(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!ns(n)||!Hg.has(n))&&vt(e,"has",n),s}ownKeys(e){return vt(e,"iterate",he(e)?"length":Xs),Reflect.ownKeys(e)}}class O0 extends zg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const N0=new Wg,M0=new O0,D0=new Wg(!0);const hu=t=>t,Ho=t=>Reflect.getPrototypeOf(t);function L0(t,e,n){return function(...s){const i=this.__v_raw,r=ke(i),o=Ni(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?hu:e?pu:yt;return!e&&vt(r,"iterate",l?fu:Xs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function zo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $0(t,e){const n={get(i){const r=this.__v_raw,o=ke(r),a=ke(i);t||(bs(i,a)&&vt(o,"get",i),vt(o,"get",a));const{has:l}=Ho(o),c=e?hu:t?pu:yt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&vt(ke(i),"iterate",Xs),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=ke(r),a=ke(i);return t||(bs(i,a)&&vt(o,"has",i),vt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=ke(a),c=e?hu:t?pu:yt;return!t&&vt(l,"iterate",Xs),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return bt(n,t?{add:zo("add"),set:zo("set"),delete:zo("delete"),clear:zo("clear")}:{add(i){!e&&!qt(i)&&!ni(i)&&(i=ke(i));const r=ke(this);return Ho(r).has.call(r,i)||(r.add(i),Un(r,"add",i,i)),this},set(i,r){!e&&!qt(r)&&!ni(r)&&(r=ke(r));const o=ke(this),{has:a,get:l}=Ho(o);let c=a.call(o,i);c||(i=ke(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?bs(r,u)&&Un(o,"set",i,r):Un(o,"add",i,r),this},delete(i){const r=ke(this),{has:o,get:a}=Ho(r);let l=o.call(r,i);l||(i=ke(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Un(r,"delete",i,void 0),c},clear(){const i=ke(this),r=i.size!==0,o=i.clear();return r&&Un(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=L0(i,t,e)}),n}function Pd(t,e){const n=$0(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(De(n,i)&&i in s?n:s,i,r)}const F0={get:Pd(!1,!1)},B0={get:Pd(!1,!0)},U0={get:Pd(!0,!1)};const qg=new WeakMap,Gg=new WeakMap,Kg=new WeakMap,j0=new WeakMap;function V0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function H0(t){return t.__v_skip||!Object.isExtensible(t)?0:V0(m0(t))}function Os(t){return ni(t)?t:Ad(t,!1,N0,F0,qg)}function Yg(t){return Ad(t,!1,D0,B0,Gg)}function Xg(t){return Ad(t,!0,M0,U0,Kg)}function Ad(t,e,n,s,i){if(!Ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=H0(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Ss(t){return ni(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function ni(t){return!!(t&&t.__v_isReadonly)}function qt(t){return!!(t&&t.__v_isShallow)}function _l(t){return t?!!t.__v_raw:!1}function ke(t){const e=t&&t.__v_raw;return e?ke(e):t}function wl(t){return!De(t,"__v_skip")&&Object.isExtensible(t)&&kg(t,"__v_skip",!0),t}const yt=t=>Ge(t)?Os(t):t,pu=t=>Ge(t)?Xg(t):t;function Ze(t){return t?t.__v_isRef===!0:!1}function D(t){return Qg(t,!1)}function Jg(t){return Qg(t,!0)}function Qg(t,e){return Ze(t)?t:new z0(t,e)}class z0{constructor(e,n){this.dep=new kd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ke(e),this._value=n?e:yt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||qt(e)||ni(e);e=s?e:ke(e),bs(e,n)&&(this._rawValue=e,this._value=s?e:yt(e),this.dep.trigger())}}function I(t){return Ze(t)?t.value:t}const W0={get:(t,e,n)=>e==="__v_raw"?t:I(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ze(i)&&!Ze(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Zg(t){return Ss(t)?t:new Proxy(t,W0)}function q0(t){const e=he(t)?new Array(t.length):{};for(const n in t)e[n]=ev(t,n);return e}class G0{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return I0(ke(this._object),this._key)}}class K0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Y0(t,e,n){return Ze(t)?t:me(t)?new K0(t):Ge(t)&&arguments.length>1?ev(t,e,n):D(t)}function ev(t,e,n){const s=t[e];return Ze(s)?s:new G0(t,e,n)}class X0{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new kd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return $g(this,!0),!0}get value(){const e=this.dep.track();return Ug(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function J0(t,e,n=!1){let s,i;return me(t)?s=t:(s=t.get,i=t.set),new X0(s,i,n)}const Wo={},wa=new WeakMap;let js;function Q0(t,e=!1,n=js){if(n){let s=wa.get(n);s||wa.set(n,s=[]),s.push(t)}}function Z0(t,e,n=Ue){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:qt(S)||i===!1||i===0?jn(S,1):jn(S);let u,d,f,h,p=!1,m=!1;if(Ze(t)?(d=()=>t.value,p=qt(t)):Ss(t)?(d=()=>c(t),p=!0):he(t)?(m=!0,p=t.some(S=>Ss(S)||qt(S)),d=()=>t.map(S=>{if(Ze(S))return S.value;if(Ss(S))return c(S);if(me(S))return l?l(S,2):S()})):me(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){As();try{f()}finally{Rs()}}const S=js;js=u;try{return l?l(t,3,[h]):t(h)}finally{js=S}}:d=en,e&&i){const S=d,T=i===!0?1/0:i;d=()=>jn(S(),T)}const _=Mg(),v=()=>{u.stop(),_&&_.active&&Ed(_.effects,u)};if(r&&e){const S=e;e=(...T)=>{S(...T),v()}}let y=m?new Array(t.length).fill(Wo):Wo;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const T=u.run();if(i||p||(m?T.some((A,L)=>bs(A,y[L])):bs(T,y))){f&&f();const A=js;js=u;try{const L=[T,y===Wo?void 0:m&&y[0]===Wo?[]:y,h];l?l(e,3,L):e(...L),y=T}finally{js=A}}}else u.run()};return a&&a(g),u=new Dg(d),u.scheduler=o?()=>o(g,!1):g,h=S=>Q0(S,!1,u),f=u.onStop=()=>{const S=wa.get(u);if(S){if(l)l(S,4);else for(const T of S)T();wa.delete(u)}},e?s?g(!0):y=u.run():o?o(g.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function jn(t,e=1/0,n){if(e<=0||!Ge(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ze(t))jn(t.value,e,n);else if(he(t))for(let s=0;s<t.length;s++)jn(t[s],e,n);else if(Tg(t)||Ni(t))t.forEach(s=>{jn(s,e,n)});else if(Ig(t)){for(const s in t)jn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&jn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function To(t,e,n,s){try{return s?t(...s):t()}catch(i){bl(i,e,n)}}function kn(t,e,n,s){if(me(t)){const i=To(t,e,n,s);return i&&Cg(i)&&i.catch(r=>{bl(r,e,n)}),i}if(he(t)){const i=[];for(let r=0;r<t.length;r++)i.push(kn(t[r],e,n,s));return i}}function bl(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ue;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){As(),To(r,null,10,[t,l,c]),Rs();return}}eS(t,n,i,s,o)}function eS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const xt=[];let yn=-1;const Mi=[];let us=null,Ci=0;const tv=Promise.resolve();let ba=null;function tr(t){const e=ba||tv;return t?e.then(this?t.bind(this):t):e}function tS(t){let e=yn+1,n=xt.length;for(;e<n;){const s=e+n>>>1,i=xt[s],r=to(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Rd(t){if(!(t.flags&1)){const e=to(t),n=xt[xt.length-1];!n||!(t.flags&2)&&e>=to(n)?xt.push(t):xt.splice(tS(e),0,t),t.flags|=1,nv()}}function nv(){ba||(ba=tv.then(rv))}function sv(t){he(t)?Mi.push(...t):us&&t.id===-1?us.splice(Ci+1,0,t):t.flags&1||(Mi.push(t),t.flags|=1),nv()}function xh(t,e,n=yn+1){for(;n<xt.length;n++){const s=xt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;xt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function iv(t){if(Mi.length){const e=[...new Set(Mi)].sort((n,s)=>to(n)-to(s));if(Mi.length=0,us){us.push(...e);return}for(us=e,Ci=0;Ci<us.length;Ci++){const n=us[Ci];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}us=null,Ci=0}}const to=t=>t.id==null?t.flags&2?-1:1/0:t.id;function rv(t){try{for(yn=0;yn<xt.length;yn++){const e=xt[yn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),To(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;yn<xt.length;yn++){const e=xt[yn];e&&(e.flags&=-2)}yn=-1,xt.length=0,iv(),ba=null,(xt.length||Mi.length)&&rv()}}let it=null,Sl=null;function Sa(t){const e=it;return it=t,Sl=t&&t.type.__scopeId||null,e}function ov(t){Sl=t}function av(){Sl=null}function J(t,e=it,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Bh(-1);const r=Sa(e);let o;try{o=t(...i)}finally{Sa(r),s._d&&Bh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function rt(t,e){if(it===null)return t;const n=xl(it),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Ue]=e[i];r&&(me(r)&&(r={mounted:r,updated:r}),r.deep&&jn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Fs(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(As(),kn(l,n,8,[t.el,a,t,e]),Rs())}}const lv=Symbol("_vte"),nS=t=>t.__isTeleport,Ur=t=>t&&(t.disabled||t.disabled===""),Ih=t=>t&&(t.defer||t.defer===""),kh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ph=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,mu=(t,e)=>{const n=t&&t.to;return et(n)?e?e(n):null:n},cv={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:_}}=c,v=Ur(e.props);let{shapeFlag:y,children:g,dynamicChildren:S}=e;if(t==null){const T=e.el=m(""),A=e.anchor=m("");h(T,n,s),h(A,n,s);const L=(x,R)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=x),u(g,x,R,i,r,o,a,l))},C=()=>{const x=e.target=mu(e.props,p),R=dv(x,e,m,h);x&&(o!=="svg"&&kh(x)?o="svg":o!=="mathml"&&Ph(x)&&(o="mathml"),v||(L(x,R),na(e,!1)))};v&&(L(n,A),na(e,!0)),Ih(e.props)?Tt(()=>{C(),e.el.__isMounted=!0},r):C()}else{if(Ih(e.props)&&!t.el.__isMounted){Tt(()=>{cv.process(t,e,n,s,i,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,A=e.target=t.target,L=e.targetAnchor=t.targetAnchor,C=Ur(t.props),x=C?n:A,R=C?T:L;if(o==="svg"||kh(A)?o="svg":(o==="mathml"||Ph(A))&&(o="mathml"),S?(f(t.dynamicChildren,S,x,i,r,o,a),$d(t,e,!0)):l||d(t,e,x,R,i,r,o,a,!1),v)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):qo(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=mu(e.props,p);V&&qo(e,V,null,c,0)}else C&&qo(e,A,L,c,1);na(e,v)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Ur(f);for(let p=0;p<a.length;p++){const m=a[p];s(m,e,n,h,!!m.dynamicChildren)}}},move:qo,hydrate:sS};function qo(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||Ur(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&s(a,e,n)}function sS(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=mu(e.props,l);if(f){const h=Ur(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||dv(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}na(e,h)}return e.anchor&&o(e.anchor)}const uv=cv;function na(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function dv(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[lv]=r,t&&(s(i,t),s(r,t)),r}function Od(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Od(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Xe(t,e){return me(t)?bt({name:t.name},e,{setup:t}):t}function iS(){const t=vi();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function fv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ea(t,e,n,s,i=!1){if(he(t)){t.forEach((p,m)=>Ea(p,e&&(he(e)?e[m]:e),n,s,i));return}if(Di(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ea(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?xl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ue?a.refs={}:a.refs,d=a.setupState,f=ke(d),h=d===Ue?()=>!1:p=>De(f,p);if(c!=null&&c!==l&&(et(c)?(u[c]=null,h(c)&&(d[c]=null)):Ze(c)&&(c.value=null)),me(l))To(l,a,12,[o,u]);else{const p=et(l),m=Ze(l);if(p||m){const _=()=>{if(t.f){const v=p?h(l)?d[l]:u[l]:l.value;i?he(v)&&Ed(v,r):he(v)?v.includes(r)||v.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,Tt(_,n)):_()}}}vl().requestIdleCallback;vl().cancelIdleCallback;const Di=t=>!!t.type.__asyncLoader,hv=t=>t.type.__isKeepAlive;function pv(t,e){gv(t,"a",e)}function mv(t,e){gv(t,"da",e)}function gv(t,e,n=dt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(El(e,s,n),n){let i=n.parent;for(;i&&i.parent;)hv(i.parent.vnode)&&rS(s,e,n,i),i=i.parent}}function rS(t,e,n,s){const i=El(e,t,s,!0);St(()=>{Ed(s[e],i)},n)}function El(t,e,n=dt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{As();const a=Co(n),l=kn(e,n,t,o);return a(),Rs(),l});return s?i.unshift(r):i.push(r),r}}const ss=t=>(e,n=dt)=>{(!io||t==="sp")&&El(t,(...s)=>e(...s),n)},oS=ss("bm"),Oe=ss("m"),Nd=ss("bu"),Md=ss("u"),Dd=ss("bum"),St=ss("um"),aS=ss("sp"),lS=ss("rtg"),cS=ss("rtc");function uS(t,e=dt){El("ec",t,e)}const vv="components";function Xt(t,e){return _v(vv,t,!0,e)||t}const yv=Symbol.for("v-ndc");function Qt(t){return et(t)?_v(vv,t,!1)||t:t||yv}function _v(t,e,n=!0,s=!1){const i=it||dt;if(i){const r=i.type;{const a=JS(r,!1);if(a&&(a===e||a===Yt(e)||a===gl(Yt(e))))return r}const o=Ah(i[t]||r[t],e)||Ah(i.appContext[t],e);return!o&&s?r:o}}function Ah(t,e){return t&&(t[e]||t[Yt(e)]||t[gl(Yt(e))])}function Ns(t,e,n,s){let i;const r=n,o=he(t);if(o||et(t)){const a=o&&Ss(t);let l=!1;a&&(l=!qt(t),t=yl(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?yt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ge(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function st(t,e,n={},s,i){if(it.ce||it.parent&&Di(it.parent)&&it.parent.ce)return e!=="default"&&(n.name=e),k(),re(Re,null,[O("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),k();const o=r&&wv(r(n)),a=n.key||o&&o.key,l=re(Re,{key:(a&&!ns(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function wv(t){return t.some(e=>so(e)?!(e.type===Qn||e.type===Re&&!wv(e.children)):!0)?t:null}const gu=t=>t?Bv(t)?xl(t):gu(t.parent):null,jr=bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gu(t.parent),$root:t=>gu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Sv(t),$forceUpdate:t=>t.f||(t.f=()=>{Rd(t.update)}),$nextTick:t=>t.n||(t.n=tr.bind(t.proxy)),$watch:t=>OS.bind(t)}),mc=(t,e)=>t!==Ue&&!t.__isScriptSetup&&De(t,e),dS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(mc(s,e))return o[e]=1,s[e];if(i!==Ue&&De(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&De(c,e))return o[e]=3,r[e];if(n!==Ue&&De(n,e))return o[e]=4,n[e];vu&&(o[e]=0)}}const u=jr[e];let d,f;if(u)return e==="$attrs"&&vt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ue&&De(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,De(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return mc(i,e)?(i[e]=n,!0):s!==Ue&&De(s,e)?(s[e]=n,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Ue&&De(t,o)||mc(e,o)||(a=r[0])&&De(a,o)||De(s,o)||De(jr,o)||De(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Rh(t){return he(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let vu=!0;function fS(t){const e=Sv(t),n=t.proxy,s=t.ctx;vu=!1,e.beforeCreate&&Oh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:g,unmounted:S,render:T,renderTracked:A,renderTriggered:L,errorCaptured:C,serverPrefetch:x,expose:R,inheritAttrs:V,components:W,directives:H,filters:se}=e;if(c&&hS(c,s,null),o)for(const le in o){const _e=o[le];me(_e)&&(s[le]=_e.bind(n))}if(i){const le=i.call(n,n);Ge(le)&&(t.data=Os(le))}if(vu=!0,r)for(const le in r){const _e=r[le],ht=me(_e)?_e.bind(n,n):me(_e.get)?_e.get.bind(n,n):en,pt=!me(_e)&&me(_e.set)?_e.set.bind(n):en,ge=Q({get:ht,set:pt});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>ge.value,set:ye=>ge.value=ye})}if(a)for(const le in a)bv(a[le],s,n,le);if(l){const le=me(l)?l.call(n):l;Reflect.ownKeys(le).forEach(_e=>{wt(_e,le[_e])})}u&&Oh(u,t,"c");function ae(le,_e){he(_e)?_e.forEach(ht=>le(ht.bind(n))):_e&&le(_e.bind(n))}if(ae(oS,d),ae(Oe,f),ae(Nd,h),ae(Md,p),ae(pv,m),ae(mv,_),ae(uS,C),ae(cS,A),ae(lS,L),ae(Dd,y),ae(St,S),ae(aS,x),he(R))if(R.length){const le=t.exposed||(t.exposed={});R.forEach(_e=>{Object.defineProperty(le,_e,{get:()=>n[_e],set:ht=>n[_e]=ht})})}else t.exposed||(t.exposed={});T&&t.render===en&&(t.render=T),V!=null&&(t.inheritAttrs=V),W&&(t.components=W),H&&(t.directives=H),x&&fv(t)}function hS(t,e,n=en){he(t)&&(t=yu(t));for(const s in t){const i=t[s];let r;Ge(i)?"default"in i?r=We(i.from||s,i.default,!0):r=We(i.from||s):r=We(i),Ze(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Oh(t,e,n){kn(he(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function bv(t,e,n,s){let i=s.includes(".")?Mv(n,s):()=>n[s];if(et(t)){const r=e[t];me(r)&&Ke(i,r)}else if(me(t))Ke(i,t.bind(n));else if(Ge(t))if(he(t))t.forEach(r=>bv(r,e,n,s));else{const r=me(t.handler)?t.handler.bind(n):e[t.handler];me(r)&&Ke(i,r,t)}}function Sv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Ta(l,c,o,!0)),Ta(l,e,o)),Ge(e)&&r.set(e,l),l}function Ta(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Ta(t,r,n,!0),i&&i.forEach(o=>Ta(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=pS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const pS={data:Nh,props:Mh,emits:Mh,methods:Or,computed:Or,beforeCreate:Et,created:Et,beforeMount:Et,mounted:Et,beforeUpdate:Et,updated:Et,beforeDestroy:Et,beforeUnmount:Et,destroyed:Et,unmounted:Et,activated:Et,deactivated:Et,errorCaptured:Et,serverPrefetch:Et,components:Or,directives:Or,watch:gS,provide:Nh,inject:mS};function Nh(t,e){return e?t?function(){return bt(me(t)?t.call(this,this):t,me(e)?e.call(this,this):e)}:e:t}function mS(t,e){return Or(yu(t),yu(e))}function yu(t){if(he(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Et(t,e){return t?[...new Set([].concat(t,e))]:e}function Or(t,e){return t?bt(Object.create(null),t,e):e}function Mh(t,e){return t?he(t)&&he(e)?[...new Set([...t,...e])]:bt(Object.create(null),Rh(t),Rh(e??{})):e}function gS(t,e){if(!t)return e;if(!e)return t;const n=bt(Object.create(null),t);for(const s in e)n[s]=Et(t[s],e[s]);return n}function Ev(){return{app:null,config:{isNativeTag:h0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vS=0;function yS(t,e){return function(s,i=null){me(s)||(s=bt({},s)),i!=null&&!Ge(i)&&(i=null);const r=Ev(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:vS++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:ZS,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&me(u.install)?(o.add(u),u.install(c,...d)):me(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||O(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,xl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(kn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Js;Js=c;try{return u()}finally{Js=d}}};return c}}let Js=null;function wt(t,e){if(dt){let n=dt.provides;const s=dt.parent&&dt.parent.provides;s===n&&(n=dt.provides=Object.create(s)),n[t]=e}}function We(t,e,n=!1){const s=dt||it;if(s||Js){const i=Js?Js._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&me(e)?e.call(s&&s.proxy):e}}function _S(){return!!(dt||it||Js)}const Tv={},Cv=()=>Object.create(Tv),xv=t=>Object.getPrototypeOf(t)===Tv;function wS(t,e,n,s=!1){const i={},r=Cv();t.propsDefaults=Object.create(null),Iv(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Yg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function bS(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=ke(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Tl(t.emitsOptions,f))continue;const h=e[f];if(l)if(De(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Yt(f);i[p]=_u(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{Iv(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!De(e,d)&&((u=Ps(d))===d||!De(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=_u(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!De(e,d))&&(delete r[d],c=!0)}c&&Un(t.attrs,"set","")}function Iv(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if($r(l))continue;const c=e[l];let u;i&&De(i,u=Yt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Tl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ke(n),c=a||Ue;for(let u=0;u<r.length;u++){const d=r[u];n[d]=_u(i,l,d,c[d],t,!De(c,d))}}return o}function _u(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=De(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&me(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Co(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ps(n))&&(s=!0))}return s}const SS=new WeakMap;function kv(t,e,n=!1){const s=n?SS:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!me(t)){const u=d=>{l=!0;const[f,h]=kv(d,e,!0);bt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ge(t)&&s.set(t,Oi),Oi;if(he(r))for(let u=0;u<r.length;u++){const d=Yt(r[u]);Dh(d)&&(o[d]=Ue)}else if(r)for(const u in r){const d=Yt(u);if(Dh(d)){const f=r[u],h=o[d]=he(f)||me(f)?{type:f}:bt({},f),p=h.type;let m=!1,_=!0;if(he(p))for(let v=0;v<p.length;++v){const y=p[v],g=me(y)&&y.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(_=!1)}else m=me(p)&&p.name==="Boolean";h[0]=m,h[1]=_,(m||De(h,"default"))&&a.push(d)}}const c=[o,a];return Ge(t)&&s.set(t,c),c}function Dh(t){return t[0]!=="$"&&!$r(t)}const Pv=t=>t[0]==="_"||t==="$stable",Ld=t=>he(t)?t.map(wn):[wn(t)],ES=(t,e,n)=>{if(e._n)return e;const s=J((...i)=>Ld(e(...i)),n);return s._c=!1,s},Av=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Pv(i))continue;const r=t[i];if(me(r))e[i]=ES(i,r,s);else if(r!=null){const o=Ld(r);e[i]=()=>o}}},Rv=(t,e)=>{const n=Ld(e);t.slots.default=()=>n},Ov=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},TS=(t,e,n)=>{const s=t.slots=Cv();if(t.vnode.shapeFlag&32){const i=e._;i?(Ov(s,e,n),n&&kg(s,"_",i,!0)):Av(e,s)}else e&&Rv(t,e)},CS=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Ue;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Ov(i,e,n):(r=!e.$stable,Av(e,i)),o=e}else e&&(Rv(t,e),o={default:1});if(r)for(const a in i)!Pv(a)&&o[a]==null&&delete i[a]},Tt=BS;function xS(t){return IS(t)}function IS(t,e){const n=vl();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=en,insertStaticContent:p}=t,m=(b,E,P,F=null,j=null,U=null,Z=void 0,X=null,Y=!!E.dynamicChildren)=>{if(b===E)return;b&&!wr(b,E)&&(F=$(b),ye(b,j,U,!0),b=null),E.patchFlag===-2&&(Y=!1,E.dynamicChildren=null);const{type:z,ref:ue,shapeFlag:te}=E;switch(z){case Cl:_(b,E,P,F);break;case Qn:v(b,E,P,F);break;case sa:b==null&&y(E,P,F,Z);break;case Re:W(b,E,P,F,j,U,Z,X,Y);break;default:te&1?T(b,E,P,F,j,U,Z,X,Y):te&6?H(b,E,P,F,j,U,Z,X,Y):(te&64||te&128)&&z.process(b,E,P,F,j,U,Z,X,Y,ie)}ue!=null&&j&&Ea(ue,b&&b.ref,U,E||b,!E)},_=(b,E,P,F)=>{if(b==null)s(E.el=a(E.children),P,F);else{const j=E.el=b.el;E.children!==b.children&&c(j,E.children)}},v=(b,E,P,F)=>{b==null?s(E.el=l(E.children||""),P,F):E.el=b.el},y=(b,E,P,F)=>{[b.el,b.anchor]=p(b.children,E,P,F,b.el,b.anchor)},g=({el:b,anchor:E},P,F)=>{let j;for(;b&&b!==E;)j=f(b),s(b,P,F),b=j;s(E,P,F)},S=({el:b,anchor:E})=>{let P;for(;b&&b!==E;)P=f(b),i(b),b=P;i(E)},T=(b,E,P,F,j,U,Z,X,Y)=>{E.type==="svg"?Z="svg":E.type==="math"&&(Z="mathml"),b==null?A(E,P,F,j,U,Z,X,Y):x(b,E,j,U,Z,X,Y)},A=(b,E,P,F,j,U,Z,X)=>{let Y,z;const{props:ue,shapeFlag:te,transition:ce,dirs:pe}=b;if(Y=b.el=o(b.type,U,ue&&ue.is,ue),te&8?u(Y,b.children):te&16&&C(b.children,Y,null,F,j,gc(b,U),Z,X),pe&&Fs(b,null,F,"created"),L(Y,b,b.scopeId,Z,F),ue){for(const je in ue)je!=="value"&&!$r(je)&&r(Y,je,null,ue[je],U,F);"value"in ue&&r(Y,"value",null,ue.value,U),(z=ue.onVnodeBeforeMount)&&gn(z,F,b)}pe&&Fs(b,null,F,"beforeMount");const Ce=kS(j,ce);Ce&&ce.beforeEnter(Y),s(Y,E,P),((z=ue&&ue.onVnodeMounted)||Ce||pe)&&Tt(()=>{z&&gn(z,F,b),Ce&&ce.enter(Y),pe&&Fs(b,null,F,"mounted")},j)},L=(b,E,P,F,j)=>{if(P&&h(b,P),F)for(let U=0;U<F.length;U++)h(b,F[U]);if(j){let U=j.subTree;if(E===U||Lv(U.type)&&(U.ssContent===E||U.ssFallback===E)){const Z=j.vnode;L(b,Z,Z.scopeId,Z.slotScopeIds,j.parent)}}},C=(b,E,P,F,j,U,Z,X,Y=0)=>{for(let z=Y;z<b.length;z++){const ue=b[z]=X?ds(b[z]):wn(b[z]);m(null,ue,E,P,F,j,U,Z,X)}},x=(b,E,P,F,j,U,Z)=>{const X=E.el=b.el;let{patchFlag:Y,dynamicChildren:z,dirs:ue}=E;Y|=b.patchFlag&16;const te=b.props||Ue,ce=E.props||Ue;let pe;if(P&&Bs(P,!1),(pe=ce.onVnodeBeforeUpdate)&&gn(pe,P,E,b),ue&&Fs(E,b,P,"beforeUpdate"),P&&Bs(P,!0),(te.innerHTML&&ce.innerHTML==null||te.textContent&&ce.textContent==null)&&u(X,""),z?R(b.dynamicChildren,z,X,P,F,gc(E,j),U):Z||_e(b,E,X,null,P,F,gc(E,j),U,!1),Y>0){if(Y&16)V(X,te,ce,P,j);else if(Y&2&&te.class!==ce.class&&r(X,"class",null,ce.class,j),Y&4&&r(X,"style",te.style,ce.style,j),Y&8){const Ce=E.dynamicProps;for(let je=0;je<Ce.length;je++){const Le=Ce[je],Dt=te[Le],Pt=ce[Le];(Pt!==Dt||Le==="value")&&r(X,Le,Dt,Pt,j,P)}}Y&1&&b.children!==E.children&&u(X,E.children)}else!Z&&z==null&&V(X,te,ce,P,j);((pe=ce.onVnodeUpdated)||ue)&&Tt(()=>{pe&&gn(pe,P,E,b),ue&&Fs(E,b,P,"updated")},F)},R=(b,E,P,F,j,U,Z)=>{for(let X=0;X<E.length;X++){const Y=b[X],z=E[X],ue=Y.el&&(Y.type===Re||!wr(Y,z)||Y.shapeFlag&70)?d(Y.el):P;m(Y,z,ue,null,F,j,U,Z,!0)}},V=(b,E,P,F,j)=>{if(E!==P){if(E!==Ue)for(const U in E)!$r(U)&&!(U in P)&&r(b,U,E[U],null,j,F);for(const U in P){if($r(U))continue;const Z=P[U],X=E[U];Z!==X&&U!=="value"&&r(b,U,X,Z,j,F)}"value"in P&&r(b,"value",E.value,P.value,j)}},W=(b,E,P,F,j,U,Z,X,Y)=>{const z=E.el=b?b.el:a(""),ue=E.anchor=b?b.anchor:a("");let{patchFlag:te,dynamicChildren:ce,slotScopeIds:pe}=E;pe&&(X=X?X.concat(pe):pe),b==null?(s(z,P,F),s(ue,P,F),C(E.children||[],P,ue,j,U,Z,X,Y)):te>0&&te&64&&ce&&b.dynamicChildren?(R(b.dynamicChildren,ce,P,j,U,Z,X),(E.key!=null||j&&E===j.subTree)&&$d(b,E,!0)):_e(b,E,P,ue,j,U,Z,X,Y)},H=(b,E,P,F,j,U,Z,X,Y)=>{E.slotScopeIds=X,b==null?E.shapeFlag&512?j.ctx.activate(E,P,F,Z,Y):se(E,P,F,j,U,Z,Y):oe(b,E,Y)},se=(b,E,P,F,j,U,Z)=>{const X=b.component=qS(b,F,j);if(hv(b)&&(X.ctx.renderer=ie),GS(X,!1,Z),X.asyncDep){if(j&&j.registerDep(X,ae,Z),!b.el){const Y=X.subTree=O(Qn);v(null,Y,E,P)}}else ae(X,b,E,P,j,U,Z)},oe=(b,E,P)=>{const F=E.component=b.component;if($S(b,E,P))if(F.asyncDep&&!F.asyncResolved){le(F,E,P);return}else F.next=E,F.update();else E.el=b.el,F.vnode=E},ae=(b,E,P,F,j,U,Z)=>{const X=()=>{if(b.isMounted){let{next:te,bu:ce,u:pe,parent:Ce,vnode:je}=b;{const pn=Nv(b);if(pn){te&&(te.el=je.el,le(b,te,Z)),pn.asyncDep.then(()=>{b.isUnmounted||X()});return}}let Le=te,Dt;Bs(b,!1),te?(te.el=je.el,le(b,te,Z)):te=je,ce&&ta(ce),(Dt=te.props&&te.props.onVnodeBeforeUpdate)&&gn(Dt,Ce,te,je),Bs(b,!0);const Pt=$h(b),hn=b.subTree;b.subTree=Pt,m(hn,Pt,d(hn.el),$(hn),b,j,U),te.el=Pt.el,Le===null&&FS(b,Pt.el),pe&&Tt(pe,j),(Dt=te.props&&te.props.onVnodeUpdated)&&Tt(()=>gn(Dt,Ce,te,je),j)}else{let te;const{el:ce,props:pe}=E,{bm:Ce,m:je,parent:Le,root:Dt,type:Pt}=b,hn=Di(E);Bs(b,!1),Ce&&ta(Ce),!hn&&(te=pe&&pe.onVnodeBeforeMount)&&gn(te,Le,E),Bs(b,!0);{Dt.ce&&Dt.ce._injectChildStyle(Pt);const pn=b.subTree=$h(b);m(null,pn,P,F,b,j,U),E.el=pn.el}if(je&&Tt(je,j),!hn&&(te=pe&&pe.onVnodeMounted)){const pn=E;Tt(()=>gn(te,Le,pn),j)}(E.shapeFlag&256||Le&&Di(Le.vnode)&&Le.vnode.shapeFlag&256)&&b.a&&Tt(b.a,j),b.isMounted=!0,E=P=F=null}};b.scope.on();const Y=b.effect=new Dg(X);b.scope.off();const z=b.update=Y.run.bind(Y),ue=b.job=Y.runIfDirty.bind(Y);ue.i=b,ue.id=b.uid,Y.scheduler=()=>Rd(ue),Bs(b,!0),z()},le=(b,E,P)=>{E.component=b;const F=b.vnode.props;b.vnode=E,b.next=null,bS(b,E.props,F,P),CS(b,E.children,P),As(),xh(b),Rs()},_e=(b,E,P,F,j,U,Z,X,Y=!1)=>{const z=b&&b.children,ue=b?b.shapeFlag:0,te=E.children,{patchFlag:ce,shapeFlag:pe}=E;if(ce>0){if(ce&128){pt(z,te,P,F,j,U,Z,X,Y);return}else if(ce&256){ht(z,te,P,F,j,U,Z,X,Y);return}}pe&8?(ue&16&&xe(z,j,U),te!==z&&u(P,te)):ue&16?pe&16?pt(z,te,P,F,j,U,Z,X,Y):xe(z,j,U,!0):(ue&8&&u(P,""),pe&16&&C(te,P,F,j,U,Z,X,Y))},ht=(b,E,P,F,j,U,Z,X,Y)=>{b=b||Oi,E=E||Oi;const z=b.length,ue=E.length,te=Math.min(z,ue);let ce;for(ce=0;ce<te;ce++){const pe=E[ce]=Y?ds(E[ce]):wn(E[ce]);m(b[ce],pe,P,null,j,U,Z,X,Y)}z>ue?xe(b,j,U,!0,!1,te):C(E,P,F,j,U,Z,X,Y,te)},pt=(b,E,P,F,j,U,Z,X,Y)=>{let z=0;const ue=E.length;let te=b.length-1,ce=ue-1;for(;z<=te&&z<=ce;){const pe=b[z],Ce=E[z]=Y?ds(E[z]):wn(E[z]);if(wr(pe,Ce))m(pe,Ce,P,null,j,U,Z,X,Y);else break;z++}for(;z<=te&&z<=ce;){const pe=b[te],Ce=E[ce]=Y?ds(E[ce]):wn(E[ce]);if(wr(pe,Ce))m(pe,Ce,P,null,j,U,Z,X,Y);else break;te--,ce--}if(z>te){if(z<=ce){const pe=ce+1,Ce=pe<ue?E[pe].el:F;for(;z<=ce;)m(null,E[z]=Y?ds(E[z]):wn(E[z]),P,Ce,j,U,Z,X,Y),z++}}else if(z>ce)for(;z<=te;)ye(b[z],j,U,!0),z++;else{const pe=z,Ce=z,je=new Map;for(z=Ce;z<=ce;z++){const Lt=E[z]=Y?ds(E[z]):wn(E[z]);Lt.key!=null&&je.set(Lt.key,z)}let Le,Dt=0;const Pt=ce-Ce+1;let hn=!1,pn=0;const yr=new Array(Pt);for(z=0;z<Pt;z++)yr[z]=0;for(z=pe;z<=te;z++){const Lt=b[z];if(Dt>=Pt){ye(Lt,j,U,!0);continue}let mn;if(Lt.key!=null)mn=je.get(Lt.key);else for(Le=Ce;Le<=ce;Le++)if(yr[Le-Ce]===0&&wr(Lt,E[Le])){mn=Le;break}mn===void 0?ye(Lt,j,U,!0):(yr[mn-Ce]=z+1,mn>=pn?pn=mn:hn=!0,m(Lt,E[mn],P,null,j,U,Z,X,Y),Dt++)}const bh=hn?PS(yr):Oi;for(Le=bh.length-1,z=Pt-1;z>=0;z--){const Lt=Ce+z,mn=E[Lt],Sh=Lt+1<ue?E[Lt+1].el:F;yr[z]===0?m(null,mn,P,Sh,j,U,Z,X,Y):hn&&(Le<0||z!==bh[Le]?ge(mn,P,Sh,2):Le--)}}},ge=(b,E,P,F,j=null)=>{const{el:U,type:Z,transition:X,children:Y,shapeFlag:z}=b;if(z&6){ge(b.component.subTree,E,P,F);return}if(z&128){b.suspense.move(E,P,F);return}if(z&64){Z.move(b,E,P,ie);return}if(Z===Re){s(U,E,P);for(let te=0;te<Y.length;te++)ge(Y[te],E,P,F);s(b.anchor,E,P);return}if(Z===sa){g(b,E,P);return}if(F!==2&&z&1&&X)if(F===0)X.beforeEnter(U),s(U,E,P),Tt(()=>X.enter(U),j);else{const{leave:te,delayLeave:ce,afterLeave:pe}=X,Ce=()=>s(U,E,P),je=()=>{te(U,()=>{Ce(),pe&&pe()})};ce?ce(U,Ce,je):je()}else s(U,E,P)},ye=(b,E,P,F=!1,j=!1)=>{const{type:U,props:Z,ref:X,children:Y,dynamicChildren:z,shapeFlag:ue,patchFlag:te,dirs:ce,cacheIndex:pe}=b;if(te===-2&&(j=!1),X!=null&&Ea(X,null,P,b,!0),pe!=null&&(E.renderCache[pe]=void 0),ue&256){E.ctx.deactivate(b);return}const Ce=ue&1&&ce,je=!Di(b);let Le;if(je&&(Le=Z&&Z.onVnodeBeforeUnmount)&&gn(Le,E,b),ue&6)Ee(b.component,P,F);else{if(ue&128){b.suspense.unmount(P,F);return}Ce&&Fs(b,null,E,"beforeUnmount"),ue&64?b.type.remove(b,E,P,ie,F):z&&!z.hasOnce&&(U!==Re||te>0&&te&64)?xe(z,E,P,!1,!0):(U===Re&&te&384||!j&&ue&16)&&xe(Y,E,P),F&&N(b)}(je&&(Le=Z&&Z.onVnodeUnmounted)||Ce)&&Tt(()=>{Le&&gn(Le,E,b),Ce&&Fs(b,null,E,"unmounted")},P)},N=b=>{const{type:E,el:P,anchor:F,transition:j}=b;if(E===Re){K(P,F);return}if(E===sa){S(b);return}const U=()=>{i(P),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(b.shapeFlag&1&&j&&!j.persisted){const{leave:Z,delayLeave:X}=j,Y=()=>Z(P,U);X?X(b.el,U,Y):Y()}else U()},K=(b,E)=>{let P;for(;b!==E;)P=f(b),i(b),b=P;i(E)},Ee=(b,E,P)=>{const{bum:F,scope:j,job:U,subTree:Z,um:X,m:Y,a:z}=b;Lh(Y),Lh(z),F&&ta(F),j.stop(),U&&(U.flags|=8,ye(Z,b,E,P)),X&&Tt(X,E),Tt(()=>{b.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},xe=(b,E,P,F=!1,j=!1,U=0)=>{for(let Z=U;Z<b.length;Z++)ye(b[Z],E,P,F,j)},$=b=>{if(b.shapeFlag&6)return $(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const E=f(b.anchor||b.el),P=E&&E[lv];return P?f(P):E};let ee=!1;const q=(b,E,P)=>{b==null?E._vnode&&ye(E._vnode,null,null,!0):m(E._vnode||null,b,E,null,null,null,P),E._vnode=b,ee||(ee=!0,xh(),iv(),ee=!1)},ie={p:m,um:ye,m:ge,r:N,mt:se,mc:C,pc:_e,pbc:R,n:$,o:t};return{render:q,hydrate:void 0,createApp:yS(q)}}function gc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Bs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function kS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $d(t,e,n=!1){const s=t.children,i=e.children;if(he(s)&&he(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=ds(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&$d(o,a)),a.type===Cl&&(a.el=o.el)}}function PS(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Nv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Nv(e)}function Lh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const AS=Symbol.for("v-scx"),RS=()=>We(AS);function on(t,e){return Fd(t,null,e)}function Ke(t,e,n){return Fd(t,e,n)}function Fd(t,e,n=Ue){const{immediate:s,deep:i,flush:r,once:o}=n,a=bt({},n),l=e&&s||!e&&r!=="post";let c;if(io){if(r==="sync"){const h=RS();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=en,h.resume=en,h.pause=en,h}}const u=dt;a.call=(h,p,m)=>kn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{Tt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Rd(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=Z0(t,e,a);return io&&(c?c.push(f):l&&f()),f}function OS(t,e,n){const s=this.proxy,i=et(t)?t.includes(".")?Mv(s,t):()=>s[t]:t.bind(s,s);let r;me(e)?r=e:(r=e.handler,n=e);const o=Co(this),a=Fd(i,r.bind(s),n);return o(),a}function Mv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const NS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Yt(e)}Modifiers`]||t[`${Ps(e)}Modifiers`];function MS(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ue;let i=n;const r=e.startsWith("update:"),o=r&&NS(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>et(u)?u.trim():u)),o.number&&(i=n.map(uu)));let a,l=s[a=uc(e)]||s[a=uc(Yt(e))];!l&&r&&(l=s[a=uc(Ps(e))]),l&&kn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,kn(c,t,6,i)}}function Dv(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!me(t)){const l=c=>{const u=Dv(c,e,!0);u&&(a=!0,bt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ge(t)&&s.set(t,null),null):(he(r)?r.forEach(l=>o[l]=null):bt(o,r),Ge(t)&&s.set(t,o),o)}function Tl(t,e){return!t||!hl(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,Ps(e))||De(t,e))}function $h(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,_=Sa(t);let v,y;try{if(n.shapeFlag&4){const S=i||s,T=S;v=wn(c.call(T,S,u,d,h,f,p)),y=a}else{const S=e;v=wn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),y=e.props?a:DS(a)}}catch(S){Vr.length=0,bl(S,t,1),v=O(Qn)}let g=v;if(y&&m!==!1){const S=Object.keys(y),{shapeFlag:T}=g;S.length&&T&7&&(r&&S.some(Sd)&&(y=LS(y,r)),g=si(g,y,!1,!0))}return n.dirs&&(g=si(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Od(g,n.transition),v=g,Sa(_),v}const DS=t=>{let e;for(const n in t)(n==="class"||n==="style"||hl(n))&&((e||(e={}))[n]=t[n]);return e},LS=(t,e)=>{const n={};for(const s in t)(!Sd(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function $S(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Fh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Tl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Fh(s,o,c):!0:!!o;return!1}function Fh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Tl(n,r))return!0}return!1}function FS({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Lv=t=>t.__isSuspense;function BS(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):sv(t)}const Re=Symbol.for("v-fgt"),Cl=Symbol.for("v-txt"),Qn=Symbol.for("v-cmt"),sa=Symbol.for("v-stc"),Vr=[];let Bt=null;function k(t=!1){Vr.push(Bt=t?null:[])}function US(){Vr.pop(),Bt=Vr[Vr.length-1]||null}let no=1;function Bh(t,e=!1){no+=t,t<0&&Bt&&e&&(Bt.hasOnce=!0)}function $v(t){return t.dynamicChildren=no>0?Bt||Oi:null,US(),no>0&&Bt&&Bt.push(t),t}function B(t,e,n,s,i,r){return $v(w(t,e,n,s,i,r,!0))}function re(t,e,n,s,i){return $v(O(t,e,n,s,i,!0))}function so(t){return t?t.__v_isVNode===!0:!1}function wr(t,e){return t.type===e.type&&t.key===e.key}const Fv=({key:t})=>t??null,ia=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?et(t)||Ze(t)||me(t)?{i:it,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,s=0,i=null,r=t===Re?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fv(e),ref:e&&ia(e),scopeId:Sl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:it};return a?(Bd(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=et(n)?8:16),no>0&&!o&&Bt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Bt.push(l),l}const O=jS;function jS(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===yv)&&(t=Qn),so(t)){const a=si(t,e,!0);return n&&Bd(a,n),no>0&&!r&&Bt&&(a.shapeFlag&6?Bt[Bt.indexOf(t)]=a:Bt.push(a)),a.patchFlag=-2,a}if(QS(t)&&(t=t.__vccOpts),e){e=VS(e);let{class:a,style:l}=e;a&&!et(a)&&(e.class=Ie(a)),Ge(l)&&(_l(l)&&!he(l)&&(l=bt({},l)),e.style=zt(l))}const o=et(t)?1:Lv(t)?128:nS(t)?64:Ge(t)?4:me(t)?2:0;return w(t,e,n,s,i,o,r,!0)}function VS(t){return t?_l(t)||xv(t)?bt({},t):t:null}function si(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?HS(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Fv(c),ref:e&&e.ref?n&&r?he(r)?r.concat(ia(e)):[r,ia(e)]:ia(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&si(t.ssContent),ssFallback:t.ssFallback&&si(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Od(u,l.clone(u)),u}function Pe(t=" ",e=0){return O(Cl,null,t,e)}function Te(t="",e=!1){return e?(k(),re(Qn,null,t)):O(Qn,null,t)}function wn(t){return t==null||typeof t=="boolean"?O(Qn):he(t)?O(Re,null,t.slice()):so(t)?ds(t):O(Cl,null,String(t))}function ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:si(t)}function Bd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(he(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Bd(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!xv(e)?e._ctx=it:i===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else me(e)?(e={default:e,_ctx:it},n=32):(e=String(e),s&64?(n=16,e=[Pe(e)]):n=8);t.children=e,t.shapeFlag|=n}function HS(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ie([e.class,s.class]));else if(i==="style")e.style=zt([e.style,s.style]);else if(hl(i)){const r=e[i],o=s[i];o&&r!==o&&!(he(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function gn(t,e,n,s=null){kn(t,e,7,[n,s])}const zS=Ev();let WS=0;function qS(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||zS,r={uid:WS++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Og(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kv(s,i),emitsOptions:Dv(s,i),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:s.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=MS.bind(null,r),t.ce&&t.ce(r),r}let dt=null;const vi=()=>dt||it;let Ca,wu;{const t=vl(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Ca=e("__VUE_INSTANCE_SETTERS__",n=>dt=n),wu=e("__VUE_SSR_SETTERS__",n=>io=n)}const Co=t=>{const e=dt;return Ca(t),t.scope.on(),()=>{t.scope.off(),Ca(e)}},Uh=()=>{dt&&dt.scope.off(),Ca(null)};function Bv(t){return t.vnode.shapeFlag&4}let io=!1;function GS(t,e=!1,n=!1){e&&wu(e);const{props:s,children:i}=t.vnode,r=Bv(t);wS(t,s,r,e),TS(t,i,n);const o=r?KS(t,e):void 0;return e&&wu(!1),o}function KS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dS);const{setup:s}=n;if(s){As();const i=t.setupContext=s.length>1?XS(t):null,r=Co(t),o=To(s,t,0,[t.props,i]),a=Cg(o);if(Rs(),r(),(a||t.sp)&&!Di(t)&&fv(t),a){if(o.then(Uh,Uh),e)return o.then(l=>{jh(t,l)}).catch(l=>{bl(l,t,0)});t.asyncDep=o}else jh(t,o)}else Uv(t)}function jh(t,e,n){me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)&&(t.setupState=Zg(e)),Uv(t)}function Uv(t,e,n){const s=t.type;t.render||(t.render=s.render||en);{const i=Co(t);As();try{fS(t)}finally{Rs(),i()}}}const YS={get(t,e){return vt(t,"get",""),t[e]}};function XS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,YS),slots:t.slots,emit:t.emit,expose:e}}function xl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zg(wl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in jr)return jr[n](t)},has(e,n){return n in e||n in jr}})):t.proxy}function JS(t,e=!0){return me(t)?t.displayName||t.name:t.name||e&&t.__name}function QS(t){return me(t)&&"__vccOpts"in t}const Q=(t,e)=>J0(t,e,io);function Ae(t,e,n){const s=arguments.length;return s===2?Ge(e)&&!he(e)?so(e)?O(t,null,[e]):O(t,e):O(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&so(n)&&(n=[n]),O(t,e,n))}const ZS="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bu;const Vh=typeof window<"u"&&window.trustedTypes;if(Vh)try{bu=Vh.createPolicy("vue",{createHTML:t=>t})}catch{}const jv=bu?t=>bu.createHTML(t):t=>t,eE="http://www.w3.org/2000/svg",tE="http://www.w3.org/1998/Math/MathML",$n=typeof document<"u"?document:null,Hh=$n&&$n.createElement("template"),nE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?$n.createElementNS(eE,t):e==="mathml"?$n.createElementNS(tE,t):n?$n.createElement(t,{is:n}):$n.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>$n.createTextNode(t),createComment:t=>$n.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$n.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Hh.innerHTML=jv(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Hh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},sE=Symbol("_vtc");function iE(t,e,n){const s=t[sE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xa=Symbol("_vod"),Vv=Symbol("_vsh"),Tn={beforeMount(t,{value:e},{transition:n}){t[xa]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):br(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),br(t,!0),s.enter(t)):s.leave(t,()=>{br(t,!1)}):br(t,e))},beforeUnmount(t,{value:e}){br(t,e)}};function br(t,e){t.style.display=e?t[xa]:"none",t[Vv]=!e}const Hv=Symbol("");function rE(t){const e=vi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Ia(r,i))},s=()=>{const i=t(e.proxy);e.ce?Ia(e.ce,i):Su(e.subTree,i),n(i)};Nd(()=>{sv(s)}),Oe(()=>{Ke(s,en,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),St(()=>i.disconnect())})}function Su(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Su(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Ia(t.el,e);else if(t.type===Re)t.children.forEach(n=>Su(n,e));else if(t.type===sa){let{el:n,anchor:s}=t;for(;n&&(Ia(n,e),n!==s);)n=n.nextSibling}}function Ia(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[Hv]=s}}const oE=/(^|;)\s*display\s*:/;function aE(t,e,n){const s=t.style,i=et(n);let r=!1;if(n&&!i){if(e)if(et(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ra(s,a,"")}else for(const o in e)n[o]==null&&ra(s,o,"");for(const o in n)o==="display"&&(r=!0),ra(s,o,n[o])}else if(i){if(e!==n){const o=s[Hv];o&&(n+=";"+o),s.cssText=n,r=oE.test(n)}}else e&&t.removeAttribute("style");xa in t&&(t[xa]=r?s.display:"",t[Vv]&&(s.display="none"))}const zh=/\s*!important$/;function ra(t,e,n){if(he(n))n.forEach(s=>ra(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=lE(t,e);zh.test(n)?t.setProperty(Ps(s),n.replace(zh,""),"important"):t[s]=n}}const Wh=["Webkit","Moz","ms"],vc={};function lE(t,e){const n=vc[e];if(n)return n;let s=Yt(e);if(s!=="filter"&&s in t)return vc[e]=s;s=gl(s);for(let i=0;i<Wh.length;i++){const r=Wh[i]+s;if(r in t)return vc[e]=r}return e}const qh="http://www.w3.org/1999/xlink";function Gh(t,e,n,s,i,r=E0(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(qh,e.slice(6,e.length)):t.setAttributeNS(qh,e,n):n==null||r&&!Pg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":ns(n)?String(n):n)}function Kh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?jv(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Pg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function xi(t,e,n,s){t.addEventListener(e,n,s)}function cE(t,e,n,s){t.removeEventListener(e,n,s)}const Yh=Symbol("_vei");function uE(t,e,n,s,i=null){const r=t[Yh]||(t[Yh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=dE(e);if(s){const c=r[e]=pE(s,i);xi(t,a,c,l)}else o&&(cE(t,a,o,l),r[e]=void 0)}}const Xh=/(?:Once|Passive|Capture)$/;function dE(t){let e;if(Xh.test(t)){e={};let s;for(;s=t.match(Xh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ps(t.slice(2)),e]}let yc=0;const fE=Promise.resolve(),hE=()=>yc||(fE.then(()=>yc=0),yc=Date.now());function pE(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;kn(mE(s,n.value),e,5,[s])};return n.value=t,n.attached=hE(),n}function mE(t,e){if(he(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Jh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,gE=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?iE(t,s,o):e==="style"?aE(t,n,s):hl(e)?Sd(e)||uE(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vE(t,e,s,o))?(Kh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!et(s))?Kh(t,Yt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Gh(t,e,s,o))};function vE(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Jh(e)&&me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Jh(e)&&et(n)?!1:e in t}const Qh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return he(e)?n=>ta(e,n):e};function yE(t){t.target.composing=!0}function Zh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _c=Symbol("_assign"),Gn={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[_c]=Qh(i);const r=s||i.props&&i.props.type==="number";xi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=uu(a)),t[_c](a)}),n&&xi(t,"change",()=>{t.value=t.value.trim()}),e||(xi(t,"compositionstart",yE),xi(t,"compositionend",Zh),xi(t,"change",Zh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[_c]=Qh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?uu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},_E=["ctrl","shift","alt","meta"],wE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_E.some(n=>t[`${n}Key`]&&!e.includes(n))},nt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=wE[e[o]];if(a&&a(i,e))return}return t(i,...r)})},bE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ep=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Ps(i.key);if(e.some(o=>o===r||bE[o]===r))return t(i)})},SE=bt({patchProp:gE},nE);let tp;function EE(){return tp||(tp=xS(SE))}const TE=(...t)=>{const e=EE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=xE(s);if(!i)return;const r=e._component;!me(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,CE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function CE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xE(t){return et(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ii=typeof document<"u";function zv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function IE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&zv(t.default)}const Me=Object.assign;function wc(t,e){const n={};for(const s in e){const i=e[s];n[s]=an(i)?i.map(t):t(i)}return n}const Hr=()=>{},an=Array.isArray,Wv=/#/g,kE=/&/g,PE=/\//g,AE=/=/g,RE=/\?/g,qv=/\+/g,OE=/%5B/g,NE=/%5D/g,Gv=/%5E/g,ME=/%60/g,Kv=/%7B/g,DE=/%7C/g,Yv=/%7D/g,LE=/%20/g;function Ud(t){return encodeURI(""+t).replace(DE,"|").replace(OE,"[").replace(NE,"]")}function $E(t){return Ud(t).replace(Kv,"{").replace(Yv,"}").replace(Gv,"^")}function Eu(t){return Ud(t).replace(qv,"%2B").replace(LE,"+").replace(Wv,"%23").replace(kE,"%26").replace(ME,"`").replace(Kv,"{").replace(Yv,"}").replace(Gv,"^")}function FE(t){return Eu(t).replace(AE,"%3D")}function BE(t){return Ud(t).replace(Wv,"%23").replace(RE,"%3F")}function UE(t){return t==null?"":BE(t).replace(PE,"%2F")}function ro(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const jE=/\/$/,VE=t=>t.replace(jE,"");function bc(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=qE(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:ro(o)}}function HE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function np(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zE(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Hi(e.matched[s],n.matched[i])&&Xv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Xv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!WE(t[n],e[n]))return!1;return!0}function WE(t,e){return an(t)?sp(t,e):an(e)?sp(e,t):t===e}function sp(t,e){return an(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function qE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const as={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var oo;(function(t){t.pop="pop",t.push="push"})(oo||(oo={}));var zr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(zr||(zr={}));function GE(t){if(!t)if(Ii){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),VE(t)}const KE=/^[^#]+#/;function YE(t,e){return t.replace(KE,"#")+e}function XE(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Il=()=>({left:window.scrollX,top:window.scrollY});function JE(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=XE(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ip(t,e){return(history.state?history.state.position-e:-1)+t}const Tu=new Map;function QE(t,e){Tu.set(t,e)}function ZE(t){const e=Tu.get(t);return Tu.delete(t),e}let eT=()=>location.protocol+"//"+location.host;function Jv(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),np(l,"")}return np(n,t)+s+i}function tT(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=Jv(t,location),p=n.value,m=e.value;let _=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}_=m?f.position-m.position:0}else s(h);i.forEach(v=>{v(n.value,p,{delta:_,type:oo.pop,direction:_?_>0?zr.forward:zr.back:zr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Me({},f.state,{scroll:Il()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function rp(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Il():null}}function nT(t){const{history:e,location:n}=window,s={value:Jv(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:eT()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Me({},e.state,rp(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Me({},i.value,e.state,{forward:l,scroll:Il()});r(u.current,u,!0);const d=Me({},rp(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function sT(t){t=GE(t);const e=nT(t),n=tT(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Me({location:"",base:t,go:s,createHref:YE.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function iT(t){return typeof t=="string"||t&&typeof t=="object"}function Qv(t){return typeof t=="string"||typeof t=="symbol"}const Zv=Symbol("");var op;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(op||(op={}));function zi(t,e){return Me(new Error,{type:t,[Zv]:!0},e)}function Dn(t,e){return t instanceof Error&&Zv in t&&(e==null||!!(t.type&e))}const ap="[^/]+?",rT={sensitive:!1,strict:!1,start:!0,end:!0},oT=/[.+*?^${}()[\]/\\]/g;function aT(t,e){const n=Me({},rT,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(oT,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:_,regexp:v}=f;r.push({name:p,repeatable:m,optional:_});const y=v||ap;if(y!==ap){h+=10;try{new RegExp(`(${y})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+S.message)}}let g=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(g=_&&c.length<2?`(?:/${g})`:"/"+g),_&&(g+="?"),i+=g,h+=20,_&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:_}=h,v=p in c?c[p]:"";if(an(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=an(v)?v.join("/"):v;if(!y)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function lT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ey(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=lT(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(lp(s))return 1;if(lp(i))return-1}return i.length-s.length}function lp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const cT={type:0,value:""},uT=/[a-zA-Z0-9_]/;function dT(t){if(!t)return[[]];if(t==="/")return[[cT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:uT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function fT(t,e,n){const s=aT(dT(t.path),n),i=Me(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function hT(t,e){const n=[],s=new Map;e=fp({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const p=!h,m=up(d);m.aliasOf=h&&h.record;const _=fp(e,d),v=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of S)v.push(up(Me({},m,{components:h?h.record.components:m.components,path:T,aliasOf:h?h.record:m})))}let y,g;for(const S of v){const{path:T}=S;if(f&&T[0]!=="/"){const A=f.record.path,L=A[A.length-1]==="/"?"":"/";S.path=f.record.path+(T&&L+T)}if(y=fT(S,f,_),h?h.alias.push(y):(g=g||y,g!==y&&g.alias.push(y),p&&d.name&&!dp(y)&&o(d.name)),ty(y)&&l(y),m.children){const A=m.children;for(let L=0;L<A.length;L++)r(A[L],y,h&&h.children[L])}h=h||y}return g?()=>{o(g)}:Hr}function o(d){if(Qv(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=gT(d,n);n.splice(f,0,d),d.record.name&&!dp(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},m,_;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw zi(1,{location:d});_=h.record.name,p=Me(cp(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&cp(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),_=h.record.name);else{if(h=f.name?s.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw zi(1,{location:d,currentLocation:f});_=h.record.name,p=Me({},f.params,d.params),m=h.stringify(p)}const v=[];let y=h;for(;y;)v.unshift(y.record),y=y.parent;return{name:_,path:m,params:p,matched:v,meta:mT(v)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function cp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function up(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:pT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function pT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function dp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mT(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function fp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function gT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;ey(t,e[r])<0?s=r:n=r+1}const i=vT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function vT(t){let e=t;for(;e=e.parent;)if(ty(e)&&ey(t,e)===0)return e}function ty({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function yT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(qv," "),o=r.indexOf("="),a=ro(o<0?r:r.slice(0,o)),l=o<0?null:ro(r.slice(o+1));if(a in e){let c=e[a];an(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function hp(t){let e="";for(let n in t){const s=t[n];if(n=FE(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(an(s)?s.map(r=>r&&Eu(r)):[s&&Eu(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function _T(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=an(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const ny=Symbol(""),pp=Symbol(""),kl=Symbol(""),jd=Symbol(""),Cu=Symbol("");function Sr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function wT(t,e,n){const s=()=>{t[e].delete(n)};St(s),mv(s),pv(()=>{t[e].add(n)}),t[e].add(n)}function bT(t){const e=We(ny,{}).value;e&&wT(e,"updateGuards",t)}function fs(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(zi(4,{from:n,to:e})):f instanceof Error?l(f):iT(f)?l(zi(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Sc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(zv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(fs(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=IE(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&fs(h,n,s,o,a,i)()}))}}return r}function mp(t){const e=We(kl),n=We(jd),s=Q(()=>{const l=I(t.to);return e.resolve(l)}),i=Q(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Hi.bind(null,u));if(f>-1)return f;const h=gp(l[c-2]);return c>1&&gp(u)===h&&d[d.length-1].path!==h?d.findIndex(Hi.bind(null,l[c-2])):f}),r=Q(()=>i.value>-1&&CT(n.params,s.value.params)),o=Q(()=>i.value>-1&&i.value===n.matched.length-1&&Xv(n.params,s.value.params));function a(l={}){if(TT(l)){const c=e[I(t.replace)?"replace":"push"](I(t.to)).catch(Hr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Q(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function ST(t){return t.length===1?t[0]:t}const ET=Xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mp,setup(t,{slots:e}){const n=Os(mp(t)),{options:s}=We(kl),i=Q(()=>({[vp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[vp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&ST(e.default(n));return t.custom?r:Ae("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Pl=ET;function TT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CT(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!an(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function gp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vp=(t,e,n)=>t??e??n,xT=Xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=We(Cu),i=Q(()=>t.route||s.value),r=We(pp,0),o=Q(()=>{let c=I(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Q(()=>i.value.matched[o.value]);wt(pp,Q(()=>o.value+1)),wt(ny,a),wt(Cu,i);const l=D();return Ke(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Hi(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return yp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,_=Ae(f,Me({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return yp(n.default,{Component:_,route:c})||_}}});function yp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const IT=xT;function kT(t){const e=hT(t.routes,t),n=t.parseQuery||yT,s=t.stringifyQuery||hp,i=t.history,r=Sr(),o=Sr(),a=Sr(),l=Jg(as);let c=as;Ii&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=wc.bind(null,$=>""+$),d=wc.bind(null,UE),f=wc.bind(null,ro);function h($,ee){let q,ie;return Qv($)?(q=e.getRecordMatcher($),ie=ee):ie=$,e.addRoute(ie,q)}function p($){const ee=e.getRecordMatcher($);ee&&e.removeRoute(ee)}function m(){return e.getRoutes().map($=>$.record)}function _($){return!!e.getRecordMatcher($)}function v($,ee){if(ee=Me({},ee||l.value),typeof $=="string"){const P=bc(n,$,ee.path),F=e.resolve({path:P.path},ee),j=i.createHref(P.fullPath);return Me(P,F,{params:f(F.params),hash:ro(P.hash),redirectedFrom:void 0,href:j})}let q;if($.path!=null)q=Me({},$,{path:bc(n,$.path,ee.path).path});else{const P=Me({},$.params);for(const F in P)P[F]==null&&delete P[F];q=Me({},$,{params:d(P)}),ee.params=d(ee.params)}const ie=e.resolve(q,ee),Be=$.hash||"";ie.params=u(f(ie.params));const b=HE(s,Me({},$,{hash:$E(Be),path:ie.path})),E=i.createHref(b);return Me({fullPath:b,hash:Be,query:s===hp?_T($.query):$.query||{}},ie,{redirectedFrom:void 0,href:E})}function y($){return typeof $=="string"?bc(n,$,l.value.path):Me({},$)}function g($,ee){if(c!==$)return zi(8,{from:ee,to:$})}function S($){return L($)}function T($){return S(Me(y($),{replace:!0}))}function A($){const ee=$.matched[$.matched.length-1];if(ee&&ee.redirect){const{redirect:q}=ee;let ie=typeof q=="function"?q($):q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=y(ie):{path:ie},ie.params={}),Me({query:$.query,hash:$.hash,params:ie.path!=null?{}:$.params},ie)}}function L($,ee){const q=c=v($),ie=l.value,Be=$.state,b=$.force,E=$.replace===!0,P=A(q);if(P)return L(Me(y(P),{state:typeof P=="object"?Me({},Be,P.state):Be,force:b,replace:E}),ee||q);const F=q;F.redirectedFrom=ee;let j;return!b&&zE(s,ie,q)&&(j=zi(16,{to:F,from:ie}),ge(ie,ie,!0,!1)),(j?Promise.resolve(j):R(F,ie)).catch(U=>Dn(U)?Dn(U,2)?U:pt(U):_e(U,F,ie)).then(U=>{if(U){if(Dn(U,2))return L(Me({replace:E},y(U.to),{state:typeof U.to=="object"?Me({},Be,U.to.state):Be,force:b}),ee||F)}else U=W(F,ie,!0,E,Be);return V(F,ie,U),U})}function C($,ee){const q=g($,ee);return q?Promise.reject(q):Promise.resolve()}function x($){const ee=K.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext($):$()}function R($,ee){let q;const[ie,Be,b]=PT($,ee);q=Sc(ie.reverse(),"beforeRouteLeave",$,ee);for(const P of ie)P.leaveGuards.forEach(F=>{q.push(fs(F,$,ee))});const E=C.bind(null,$,ee);return q.push(E),xe(q).then(()=>{q=[];for(const P of r.list())q.push(fs(P,$,ee));return q.push(E),xe(q)}).then(()=>{q=Sc(Be,"beforeRouteUpdate",$,ee);for(const P of Be)P.updateGuards.forEach(F=>{q.push(fs(F,$,ee))});return q.push(E),xe(q)}).then(()=>{q=[];for(const P of b)if(P.beforeEnter)if(an(P.beforeEnter))for(const F of P.beforeEnter)q.push(fs(F,$,ee));else q.push(fs(P.beforeEnter,$,ee));return q.push(E),xe(q)}).then(()=>($.matched.forEach(P=>P.enterCallbacks={}),q=Sc(b,"beforeRouteEnter",$,ee,x),q.push(E),xe(q))).then(()=>{q=[];for(const P of o.list())q.push(fs(P,$,ee));return q.push(E),xe(q)}).catch(P=>Dn(P,8)?P:Promise.reject(P))}function V($,ee,q){a.list().forEach(ie=>x(()=>ie($,ee,q)))}function W($,ee,q,ie,Be){const b=g($,ee);if(b)return b;const E=ee===as,P=Ii?history.state:{};q&&(ie||E?i.replace($.fullPath,Me({scroll:E&&P&&P.scroll},Be)):i.push($.fullPath,Be)),l.value=$,ge($,ee,q,E),pt()}let H;function se(){H||(H=i.listen(($,ee,q)=>{if(!Ee.listening)return;const ie=v($),Be=A(ie);if(Be){L(Me(Be,{replace:!0,force:!0}),ie).catch(Hr);return}c=ie;const b=l.value;Ii&&QE(ip(b.fullPath,q.delta),Il()),R(ie,b).catch(E=>Dn(E,12)?E:Dn(E,2)?(L(Me(y(E.to),{force:!0}),ie).then(P=>{Dn(P,20)&&!q.delta&&q.type===oo.pop&&i.go(-1,!1)}).catch(Hr),Promise.reject()):(q.delta&&i.go(-q.delta,!1),_e(E,ie,b))).then(E=>{E=E||W(ie,b,!1),E&&(q.delta&&!Dn(E,8)?i.go(-q.delta,!1):q.type===oo.pop&&Dn(E,20)&&i.go(-1,!1)),V(ie,b,E)}).catch(Hr)}))}let oe=Sr(),ae=Sr(),le;function _e($,ee,q){pt($);const ie=ae.list();return ie.length?ie.forEach(Be=>Be($,ee,q)):console.error($),Promise.reject($)}function ht(){return le&&l.value!==as?Promise.resolve():new Promise(($,ee)=>{oe.add([$,ee])})}function pt($){return le||(le=!$,se(),oe.list().forEach(([ee,q])=>$?q($):ee()),oe.reset()),$}function ge($,ee,q,ie){const{scrollBehavior:Be}=t;if(!Ii||!Be)return Promise.resolve();const b=!q&&ZE(ip($.fullPath,0))||(ie||!q)&&history.state&&history.state.scroll||null;return tr().then(()=>Be($,ee,b)).then(E=>E&&JE(E)).catch(E=>_e(E,$,ee))}const ye=$=>i.go($);let N;const K=new Set,Ee={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:m,resolve:v,options:t,push:S,replace:T,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:ht,install($){const ee=this;$.component("RouterLink",Pl),$.component("RouterView",IT),$.config.globalProperties.$router=ee,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>I(l)}),Ii&&!N&&l.value===as&&(N=!0,S(i.location).catch(Be=>{}));const q={};for(const Be in as)Object.defineProperty(q,Be,{get:()=>l.value[Be],enumerable:!0});$.provide(kl,ee),$.provide(jd,Yg(q)),$.provide(Cu,l);const ie=$.unmount;K.add($),$.unmount=function(){K.delete($),K.size<1&&(c=as,H&&H(),H=null,l.value=as,N=!1,le=!1),ie()}}};function xe($){return $.reduce((ee,q)=>ee.then(()=>x(q)),Promise.resolve())}return Ee}function PT(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Hi(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Hi(c,l))||i.push(l))}return[n,s,i]}function nr(){return We(kl)}function Vd(t){return We(jd)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const AT=(t,e)=>(n,s)=>{let i=-1;if(s.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(i=a,l):r},e),i>-1)return n[i]},RT=AT((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var OT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:RT});const NT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},MT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},Gt=Array.isArray,oa=t=>typeof t=="function",_p=t=>typeof t=="string",Al=t=>t!==null&&typeof t=="object",DT=Object.prototype.toString,Wr=t=>DT.call(t)==="[object Object]",wp=Symbol("kIsProxy"),LT=Symbol("kProxySources"),sy=Symbol("kProxyTarget"),ki=Symbol("kResolveContext");function ao(t){if(Gt(t))return t.map(ao);if(Al(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:ao(t[n]);return e}return t}const aa=(t,e,n)=>{const s=[];for(const i of t)i&&e in i&&(s.push(i[e]),n&&n(i));return s},ka=(t,e=[],n,s)=>{if(!n&&!s&&({active:n,sources:s}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],s=s.map(l=>l[a]).filter(Boolean)}if(!n||!s)return;const i=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&Al(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...s),r=Object.keys(n);for(const o of r)i.includes(o)||delete n[o];for(const o of i){let a=!1;for(let d=0;d<s.length;d++){const f=s[d];if(f&&o in f&&f[o]!==void 0){a=Wr(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of s)o in f&&d.push(f[o]);ka(t,[...e,o],n[o],d);continue}!n[o]&&Gt(s[0][o])&&(n[o]=[]);const l=[],c=aa(s,o,d=>l.push(d[ki]));let u=t.resolve(c,l,n[o],o,e);Wr(u)&&(u=ao(u)),n[o]=u}},iy=(t,e,n,s=[])=>{const i=$T(t,n,s),r=wl(new Proxy(e,i));return!s.length&&t.sources&&t.sources.push(r),r},$T=(t,e,n=[])=>({get:(s,i,r)=>{if(i===wp)return!0;if(i===LT)return t.sources;if(i===sy)return s;if(i===ki)return e;let o=Reflect.get(s,i,r);if(!Al(o))return o;if(!o[wp]){const a=[...n,i];o=iy(t,o,e,a),Reflect.set(s,i,o)}return o},set:(s,i,r)=>{const o=Reflect.set(s,i,r);if(o){const a=Gt(s);let l,c=!1,{sources:u,active:d}=t,f=0;for(const _ of n){if(u=aa(u,_),a&&f===n.length-1){l=_;break}Gt(d)&&(c=!0),d=d[_],f++}if(c)return ka(t),o;if(Wr(r))return ka(t,n),o;let h,p=[];a?(h=u,p=u.map(_=>_[ki])):h=aa(u,i,_=>p.push(_[ki]));let m=t.resolve(h,p,d,i,n);Wr(m)&&(m=ao(m)),a&&l?d[l]=m:d[i]=m}return o},deleteProperty:(s,i)=>{const r=Reflect.deleteProperty(s,i);if(r){const o=Gt(s);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&i in d)){let d,f=[];o?(d=l,f=l.map(p=>p[ki])):d=aa(l,i,p=>f.push(p[ki]));let h=t.resolve(d,f,c,i,n);Wr(h)&&(h=ao(h)),o&&a?c[a]=h:c[i]=h}else delete c[i]}return r}}),Ec={};function FT(t,e,n,s){return"attributesFor"in s?function(i,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(i.isSSR)return{to:"",vnode:Ae(`ssr-${l}`,o)};if(!Ec[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),Ec[l]={el:f,attrs:[]}}const{el:c,attrs:u}=Ec[l];for(const f in o){let h=la(i,`${r}(${f})`,o[f],o);Gt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,s):"group"in s?function(i,r,o,a){return Gt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return Pa(i,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,s):Pa(t,e,n,s)}function Pa(t,e,n,s={},i){const r=["content","json","rawContent"],o=_=>function(v,y){for(const g of v){const S=MT[g];if(g&&S)return S[y]}}([a,s.tag],_);if(Gt(n))return n.map(_=>Pa(t,e,_,s,i)).filter(Boolean).flat();const{tag:a=s.tag||e}=n;let l="",c=!1,u=!1;if(_p(n))l=n;else if(n.children&&Gt(n.children))c=!0,l=n.children.map(_=>{const v=Pa(t,e,_,s,i);return Gt(v)?v.map(({vnode:y})=>y):v&&v.vnode});else{let _=0;for(const v of r){if(!l&&n[v]){l=_===1?JSON.stringify(n[v]):n[v],u=_>1;break}_++}}const d=i&&i.fullName||e,f=i&&i.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const _ of r)delete h[_]}if(c)l=la(t,f,l,n);else{const _=!!o("contentAsAttribute");let{valueAttribute:v}=s;if(!v&&_){const[y]=o("attributes");v=_p(_)?_:y}if(v){const{nameless:y}=s;if(!y){const g=s.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[v]=la(t,f,h[v]||l,i),l=""}else l=la(t,f,l,n)}const p=i&&i.tagNamespace?`${i.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Ae(p,h,l||void 0);return{to:n.to,vnode:m}}function la({metainfo:t,slots:e},n,s,i){const r=e&&e[n];if(!r||!oa(r))return s;const o={content:s,metainfo:t};if(i&&i.group){const{group:l,data:c}=i;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return s}const BT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",UT=(t=>BT?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function ry(t,e,n){for(const s in e)s in n?Al(t[s])?ry(t[s],e[s],n[s]):e[s]!==n[s]&&(t[s]=e[s]):t[s]=e[s];for(const s in n)e&&s in e||delete t[s]}function oy(t){if(t||(t=vi()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function xo(t,e){const n=vi()||void 0;if(!e&&n&&(e=oy(n)),!e)throw new Error("No manager or current instance");_l(t)&&(Ke(t,(i,r)=>{ry(s.meta,i,r)}),t=t.value);const s=e.addMeta(t,n);return s}const jT=Xe({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=oy();if(n)return n.render({slots:e})}});function bp(t,e,n,s){const i=Gt(s)?s:[s];t?n.endsWith("Attrs")||i.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):i.forEach((r,o)=>{r.type===Qn&&i.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...i)}const VT=(t=!1,e,n)=>HT.create(t,NT,OT);var Ys;let HT=(Ys=class{constructor(e,n,s,i){$s(this,"isSSR",!1);$s(this,"config");$s(this,"target");$s(this,"resolver");$s(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=s,i&&"setup"in i&&oa(i.setup)&&(this.resolver=i)}install(e){e.component("Metainfo",jT),e.config.globalProperties.$metaManager=this,e.provide(UT,this.target.context.active)}addMeta(e,n){n||(n=vi()||void 0);const s={removed:[]},i={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(i);const o=this.target.addSource(e,i,!0),a=l=>this.unmount(!!l,o,s,n);return n&&St(a),{meta:o,onRemoved:l=>s.removed.push(l),unmount:a}}unmount(e,n,s,i){if(i){const{$el:r}=i.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,s))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,s)}async reallyUnmount(e,n,s){this.target.delSource(n),!e&&s&&await Promise.all(s.removed.map(i=>i()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:s}=this;if(!s&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const i={};for(const r in n){const o=this.config[r]||{};let a=FT({isSSR:s,metainfo:n,slots:e},r,n[r],o);if(!a)continue;Gt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)bp(this.isSSR,i,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];oa(a)&&bp(this.isSSR,i,o,a({metainfo:n}))}return Object.keys(i).map(r=>Ae(uv,{to:r},i[r]))}},$s(Ys,"create",(e,n,s)=>{const i=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>ka(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=iy(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[sy]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>oa(s)?s(r,o,a,l,c):s.resolve(r,o,a,l,c),Os({}));return new Ys(e,n,i,s)}),Ys);const ay=new Set,Ot=new WeakMap,Wi=new WeakMap,ii=new WeakMap,xu=new WeakMap,zT=new WeakMap,qi=new WeakMap,Aa=new WeakMap,Nr=new WeakSet;let Cs,Hd=0,zd=0;const Vn="__aa_tgt",lo="__aa_del",Ra="__aa_new",WT=t=>{const e=JT(t);e&&e.forEach(n=>QT(n))},qT=t=>{t.forEach(e=>{e.target===Cs&&KT(),Ot.has(e.target)&&yi(e.target)})};function GT(t){const e=xu.get(t);e==null||e.disconnect();let n=Ot.get(t),s=0;const i=5;n||(n=Gi(t),Ot.set(t,n));const{offsetWidth:r,offsetHeight:o}=Cs,l=[n.top-i,r-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&yi(t)},{root:Cs,threshold:1,rootMargin:l});c.observe(t),xu.set(t,c)}function yi(t){clearTimeout(Aa.get(t));const e=Rl(t),n=co(e)?500:e.duration;Aa.set(t,setTimeout(async()=>{const s=ii.get(t);try{await(s==null?void 0:s.finished),Ot.set(t,Gi(t)),GT(t)}catch{}},n))}function KT(){clearTimeout(Aa.get(Cs)),Aa.set(Cs,setTimeout(()=>{ay.forEach(t=>dy(t,e=>ly(()=>yi(e))))},100))}function YT(t){setTimeout(()=>{zT.set(t,setInterval(()=>ly(yi.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function ly(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let Iu,Pi;const XT=typeof window<"u"&&"ResizeObserver"in window;XT&&(Cs=document.documentElement,Iu=new MutationObserver(WT),Pi=new ResizeObserver(qT),window.addEventListener("scroll",()=>{zd=window.scrollY,Hd=window.scrollX}),Pi.observe(Cs));function JT(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(Tc(i.target),!s.has(i.target)){s.add(i.target);for(let r=0;r<i.target.children.length;r++){const o=i.target.children.item(r);if(o){if(lo in o)return!1;Tc(i.target,o),s.add(o)}}}if(i.removedNodes.length)for(let r=0;r<i.removedNodes.length;r++){const o=i.removedNodes[r];if(lo in o)return!1;o instanceof Element&&(s.add(o),Tc(i.target,o),Wi.set(o,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function Tc(t,e){!e&&!(Vn in t)?Object.defineProperty(t,Vn,{value:t}):e&&!(Vn in e)&&Object.defineProperty(e,Vn,{value:t})}function QT(t){var e;const n=t.isConnected,s=Ot.has(t);n&&Wi.has(t)&&Wi.delete(t),ii.has(t)&&((e=ii.get(t))===null||e===void 0||e.cancel()),Ra in t?Sp(t):s&&n?eC(t):s&&!n?tC(t):Sp(t)}function _n(t){return Number(t.replace(/[^0-9.\-]/g,""))}function ZT(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Gi(t){const e=t.getBoundingClientRect(),{x:n,y:s}=ZT(t);return{top:e.top+s,left:e.left+n,width:e.width,height:e.height}}function cy(t,e,n){let s=e.width,i=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=_n(a.paddingTop)+_n(a.paddingBottom)+_n(a.borderTopWidth)+_n(a.borderBottomWidth),u=_n(a.paddingLeft)+_n(a.paddingRight)+_n(a.borderRightWidth)+_n(a.borderLeftWidth);s-=u,r-=u,i-=c,o-=c}return[s,r,i,o].map(Math.round)}function Rl(t){return Vn in t&&qi.has(t[Vn])?qi.get(t[Vn]):{duration:250,easing:"ease-in-out"}}function uy(t){if(Vn in t)return t[Vn]}function Wd(t){const e=uy(t);return e?Nr.has(e):!1}function dy(t,...e){e.forEach(n=>n(t,qi.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,qi.has(s)))}}function qd(t){return Array.isArray(t)?t:[t]}function co(t){return typeof t=="function"}function eC(t){const e=Ot.get(t),n=Gi(t);if(!Wd(t))return Ot.set(t,n);let s;if(!e)return;const i=Rl(t);if(typeof i!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=cy(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),s=t.animate([d,f],{duration:i.duration,easing:i.easing})}else{const[r]=qd(i(t,"remain",e,n));s=new Animation(r),s.play()}ii.set(t,s),Ot.set(t,n),s.addEventListener("finish",yi.bind(null,t))}function Sp(t){Ra in t&&delete t[Ra];const e=Gi(t);Ot.set(t,e);const n=Rl(t);if(!Wd(t))return;let s;if(typeof n!="function")s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=qd(n(t,"add",e));s=new Animation(i),s.play()}ii.set(t,s),s.addEventListener("finish",yi.bind(null,t))}function Ep(t,e){var n;t.remove(),Ot.delete(t),Wi.delete(t),ii.delete(t),(n=xu.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(lo in t&&delete t[lo],Object.defineProperty(t,Ra,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const s in e)t.style[s]=""},0)}function tC(t){var e;if(!Wi.has(t)||!Ot.has(t))return;const[n,s]=Wi.get(t);Object.defineProperty(t,lo,{value:!0,configurable:!0});const i=window.scrollX,r=window.scrollY;if(s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=uy(t))===null||e===void 0||e.appendChild(t),!Wd(t))return Ep(t);const[o,a,l,c]=sC(t),u=Rl(t),d=Ot.get(t);(i!==Hd||r!==zd)&&nC(t,i,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!co(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=qd(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}ii.set(t,f),f.addEventListener("finish",Ep.bind(null,t,h))}function nC(t,e,n,s){const i=Hd-e,r=zd-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(Cs).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!co(s)){const h=c-l.clientHeight,p=u-l.clientWidth;d+s.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function sC(t){const e=Ot.get(t),[n,,s]=cy(t,e,Gi(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const r=getComputedStyle(i),o=Ot.get(i)||Gi(i),a=Math.round(e.top-o.top)-_n(r.borderTopWidth),l=Math.round(e.left-o.left)-_n(r.borderLeftWidth);return[a,l,n,s]}function iC(t,e={}){return Iu&&Pi&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!co(e)&&!e.disrespectUserMotionPreference||(Nr.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),dy(t,yi,YT,i=>Pi==null?void 0:Pi.observe(i)),co(e)?qi.set(t,e):qi.set(t,{duration:250,easing:"ease-in-out",...e}),Iu.observe(t,{childList:!0}),ay.add(t))),Object.freeze({parent:t,enable:()=>{Nr.add(t)},disable:()=>{Nr.delete(t)},isEnabled:()=>Nr.has(t)})}const rC={mounted:(t,e)=>{iC(t,e.value||{})},getSSRProps:()=>({})},oC=rC,aC={install(t){t.directive("auto-animate",oC)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fy;const Ol=t=>fy=t,hy=Symbol();function ku(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var qr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(qr||(qr={}));function lC(){const t=Ng(!0),e=t.run(()=>D({}));let n=[],s=[];const i=wl({install(r){Ol(i),i._a=r,r.provide(hy,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const py=()=>{};function Tp(t,e,n,s=py){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Mg()&&T0(i),i}function Ti(t,...e){t.slice().forEach(n=>{n(...e)})}const cC=t=>t(),Cp=Symbol(),Cc=Symbol();function Pu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];ku(i)&&ku(s)&&t.hasOwnProperty(n)&&!Ze(s)&&!Ss(s)?t[n]=Pu(i,s):t[n]=s}return t}const uC=Symbol();function dC(t){return!ku(t)||!t.hasOwnProperty(uC)}const{assign:cs}=Object;function fC(t){return!!(Ze(t)&&t.effect)}function hC(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=q0(n.state.value[t]);return cs(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=wl(Q(()=>{Ol(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=my(t,c,e,n,s,!0),l}function my(t,e,n={},s,i,r){let o;const a=cs({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),D({});let m;function _(C){let x;c=u=!1,typeof C=="function"?(C(s.state.value[t]),x={type:qr.patchFunction,storeId:t,events:h}):(Pu(s.state.value[t],C),x={type:qr.patchObject,payload:C,storeId:t,events:h});const R=m=Symbol();tr().then(()=>{m===R&&(c=!0)}),u=!0,Ti(d,x,s.state.value[t])}const v=r?function(){const{state:x}=n,R=x?x():{};this.$patch(V=>{cs(V,R)})}:py;function y(){o.stop(),d=[],f=[],s._s.delete(t)}const g=(C,x="")=>{if(Cp in C)return C[Cc]=x,C;const R=function(){Ol(s);const V=Array.from(arguments),W=[],H=[];function se(le){W.push(le)}function oe(le){H.push(le)}Ti(f,{args:V,name:R[Cc],store:T,after:se,onError:oe});let ae;try{ae=C.apply(this&&this.$id===t?this:T,V)}catch(le){throw Ti(H,le),le}return ae instanceof Promise?ae.then(le=>(Ti(W,le),le)).catch(le=>(Ti(H,le),Promise.reject(le))):(Ti(W,ae),ae)};return R[Cp]=!0,R[Cc]=x,R},S={_p:s,$id:t,$onAction:Tp.bind(null,f),$patch:_,$reset:v,$subscribe(C,x={}){const R=Tp(d,C,x.detached,()=>V()),V=o.run(()=>Ke(()=>s.state.value[t],W=>{(x.flush==="sync"?u:c)&&C({storeId:t,type:qr.direct,events:h},W)},cs({},l,x)));return R},$dispose:y},T=Os(S);s._s.set(t,T);const L=(s._a&&s._a.runWithContext||cC)(()=>s._e.run(()=>(o=Ng()).run(()=>e({action:g}))));for(const C in L){const x=L[C];if(Ze(x)&&!fC(x)||Ss(x))r||(p&&dC(x)&&(Ze(x)?x.value=p[C]:Pu(x,p[C])),s.state.value[t][C]=x);else if(typeof x=="function"){const R=g(x,C);L[C]=R,a.actions[C]=x}}return cs(T,L),cs(ke(T),L),Object.defineProperty(T,"$state",{get:()=>s.state.value[t],set:C=>{_(x=>{cs(x,C)})}}),s._p.forEach(C=>{cs(T,o.run(()=>C({store:T,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function Io(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=_S();return a=a||(c?We(hy,null):null),a&&Ol(a),a=fy,a._s.has(s)||(r?my(s,e,i,a):hC(s,i,a)),a._s.get(s)}return o.$id=s,o}const pC={key:0},mC={key:1},gC={key:2},vC={key:3},yC={key:4},_C={key:5},wC={key:6},bC={key:7},SC={key:8},EC={key:9},Gd=Xe({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const s=Y0(n,"modelValue"),i=e,r=g=>{g!==s.value&&(g>l.value||g<1||n.disablePagination||(i("update:modelValue",g),i("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=Q(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=Q(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let A=Math.floor(n.maxPagesShown/2),L=Math.ceil(n.maxPagesShown/2)-1;s.value<=A?(g=1,S=n.maxPagesShown):s.value+L>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=s.value-A,S=s.value+L)}let T=Array.from(Array(S+1-g).keys()).map(A=>g+A);return n.dir==="rtl"&&(T=T.reverse()),{totalItems:n.totalItems,currentPage:s.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:T}}),u=Q(()=>n.dir==="rtl"),d=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==l.value:!n.hidePrevNextWhenEnds||s.value!==1),f=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==1:!n.hidePrevNextWhenEnds||s.value!==l.value),h=Q(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=Q(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),_=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),v=Q(()=>s.value!==1),y=Q(()=>s.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(k(),B("ul",{id:"componentContainer",class:Ie(t.paginationContainerClass)},[t.showEndingButtons&&v.value?(k(),B("li",pC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=nt(T=>r(u.value?l.value:1),["prevent"])),class:Ie([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:J(()=>[st(g.$slots,"first-page-button",{},()=>[Pe(ne(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Te("",!0),t.showJumpButtons&&h.value?(k(),B("li",mC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=nt(T=>r(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ie([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:J(()=>[st(g.$slots,"backward-jump-button",{},()=>[Pe(ne(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Te("",!0),!t.hidePrevNext&&d.value?(k(),B("li",gC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+1:s.value-1),onClick:S[2]||(S[2]=nt(T=>r(u.value?s.value+1:s.value-1),["prevent"])),class:Ie([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:J(()=>[st(g.$slots,"prev-button",{},()=>[Pe(ne(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Te("",!0),t.showBreakpointButtons&&m.value?(k(),B("li",vC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=nt(T=>r(u.value?l.value:1),["prevent"])),class:Ie([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:J(()=>[Pe(ne(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):Te("",!0),t.showBreakpointButtons&&h.value?(k(),B("li",yC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=nt(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ie([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:J(()=>[st(g.$slots,"starting-breakpoint-button",{},()=>[Pe(ne(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):Te("",!0),(k(!0),B(Re,null,Ns(c.value.pages,(T,A)=>(k(),B("li",{key:A},[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(T),onClick:nt(()=>r(T),["prevent"]),class:Ie([t.paginateButtonsClass,t.numberButtonsClass,T===s.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:J(()=>[Pe(ne(o(T)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(k(),B("li",_C,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=nt(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ie([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:J(()=>[st(g.$slots,"ending-breakpoint-button",{},()=>[Pe(ne(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):Te("",!0),t.showBreakpointButtons&&_.value?(k(),B("li",wC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=nt(T=>r(u.value?1:l.value),["prevent"])),class:Ie([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:J(()=>[Pe(ne(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):Te("",!0),!t.hidePrevNext&&f.value?(k(),B("li",bC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-1:s.value+1),onClick:S[7]||(S[7]=nt(T=>r(u.value?s.value-1:s.value+1),["prevent"])),class:Ie([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:J(()=>[st(g.$slots,"next-button",{},()=>[Pe(ne(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Te("",!0),t.showJumpButtons&&p.value?(k(),B("li",SC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=nt(T=>r(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ie([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:J(()=>[st(g.$slots,"forward-jump-button",{},()=>[Pe(ne(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Te("",!0),t.showEndingButtons&&y.value?(k(),B("li",EC,[(k(),re(Qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=nt(T=>r(u.value?1:l.value),["prevent"])),class:Ie([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:J(()=>[st(g.$slots,"last-page-button",{},()=>[Pe(ne(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Te("",!0)],2))}});var TC={install:t=>{t.component("VueAwesomePaginate",Gd)}};function gy(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function vy(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Kd(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function CC(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function xC(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function Nl(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function yy(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function IC(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function _y(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function Yd(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function kC(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function PC(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function wy(t,e){return k(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw sr(e)},sr=function(t){return new Error("Firebase Database ("+by.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new RC;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ey=function(t){const e=Sy(t);return Xd.encodeByteArray(e,!0)},Oa=function(t){return Ey(t).replace(/\./g,"")},Na=function(t){try{return Xd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){return Ty(void 0,t)}function Ty(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!NC(n)||(t[n]=Ty(t[n],e[n]));return t}function NC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=()=>MC().__FIREBASE_DEFAULTS__,LC=()=>{if(typeof process>"u"||typeof xp>"u")return;const t=xp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$C=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Na(t[1]);return e&&JSON.parse(e)},Jd=()=>{try{return DC()||LC()||$C()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cy=t=>{var e,n;return(n=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FC=t=>{const e=Cy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xy=()=>{var t;return(t=Jd())===null||t===void 0?void 0:t.config},Iy=t=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oa(JSON.stringify(n)),Oa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function UC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ky(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VC(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HC(){return by.NODE_ADMIN===!0}function Py(){try{return typeof indexedDB=="object"}catch{return!1}}function Ay(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="FirebaseError";class is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zC,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ms.prototype.create)}}class Ms{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?WC(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new is(i,a,s)}}function WC(t,e){return t.replace(qC,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const qC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){return JSON.parse(t)}function ft(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=uo(Na(r[0])||""),n=uo(Na(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},GC=function(t){const e=Ry(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},KC=function(t){const e=Ry(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ki(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Au(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ma(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Da(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Ip(r)&&Ip(o)){if(!Da(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Ip(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Dr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function XC(t,e){const n=new JC(t,e);return n.subscribe.bind(n)}class JC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");QC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=xc),i.error===void 0&&(i.error=xc),i.complete===void 0&&(i.complete=xc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xc(){}function Ml(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,G(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dl=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class Jt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ko;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n1(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:t1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t1(t){return t===Vs?void 0:t}function n1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const i1={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},r1=Fe.INFO,o1={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},a1=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=o1[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zd{constructor(e){this.name=e,this._logLevel=r1,this._logHandler=a1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const l1=(t,e)=>e.some(n=>t instanceof n);let kp,Pp;function c1(){return kp||(kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u1(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Oy=new WeakMap,Ru=new WeakMap,Ny=new WeakMap,Ic=new WeakMap,ef=new WeakMap;function d1(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Kn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Oy.set(n,t)}).catch(()=>{}),ef.set(e,t),e}function f1(t){if(Ru.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ru.set(t,e)}let Ou={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ru.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ny.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h1(t){Ou=t(Ou)}function p1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(kc(this),e,...n);return Ny.set(s,e.sort?e.sort():[e]),Kn(s)}:u1().includes(t)?function(...e){return t.apply(kc(this),e),Kn(Oy.get(this))}:function(...e){return Kn(t.apply(kc(this),e))}}function m1(t){return typeof t=="function"?p1(t):(t instanceof IDBTransaction&&f1(t),l1(t,c1())?new Proxy(t,Ou):t)}function Kn(t){if(t instanceof IDBRequest)return d1(t);if(Ic.has(t))return Ic.get(t);const e=m1(t);return e!==t&&(Ic.set(t,e),ef.set(e,t)),e}const kc=t=>ef.get(t);function rr(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Kn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Kn(o.result),l.oldVersion,l.newVersion,Kn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Li(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),Kn(n).then(()=>{})}const g1=["get","getKey","getAll","getAllKeys","count"],v1=["put","add","delete","clear"],Pc=new Map;function Ap(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pc.get(e))return Pc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=v1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||g1.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Pc.set(e,r),r}h1(t=>({...t,get:(e,n,s)=>Ap(e,n)||t.get(e,n,s),has:(e,n)=>!!Ap(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nu="@firebase/app",Rp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new Zd("@firebase/app"),w1="@firebase/app-compat",b1="@firebase/analytics-compat",S1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",C1="@firebase/auth",x1="@firebase/auth-compat",I1="@firebase/database",k1="@firebase/data-connect",P1="@firebase/database-compat",A1="@firebase/functions",R1="@firebase/functions-compat",O1="@firebase/installations",N1="@firebase/installations-compat",M1="@firebase/messaging",D1="@firebase/messaging-compat",L1="@firebase/performance",$1="@firebase/performance-compat",F1="@firebase/remote-config",B1="@firebase/remote-config-compat",U1="@firebase/storage",j1="@firebase/storage-compat",V1="@firebase/firestore",H1="@firebase/vertexai",z1="@firebase/firestore-compat",W1="firebase",q1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="[DEFAULT]",G1={[Nu]:"fire-core",[w1]:"fire-core-compat",[S1]:"fire-analytics",[b1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[C1]:"fire-auth",[x1]:"fire-auth-compat",[I1]:"fire-rtdb",[k1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[A1]:"fire-fn",[R1]:"fire-fn-compat",[O1]:"fire-iid",[N1]:"fire-iid-compat",[M1]:"fire-fcm",[D1]:"fire-fcm-compat",[L1]:"fire-perf",[$1]:"fire-perf-compat",[F1]:"fire-rc",[B1]:"fire-rc-compat",[U1]:"fire-gcs",[j1]:"fire-gcs-compat",[V1]:"fire-fst",[z1]:"fire-fst-compat",[H1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Map,K1=new Map,Du=new Map;function Op(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ln(t){const e=t.name;if(Du.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Du.set(e,t);for(const n of La.values())Op(n,t);for(const n of K1.values())Op(n,t);return!0}function or(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Ms("app","Firebase",Y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=q1;function My(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=xy()),!n)throw Es.create("no-options");const r=La.get(i);if(r){if(Da(n,r.options)&&Da(s,r.config))return r;throw Es.create("duplicate-app",{appName:i})}const o=new s1(i);for(const l of Du.values())o.addComponent(l);const a=new X1(n,s,o);return La.set(i,a),a}function tf(t=Mu){const e=La.get(t);if(!e&&t===Mu&&xy())return My();if(!e)throw Es.create("no-app",{appName:t});return e}function Kt(t,e,n){var s;let i=(s=G1[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}ln(new Jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebase-heartbeat-database",Q1=1,fo="firebase-heartbeat-store";let Ac=null;function Dy(){return Ac||(Ac=rr(J1,Q1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),Ac}async function Z1(t){try{const n=(await Dy()).transaction(fo),s=await n.objectStore(fo).get(Ly(t));return await n.done,s}catch(e){if(e instanceof is)Zn.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function Np(t,e){try{const s=(await Dy()).transaction(fo,"readwrite");await s.objectStore(fo).put(e,Ly(t)),await s.done}catch(n){if(n instanceof is)Zn.warn(n.message);else{const s=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(s.message)}}}function Ly(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=1024,tx=30*24*60*60*1e3;class nx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ix(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tx}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Zn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mp(),{heartbeatsToSend:s,unsentEntries:i}=sx(this._heartbeatsCache.heartbeats),r=Oa(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Zn.warn(n),""}}}function Mp(){return new Date().toISOString().substring(0,10)}function sx(t,e=ex){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Dp(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ix{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Py()?Ay().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Np(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Np(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Dp(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){ln(new Jt("platform-logger",e=>new y1(e),"PRIVATE")),ln(new Jt("heartbeat",e=>new nx(e),"PRIVATE")),Kt(Nu,Rp,t),Kt(Nu,Rp,"esm2017"),Kt("fire-js","")}rx("");var Lp={};const $p="@firebase/database",Fp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y="";function ox(t){$y=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:uo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ax(e)}}catch{}return new lx},Ws=Fy("localStorage"),cx=Fy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Zd("@firebase/database"),ux=function(){let t=1;return function(){return t++}}(),By=function(t){const e=ZC(t),n=new YC;n.update(e);const s=n.digest();return Xd.encodeByteArray(s)},Po=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Po.apply(null,s):typeof s=="object"?e+=ft(s):e+=s,e+=" "}return e};let Gr=null,Bp=!0;const dx=function(t,e){G(!0,"Can't turn on custom loggers persistently."),$i.logLevel=Fe.VERBOSE,Gr=$i.log.bind($i)},mt=function(...t){if(Bp===!0&&(Bp=!1,Gr===null&&cx.get("logging_enabled")===!0&&dx()),Gr){const e=Po.apply(null,t);Gr(e)}},Ao=function(t){return function(...e){mt(t,...e)}},Lu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Po(...t);$i.error(e)},es=function(...t){const e=`FIREBASE FATAL ERROR: ${Po(...t)}`;throw $i.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+Po(...t);$i.warn(e)},fx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ri="[MIN_NAME]",xs="[MAX_NAME]",_i=function(t,e){if(t===e)return 0;if(t===ri||e===xs)return-1;if(e===ri||t===xs)return 1;{const n=Up(t),s=Up(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},px=function(t,e){return t===e?0:t<e?-1:1},Er=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ft(e))},sf=function(t){if(typeof t!="object"||t===null)return ft(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=ft(e[s]),n+=":",n+=sf(t[e[s]]);return n+="}",n},Uy=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jy=function(t){G(!nf(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},mx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const yx=new RegExp("^-?(0*)\\d{1,10}$"),_x=-2147483648,wx=2147483647,Up=function(t){if(yx.test(t)){const e=Number(t);if(e>=_x&&e<=wx)return e}return null},lr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},bx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class ca{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ca.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="5",Vy="v",Hy="s",zy="r",Wy="f",qy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gy="ls",Ky="p",$u="ac",Yy="websocket",Xy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ws.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ws.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Tx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Qy(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let s;if(e===Yy)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Xy)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Tx(t)&&(n.ns=t.namespace);const i=[];return gt(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return OC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={},Oc={};function of(t){const e=t.toString();return Rc[e]||(Rc[e]=new Cx),Rc[e]}function xx(t,e){const n=t.toString();return Oc[n]||(Oc[n]=e()),Oc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&lr(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="start",kx="close",Px="pLPCommand",Ax="pRTLPCB",Zy="id",e_="pw",t_="ser",Rx="cb",Ox="seg",Nx="ts",Mx="d",Dx="dframe",n_=1870,s_=30,Lx=n_-s_,$x=25e3,Fx=3e4;class Ai{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ao(e),this.stats_=of(n),this.urlFn=l=>(this.appCheckToken&&(l[$u]=this.appCheckToken),Qy(n,Xy,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ix(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Fx)),hx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new af((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jp)this.id=a,this.password=l;else if(o===kx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[jp]="t",s[t_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Rx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Vy]=rf,this.transportSessionId&&(s[Hy]=this.transportSessionId),this.lastSessionId&&(s[Gy]=this.lastSessionId),this.applicationId&&(s[Ky]=this.applicationId),this.appCheckToken&&(s[$u]=this.appCheckToken),typeof location<"u"&&location.hostname&&qy.test(location.hostname)&&(s[zy]=Wy);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ai.forceAllow_=!0}static forceDisallow(){Ai.forceDisallow_=!0}static isAvailable(){return Ai.forceAllow_?!0:!Ai.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mx()&&!gx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ey(n),i=Uy(s,Lx);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Dx]="t",s[Zy]=e,s[e_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ft(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class af{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ux(),window[Px+this.uniqueCallbackIdentifier]=e,window[Ax+this.uniqueCallbackIdentifier]=n,this.myIFrame=af.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mt("frame writing exception"),a.stack&&mt(a.stack),mt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Zy]=this.myID,e[e_]=this.myPW,e[t_]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+s_+s.length<=n_;){const o=this.pendingSegs.shift();s=s+"&"+Ox+i+"="+o.seg+"&"+Nx+i+"="+o.ts+"&"+Mx+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor($x)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=16384,Ux=45e3;let $a=null;typeof MozWebSocket<"u"?$a=MozWebSocket:typeof WebSocket<"u"&&($a=WebSocket);class Sn{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ao(this.connId),this.stats_=of(n),this.connURL=Sn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Vy]=rf,typeof location<"u"&&location.hostname&&qy.test(location.hostname)&&(o[zy]=Wy),n&&(o[Hy]=n),s&&(o[Gy]=s),i&&(o[$u]=i),r&&(o[Ky]=r),Qy(e,Yy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ws.set("previous_websocket_failure",!0);try{let s;HC(),this.mySock=new $a(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&$a!==null&&!Sn.forceDisallow_}static previouslyFailed(){return Ws.isInMemoryStorage||Ws.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ws.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=uo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Uy(n,Bx);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ux))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Sn.responsesRequiredToBeHealthy=2;Sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static get ALL_TRANSPORTS(){return[Ai,Sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Sn.isAvailable();let s=n&&!Sn.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Sn];else{const i=this.transports_=[];for(const r of ho.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);ho.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ho.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=6e4,Vx=5e3,Hx=10*1024,zx=100*1024,Nc="t",Vp="d",Wx="s",Hp="r",qx="e",zp="o",Wp="a",qp="n",Gp="p",Gx="h";class Kx{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ao("c:"+this.id+":"),this.transportManager_=new ho(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Kr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nc in e){const n=e[Nc];n===Wp?this.upgradeIfSecondaryHealthy_():n===Hp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Er("t",e),s=Er("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Er("t",e),s=Er("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Er(Nc,e);if(Vp in e){const s=e[Vp];if(n===Gx){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===qp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Wx?this.onConnectionShutdown_(s):n===Hp?this.onReset_(s):n===qx?Lu("Server Error: "+s):n===zp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),rf!==s&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Kr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Vx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ws.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends r_{static getInstance(){return new Fa}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=32,Yp=768;class $e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ne(){return new $e("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Is(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $e(t.pieces_,e)}function lf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Yx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function po(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function o_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $e(e,0)}function Je(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof $e)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new $e(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){const n=we(t),s=we(e);if(n===null)return e;if(n===s)return At(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Xx(t,e){const n=po(t,0),s=po(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=_i(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function cf(t,e){if(Is(t)!==Is(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Wt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Is(t)>Is(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class Jx{constructor(e,n){this.errorPrefix_=n,this.parts_=po(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Dl(this.parts_[s]);a_(this)}}function Qx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Dl(e),a_(t)}function Zx(t){const e=t.parts_.pop();t.byteLength_-=Dl(e),t.parts_.length>0&&(t.byteLength_-=1)}function a_(t){if(t.byteLength_>Yp)throw new Error(t.errorPrefix_+"has a key path longer than "+Yp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Kp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kp+") or object contains a cycle "+Hs(t))}function Hs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends r_{static getInstance(){return new uf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=1e3,eI=60*5*1e3,Xp=30*1e3,tI=1.3,nI=3e4,sI="server_kill",Jp=3;class Yn extends i_{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yn.nextPersistentConnectionId_++,this.log_=Ao("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tr,this.maxReconnectDelay_=eI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(ft(r)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new ko,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Yn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const s=Ki(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||KC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=GC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ft(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Lu("Unrecognized action received from server: "+ft(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nI&&(this.reconnectDelay_=Tr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Yn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Kx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{It(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(sI)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&It(d),l())}}}interrupt(e){mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Au(this.interruptReasons_)&&(this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>sf(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new $e(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){mt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jp&&(this.reconnectDelay_=Xp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$y.replace(/\./g,"-")]=1,Qd()?e["framework.cordova"]=1:ky()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fa.getInstance().currentlyOnline();return Au(this.interruptReasons_)&&e}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Se(ri,e),i=new Se(ri,n);return this.compare(s,i)!==0}minPost(){return Se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;class l_ extends Ll{static get __EMPTY_NODE(){return Go}static set __EMPTY_NODE(e){Go=e}compare(e,n){return _i(e.name,n.name)}isDefinedOn(e){throw sr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Se.MIN}maxPost(){return new Se(xs,Go)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,Go)}toString(){return".key"}}const Qs=new l_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??ct.RED,this.left=i??Rt.EMPTY_NODE,this.right=r??Rt.EMPTY_NODE}copy(e,n,s,i,r){return new ct(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class iI{copy(e,n,s,i,r){return this}insert(e,n,s){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,n=Rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ko(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ko(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ko(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ko(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new iI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){return _i(t.name,e.name)}function df(t,e){return _i(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;function oI(t){Fu=t}const c_=function(t){return typeof t=="number"?"number:"+jy(t):"string:"+t},u_=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else G(t===Fu||t.isEmpty(),"priority of unexpected type.");G(t===Fu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp;class at{static set __childrenNodeConstructor(e){Qp=e}static get __childrenNodeConstructor(){return Qp}constructor(e,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),u_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:we(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=we(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||Is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+c_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jy(this.value_):e+=this.value_,this.lazyHash_=By(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=at.VALUE_TYPE_ORDER.indexOf(n),r=at.VALUE_TYPE_ORDER.indexOf(s);return G(i>=0,"Unknown leaf type: "+n),G(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_,f_;function aI(t){d_=t}function lI(t){f_=t}class cI extends Ll{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?_i(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(xs,new at("[PRIORITY-POST]",f_))}makePost(e,n){const s=d_(e);return new Se(n,new at("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ye=new cI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=Math.log(2);class dI{constructor(e){const n=r=>parseInt(Math.log(r)/uI,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ba=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new ct(f,d.node,ct.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new ct(f,d.node,ct.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const _=d-p,v=d;d-=p;const y=i(_+1,v),g=t[_],S=n?n(g):g;h(new ct(S,g.node,m,null,y))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));m?f(_,ct.BLACK):(f(_,ct.BLACK),f(_,ct.RED))}return u},o=new dI(t.length),a=r(o);return new Rt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;const Cr={};class Hn{static get Default(){return G(Ye,"ChildrenNode.ts has not been loaded"),Mc=Mc||new Hn({".priority":Cr},{".priority":Ye}),Mc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(Se.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Ba(s,e.getCompare()):a=Cr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Hn(u,c)}addToIndexes(e,n){const s=Ma(this.indexes_,(i,r)=>{const o=Ki(this.indexSet_,r);if(G(o,"Missing index implementation for "+r),i===Cr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Se.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ba(a,o.getCompare())}else return Cr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Se(e.name,a))),l.insert(e,e.node)}});return new Hn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Ma(this.indexes_,i=>{if(i===Cr)return i;{const r=n.get(e.name);return r?i.remove(new Se(e.name,r)):i}});return new Hn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr;class fe{static get EMPTY_NODE(){return xr||(xr=new fe(new Rt(df),null,Hn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&u_(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xr}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?xr:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Se(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?xr:this.priorityNode_;return new fe(i,o,r)}}updateChild(e,n){const s=we(e);if(s===null)return n;{G(we(e)!==".priority"||Is(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(ze(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(Ye,(o,a)=>{n[o]=a.val(e),s++,r&&fe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+c_(this.getPriority().val())+":"),this.forEachChild(Ye,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":By(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new Se(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Se(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Se.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Se.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ro?-1:0}withIndex(e){if(e===Qs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ye),i=n.getIterator(Ye);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Qs?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fI extends fe{constructor(){super(new Rt(df),fe.EMPTY_NODE,Hn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const Ro=new fI;Object.defineProperties(Se,{MIN:{value:new Se(ri,fe.EMPTY_NODE)},MAX:{value:new Se(xs,Ro)}});l_.__EMPTY_NODE=fe.EMPTY_NODE;at.__childrenNodeConstructor=fe;oI(Ro);lI(Ro);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=!0;function ut(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new at(n,ut(e))}if(!(t instanceof Array)&&hI){const n=[];let s=!1;if(gt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ut(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new Se(o,l)))}}),n.length===0)return fe.EMPTY_NODE;const r=Ba(n,rI,o=>o.name,df);if(s){const o=Ba(n,Ye.getCompare());return new fe(r,ut(e),new Hn({".priority":o},{".priority":Ye}))}else return new fe(r,ut(e),Hn.Default)}else{let n=fe.EMPTY_NODE;return gt(t,(s,i)=>{if(Rn(t,s)&&s.substring(0,1)!=="."){const r=ut(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(ut(e))}}aI(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Ll{constructor(e){super(),this.indexPath_=e,G(!be(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?_i(e.name,n.name):r}makePost(e,n){const s=ut(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,s);return new Se(n,i)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,Ro);return new Se(xs,e)}toString(){return po(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Ll{compare(e,n){const s=e.node.compareTo(n.node);return s===0?_i(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,n){const s=ut(e);return new Se(n,s)}toString(){return".value"}}const h_=new pI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){return{type:"value",snapshotNode:t}}function Yi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function go(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(mo(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Yi(n,s)):o.trackChildChange(go(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ye,(i,r)=>{n.hasChild(i)||s.trackChildChange(mo(i,r))}),n.isLeafNode()||n.forEachChild(Ye,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(go(i,r,o))}else s.trackChildChange(Yi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.indexedFilter_=new hf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vo.getStartPost_(e),this.endPost_=vo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new Se(n,s))||(s=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);const r=this;return n.forEachChild(Ye,(o,a)=>{r.matches(new Se(o,a))||(i=i.updateImmediateChild(o,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new vo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new Se(n,s))||(s=fe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new Se(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(go(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(mo(n,d));const m=a.updateImmediateChild(n,fe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Yi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(mo(c.name,c.node)),r.trackChildChange(Yi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const e=new pf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function vI(t){return t.loadsAllData()?new hf(t.getIndex()):t.hasLimit()?new gI(t):new vo(t)}function yI(t,e){const n=t.copy();return n.index_=e,n}function Zp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ye?n="$priority":t.index_===h_?n="$value":t.index_===Qs?n="$key":(G(t.index_ instanceof ff,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ft(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=ft(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+ft(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=ft(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+ft(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function em(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends i_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Ao("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Ua.getListenId_(e,s),a={};this.listens_[o]=a;const l=Zp(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Ki(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Ua.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Zp(e._queryParams),s=e._path.toString(),i=new ko;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ir(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=uo(a.responseText)}catch{It("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&It("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(){return{value:null,children:new Map}}function m_(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=we(e);t.children.has(s)||t.children.set(s,ja());const i=t.children.get(s);e=ze(e),m_(i,e,n)}}function Bu(t,e,n){t.value!==null?n(e,t.value):wI(t,(s,i)=>{const r=new $e(e.toString()+"/"+s);Bu(i,r,n)})}function wI(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gt(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=10*1e3,SI=30*1e3,EI=5*60*1e3;class TI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bI(e);const s=tm+(SI-tm)*Math.random();Kr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;gt(e,(i,r)=>{r>0&&Rn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Kr(this.reportStats_.bind(this),Math.floor(Math.random()*2*EI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function mf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Zt.ACK_USER_WRITE,this.source=mf()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $e(e));return new Va(Ne(),n,this.revert)}}else return G(we(this.path)===e,"operationForChild called for unrelated child."),new Va(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new yo(this.source,Ne()):new yo(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Zt.OVERWRITE}operationForChild(e){return be(this.path)?new oi(this.source,Ne(),this.snap.getImmediateChild(e)):new oi(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Zt.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new $e(e));return n.isEmpty()?null:n.value?new oi(this.source,Ne(),n.value):new Xi(this.source,Ne(),n)}else return G(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xi(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xI(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(mI(o.childName,o.snapshotNode))}),Ir(t,i,"child_removed",e,s,n),Ir(t,i,"child_added",e,s,n),Ir(t,i,"child_moved",r,s,n),Ir(t,i,"child_changed",e,s,n),Ir(t,i,"value",e,s,n),i}function Ir(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>kI(t,a,l)),o.forEach(a=>{const l=II(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function II(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kI(t,e,n){if(e.childName==null||n.childName==null)throw sr("Should only compare child_ events.");const s=new Se(e.childName,e.snapshotNode),i=new Se(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t,e){return{eventCache:t,serverCache:e}}function Yr(t,e,n,s){return $l(new ai(e,n,s),t.serverCache)}function g_(t,e,n,s){return $l(t.eventCache,new ai(e,n,s))}function Uu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function li(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;const PI=()=>(Dc||(Dc=new Rt(px)),Dc);class He{static fromObject(e){let n=new He(null);return gt(e,(s,i)=>{n=n.set(new $e(s),i)}),n}constructor(e,n=PI()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(be(e))return null;{const s=we(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(ze(e),n);return r!=null?{path:Je(new $e(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=we(e),s=this.children.get(n);return s!==null?s.subtree(ze(e)):new He(null)}}set(e,n){if(be(e))return new He(n,this.children);{const s=we(e),r=(this.children.get(s)||new He(null)).set(ze(e),n),o=this.children.insert(s,r);return new He(this.value,o)}}remove(e){if(be(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=we(e),s=this.children.get(n);if(s){const i=s.remove(ze(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new He(null):new He(this.value,r)}else return this}}get(e){if(be(e))return this.value;{const n=we(e),s=this.children.get(n);return s?s.get(ze(e)):null}}setTree(e,n){if(be(e))return n;{const s=we(e),r=(this.children.get(s)||new He(null)).setTree(ze(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new He(this.value,o)}}fold(e){return this.fold_(Ne(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Je(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ne(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(be(e))return null;{const r=we(e),o=this.children.get(r);return o?o.findOnPath_(ze(e),Je(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ne(),n)}foreachOnPath_(e,n,s){if(be(e))return this;{this.value&&s(n,this.value);const i=we(e),r=this.children.get(i);return r?r.foreachOnPath_(ze(e),Je(n,i),s):new He(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Je(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.writeTree_=e}static empty(){return new nn(new He(null))}}function Xr(t,e,n){if(be(e))return new nn(new He(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=At(i,e);return r=r.updateChild(o,n),new nn(t.writeTree_.set(i,r))}else{const i=new He(n),r=t.writeTree_.setTree(e,i);return new nn(r)}}}function ju(t,e,n){let s=t;return gt(n,(i,r)=>{s=Xr(s,Je(e,i),r)}),s}function nm(t,e){if(be(e))return nn.empty();{const n=t.writeTree_.setTree(e,new He(null));return new nn(n)}}function Vu(t,e){return wi(t,e)!=null}function wi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function sm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ye,(s,i)=>{e.push(new Se(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new Se(s,i.value))}),e}function Ts(t,e){if(be(e))return t;{const n=wi(t,e);return n!=null?new nn(new He(n)):new nn(t.writeTree_.subtree(e))}}function Hu(t){return t.writeTree_.isEmpty()}function Ji(t,e){return v_(Ne(),t.writeTree_,e)}function v_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(G(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=v_(Je(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Je(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e){return b_(e,t)}function AI(t,e,n,s,i){G(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Xr(t.visibleWrites,e,n)),t.lastWriteId=s}function RI(t,e,n,s){G(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=ju(t.visibleWrites,e,n),t.lastWriteId=s}function OI(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function NI(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&MI(a,s.path)?i=!1:Wt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return DI(t),!0;if(s.snap)t.visibleWrites=nm(t.visibleWrites,s.path);else{const a=s.children;gt(a,l=>{t.visibleWrites=nm(t.visibleWrites,Je(s.path,l))})}return!0}else return!1}function MI(t,e){if(t.snap)return Wt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Wt(Je(t.path,n),e))return!0;return!1}function DI(t){t.visibleWrites=y_(t.allWrites,LI,Ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function LI(t){return t.visible}function y_(t,e,n){let s=nn.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)Wt(n,o)?(a=At(n,o),s=Xr(s,a,r.snap)):Wt(o,n)&&(a=At(o,n),s=Xr(s,Ne(),r.snap.getChild(a)));else if(r.children){if(Wt(n,o))a=At(n,o),s=ju(s,a,r.children);else if(Wt(o,n))if(a=At(o,n),be(a))s=ju(s,Ne(),r.children);else{const l=Ki(r.children,we(a));if(l){const c=l.getChild(ze(a));s=Xr(s,Ne(),c)}}}else throw sr("WriteRecord should have .snap or .children")}}return s}function __(t,e,n,s,i){if(!s&&!i){const r=wi(t.visibleWrites,e);if(r!=null)return r;{const o=Ts(t.visibleWrites,e);if(Hu(o))return n;if(n==null&&!Vu(o,Ne()))return null;{const a=n||fe.EMPTY_NODE;return Ji(o,a)}}}else{const r=Ts(t.visibleWrites,e);if(!i&&Hu(r))return n;if(!i&&n==null&&!Vu(r,Ne()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Wt(c.path,e)||Wt(e,c.path))},a=y_(t.allWrites,o,e),l=n||fe.EMPTY_NODE;return Ji(a,l)}}}function $I(t,e,n){let s=fe.EMPTY_NODE;const i=wi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ye,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Ts(t.visibleWrites,e);return n.forEachChild(Ye,(o,a)=>{const l=Ji(Ts(r,new $e(o)),a);s=s.updateImmediateChild(o,l)}),sm(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Ts(t.visibleWrites,e);return sm(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function FI(t,e,n,s,i){G(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=Je(e,n);if(Vu(t.visibleWrites,r))return null;{const o=Ts(t.visibleWrites,r);return Hu(o)?i.getChild(n):Ji(o,i.getChild(n))}}function BI(t,e,n,s){const i=Je(e,n),r=wi(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Ts(t.visibleWrites,i);return Ji(o,s.getNode().getImmediateChild(n))}else return null}function UI(t,e){return wi(t.visibleWrites,e)}function jI(t,e,n,s,i,r,o){let a;const l=Ts(t.visibleWrites,e),c=wi(l,Ne());if(c!=null)a=c;else if(n!=null)a=Ji(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function VI(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function Ha(t,e,n,s){return __(t.writeTree,t.treePath,e,n,s)}function _f(t,e){return $I(t.writeTree,t.treePath,e)}function im(t,e,n,s){return FI(t.writeTree,t.treePath,e,n,s)}function za(t,e){return UI(t.writeTree,Je(t.treePath,e))}function HI(t,e,n,s,i,r){return jI(t.writeTree,t.treePath,e,n,s,i,r)}function wf(t,e,n){return BI(t.writeTree,t.treePath,e,n)}function w_(t,e){return b_(Je(t.treePath,e),t.writeTree)}function b_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,go(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,mo(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Yi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,go(s,e.snapshotNode,i.oldSnap));else throw sr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const S_=new WI;class bf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wf(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:li(this.viewCache_),r=HI(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return{filter:t}}function GI(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function KI(t,e,n,s,i){const r=new zI;let o,a;if(n.type===Zt.OVERWRITE){const c=n;c.source.fromUser?o=zu(t,e,c.path,c.snap,s,i,r):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!be(c.path),o=Wa(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Zt.MERGE){const c=n;c.source.fromUser?o=XI(t,e,c.path,c.children,s,i,r):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Wu(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Zt.ACK_USER_WRITE){const c=n;c.revert?o=ZI(t,e,c.path,s,i,r):o=JI(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Zt.LISTEN_COMPLETE)o=QI(t,e,n.path,s,r);else throw sr("Unknown operation type: "+n.type);const l=r.getChanges();return YI(e,o,l),{viewCache:o,changes:l}}function YI(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Uu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(p_(Uu(e)))}}function E_(t,e,n,s,i,r){const o=e.eventCache;if(za(s,n)!=null)return e;{let a,l;if(be(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=li(e),u=c instanceof fe?c:fe.EMPTY_NODE,d=_f(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Ha(s,li(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=we(n);if(c===".priority"){G(Is(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=im(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ze(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=im(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=wf(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return Yr(e,a,o.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function Wa(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(be(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=we(n);if(!l.isCompleteForPath(n)&&Is(n)>1)return e;const p=ze(n),_=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),h,_,p,S_,null)}const d=g_(e,c,l.isFullyInitialized()||be(n),u.filtersNodes()),f=new bf(i,d,r);return E_(t,d,n,i,f,a)}function zu(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new bf(i,e,r);if(be(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Yr(e,c,!0,t.filter.filtersNodes());else{const d=we(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Yr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ze(n),h=a.getNode().getImmediateChild(d);let p;if(be(f))p=s;else{const m=u.getCompleteChild(d);m!=null?lf(f)===".priority"&&m.getChild(o_(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=fe.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Yr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function rm(t,e){return t.eventCache.isCompleteForChild(e)}function XI(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=Je(n,l);rm(e,we(u))&&(a=zu(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=Je(n,l);rm(e,we(u))||(a=zu(t,a,u,c,i,r,o))}),a}function om(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Wu(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;be(n)?c=s:c=new He(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=om(t,h,f);l=Wa(t,l,new $e(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=om(t,p,f);l=Wa(t,l,new $e(d),m,i,r,o,a)}}),l}function JI(t,e,n,s,i,r,o){if(za(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wa(t,e,n,l.getNode().getChild(n),i,r,a,o);if(be(n)){let c=new He(null);return l.getNode().forEachChild(Qs,(u,d)=>{c=c.set(new $e(u),d)}),Wu(t,e,n,c,i,r,a,o)}else return e}else{let c=new He(null);return s.foreach((u,d)=>{const f=Je(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Wu(t,e,n,c,i,r,a,o)}}function QI(t,e,n,s,i){const r=e.serverCache,o=g_(e,r.getNode(),r.isFullyInitialized()||be(n),r.isFiltered());return E_(t,o,n,s,S_,i)}function ZI(t,e,n,s,i,r){let o;if(za(s,n)!=null)return e;{const a=new bf(s,e,i),l=e.eventCache.getNode();let c;if(be(n)||we(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ha(s,li(e));else{const d=e.serverCache.getNode();G(d instanceof fe,"serverChildren would be complete if leaf node"),u=_f(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=we(n);let d=wf(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ze(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,fe.EMPTY_NODE,ze(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ha(s,li(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||za(s,Ne())!=null,Yr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new hf(s.getIndex()),r=vI(s);this.processor_=qI(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(fe.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),u=new ai(l,o.isFullyInitialized(),i.filtersNodes()),d=new ai(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=$l(d,u),this.eventGenerator_=new CI(this.query_)}get query(){return this.query_}}function tk(t){return t.viewCache_.serverCache.getNode()}function nk(t,e){const n=li(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function am(t){return t.eventRegistrations_.length===0}function sk(t,e){t.eventRegistrations_.push(e)}function lm(t,e,n){const s=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function cm(t,e,n,s){e.type===Zt.MERGE&&e.source.queryId!==null&&(G(li(t.viewCache_),"We should always have a full cache before handling merges"),G(Uu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=KI(t.processor_,i,e,n,s);return GI(t.processor_,r.viewCache),G(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,T_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function ik(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ye,(r,o)=>{s.push(Yi(r,o))}),n.isFullyInitialized()&&s.push(p_(n.getNode())),T_(t,s,n.getNode(),e)}function T_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return xI(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;class rk{constructor(){this.views=new Map}}function ok(t){G(!qa,"__referenceConstructor has already been defined"),qa=t}function ak(){return G(qa,"Reference.ts has not been loaded"),qa}function lk(t){return t.views.size===0}function Sf(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return G(r!=null,"SyncTree gave us an op for an invalid query."),cm(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(cm(o,e,n,s));return r}}function ck(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Ha(n,i?s:null),l=!1;a?l=!0:s instanceof fe?(a=_f(n,s),l=!1):(a=fe.EMPTY_NODE,l=!1);const c=$l(new ai(a,l,!1),new ai(s,i,!1));return new ek(e,c)}return o}function uk(t,e,n,s,i,r){const o=ck(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),sk(o,n),ik(o,n)}function dk(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=ks(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(lm(c,n,s)),am(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(lm(l,n,s)),am(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!ks(t)&&r.push(new(ak())(e._repo,e._path)),{removed:r,events:o}}function C_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fi(t,e){let n=null;for(const s of t.views.values())n=n||nk(s,e);return n}function x_(t,e){if(e._queryParams.loadsAllData())return Fl(t);{const s=e._queryIdentifier;return t.views.get(s)}}function I_(t,e){return x_(t,e)!=null}function ks(t){return Fl(t)!=null}function Fl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;function fk(t){G(!Ga,"__referenceConstructor has already been defined"),Ga=t}function hk(){return G(Ga,"Reference.ts has not been loaded"),Ga}let pk=1;class um{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=VI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function k_(t,e,n,s,i){return AI(t.pendingWriteTree_,e,n,s,i),i?cr(t,new oi(mf(),e,n)):[]}function mk(t,e,n,s){RI(t.pendingWriteTree_,e,n,s);const i=He.fromObject(n);return cr(t,new Xi(mf(),e,i))}function ys(t,e,n=!1){const s=OI(t.pendingWriteTree_,e);if(NI(t.pendingWriteTree_,e)){let r=new He(null);return s.snap!=null?r=r.set(Ne(),!0):gt(s.children,o=>{r=r.set(new $e(o),!0)}),cr(t,new Va(s.path,r,n))}else return[]}function Bl(t,e,n){return cr(t,new oi(gf(),e,n))}function gk(t,e,n){const s=He.fromObject(n);return cr(t,new Xi(gf(),e,s))}function vk(t,e){return cr(t,new yo(gf(),e))}function yk(t,e,n){const s=Tf(t,n);if(s){const i=Cf(s),r=i.path,o=i.queryId,a=At(r,e),l=new yo(vf(o),a);return xf(t,r,l)}else return[]}function qu(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||I_(o,e))){const l=dk(o,e,n,s);lk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>ks(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=bk(f);for(let p=0;p<h.length;++p){const m=h[p],_=m.query,v=R_(t,m);t.listenProvider_.startListening(Jr(_),Ka(t,_),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Jr(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Ul(f));t.listenProvider_.stopListening(Jr(f),h)}))}Sk(t,c)}return a}function _k(t,e,n,s){const i=Tf(t,s);if(i!=null){const r=Cf(i),o=r.path,a=r.queryId,l=At(o,e),c=new oi(vf(a),l,n);return xf(t,o,c)}else return[]}function wk(t,e,n,s){const i=Tf(t,s);if(i){const r=Cf(i),o=r.path,a=r.queryId,l=At(o,e),c=He.fromObject(n),u=new Xi(vf(a),l,c);return xf(t,o,u)}else return[]}function dm(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=At(f,i);r=r||Fi(h,p),o=o||ks(h)});let a=t.syncPointTree_.get(i);a?(o=o||ks(a),r=r||Fi(a,Ne())):(a=new rk,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=fe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=Fi(p,Ne());m&&(r=r.updateImmediateChild(h,m))}));const c=I_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ul(e);G(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=Ek();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=yf(t.pendingWriteTree_,i);let d=uk(a,e,n,u,r,l);if(!c&&!o&&!s){const f=x_(a,e);d=d.concat(Tk(t,e,f))}return d}function Ef(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=At(o,e),c=Fi(a,l);if(c)return c});return __(i,e,r,n,!0)}function cr(t,e){return P_(e,t.syncPointTree_,null,yf(t.pendingWriteTree_,Ne()))}function P_(t,e,n,s){if(be(t.path))return A_(t,e,n,s);{const i=e.get(Ne());n==null&&i!=null&&(n=Fi(i,Ne()));let r=[];const o=we(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=w_(s,o);r=r.concat(P_(a,l,c,u))}return i&&(r=r.concat(Sf(i,t,s,n))),r}}function A_(t,e,n,s){const i=e.get(Ne());n==null&&i!=null&&(n=Fi(i,Ne()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=w_(s,o),u=t.operationForChild(o);u&&(r=r.concat(A_(u,a,l,c)))}),i&&(r=r.concat(Sf(i,t,s,n))),r}function R_(t,e){const n=e.query,s=Ka(t,n);return{hashFn:()=>(tk(e)||fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?yk(t,n._path,s):vk(t,n._path);{const r=vx(i,n);return qu(t,n,null,r)}}}}function Ka(t,e){const n=Ul(e);return t.queryToTagMap.get(n)}function Ul(t){return t._path.toString()+"$"+t._queryIdentifier}function Tf(t,e){return t.tagToQueryMap.get(e)}function Cf(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $e(t.substr(0,e))}}function xf(t,e,n){const s=t.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const i=yf(t.pendingWriteTree_,e);return Sf(s,n,i,null)}function bk(t){return t.fold((e,n,s)=>{if(n&&ks(n))return[Fl(n)];{let i=[];return n&&(i=C_(n)),gt(s,(r,o)=>{i=i.concat(o)}),i}})}function Jr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hk())(t._repo,t._path):t}function Sk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Ul(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function Ek(){return pk++}function Tk(t,e,n){const s=e._path,i=Ka(t,e),r=R_(t,n),o=t.listenProvider_.startListening(Jr(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)G(!ks(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!be(c)&&u&&ks(u))return[Fl(u).query];{let f=[];return u&&(f=f.concat(C_(u).map(h=>h.query))),gt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Jr(u),Ka(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new If(n)}node(){return this.node_}}class kf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new kf(this.syncTree_,n)}node(){return Ef(this.syncTree_,this.path_)}}const Ck=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},fm=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Ik(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},Ik=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},O_=function(t,e,n,s){return Pf(e,new kf(n,t),s)},N_=function(t,e,n){return Pf(t,new If(e),n)};function Pf(t,e,n){const s=t.getPriority().val(),i=fm(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=fm(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new at(a,ut(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new at(i))),o.forEachChild(Ye,(a,l)=>{const c=Pf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Rf(t,e){let n=e instanceof $e?e:new $e(e),s=t,i=we(n);for(;i!==null;){const r=Ki(s.node.children,i)||{children:{},childCount:0};s=new Af(i,s,r),n=ze(n),i=we(n)}return s}function ur(t){return t.node.value}function M_(t,e){t.node.value=e,Gu(t)}function D_(t){return t.node.childCount>0}function kk(t){return ur(t)===void 0&&!D_(t)}function jl(t,e){gt(t.node.children,(n,s)=>{e(new Af(n,t,s))})}function L_(t,e,n,s){n&&e(t),jl(t,i=>{L_(i,e,!0)})}function Pk(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Oo(t){return new $e(t.parent===null?t.name:Oo(t.parent)+"/"+t.name)}function Gu(t){t.parent!==null&&Ak(t.parent,t.name,t)}function Ak(t,e,n){const s=kk(n),i=Rn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Gu(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=/[\[\].#$\/\u0000-\u001F\u007F]/,Ok=/[\[\].#$\u0000-\u001F\u007F]/,Lc=10*1024*1024,Of=function(t){return typeof t=="string"&&t.length!==0&&!Rk.test(t)},$_=function(t){return typeof t=="string"&&t.length!==0&&!Ok.test(t)},Nk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$_(t)},Ku=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!nf(t)||t&&typeof t=="object"&&Rn(t,".sv")},Mk=function(t,e,n,s){Vl(Ml(t,"value"),e,n)},Vl=function(t,e,n){const s=n instanceof $e?new Jx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Hs(s));if(typeof e=="function")throw new Error(t+"contains a function "+Hs(s)+" with contents = "+e.toString());if(nf(e))throw new Error(t+"contains "+e.toString()+" "+Hs(s));if(typeof e=="string"&&e.length>Lc/3&&Dl(e)>Lc)throw new Error(t+"contains a string greater than "+Lc+" utf8 bytes "+Hs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(gt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Of(o)))throw new Error(t+" contains an invalid key ("+o+") "+Hs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Qx(s,o),Vl(t,a,s),Zx(s)}),i&&r)throw new Error(t+' contains ".value" child '+Hs(s)+" in addition to actual children.")}},Dk=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=po(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Of(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Xx);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Wt(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},Lk=function(t,e,n,s){const i=Ml(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];gt(e,(o,a)=>{const l=new $e(o);if(Vl(i,a,Je(n,l)),lf(l)===".priority"&&!Ku(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),Dk(i,r)},Nf=function(t,e,n,s){if(!$_(n))throw new Error(Ml(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$k=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Nf(t,e,n)},F_=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Fk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Of(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Nk(n))throw new Error(Ml(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hl(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!cf(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function B_(t,e,n){Hl(t,n),U_(t,s=>cf(s,e))}function cn(t,e,n){Hl(t,n),U_(t,s=>Wt(s,e)||Wt(e,s))}function U_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(Uk(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Uk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Gr&&mt("event: "+n.toString()),lr(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="repo_interrupt",Vk=25;class Hk{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ja(),this.transactionQueueTree_=new Af,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zk(t,e,n){if(t.stats_=of(t.repoInfo_),t.forceRestClient_||bx())t.server_=new Ua(t.repoInfo_,(s,i,r,o)=>{hm(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>pm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Yn(t.repoInfo_,e,(s,i,r,o)=>{hm(t,s,i,r,o)},s=>{pm(t,s)},s=>{qk(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=xx(t.repoInfo_,()=>new TI(t.stats_,t.server_)),t.infoData_=new _I,t.infoSyncTree_=new um({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Bl(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Mf(t,"connected",!1),t.serverSyncTree_=new um({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);cn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Wk(t){const n=t.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zl(t){return Ck({timestamp:Wk(t)})}function hm(t,e,n,s,i){t.dataUpdateCount++;const r=new $e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=Ma(n,c=>ut(c));o=wk(t.serverSyncTree_,r,l,i)}else{const l=ut(n);o=_k(t.serverSyncTree_,r,l,i)}else if(s){const l=Ma(n,c=>ut(c));o=gk(t.serverSyncTree_,r,l)}else{const l=ut(n);o=Bl(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Qi(t,r)),cn(t.eventQueue_,a,o)}function pm(t,e){Mf(t,"connected",e),e===!1&&Yk(t)}function qk(t,e){gt(e,(n,s)=>{Mf(t,n,s)})}function Mf(t,e,n){const s=new $e("/.info/"+e),i=ut(n);t.infoData_.updateSnapshot(s,i);const r=Bl(t.infoSyncTree_,s,i);cn(t.eventQueue_,s,r)}function Df(t){return t.nextWriteId_++}function Gk(t,e,n,s,i){Wl(t,"set",{path:e.toString(),value:n,priority:s});const r=zl(t),o=ut(n,s),a=Ef(t.serverSyncTree_,e),l=N_(o,a,r),c=Df(t),u=k_(t.serverSyncTree_,e,l,c,!0);Hl(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||It("set at "+e+" failed: "+f);const m=ys(t.serverSyncTree_,c,!p);cn(t.eventQueue_,e,m),Yu(t,i,f,h)});const d=$f(t,e);Qi(t,d),cn(t.eventQueue_,d,[])}function Kk(t,e,n,s){Wl(t,"update",{path:e.toString(),value:n});let i=!0;const r=zl(t),o={};if(gt(n,(a,l)=>{i=!1,o[a]=O_(Je(e,a),ut(l),t.serverSyncTree_,r)}),i)mt("update() called with empty data.  Don't do anything."),Yu(t,s,"ok",void 0);else{const a=Df(t),l=mk(t.serverSyncTree_,e,o,a);Hl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||It("update at "+e+" failed: "+c);const f=ys(t.serverSyncTree_,a,!d),h=f.length>0?Qi(t,e):e;cn(t.eventQueue_,h,f),Yu(t,s,c,u)}),gt(n,c=>{const u=$f(t,Je(e,c));Qi(t,u)}),cn(t.eventQueue_,e,[])}}function Yk(t){Wl(t,"onDisconnectEvents");const e=zl(t),n=ja();Bu(t.onDisconnect_,Ne(),(i,r)=>{const o=O_(i,r,t.serverSyncTree_,e);m_(n,i,o)});let s=[];Bu(n,Ne(),(i,r)=>{s=s.concat(Bl(t.serverSyncTree_,i,r));const o=$f(t,i);Qi(t,o)}),t.onDisconnect_=ja(),cn(t.eventQueue_,Ne(),s)}function Xk(t,e,n){let s;we(e._path)===".info"?s=dm(t.infoSyncTree_,e,n):s=dm(t.serverSyncTree_,e,n),B_(t.eventQueue_,e._path,s)}function mm(t,e,n){let s;we(e._path)===".info"?s=qu(t.infoSyncTree_,e,n):s=qu(t.serverSyncTree_,e,n),B_(t.eventQueue_,e._path,s)}function Jk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(jk)}function Wl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mt(n,...e)}function Yu(t,e,n,s){e&&lr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function j_(t,e,n){return Ef(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function Lf(t,e=t.transactionQueueTree_){if(e||ql(t,e),ur(e)){const n=H_(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Qk(t,Oo(e),n)}else D_(e)&&jl(e,n=>{Lf(t,n)})}function Qk(t,e,n){const s=n.map(c=>c.currentWriteId),i=j_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=At(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Wl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ys(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ql(t,Rf(t.transactionQueueTree_,e)),Lf(t,t.transactionQueueTree_),cn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)lr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{It("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Qi(t,e)}},o)}function Qi(t,e){const n=V_(t,e),s=Oo(n),i=H_(t,n);return Zk(t,i,s),s}function Zk(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=At(n,l.path);let u=!1,d;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(ys(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Vk)u=!0,d="maxretry",i=i.concat(ys(t.serverSyncTree_,l.currentWriteId,!0));else{const f=j_(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Vl("transaction failed: Data returned ",h,l.path);let p=ut(h);typeof h=="object"&&h!=null&&Rn(h,".priority")||(p=p.updatePriority(f.getPriority()));const _=l.currentWriteId,v=zl(t),y=N_(p,f,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Df(t),o.splice(o.indexOf(_),1),i=i.concat(k_(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(ys(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(ys(t.serverSyncTree_,l.currentWriteId,!0))}cn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}ql(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)lr(s[a]);Lf(t,t.transactionQueueTree_)}function V_(t,e){let n,s=t.transactionQueueTree_;for(n=we(e);n!==null&&ur(s)===void 0;)s=Rf(s,n),e=ze(e),n=we(e);return s}function H_(t,e){const n=[];return z_(t,e,n),n.sort((s,i)=>s.order-i.order),n}function z_(t,e,n){const s=ur(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);jl(e,i=>{z_(t,i,n)})}function ql(t,e){const n=ur(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,M_(e,n.length>0?n:void 0)}jl(e,s=>{ql(t,s)})}function $f(t,e){const n=Oo(V_(t,e)),s=Rf(t.transactionQueueTree_,e);return Pk(s,i=>{$c(t,i)}),$c(t,s),L_(s,i=>{$c(t,i)}),n}function $c(t,e){const n=ur(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ys(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?M_(e,void 0):n.length=r+1,cn(t.eventQueue_,Oo(e),i);for(let o=0;o<s.length;o++)lr(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function tP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const gm=function(t,e){const n=nP(t),s=n.namespace;n.domain==="firebase.com"&&es(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&es("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fx();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jy(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new $e(n.pathString)}},nP=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=eP(t.substring(u,d)));const f=tP(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ft(this.snapshot.exportVal())}}class iP{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return be(this._path)?null:lf(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const e=em(this._queryParams),n=sf(e);return n==="{}"?"default":n}get _queryObject(){return em(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof Gl))return!1;const n=this._repo===e._repo,s=cf(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Yx(this._path)}}function oP(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function aP(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Qs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ri)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==xs)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ye){if(e!=null&&!Ku(e)||n!=null&&!Ku(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(t.getIndex()instanceof ff||t.getIndex()===h_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ds extends Gl{constructor(e,n){super(e,n,new pf,!1)}get parent(){const e=o_(this._path);return e===null?null:new Ds(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ya{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $e(e),s=Xu(this.ref,e);return new Ya(this._node.getChild(n),s,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Ya(i,Xu(this.ref,s),Ye)))}hasChild(e){const n=new $e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qe(t,e){return t=ot(t),t._checkNotDeleted("ref"),e!==void 0?Xu(t._root,e):t._root}function Xu(t,e){return t=ot(t),we(t._path)===null?$k("child","path",e):Nf("child","path",e),new Ds(t._repo,Je(t._path,e))}function Xa(t){return F_("remove",t._path),bi(t,null)}function bi(t,e){t=ot(t),F_("set",t._path),Mk("set",e,t._path);const n=new ko;return Gk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ju(t,e){Lk("update",e,t._path);const n=new ko;return Kk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Ff{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new sP("value",this,new Ya(e.snapshotNode,new Ds(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iP(this,e,n):null}matches(e){return e instanceof Ff?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function lP(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{mm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new rP(n,r||void 0),a=new Ff(o);return Xk(t._repo,t,a),()=>mm(t._repo,t,a)}function Xn(t,e,n,s){return lP(t,"value",e,n,s)}class cP{}class uP extends cP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){oP(e,"orderByChild");const n=new $e(this._path);if(be(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new ff(n),i=yI(e._queryParams,s);return aP(i),new Gl(e._repo,e._path,i,!0)}}function W_(t){return Nf("orderByChild","path",t),new uP(t)}function q_(t,...e){let n=ot(t);for(const s of e)n=s._apply(n);return n}ok(Ds);fk(Ds);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="FIREBASE_DATABASE_EMULATOR_HOST",Qu={};let fP=!1;function hP(t,e,n,s){t.repoInfo_=new Jy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function pP(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||es("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=gm(r,i),a=o.repoInfo,l;typeof process<"u"&&Lp&&(l=Lp[dP]),l?(r=`http://${l}?ns=${a.namespace}`,o=gm(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new Ex(t.name,t.options,e);Fk("Invalid Firebase Database URL",o),be(o.path)||es("Database URL must point to the root of a Firebase Database (not including a child path).");const u=gP(a,t,c,new Sx(t.name,n));return new vP(u,t)}function mP(t,e){const n=Qu[e];(!n||n[t.key]!==t)&&es(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Jk(t),delete n[t.key]}function gP(t,e,n,s){let i=Qu[e.name];i||(i={},Qu[e.name]=i);let r=i[t.toURLString()];return r&&es("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Hk(t,fP,n,s),i[t.toURLString()]=r,r}class vP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&es("Cannot call "+e+" on a deleted database.")}}function rs(t=tf(),e){const n=or(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=FC("database");s&&yP(n,...s)}return n}function yP(t,e,n,s={}){t=ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&es("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&es('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new ca(ca.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:BC(s.mockUserToken,t.app.options.projectId);r=new ca(o)}hP(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){ox(ar),ln(new Jt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return pP(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Kt($p,Fp,t),Kt($p,Fp,"esm2017")}Yn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_P();function Bf(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function G_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wP=G_,K_=new Ms("auth","Firebase",G_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new Zd("@firebase/auth");function bP(t,...e){Ja.logLevel<=Fe.WARN&&Ja.warn(`Auth (${ar}): ${t}`,...e)}function ua(t,...e){Ja.logLevel<=Fe.ERROR&&Ja.error(`Auth (${ar}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,...e){throw Uf(t,...e)}function Cn(t,...e){return Uf(t,...e)}function Y_(t,e,n){const s=Object.assign(Object.assign({},wP()),{[e]:n});return new Ms("auth","Firebase",s).create(e,{appName:t.name})}function Jn(t){return Y_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return K_.create(t,...e)}function de(t,e,...n){if(!t)throw Uf(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ua(e),new Error(e)}function ts(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SP(){return vm()==="http:"||vm()==="https:"}function vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SP()||jC()||"connection"in navigator)?navigator.onLine:!0}function TP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=Qd()||ky()}get(){return EP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new No(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function On(t,e,n,s,i={}){return J_(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=ir(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return UC()||(c.referrerPolicy="no-referrer"),X_.fetch()(Q_(t,t.config.apiHost,n,a),c)})}async function J_(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},CP),e);try{const i=new kP(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Yo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Y_(t,u,c);un(t,u)}}catch(i){if(i instanceof is)throw i;un(t,"network-request-failed",{message:String(i)})}}async function Mo(t,e,n,s,i={}){const r=await On(t,e,n,s,i);return"mfaPendingCredential"in r&&un(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Q_(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?jf(t.config,i):`${t.config.apiScheme}://${i}`}function IP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Cn(this.auth,"network-request-failed")),xP.get())})}}function Yo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Cn(t,e,s);return i.customData._tokenResponse=n,i}function ym(t){return t!==void 0&&t.enterprise!==void 0}class PP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AP(t,e){return On(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){return On(t,"POST","/v1/accounts:delete",e)}async function Z_(t,e){return On(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OP(t,e=!1){const n=ot(t),s=await n.getIdToken(e),i=Vf(s);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Qr(Fc(i.auth_time)),issuedAtTime:Qr(Fc(i.iat)),expirationTime:Qr(Fc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Fc(t){return Number(t)*1e3}function Vf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ua("JWT malformed, contained fewer than 3 sections"),null;try{const i=Na(n);return i?JSON.parse(i):(ua("Failed to decode base64 JWT payload"),null)}catch(i){return ua("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _m(t){const e=Vf(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof is&&NP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function NP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Zi(t,Z_(n,{idToken:s}));de(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?ew(r.providerUserInfo):[],a=LP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ed(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function DP(t){const e=ot(t);await Qa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LP(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function ew(t){return t.map(e=>{var{providerId:n}=e,s=Bf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e){const n=await J_(t,{},async()=>{const s=ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=Q_(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X_.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FP(t,e){return On(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_m(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=_m(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await $P(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Bi;return s&&(de(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(de(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Bf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ed(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Zi(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OP(this,e)}reload(){return DP(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qa(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Zi(this,RP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:T,providerData:A,stsTokenManager:L}=n;de(g&&L,e,"internal-error");const C=Bi.fromJSON(this.name,L);de(typeof g=="string",e,"internal-error"),ls(d,e.name),ls(f,e.name),de(typeof S=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),ls(h,e.name),ls(p,e.name),ls(m,e.name),ls(_,e.name),ls(v,e.name),ls(y,e.name);const x=new Wn({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:v,lastLoginAt:y});return A&&Array.isArray(A)&&(x.providerData=A.map(R=>Object.assign({},R))),_&&(x._redirectEventId=_),x}static async _fromIdTokenResponse(e,n,s=!1){const i=new Bi;i.updateFromServerResponse(n);const r=new Wn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Qa(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];de(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?ew(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Bi;a.updateFromIdToken(s);const l=new Wn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new ed(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Map;function qn(t){ts(t instanceof Function,"Expected a class definition");let e=wm.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tw.type="NONE";const bm=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e,n){return`firebase:${t}:${e}:${n}`}class Ui{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=da(this.userKey,i.apiKey,r),this.fullPersistenceKey=da("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ui(qn(bm),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||qn(bm);const o=da(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Wn._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Ui(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Ui(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(sw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(ow(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function nw(t=kt()){return/firefox\//i.test(t)}function sw(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(t=kt()){return/crios\//i.test(t)}function rw(t=kt()){return/iemobile/i.test(t)}function ow(t=kt()){return/android/i.test(t)}function aw(t=kt()){return/blackberry/i.test(t)}function lw(t=kt()){return/webos/i.test(t)}function Hf(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BP(t=kt()){var e;return Hf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UP(){return VC()&&document.documentMode===10}function cw(t=kt()){return Hf(t)||ow(t)||lw(t)||aw(t)||/windows phone/i.test(t)||rw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e=[]){let n;switch(t){case"Browser":n=Sm(kt());break;case"Worker":n=`${Sm(kt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ar}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e={}){return On(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=6;class zP{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Em(this),this.idTokenSubscription=new Em(this),this.beforeStateQueue=new jP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Ui.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Z_(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Jn(this));const n=e?ot(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VP(this),n=new zP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ms("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ui.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ls(t){return ot(t)}class Em{constructor(e){this.auth=e,this.observer=null,this.addObserver=XC(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qP(t){Kl=t}function dw(t){return Kl.loadJS(t)}function GP(){return Kl.recaptchaEnterpriseScript}function KP(){return Kl.gapiScript}function YP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XP{constructor(){this.enterprise=new JP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QP="recaptcha-enterprise",fw="NO_RECAPTCHA";class ZP{constructor(e){this.type=QP,this.auth=Ls(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{AP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new PP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;ym(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(fw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XP().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&ym(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GP();l.length!==0&&(l+=a),dw(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Tm(t,e,n,s=!1,i=!1){const r=new ZP(t);let o;if(i)o=fw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Za(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Tm(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Tm(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e){const n=or(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Da(r,e??{}))return i;un(i,"already-initialized")}return n.initialize({options:e})}function tA(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function nA(t,e,n){const s=Ls(t);de(s._canInitEmulator,s,"emulator-config-failed"),de(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=hw(e),{host:o,port:a}=sA(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),iA()}function hw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sA(t){const e=hw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Cm(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Cm(o)}}}function Cm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function rA(t,e){return On(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e){return Mo(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}async function aA(t,e){return On(t,"POST","/v1/accounts:sendOobCode",os(t,e))}async function lA(t,e){return aA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(t,e){return Mo(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function uA(t,e){return Mo(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends zf{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _o(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _o(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Za(e,n,"signInWithPassword",oA);case"emailLink":return cA(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Za(e,s,"signUpPassword",rA);case"emailLink":return uA(e,{idToken:n,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ji(t,e){return Mo(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="http://localhost";class ci extends zf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Bf(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new ci(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ji(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ji(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ji(e,n)}buildRequest(){const e={requestUri:dA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ir(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hA(t){const e=Mr(Dr(t)).link,n=e?Mr(Dr(e)).deep_link_id:null,s=Mr(Dr(t)).deep_link_id;return(s?Mr(Dr(s)).link:null)||s||n||e||t}class Wf{constructor(e){var n,s,i,r,o,a;const l=Mr(Dr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=fA((i=l.mode)!==null&&i!==void 0?i:null);de(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=hA(e);try{return new Wf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.providerId=dr.PROVIDER_ID}static credential(e,n){return _o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Wf.parseLink(n);return de(s,"argument-error"),_o._fromEmailAndCode(e,s.code,s.tenantId)}}dr.PROVIDER_ID="password";dr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Do{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ci._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Do{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Do{constructor(){super("twitter.com")}static credential(e,n){return ci._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e){return Mo(t,"POST","/v1/accounts:signUp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Wn._fromIdTokenResponse(e,s,i),o=xm(s);return new ui({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=xm(s);return new ui({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function xm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends is{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,el.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new el(e,n,s,i)}}function mw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?el._fromErrorAndOperation(t,r,e,s):r})}async function mA(t,e,n=!1){const s=await Zi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ui._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e,n=!1){const{auth:s}=t;if(bn(s.app))return Promise.reject(Jn(s));const i="reauthenticate";try{const r=await Zi(t,mw(s,i,e,t),n);de(r.idToken,s,"internal-error");const o=Vf(r.idToken);de(o,s,"internal-error");const{sub:a}=o;return de(t.uid===a,s,"user-mismatch"),ui._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&un(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t,e,n=!1){if(bn(t.app))return Promise.reject(Jn(t));const s="signIn",i=await mw(t,s,e),r=await ui._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function vA(t,e){return gw(Ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yA(t,e,n){const s=Ls(t);await Za(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lA)}async function _A(t,e,n){if(bn(t.app))return Promise.reject(Jn(t));const s=Ls(t),o=await Za(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&vw(t),l}),a=await ui._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function wA(t,e,n){return bn(t.app)?Promise.reject(Jn(t)):vA(ot(t),dr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e){return On(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ot(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Zi(s,bA(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function SA(t,e,n,s){return ot(t).onIdTokenChanged(e,n,s)}function EA(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function xn(t,e,n,s){return ot(t).onAuthStateChanged(e,n,s)}function TA(t){return ot(t).signOut()}const tl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tl,"1"),this.storage.removeItem(tl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1e3,xA=10;class _w extends yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);UP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xA):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const IA=_w;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ww.type="SESSION";const bw=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Yl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await kA(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=qf("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function AA(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function RA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NA(){return Sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebaseLocalStorageDb",MA=1,nl="firebaseLocalStorage",Tw="fbase_key";class Lo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xl(t,e){return t.transaction([nl],e?"readwrite":"readonly").objectStore(nl)}function DA(){const t=indexedDB.deleteDatabase(Ew);return new Lo(t).toPromise()}function td(){const t=indexedDB.open(Ew,MA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(nl,{keyPath:Tw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(nl)?e(s):(s.close(),await DA(),e(await td()))})})}async function km(t,e,n){const s=Xl(t,!0).put({[Tw]:e,value:n});return new Lo(s).toPromise()}async function LA(t,e){const n=Xl(t,!1).get(e),s=await new Lo(n).toPromise();return s===void 0?null:s.value}function Pm(t,e){const n=Xl(t,!0).delete(e);return new Lo(n).toPromise()}const $A=800,FA=3;class Cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await td(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yl._getInstance(NA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RA(),!this.activeServiceWorker)return;this.sender=new PA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await td();return await km(e,tl,"1"),await Pm(e,tl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>km(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Xl(i,!1).getAll();return new Lo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cw.type="LOCAL";const BA=Cw;new No(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e){return e?qn(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends zf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jA(t){return gw(t.auth,new Gf(t),t.bypassAuthState)}function VA(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),gA(n,new Gf(t),t.bypassAuthState)}async function HA(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),mA(n,new Gf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jA;case"linkViaPopup":case"linkViaRedirect":return HA;case"reauthViaPopup":case"reauthViaRedirect":return VA;default:un(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new No(2e3,1e4);class Ri extends xw{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zA.get())};e()}}Ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="pendingRedirect",fa=new Map;class qA extends xw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fa.get(this.auth._key());if(!e){try{const s=await GA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fa.set(this.auth._key(),e)}return this.bypassAuthState||fa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GA(t,e){const n=XA(e),s=YA(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function KA(t,e){fa.set(t._key(),e)}function YA(t){return qn(t._redirectPersistence)}function XA(t){return da(WA,t.config.apiKey,t.name)}async function JA(t,e,n=!1){if(bn(t.app))return Promise.reject(Jn(t));const s=Ls(t),i=UA(s,e),o=await new qA(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=10*60*1e3;class ZA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Iw(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Am(e))}saveEventToCache(e){this.cachedEventUids.add(Am(e)),this.lastProcessedEventTime=Date.now()}}function Am(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Iw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e={}){return On(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sR=/^https?/;async function iR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tR(t);for(const n of e)try{if(rR(n))return}catch{}un(t,"unauthorized-domain")}function rR(t){const e=Zu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!sR.test(n))return!1;if(nR.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new No(3e4,6e4);function Rm(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aR(t){return new Promise((e,n)=>{var s,i,r;function o(){Rm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rm(),n(Cn(t,"network-request-failed"))},timeout:oR.get()})}if(!((i=(s=In().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=In().gapi)===null||r===void 0)&&r.load)o();else{const a=YP("iframefcb");return In()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},dw(`${KP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ha=null,e})}let ha=null;function lR(t){return ha=ha||aR(t),ha}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new No(5e3,15e3),uR="__/auth/iframe",dR="emulator/auth/iframe",fR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pR(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jf(e,dR):`https://${t.config.authDomain}/${uR}`,s={apiKey:e.apiKey,appName:t.name,v:ar},i=hR.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${ir(s).slice(1)}`}async function mR(t){const e=await lR(t),n=In().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:pR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fR,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=In().setTimeout(()=>{r(o)},cR.get());function l(){In().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vR=500,yR=600,_R="_blank",wR="http://localhost";class Om{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bR(t,e,n,s=vR,i=yR){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},gR),{width:s.toString(),height:i.toString(),top:r,left:o}),c=kt().toLowerCase();n&&(a=iw(c)?_R:n),nw(c)&&(e=e||wR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(BP(c)&&a!=="_self")return SR(e||"",a),new Om(null);const d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new Om(d)}function SR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",TR="emulator/auth/handler",CR=encodeURIComponent("fac");async function Nm(t,e,n,s,i,r){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ar,eventId:i};if(e instanceof pw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Au(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Do){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${CR}=${encodeURIComponent(l)}`:"";return`${xR(t)}?${ir(a).slice(1)}${c}`}function xR({config:t}){return t.emulator?jf(t,TR):`https://${t.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="webStorageSupport";class IR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=JA,this._overrideRedirectResult=KA}async _openPopup(e,n,s,i){var r;ts((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Nm(e,n,s,Zu(),i);return bR(e,o,qf())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Nm(e,n,s,Zu(),i);return AA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(ts(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mR(e),s=new ZA(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bc,{type:Bc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Bc];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cw()||sw()||Hf()}}const kR=IR;var Mm="@firebase/auth",Dm="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(t){ln(new Jt("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(t)},c=new WP(s,i,r,l);return tA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ln(new Jt("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(s=>new PR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(Mm,Dm,AR(t)),Kt(Mm,Dm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=5*60,NR=Iy("authIdTokenMaxAge")||OR;let Lm=null;const MR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NR)return;const i=n==null?void 0:n.token;Lm!==i&&(Lm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jt(t=tf()){const e=or(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eA(t,{popupRedirectResolver:kR,persistence:[BA,IA,bw]}),s=Iy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=MR(r.toString());EA(n,o,()=>o(n.currentUser)),SA(n,a=>o(a))}}const i=Cy("auth");return i&&nA(n,`http://${i}`),n}function DR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Cn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",DR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");const Kf=Io("searchStore",()=>{const t=D([]),e=D(""),n=D([]),s=rs(),i=jt(),r=D(!0);return{memory:e,memoryFilms:n,lastSearch:t,loader:r,getLastSearch:()=>{r.value=!0,xn(i,u=>{if(u){const d=q_(Qe(s,`users/${u.uid}/search`),W_("date"));Xn(d,f=>{const h=[];f.forEach(p=>{h.push(p.val())}),t.value=h.reverse(),r.value=!1},f=>{console.log(f)})}else console.log("User logged out")})},addToLastSearch:(u,d)=>{const f=new Date().getTime();u.isFavorite=!0,bi(Qe(s,"users/"+i.currentUser.uid+"/search/"+d),{nameRu:u.nameRu?u.nameRu:u.nameEn,year:u.year,rating:u.rating,posterUrl:u.posterUrl,id:+d,date:f}).then(()=>console.log("Добавлено")).catch(h=>console.log(h))},removeFromSearch:u=>{Xa(Qe(s,"users/"+i.currentUser.uid+"/search/"+u)).then(()=>console.log("Удалено")).catch(d=>console.log(d))},removeAllSearch:()=>{Xa(Qe(s,"users/"+i.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(u=>console.log(u))}}}),LR={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-600 bg-opacity-50 backdrop-blur-sm"},$R={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},FR={__name:"Header",setup(t){const e=Kf();return(n,s)=>{const i=Xt("RouterLink");return k(),B("header",LR,[w("nav",$R,[O(i,{to:"/",class:"flex flex-col items-center gap-1"},{default:J(()=>[O(I(IC),{class:"w-6 text-gray-50",alt:"home"}),s[1]||(s[1]=w("span",{class:"text-xs text-white"},"Главное",-1))]),_:1}),O(i,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:J(()=>[O(I(Kd),{class:"w-6 text-gray-50",alt:"favorites"}),s[2]||(s[2]=w("span",{class:"text-xs text-white"},"Мое",-1))]),_:1}),O(i,{to:"/search",class:"flex flex-col items-center gap-1",onClick:s[0]||(s[0]=r=>{I(e).memory="",I(e).memoryFilms=[]})},{default:J(()=>[O(I(_y),{class:"w-6 text-gray-50",alt:"search"}),s[3]||(s[3]=w("span",{class:"text-xs text-white"},"Поиск",-1))]),_:1}),O(i,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:J(()=>[O(I(PC),{class:"w-6 text-gray-50",alt:"profile"}),s[4]||(s[4]=w("span",{class:"text-xs text-white"},"Профиль",-1))]),_:1})])])}}},kw="@firebase/installations",Yf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=1e4,Aw=`w:${Yf}`,Rw="FIS_v2",BR="https://firebaseinstallations.googleapis.com/v1",UR=60*60*1e3,jR="installations",VR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},di=new Ms(jR,VR,HR);function Ow(t){return t instanceof is&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw({projectId:t}){return`${BR}/projects/${t}/installations`}function Mw(t){return{token:t.token,requestStatus:2,expiresIn:WR(t.expiresIn),creationTime:Date.now()}}async function Dw(t,e){const s=(await e.json()).error;return di.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Lw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zR(t,{refreshToken:e}){const n=Lw(t);return n.append("Authorization",qR(e)),n}async function $w(t){const e=await t();return e.status>=500&&e.status<600?t():e}function WR(t){return Number(t.replace("s","000"))}function qR(t){return`${Rw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Nw(t),i=Lw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Rw,appId:t.appId,sdkVersion:Aw},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $w(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Mw(c.authToken)}}else throw await Dw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/^[cdef][\w-]{21}$/,nd="";function XR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=JR(t);return YR.test(n)?n:nd}catch{return nd}}function JR(t){return KR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function Uw(t,e){const n=Jl(t);jw(n,e),QR(n,e)}function jw(t,e){const n=Bw.get(t);if(n)for(const s of n)s(e)}function QR(t,e){const n=ZR();n&&n.postMessage({key:t,fid:e}),eO()}let qs=null;function ZR(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=t=>{jw(t.data.key,t.data.fid)}),qs}function eO(){Bw.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebase-installations-database",nO=1,fi="firebase-installations-store";let Uc=null;function Xf(){return Uc||(Uc=rr(tO,nO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fi)}}})),Uc}async function sl(t,e){const n=Jl(t),i=(await Xf()).transaction(fi,"readwrite"),r=i.objectStore(fi),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Uw(t,e.fid),e}async function Vw(t){const e=Jl(t),s=(await Xf()).transaction(fi,"readwrite");await s.objectStore(fi).delete(e),await s.done}async function Ql(t,e){const n=Jl(t),i=(await Xf()).transaction(fi,"readwrite"),r=i.objectStore(fi),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Uw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(t){let e;const n=await Ql(t.appConfig,s=>{const i=sO(s),r=iO(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===nd?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function sO(t){const e=t||{fid:XR(),registrationStatus:0};return Hw(e)}function iO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(di.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=rO(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oO(t)}:{installationEntry:e}}async function rO(t,e){try{const n=await GR(t,e);return sl(t.appConfig,n)}catch(n){throw Ow(n)&&n.customData.serverCode===409?await Vw(t.appConfig):await sl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oO(t){let e=await $m(t.appConfig);for(;e.registrationStatus===1;)await Fw(100),e=await $m(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Jf(t);return s||n}return e}function $m(t){return Ql(t,e=>{if(!e)throw di.create("installation-not-found");return Hw(e)})}function Hw(t){return aO(t)?{fid:t.fid,registrationStatus:0}:t}function aO(t){return t.registrationStatus===1&&t.registrationTime+Pw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO({appConfig:t,heartbeatServiceProvider:e},n){const s=cO(t,n),i=zR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Aw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $w(()=>fetch(s,a));if(l.ok){const c=await l.json();return Mw(c)}else throw await Dw("Generate Auth Token",l)}function cO(t,{fid:e}){return`${Nw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(t,e=!1){let n;const s=await Ql(t.appConfig,r=>{if(!zw(r))throw di.create("not-registered");const o=r.authToken;if(!e&&fO(o))return r;if(o.requestStatus===1)return n=uO(t,e),r;{if(!navigator.onLine)throw di.create("app-offline");const a=pO(r);return n=dO(t,a),a}});return n?await n:s.authToken}async function uO(t,e){let n=await Fm(t.appConfig);for(;n.authToken.requestStatus===1;)await Fw(100),n=await Fm(t.appConfig);const s=n.authToken;return s.requestStatus===0?Qf(t,e):s}function Fm(t){return Ql(t,e=>{if(!zw(e))throw di.create("not-registered");const n=e.authToken;return mO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function dO(t,e){try{const n=await lO(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await sl(t.appConfig,s),n}catch(n){if(Ow(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Vw(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sl(t.appConfig,s)}throw n}}function zw(t){return t!==void 0&&t.registrationStatus===2}function fO(t){return t.requestStatus===2&&!hO(t)}function hO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UR}function pO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function mO(t){return t.requestStatus===1&&t.requestTime+Pw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t){const e=t,{installationEntry:n,registrationPromise:s}=await Jf(e);return s?s.catch(console.error):Qf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e=!1){const n=t;return await yO(n),(await Qf(n,e)).token}async function yO(t){const{registrationPromise:e}=await Jf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){if(!t||!t.options)throw jc("App Configuration");if(!t.name)throw jc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jc(t){return di.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="installations",wO="installations-internal",bO=t=>{const e=t.getProvider("app").getImmediate(),n=_O(e),s=or(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},SO=t=>{const e=t.getProvider("app").getImmediate(),n=or(e,Ww).getImmediate();return{getId:()=>gO(n),getToken:i=>vO(n,i)}};function EO(){ln(new Jt(Ww,bO,"PUBLIC")),ln(new Jt(wO,SO,"PRIVATE"))}EO();Kt(kw,Yf);Kt(kw,Yf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="/firebase-messaging-sw.js",CO="/firebase-cloud-messaging-push-scope",qw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xO="https://fcmregistrations.googleapis.com/v1",Gw="google.c.a.c_id",IO="google.c.a.c_l",kO="google.c.a.ts",PO="google.c.a.e",Bm=1e4;var Um;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Um||(Um={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var wo;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(wo||(wo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function AO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="fcm_token_details_db",RO=5,jm="fcm_token_object_Store";async function OO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Vc))return null;let e=null;return(await rr(Vc,RO,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(jm))return;const l=o.objectStore(jm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Fn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Fn(u.auth),p256dh:Fn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Fn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Fn(u.auth),p256dh:Fn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Fn(u.vapidKey)}}}}}})).close(),await Li(Vc),await Li("fcm_vapid_details_db"),await Li("undefined"),NO(e)?e:null}function NO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebase-messaging-database",DO=1,bo="firebase-messaging-store";let Hc=null;function Kw(){return Hc||(Hc=rr(MO,DO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bo)}}})),Hc}async function LO(t){const e=Yw(t),s=await(await Kw()).transaction(bo).objectStore(bo).get(e);if(s)return s;{const i=await OO(t.appConfig.senderId);if(i)return await Zf(t,i),i}}async function Zf(t,e){const n=Yw(t),i=(await Kw()).transaction(bo,"readwrite");return await i.objectStore(bo).put(e,n),await i.done,e}function Yw({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Nt=new Ms("messaging","Messaging",$O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){const n=await th(t),s=Xw(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(eh(t.appConfig),i)).json()}catch(o){throw Nt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Nt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Nt.create("token-subscribe-no-token");return r.token}async function BO(t,e){const n=await th(t),s=Xw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${eh(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Nt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Nt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Nt.create("token-update-no-token");return r.token}async function UO(t,e){const s={method:"DELETE",headers:await th(t)};try{const r=await(await fetch(`${eh(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Nt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Nt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function eh({projectId:t}){return`${xO}/projects/${t}/registrations`}async function th({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Xw({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==qw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=7*24*60*60*1e3;async function VO(t){const e=await zO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Fn(e.getKey("auth")),p256dh:Fn(e.getKey("p256dh"))},s=await LO(t.firebaseDependencies);if(s){if(WO(s.subscriptionOptions,n))return Date.now()>=s.createTime+jO?HO(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await UO(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return Vm(t.firebaseDependencies,n)}else return Vm(t.firebaseDependencies,n)}async function HO(t,e){try{const n=await BO(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Zf(t.firebaseDependencies,s),n}catch(n){throw n}}async function Vm(t,e){const s={token:await FO(t,e),createTime:Date.now(),subscriptionOptions:e};return await Zf(t,s),s.token}async function zO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:AO(e)})}function WO(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return qO(e,t),GO(e,t),KO(e,t),e}function qO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function GO(t,e){e.data&&(t.data=e.data)}function KO(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){return typeof t=="object"&&!!t&&Gw in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){if(!t||!t.options)throw zc("App Configuration Object");if(!t.name)throw zc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw zc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function zc(t){return Nt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JO=class{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=XO(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t){try{t.swRegistration=await navigator.serviceWorker.register(TO,{scope:CO}),t.swRegistration.update().catch(()=>{}),await ZO(t.swRegistration)}catch(e){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function ZO(t){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Bm} ms`)),Bm),i=t.installing||t.waiting;t.active?(clearTimeout(s),e()):i?i.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e){if(!e&&!t.swRegistration&&await QO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=qw)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(t,e){if(!navigator)throw Nt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Nt.create("permission-blocked");return await tN(t,e==null?void 0:e.vapidKey),await eN(t,e==null?void 0:e.serviceWorkerRegistration),VO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e,n){const s=sN(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[Gw],message_name:n[IO],message_time:n[kO],message_device_time:Math.floor(Date.now()/1e3)})}function sN(t){switch(t){case wo.NOTIFICATION_CLICKED:return"notification_open";case wo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===wo.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Hm(n)):t.onMessageHandler.next(Hm(n)));const s=n.data;YO(s)&&s[PO]==="1"&&await nN(t,n.messageType,s)}const zm="@firebase/messaging",Wm="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=t=>{const e=new JO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>iN(e,n)),e},oN=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>Jw(e,s)}};function aN(){ln(new Jt("messaging",rN,"PUBLIC")),ln(new Jt("messaging-internal",oN,"PRIVATE")),Kt(zm,Wm),Kt(zm,Wm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){if(!navigator)throw Nt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function cN(t,e){return t=ot(t),Jw(t,e)}function uN(t,e){return t=ot(t),lN(t,e)}aN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dN="https://fcmregistrations.googleapis.com/v1",Zw="FCM_MSG",fN="google.c.a.c_id",hN=3,pN=1;var il;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(il||(il={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(rl||(rl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="fcm_token_details_db",gN=5,qm="fcm_token_object_Store";async function vN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Wc))return null;let e=null;return(await rr(Wc,gN,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(qm))return;const l=o.objectStore(qm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Bn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bn(u.auth),p256dh:Bn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bn(u.auth),p256dh:Bn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bn(u.vapidKey)}}}}}})).close(),await Li(Wc),await Li("fcm_vapid_details_db"),await Li("undefined"),yN(e)?e:null}function yN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-messaging-database",wN=1,hi="firebase-messaging-store";let qc=null;function nh(){return qc||(qc=rr(_N,wN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hi)}}})),qc}async function sh(t){const e=rh(t),s=await(await nh()).transaction(hi).objectStore(hi).get(e);if(s)return s;{const i=await vN(t.appConfig.senderId);if(i)return await ih(t,i),i}}async function ih(t,e){const n=rh(t),i=(await nh()).transaction(hi,"readwrite");return await i.objectStore(hi).put(e,n),await i.done,e}async function bN(t){const e=rh(t),s=(await nh()).transaction(hi,"readwrite");await s.objectStore(hi).delete(e),await s.done}function rh({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},sn=new Ms("messaging","Messaging",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){const n=await ah(t),s=tb(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(oh(t.appConfig),i)).json()}catch(o){throw sn.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw sn.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw sn.create("token-subscribe-no-token");return r.token}async function TN(t,e){const n=await ah(t),s=tb(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${oh(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw sn.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw sn.create("token-update-failed",{errorInfo:o})}if(!r.token)throw sn.create("token-update-no-token");return r.token}async function eb(t,e){const s={method:"DELETE",headers:await ah(t)};try{const r=await(await fetch(`${oh(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw sn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw sn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function oh({projectId:t}){return`${dN}/projects/${t}/registrations`}async function ah({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function tb({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==Qw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=7*24*60*60*1e3;async function xN(t){const e=await kN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Bn(e.getKey("auth")),p256dh:Bn(e.getKey("p256dh"))},s=await sh(t.firebaseDependencies);if(s){if(PN(s.subscriptionOptions,n))return Date.now()>=s.createTime+CN?IN(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await eb(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return Km(t.firebaseDependencies,n)}else return Km(t.firebaseDependencies,n)}async function Gm(t){const e=await sh(t.firebaseDependencies);e&&(await eb(t.firebaseDependencies,e.token),await bN(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function IN(t,e){try{const n=await TN(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await ih(t.firebaseDependencies,s),n}catch(n){throw n}}async function Km(t,e){const s={token:await EN(t,e),createTime:Date.now(),subscriptionOptions:e};return await ih(t,s),s.token}async function kN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mN(e)})}function PN(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return RN(e,t),ON(e,t),NN(e,t),e}function RN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function ON(t,e){e.data&&(t.data=e.data)}function NN(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){return typeof t=="object"&&!!t&&fN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){return new Promise(e=>{setTimeout(e,t)})}async function LN(t,e){const n=$N(e,await t.firebaseDependencies.installations.getId());FN(t,n,e.productId)}function $N(t,e){var n,s;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=il.DISPLAY_NOTIFICATION.toString():i.message_type=il.DATA_MESSAGE.toString(),i.sdk_platform=hN.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=pN.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label),i}function FN(t,e,n){const s={};s.event_time_ms=Math.floor(Date.now()).toString(),s.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(s.compliance_data=BN(n)),t.logEvents.push(s)}function BN(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){var n,s;const{newSubscription:i}=t;if(!i){await Gm(e);return}const r=await sh(e.firebaseDependencies);await Gm(e),e.vapidKey=(s=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&s!==void 0?s:Qw,await xN(e)}async function jN(t,e){const n=zN(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await LN(e,n);const s=await nb();if(qN(s))return GN(s,n);if(n.notification&&await KN(HN(n)),!!e&&e.onBackgroundMessageHandler){const i=AN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function VN(t){var e,n;const s=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[Zw];if(s){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=YN(s);if(!i)return;const r=new URL(i,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await WN(r);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await DN(3e3)),!!a)return s.messageType=rl.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,a.postMessage(s)}function HN(t){const e=Object.assign({},t.notification);return e.data={[Zw]:t},e}function zN({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function WN(t){const e=await nb();for(const n of e){const s=new URL(n.url,self.location.href);if(t.host===s.host)return n}return null}function qN(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function GN(t,e){e.isFirebaseMessaging=!0,e.messageType=rl.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function nb(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function KN(t){var e;const{actions:n}=t,{maxActions:s}=Notification;return n&&s&&n.length>s&&console.warn(`This browser only supports ${s} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function YN(t){var e,n,s;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(s=t.notification)===null||s===void 0?void 0:s.click_action;return i||(MN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){if(!t||!t.options)throw Gc("App Configuration Object");if(!t.name)throw Gc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Gc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Gc(t){return sn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=XN(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=t=>{const e=new JN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(jN(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(UN(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(VN(n))}),e};function ZN(){ln(new Jt("messaging-sw",QN,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(){return Py()&&await Ay()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t=tf()){return eM().then(e=>{if(!e)throw sn.create("unsupported-browser")},e=>{throw sn.create("indexed-db-unsupported")}),or(ot(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ZN();const Pn=Io("auth",()=>{const t=D(""),e=nr(),n=D(!1),s=D(""),i=D(""),r=D(""),o=D({email:"",userId:"",name:""}),a=async(f,h)=>{const p=jt();switch(f){case"logout":TA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s.value="",i.value="",o.value={email:"",userId:"",name:""},e.push("/login")}).catch(m=>console.log(m));break;case"login":n.value=!0;try{const{user:m}=await wA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await _A(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Im(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=jt();console.log(f),await Im(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:s,refreshToken:i,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=tM();cN(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),uN(h,p=>{console.log("Message received. ",p)})}}}),Vt={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(k(),B("div",{role:"status",class:Ie(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(k(),B("svg",{"aria-hidden":"true",class:Ie(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[w("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),w("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=w("span",{class:"sr-only"},"Loading...",-1))],2))}},nM={class:"mt-2"},sM={__name:"App",setup(t){const e=Pn();nr();const n=Q(()=>e.accessToken);D(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const s=jt(),i=D(!0),r=()=>{xn(s,o=>{o||e.auth("logout")}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return Oe(()=>{r(),i.value=!1}),(o,a)=>{const l=Xt("RouterView");return k(),B(Re,null,[rt(O(FR,null,null,512),[[Tn,n.value]]),w("main",nM,[O(l)])],64)}}};function sb(t,e){return function(){return t.apply(e,arguments)}}const{toString:iM}=Object.prototype,{getPrototypeOf:lh}=Object,Zl=(t=>e=>{const n=iM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fn=t=>(t=t.toLowerCase(),e=>Zl(e)===t),ec=t=>e=>typeof e===t,{isArray:fr}=Array,So=ec("undefined");function rM(t){return t!==null&&!So(t)&&t.constructor!==null&&!So(t.constructor)&&Ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ib=fn("ArrayBuffer");function oM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ib(t.buffer),e}const aM=ec("string"),Ut=ec("function"),rb=ec("number"),tc=t=>t!==null&&typeof t=="object",lM=t=>t===!0||t===!1,pa=t=>{if(Zl(t)!=="object")return!1;const e=lh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cM=fn("Date"),uM=fn("File"),dM=fn("Blob"),fM=fn("FileList"),hM=t=>tc(t)&&Ut(t.pipe),pM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ut(t.append)&&((e=Zl(t))==="formdata"||e==="object"&&Ut(t.toString)&&t.toString()==="[object FormData]"))},mM=fn("URLSearchParams"),[gM,vM,yM,_M]=["ReadableStream","Request","Response","Headers"].map(fn),wM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $o(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),fr(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function ob(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ab=t=>!So(t)&&t!==Gs;function sd(){const{caseless:t}=ab(this)&&this||{},e={},n=(s,i)=>{const r=t&&ob(e,i)||i;pa(e[r])&&pa(s)?e[r]=sd(e[r],s):pa(s)?e[r]=sd({},s):fr(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&$o(arguments[s],n);return e}const bM=(t,e,n,{allOwnKeys:s}={})=>($o(e,(i,r)=>{n&&Ut(i)?t[r]=sb(i,n):t[r]=i},{allOwnKeys:s}),t),SM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),EM=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},TM=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&lh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},CM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},xM=t=>{if(!t)return null;if(fr(t))return t;let e=t.length;if(!rb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},IM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lh(Uint8Array)),kM=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},PM=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},AM=fn("HTMLFormElement"),RM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Ym=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OM=fn("RegExp"),lb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};$o(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},NM=t=>{lb(t,(e,n)=>{if(Ut(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Ut(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MM=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return fr(t)?s(t):s(String(t).split(e)),n},DM=()=>{},LM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Kc="abcdefghijklmnopqrstuvwxyz",Xm="0123456789",cb={DIGIT:Xm,ALPHA:Kc,ALPHA_DIGIT:Kc+Kc.toUpperCase()+Xm},$M=(t=16,e=cb.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function FM(t){return!!(t&&Ut(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const BM=t=>{const e=new Array(10),n=(s,i)=>{if(tc(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const r=fr(s)?[]:{};return $o(s,(o,a)=>{const l=n(o,i+1);!So(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},UM=fn("AsyncFunction"),jM=t=>t&&(tc(t)||Ut(t))&&Ut(t.then)&&Ut(t.catch),ub=((t,e)=>t?setImmediate:e?((n,s)=>(Gs.addEventListener("message",({source:i,data:r})=>{i===Gs&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Gs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ut(Gs.postMessage)),VM=typeof queueMicrotask<"u"?queueMicrotask.bind(Gs):typeof process<"u"&&process.nextTick||ub,M={isArray:fr,isArrayBuffer:ib,isBuffer:rM,isFormData:pM,isArrayBufferView:oM,isString:aM,isNumber:rb,isBoolean:lM,isObject:tc,isPlainObject:pa,isReadableStream:gM,isRequest:vM,isResponse:yM,isHeaders:_M,isUndefined:So,isDate:cM,isFile:uM,isBlob:dM,isRegExp:OM,isFunction:Ut,isStream:hM,isURLSearchParams:mM,isTypedArray:IM,isFileList:fM,forEach:$o,merge:sd,extend:bM,trim:wM,stripBOM:SM,inherits:EM,toFlatObject:TM,kindOf:Zl,kindOfTest:fn,endsWith:CM,toArray:xM,forEachEntry:kM,matchAll:PM,isHTMLForm:AM,hasOwnProperty:Ym,hasOwnProp:Ym,reduceDescriptors:lb,freezeMethods:NM,toObjectSet:MM,toCamelCase:RM,noop:DM,toFiniteNumber:LM,findKey:ob,global:Gs,isContextDefined:ab,ALPHABET:cb,generateString:$M,isSpecCompliantForm:FM,toJSONObject:BM,isAsyncFn:UM,isThenable:jM,setImmediate:ub,asap:VM};function ve(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const db=ve.prototype,fb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fb[t]={value:t}});Object.defineProperties(ve,fb);Object.defineProperty(db,"isAxiosError",{value:!0});ve.from=(t,e,n,s,i,r)=>{const o=Object.create(db);return M.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const HM=null;function id(t){return M.isPlainObject(t)||M.isArray(t)}function hb(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function Jm(t,e,n){return t?t.concat(e).map(function(i,r){return i=hb(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function zM(t){return M.isArray(t)&&!t.some(id)}const WM=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function nc(t,e,n){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!M.isUndefined(_[m])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(M.isDate(p))return p.toISOString();if(!l&&M.isBlob(p))throw new ve("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(p)||M.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,_){let v=p;if(p&&!_&&typeof p=="object"){if(M.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(M.isArray(p)&&zM(p)||(M.isFileList(p)||M.endsWith(m,"[]"))&&(v=M.toArray(p)))return m=hb(m),v.forEach(function(g,S){!(M.isUndefined(g)||g===null)&&e.append(o===!0?Jm([m],S,r):o===null?m:m+"[]",c(g))}),!1}return id(p)?!0:(e.append(Jm(_,m,r),c(p)),!1)}const d=[],f=Object.assign(WM,{defaultVisitor:u,convertValue:c,isVisitable:id});function h(p,m){if(!M.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),M.forEach(p,function(v,y){(!(M.isUndefined(v)||v===null)&&i.call(e,v,M.isString(y)?y.trim():y,m,f))===!0&&h(v,m?m.concat(y):[y])}),d.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Qm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function ch(t,e){this._pairs=[],t&&nc(t,this,e)}const pb=ch.prototype;pb.append=function(e,n){this._pairs.push([e,n])};pb.toString=function(e){const n=e?function(s){return e.call(this,s,Qm)}:Qm;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mb(t,e,n){if(!e)return t;const s=n&&n.encode||qM;M.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=M.isURLSearchParams(e)?e.toString():new ch(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Zm{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(s){s!==null&&e(s)})}}const gb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GM=typeof URLSearchParams<"u"?URLSearchParams:ch,KM=typeof FormData<"u"?FormData:null,YM=typeof Blob<"u"?Blob:null,XM={isBrowser:!0,classes:{URLSearchParams:GM,FormData:KM,Blob:YM},protocols:["http","https","file","blob","url","data"]},uh=typeof window<"u"&&typeof document<"u",rd=typeof navigator=="object"&&navigator||void 0,JM=uh&&(!rd||["ReactNative","NativeScript","NS"].indexOf(rd.product)<0),QM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZM=uh&&window.location.href||"http://localhost",eD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uh,hasStandardBrowserEnv:JM,hasStandardBrowserWebWorkerEnv:QM,navigator:rd,origin:ZM},Symbol.toStringTag,{value:"Module"})),_t={...eD,...XM};function tD(t,e){return nc(t,new _t.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,r){return _t.isNode&&M.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function nD(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sD(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function vb(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&M.isArray(i[o])&&(i[o]=sD(i[o])),!a)}if(M.isFormData(t)&&M.isFunction(t.entries)){const n={};return M.forEachEntry(t,(s,i)=>{e(nD(s),i,n,0)}),n}return null}function iD(t,e,n){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const Fo={transitional:gb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=M.isObject(e);if(r&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(vb(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tD(e,this.formSerializer).toString();if((a=M.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return nc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),iD(e)):e}],transformResponse:[function(e){const n=this.transitional||Fo.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Fo.headers[t]={}});const rD=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oD=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&rD[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},eg=Symbol("internals");function kr(t){return t&&String(t).trim().toLowerCase()}function ma(t){return t===!1||t==null?t:M.isArray(t)?t.map(ma):String(t)}function aD(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const lD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yc(t,e,n,s,i){if(M.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!M.isString(e)){if(M.isString(s))return e.indexOf(s)!==-1;if(M.isRegExp(s))return s.test(e)}}function cD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function uD(t,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}class Mt{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=kr(l);if(!u)throw new Error("header name must be a non-empty string");const d=M.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=ma(a))}const o=(a,l)=>M.forEach(a,(c,u)=>r(c,u,l));if(M.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(M.isString(e)&&(e=e.trim())&&!lD(e))o(oD(e),n);else if(M.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(n,e,s);return this}get(e,n){if(e=kr(e),e){const s=M.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return aD(i);if(M.isFunction(n))return n.call(this,i,s);if(M.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=kr(e),e){const s=M.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Yc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=kr(o),o){const a=M.findKey(s,o);a&&(!n||Yc(s,s[a],a,n))&&(delete s[a],i=!0)}}return M.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||Yc(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return M.forEach(this,(i,r)=>{const o=M.findKey(s,r);if(o){n[o]=ma(i),delete n[r];return}const a=e?cD(r):String(r).trim();a!==r&&delete n[r],n[a]=ma(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&M.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[eg]=this[eg]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=kr(o);s[a]||(uD(i,o),s[a]=!0)}return M.isArray(e)?e.forEach(r):r(e),this}}Mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Mt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});M.freezeMethods(Mt);function Xc(t,e){const n=this||Fo,s=e||n,i=Mt.from(s.headers);let r=s.data;return M.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function yb(t){return!!(t&&t.__CANCEL__)}function hr(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits(hr,ve,{__CANCEL__:!0});function _b(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fD(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function hD(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const ol=(t,e,n=3)=>{let s=0;const i=fD(50,250);return hD(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},tg=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},ng=t=>(...e)=>M.asap(()=>t(...e)),pD=_t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_t.origin),_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent)):()=>!0,mD=_t.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];M.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),M.isString(s)&&o.push("path="+s),M.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vD(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wb(t,e){return t&&!gD(e)?vD(t,e):e}const sg=t=>t instanceof Mt?{...t}:t;function pi(t,e){e=e||{};const n={};function s(c,u,d,f){return M.isPlainObject(c)&&M.isPlainObject(u)?M.merge.call({caseless:f},c,u):M.isPlainObject(u)?M.merge({},u):M.isArray(u)?u.slice():u}function i(c,u,d,f){if(M.isUndefined(u)){if(!M.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function r(c,u){if(!M.isUndefined(u))return s(void 0,u)}function o(c,u){if(M.isUndefined(u)){if(!M.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(sg(c),sg(u),d,!0)};return M.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);M.isUndefined(f)&&d!==a||(n[u]=f)}),n}const bb=t=>{const e=pi({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=Mt.from(o),e.url=mb(wb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(M.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(_t.hasStandardBrowserEnv&&(s&&M.isFunction(s)&&(s=s(e)),s||s!==!1&&pD(e.url))){const c=i&&r&&mD.read(r);c&&o.set(i,c)}return e},yD=typeof XMLHttpRequest<"u",_D=yD&&function(t){return new Promise(function(n,s){const i=bb(t);let r=i.data;const o=Mt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function v(){if(!_)return;const g=Mt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:g,config:t,request:_};_b(function(L){n(L),m()},function(L){s(L),m()},T),_=null}"onloadend"in _?_.onloadend=v:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(v)},_.onabort=function(){_&&(s(new ve("Request aborted",ve.ECONNABORTED,t,_)),_=null)},_.onerror=function(){s(new ve("Network Error",ve.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||gb;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new ve(S,T.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,_)),_=null},r===void 0&&o.setContentType(null),"setRequestHeader"in _&&M.forEach(o.toJSON(),function(S,T){_.setRequestHeader(T,S)}),M.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),c&&([f,p]=ol(c,!0),_.addEventListener("progress",f)),l&&_.upload&&([d,h]=ol(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=g=>{_&&(s(!g||g.type?new hr(null,t,_):g),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=dD(i.url);if(y&&_t.protocols.indexOf(y)===-1){s(new ve("Unsupported protocol "+y+":",ve.ERR_BAD_REQUEST,t));return}_.send(r||null)})},wD=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof ve?u:new hr(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>M.asap(a),l}},bD=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},SD=async function*(t,e){for await(const n of ED(t))yield*bD(n,e)},ED=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},ig=(t,e,n,s)=>{const i=SD(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},sc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sb=sc&&typeof ReadableStream=="function",TD=sc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Eb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},CD=Sb&&Eb(()=>{let t=!1;const e=new Request(_t.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rg=64*1024,od=Sb&&Eb(()=>M.isReadableStream(new Response("").body)),al={stream:od&&(t=>t.body)};sc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!al[e]&&(al[e]=M.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new ve(`Response type '${e}' is not supported`,ve.ERR_NOT_SUPPORT,s)})})})(new Response);const xD=async t=>{if(t==null)return 0;if(M.isBlob(t))return t.size;if(M.isSpecCompliantForm(t))return(await new Request(_t.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(M.isArrayBufferView(t)||M.isArrayBuffer(t))return t.byteLength;if(M.isURLSearchParams(t)&&(t=t+""),M.isString(t))return(await TD(t)).byteLength},ID=async(t,e)=>{const n=M.toFiniteNumber(t.getContentLength());return n??xD(e)},kD=sc&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=bb(t);c=c?(c+"").toLowerCase():"text";let h=wD([i,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let _;try{if(l&&CD&&n!=="get"&&n!=="head"&&(_=await ID(u,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),A;if(M.isFormData(s)&&(A=T.headers.get("content-type"))&&u.setContentType(A),T.body){const[L,C]=tg(_,ol(ng(l)));s=ig(T.body,rg,L,C)}}M.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:v?d:void 0});let y=await fetch(p);const g=od&&(c==="stream"||c==="response");if(od&&(a||g&&m)){const T={};["status","statusText","headers"].forEach(x=>{T[x]=y[x]});const A=M.toFiniteNumber(y.headers.get("content-length")),[L,C]=a&&tg(A,ol(ng(a),!0))||[];y=new Response(ig(y.body,rg,L,()=>{C&&C(),m&&m()}),T)}c=c||"text";let S=await al[M.findKey(al,c)||"text"](y,t);return!g&&m&&m(),await new Promise((T,A)=>{_b(T,A,{data:S,headers:Mt.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,p),{cause:v.cause||v}):ve.from(v,v&&v.code,t,p)}}),ad={http:HM,xhr:_D,fetch:kD};M.forEach(ad,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const og=t=>`- ${t}`,PD=t=>M.isFunction(t)||t===null||t===!1,Tb={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let o;if(s=n,!PD(n)&&(s=ad[(o=String(n)).toLowerCase()],s===void 0))throw new ve(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+r]=s}if(!s){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(og).join(`
`):" "+og(r[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:ad};function Jc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hr(null,t)}function ag(t){return Jc(t),t.headers=Mt.from(t.headers),t.data=Xc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Tb.getAdapter(t.adapter||Fo.adapter)(t).then(function(s){return Jc(t),s.data=Xc.call(t,t.transformResponse,s),s.headers=Mt.from(s.headers),s},function(s){return yb(s)||(Jc(t),s&&s.response&&(s.response.data=Xc.call(t,t.transformResponse,s.response),s.response.headers=Mt.from(s.response.headers))),Promise.reject(s)})}const Cb="1.7.9",ic={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ic[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const lg={};ic.transitional=function(e,n,s){function i(r,o){return"[Axios v"+Cb+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!lg[o]&&(lg[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};ic.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function AD(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new ve("option "+r+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+r,ve.ERR_BAD_OPTION)}}const ga={assertOptions:AD,validators:ic},vn=ga.validators;class Zs{constructor(e){this.defaults=e,this.interceptors={request:new Zm,response:new Zm}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pi(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&ga.assertOptions(s,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),i!=null&&(M.isFunction(i)?n.paramsSerializer={serialize:i}:ga.assertOptions(i,{encode:vn.function,serialize:vn.function},!0)),ga.assertOptions(n,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&M.merge(r.common,r[n.method]);r&&M.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Mt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[ag.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(_){m.call(this,_);break}}try{u=ag.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=pi(this.defaults,e);const n=wb(e.baseURL,e.url);return mb(n,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){Zs.prototype[e]=function(n,s){return this.request(pi(s||{},{method:e,url:n,data:(s||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(pi(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Zs.prototype[e]=n(),Zs.prototype[e+"Form"]=n(!0)});class dh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new hr(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new dh(function(i){e=i}),cancel:e}}}function RD(t){return function(n){return t.apply(null,n)}}function OD(t){return M.isObject(t)&&t.isAxiosError===!0}const ld={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ld).forEach(([t,e])=>{ld[e]=t});function xb(t){const e=new Zs(t),n=sb(Zs.prototype.request,e);return M.extend(n,Zs.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xb(pi(t,i))},n}const qe=xb(Fo);qe.Axios=Zs;qe.CanceledError=hr;qe.CancelToken=dh;qe.isCancel=yb;qe.VERSION=Cb;qe.toFormData=nc;qe.AxiosError=ve;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=RD;qe.isAxiosError=OD;qe.mergeConfig=pi;qe.AxiosHeaders=Mt;qe.formToJSON=t=>vb(M.isHTMLForm(t)?new FormData(t):t);qe.getAdapter=Tb.getAdapter;qe.HttpStatusCode=ld;qe.default=qe;const ND="/right_arrow.svg",Bo={__name:"BackLink",setup(t){const e=nr(),n=()=>e.go(-1);return(s,i)=>(k(),B("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},i[0]||(i[0]=[w("img",{src:ND,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function cg(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function fh(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:cg(e[n])&&cg(t[n])&&Object.keys(e[n]).length>0&&fh(t[n],e[n])})}const Ib={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Si(){const t=typeof document<"u"?document:{};return fh(t,Ib),t}const MD={document:Ib,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ht(){const t=typeof window<"u"?window:{};return fh(t,MD),t}function DD(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function LD(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function cd(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function ei(){return Date.now()}function $D(t){const e=Ht();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function FD(t,e){e===void 0&&(e="x");const n=Ht();let s,i,r;const o=$D(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function Xo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function BD(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function $t(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!BD(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(Xo(t[a])&&Xo(s[a])?s[a].__swiper__?t[a]=s[a]:$t(t[a],s[a]):!Xo(t[a])&&Xo(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:$t(t[a],s[a])):t[a]=s[a])}}}return t}function Jo(t,e,n){t.style.setProperty(e,n)}function kb(t){let{swiper:e,targetPosition:n,side:s}=t;const i=Ht(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function En(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function UD(t,e){var s,i;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((s=r.shadowRoot)==null?void 0:s.children)||[],...((i=r.assignedElements)==null?void 0:i.call(r))||[])}}function jD(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=UD(t,e))),n}function ll(t){try{console.warn(t);return}catch{}}function cl(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:DD(e)),n}function VD(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function HD(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function _s(t,e){return Ht().getComputedStyle(t,null).getPropertyValue(e)}function ul(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Pb(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function Qc(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function ud(t,e,n){const s=Ht();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function lt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Ab(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=En(t.el,`.${s[i]}`)[0];r||(r=cl("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function zD(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const _=e.params.navigation;p=lt(p),p.forEach(v=>{v&&(v.classList[m?"add":"remove"](..._.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=m),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](_.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=Ab(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),_=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:_}),m=lt(m),_=lt(_);const v=(y,g)=>{y&&y.addEventListener("click",g==="next"?c:l),!e.enabled&&y&&y.classList.add(...p.lockClass.split(" "))};m.forEach(y=>v(y,"next")),_.forEach(y=>v(y,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=lt(p),m=lt(m);const _=(v,y)=>{v.removeEventListener("click",y==="next"?c:l),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(v=>_(v,"next")),m.forEach(v=>_(v,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=lt(p),m=lt(m),e.enabled){a();return}[...p,...m].filter(_=>!!_).forEach(_=>_.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:_,prevEl:v}=e.navigation;_=lt(_),v=lt(v);const y=m.target;let g=v.includes(y)||_.includes(y);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(T=>_.includes(T)||v.includes(T)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let S;_.length?S=_[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(S=v[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[..._,...v].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function Pr(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function WD(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(y,g){const{bulletActiveClass:S}=e.params.pagination;y&&(y=y[`${g==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${S}-${g}`),y=y[`${g==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${S}-${g}-${g}`)))}function u(y,g,S){if(y=y%S,g=g%S,g===y+1)return"next";if(g===y-1)return"previous"}function d(y){const g=y.target.closest(Pr(e.params.pagination.bulletClass));if(!g)return;y.preventDefault();const S=ul(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=u(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const y=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=lt(S);let T,A;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,T=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const x=e.pagination.bullets;let R,V,W;if(g.dynamicBullets&&(o=ud(x[0],e.isHorizontal()?"width":"height"),S.forEach(H=>{H.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&A!==void 0&&(a+=T-(A||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(T-a,0),V=R+(Math.min(x.length,g.dynamicMainBullets)-1),W=(V+R)/2),x.forEach(H=>{const se=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${g.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();H.classList.remove(...se)}),S.length>1)x.forEach(H=>{const se=ul(H);se===T?H.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&H.setAttribute("part","bullet"),g.dynamicBullets&&(se>=R&&se<=V&&H.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),se===R&&c(H,"prev"),se===V&&c(H,"next"))});else{const H=x[T];if(H&&H.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&x.forEach((se,oe)=>{se.setAttribute("part",oe===T?"bullet-active":"bullet")}),g.dynamicBullets){const se=x[R],oe=x[V];for(let ae=R;ae<=V;ae+=1)x[ae]&&x[ae].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(se,"prev"),c(oe,"next")}}if(g.dynamicBullets){const H=Math.min(x.length,g.dynamicMainBullets+4),se=(o*H-o)/2-W*o,oe=y?"right":"left";x.forEach(ae=>{ae.style[e.isHorizontal()?oe:"top"]=`${se}px`})}}S.forEach((x,R)=>{if(g.type==="fraction"&&(x.querySelectorAll(Pr(g.currentClass)).forEach(V=>{V.textContent=g.formatFractionCurrent(T+1)}),x.querySelectorAll(Pr(g.totalClass)).forEach(V=>{V.textContent=g.formatFractionTotal(C)})),g.type==="progressbar"){let V;g.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const W=(T+1)/C;let H=1,se=1;V==="horizontal"?H=W:se=W,x.querySelectorAll(Pr(g.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${H}) scaleY(${se})`,oe.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(x.innerHTML=g.renderCustom(e,T+1,C),R===0&&i("paginationRender",x)):(R===0&&i("paginationRender",x),i("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const y=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=lt(S);let T="";if(y.type==="bullets"){let A=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>g&&(A=g);for(let L=0;L<A;L+=1)y.renderBullet?T+=y.renderBullet.call(e,L,y.bulletClass):T+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?T=y.renderFraction.call(e,y.currentClass,y.totalClass):T=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?T=y.renderProgressbar.call(e,y.progressbarFillClass):T=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(A=>{y.type!=="custom"&&(A.innerHTML=T||""),y.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(Pr(y.bulletClass)))}),y.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=Ab(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let g;typeof y.el=="string"&&e.isElement&&(g=e.el.querySelector(y.el)),!g&&typeof y.el=="string"&&(g=[...document.querySelectorAll(y.el)]),g||(g=y.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(y.el)],g.length>1&&(g=g.find(S=>Pb(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=lt(g),g.forEach(S=>{y.type==="bullets"&&y.clickable&&S.classList.add(...(y.clickableClass||"").split(" ")),S.classList.add(y.modifierClass+y.type),S.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(S.classList.add(`${y.modifierClass}${y.type}-dynamic`),a=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&S.classList.add(y.progressbarOppositeClass),y.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(y.lockClass)}))}function m(){const y=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=lt(g),g.forEach(S=>{S.classList.remove(y.hiddenClass),S.classList.remove(y.modifierClass+y.type),S.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(S.classList.remove(...(y.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...y.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:g}=e.pagination;g=lt(g),g.forEach(S=>{S.classList.remove(y.horizontalClass,y.verticalClass),S.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?v():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:y}=e.pagination;y&&(y=lt(y),y.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(y,g)=>{const S=g.target,T=lt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const A=T[0].classList.contains(e.params.pagination.hiddenClass);i(A===!0?"paginationShow":"paginationHide"),T.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const _=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=lt(y),y.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=lt(y),y.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:_,disable:v,render:h,update:f,init:p,destroy:m})}function hh(t){let{swiper:e,extendParams:n,emit:s,once:i}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:ei()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,_=ei()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const C=p.velocities.pop(),x=p.velocities.pop(),R=C.position-x.position,V=C.time-x.time;e.velocity=R/V,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(V>150||ei()-C.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let v=1e3*u.freeMode.momentumRatio;const y=e.velocity*v;let g=e.translate+y;f&&(g=-g);let S=!1,T;const A=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let L;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-A&&(g=e.maxTranslate()-A),T=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&(L=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>A&&(g=e.minTranslate()+A),T=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&(L=!0);else if(u.freeMode.sticky){let C;for(let x=0;x<h.length;x+=1)if(h[x]>-g){C=x;break}Math.abs(h[C]-g)<Math.abs(h[C-1]-g)||e.swipeDirection==="next"?g=h[C]:g=h[C-1],g=-g}if(L&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?v=Math.abs((-g-e.translate)/e.velocity):v=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const C=Math.abs((f?-g:g)-e.translate),x=e.slidesSizesGrid[e.activeIndex];C<x?v=u.speed:C<2*x?v=u.speed*1.5:v=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(T),e.setTransition(v),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Qc(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(s("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),Qc(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(v),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Qc(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&s("_freeModeNoMomentumRelease");(!u.freeMode.momentum||_>=u.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Zc;function qD(){const t=Ht(),e=Si();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Rb(){return Zc||(Zc=qD()),Zc}let eu;function GD(t){let{userAgent:e}=t===void 0?{}:t;const n=Rb(),s=Ht(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Ob(t){return t===void 0&&(t={}),eu||(eu=GD(t)),eu}let tu;function KD(){const t=Ht(),e=Ob();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function YD(){return tu||(tu=KD()),tu}function XD(t){let{swiper:e,on:n,emit:s}=t;const i=Ht();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(_=>{let{contentBoxSize:v,contentRect:y,target:g}=_;g&&g!==e.el||(p=y?y.width:(v[0]||v).inlineSize,m=y?y.height:(v[0]||v).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function JD(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=Ht(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Pb(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var QD={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function ZD(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(_s(s,"padding-left")||0,10)-parseInt(_s(s,"padding-right")||0,10),n=n-parseInt(_s(s,"padding-top")||0,10)-parseInt(_s(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function eL(){const t=this;function e(R,V){return parseFloat(R.getPropertyValue(t.getDirectionLabel(V))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=En(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let _=n.slidesOffsetAfter;typeof _=="function"&&(_=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,y=t.slidesGrid.length;let g=n.spaceBetween,S=-m,T=0,A=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Jo(s,"--swiper-centered-offset-before",""),Jo(s,"--swiper-centered-offset-after",""));const L=n.grid&&n.grid.rows>1&&t.grid;L?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let C;const x=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<d;R+=1){C=0;let V;if(u[R]&&(V=u[R]),L&&t.grid.updateSlide(R,V,u),!(u[R]&&_s(V,"display")==="none")){if(n.slidesPerView==="auto"){x&&(u[R].style[t.getDirectionLabel("width")]="");const W=getComputedStyle(V),H=V.style.transform,se=V.style.webkitTransform;if(H&&(V.style.transform="none"),se&&(V.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?ud(V,"width"):ud(V,"height");else{const oe=e(W,"width"),ae=e(W,"padding-left"),le=e(W,"padding-right"),_e=e(W,"margin-left"),ht=e(W,"margin-right"),pt=W.getPropertyValue("box-sizing");if(pt&&pt==="border-box")C=oe+_e+ht;else{const{clientWidth:ge,offsetWidth:ye}=V;C=oe+ae+le+_e+ht+(ye-ge)}}H&&(V.style.transform=H),se&&(V.style.webkitTransform=se),n.roundLengths&&(C=Math.floor(C))}else C=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),u[R]&&(u[R].style[t.getDirectionLabel("width")]=`${C}px`);u[R]&&(u[R].swiperSlideSize=C),p.push(C),n.centeredSlides?(S=S+C/2+T/2+g,T===0&&R!==0&&(S=S-r/2-g),R===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),A%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+C+g),t.virtualSize+=C+g,T=C,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+_,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),L&&t.grid.updateWrapperSize(C,f),!n.centeredSlides){const R=[];for(let V=0;V<f.length;V+=1){let W=f[V];n.roundLengths&&(W=Math.floor(W)),f[V]<=t.virtualSize-r&&R.push(W)}f=R,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const R=p[0]+g;if(n.slidesPerGroup>1){const V=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),W=R*n.slidesPerGroup;for(let H=0;H<V;H+=1)f.push(f[f.length-1]+W)}for(let V=0;V<t.virtual.slidesBefore+t.virtual.slidesAfter;V+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+R),h.push(h[h.length-1]+R),t.virtualSize+=R}if(f.length===0&&(f=[0]),g!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((V,W)=>!n.cssMode||n.loop?!0:W!==u.length-1).forEach(V=>{V.style[R]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;p.forEach(W=>{R+=W+(g||0)}),R-=g;const V=R>r?R-r:0;f=f.map(W=>W<=0?-m:W>V?V+_:W)}if(n.centerInsufficientSlides){let R=0;p.forEach(W=>{R+=W+(g||0)}),R-=g;const V=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+V<r){const W=(r-R-V)/2;f.forEach((H,se)=>{f[se]=H-W}),h.forEach((H,se)=>{h[se]=H+W})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Jo(s,"--swiper-centered-offset-before",`${-f[0]}px`),Jo(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const R=-t.snapGrid[0],V=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(W=>W+R),t.slidesGrid=t.slidesGrid.map(W=>W+V)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==y&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,V=t.el.classList.contains(R);d<=n.maxBackfaceHiddenSlides?V||t.el.classList.add(R):V&&t.el.classList.remove(R)}}function tL(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function nL(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const ug=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function sL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],_=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;_&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),ug(c,_,n.slideVisibleClass),ug(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function iL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const nu=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function rL(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>En(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=HD(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=VD(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{nu(d,d===l,n.slideActiveClass),nu(d,d===u,n.slideNextClass),nu(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const va=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},su=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},dd=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&su(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&su(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&su(t,o)};function oL(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function aL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=oL(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&dd(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function lL(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var cL={updateSize:ZD,updateSlides:eL,updateAutoHeight:tL,updateSlidesOffset:nL,updateSlidesProgress:sL,updateProgress:iL,updateSlidesClasses:rL,updateActiveIndex:aL,updateClickedSlide:lL};function uL(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=FD(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function dL(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function fL(){return-this.snapGrid[0]}function hL(){return-this.snapGrid[this.snapGrid.length-1]}function pL(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return kb({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var mL={getTranslate:uL,setTranslate:dL,minTranslate:fL,maxTranslate:hL,translateTo:pL};function gL(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Nb(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function vL(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Nb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function yL(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Nb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var _L={setTransition:gL,transitionStart:vL,transitionEnd:yL};function wL(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let _=m+Math.floor((o-m)/r.params.slidesPerGroup);_>=l.length&&(_=l.length-1);const v=-l[_];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const A=-Math.floor(v*100),L=Math.floor(c[T]*100),C=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?A>=L&&A<C-(C-L)/2?o=T:A>=L&&A<C&&(o=T+1):A>=L&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?v>r.translate&&v>r.minTranslate():v<r.translate&&v<r.minTranslate())||!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(v);let y;o>d?y="next":o<d?y="prev":y="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&i)&&(f&&-v===r.translate||!f&&v===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(v),y!=="reset"&&(r.transitionStart(n,y),r.transitionEnd(n,y)),!1;if(a.cssMode){const T=r.isHorizontal(),A=f?v:-v;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[T?"scrollLeft":"scrollTop"]=A})):h[T?"scrollLeft":"scrollTop"]=A,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return kb({swiper:r,targetPosition:A,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:A,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(v),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,y),e===0?r.transitionEnd(n,y):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(A){!r||r.destroyed||A.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,y))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function bL(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function SL(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function EL(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const h=f(d),p=r.map(v=>f(v));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let v;r.forEach((y,g)=>{h>=y&&(v=g)}),typeof v<"u"&&(m=r[v>0?v-1:v])}let _=0;if(typeof m<"u"&&(_=o.indexOf(m),_<0&&(_=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(_=_-s.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),i.rewind&&s.isBeginning){const v=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(v,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(_,t,e,n)}),!0;return s.slideTo(_,t,e,n)}function TL(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function CL(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function xL(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(En(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),cd(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(En(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),cd(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var IL={slideTo:wL,slideToLoop:bL,slideNext:SL,slidePrev:EL,slideReset:TL,slideToClosest:CL,slideToClickedSlide:xL};function kL(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{En(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?cl("swiper-slide",[n.slideBlankClass]):cl("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else ll("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else ll("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function PL(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const _=h.slidesPerGroupAuto?m:h.slidesPerGroup;let v=_;v%_!==0&&(v+=_-v%_),v+=h.loopAdditionalSlides,l.loopedSlides=v;const y=l.grid&&h.grid&&h.grid.rows>1;c.length<m+v?ll("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&h.grid.fill==="row"&&ll("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(H=>H.classList.contains(h.slideActiveClass))):T=r;const A=s==="next"||!s,L=s==="prev"||!s;let C=0,x=0;const R=y?Math.ceil(c.length/h.grid.rows):c.length,W=(y?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(W<v){C=Math.max(v-W,_);for(let H=0;H<v-W;H+=1){const se=H-Math.floor(H/R)*R;if(y){const oe=R-se-1;for(let ae=c.length-1;ae>=0;ae-=1)c[ae].column===oe&&g.push(ae)}else g.push(R-se-1)}}else if(W+m>R-v){x=Math.max(W-(R-v*2),_);for(let H=0;H<x;H+=1){const se=H-Math.floor(H/R)*R;y?c.forEach((oe,ae)=>{oe.column===se&&S.push(ae)}):S.push(se)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),L&&g.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.prepend(c[H]),c[H].swiperLoopMoveDOM=!1}),A&&S.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.append(c[H]),c[H].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():y&&(g.length>0&&L||S.length>0&&A)&&l.slides.forEach((H,se)=>{l.grid.updateSlide(se,H,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&L){if(typeof e>"u"){const H=l.slidesGrid[T],oe=l.slidesGrid[T+C]-H;a?l.setTranslate(l.translate-oe):(l.slideTo(T+Math.ceil(C),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-oe))}else if(i){const H=y?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+H,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&A)if(typeof e>"u"){const H=l.slidesGrid[T],oe=l.slidesGrid[T-x]-H;a?l.setTranslate(l.translate-oe):(l.slideTo(T-x,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-oe))}else{const H=y?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-H,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const H={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...H,slideTo:se.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...H,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function AL(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var RL={loopCreate:kL,loopFix:PL,loopDestroy:AL};function OL(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function NL(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var ML={setGrabCursor:OL,unsetGrabCursor:NL};function DL(t,e){e===void 0&&(e=this);function n(s){if(!s||s===Si()||s===Ht())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function dg(t,e,n){const s=Ht(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function LL(t){const e=this,n=Si();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){dg(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!jD(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?DL(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!dg(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=ei(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const _=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||_)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function $L(t){const e=Si(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=ei());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const _=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const v=n.params.loop&&!i.cssMode,y=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(v&&y&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&_!==n.touchesDirection&&v&&y&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let g=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(v&&y&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**S))):p<0&&(v&&y&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function FL(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(T=>T.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=ei(),f=d-n.touchStartTime;if(e.allowClick){const T=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(T&&T[0]||s.target,T),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=ei(),cd(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,_=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const A=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+A]<"u"?(p||h>=c[T]&&h<c[T+A])&&(m=T,_=c[T+A]-c[T]):(p||h>=c[T])&&(m=T,_=c[c.length-1]-c[c.length-2])}let v=null,y=null;o.rewind&&(e.isBeginning?y=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const g=(h-c[m])/_,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?v:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):y!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(y):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:m+S),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:m))}}function fg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function BL(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function UL(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function jL(t){const e=this;va(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function VL(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Mb=(t,e)=>{const n=Si(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",fg,!0):t[c]("observerUpdate",fg,!0),i[l]("load",t.onLoad,{capture:!0}))};function HL(){const t=this,{params:e}=t;t.onTouchStart=LL.bind(t),t.onTouchMove=$L.bind(t),t.onTouchEnd=FL.bind(t),t.onDocumentTouchStart=VL.bind(t),e.cssMode&&(t.onScroll=UL.bind(t)),t.onClick=BL.bind(t),t.onLoad=jL.bind(t),Mb(t,"on")}function zL(){Mb(this,"off")}var WL={attachEvents:HL,detachEvents:zL};const hg=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function qL(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=Si(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=hg(t,s),h=hg(t,d),p=t.params.grabCursor,m=d.grabCursor,_=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof d[A]>"u")return;const L=s[A]&&s[A].enabled,C=d[A]&&d[A].enabled;L&&!C&&t[A].disable(),!L&&C&&t[A].enable()});const v=d.direction&&d.direction!==s.direction,y=s.loop&&(d.slidesPerView!==s.slidesPerView||v),g=s.loop;v&&n&&t.changeDirection(),$t(t.params,d);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),_&&!S?t.disable():!_&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(y?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&T?(t.loopCreate(e),t.updateSlides()):g&&!T&&t.loopDestroy()),t.emit("breakpoint",d)}function GL(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=Ht(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var KL={setBreakpoint:qL,getBreakpoint:GL};function YL(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function XL(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=YL(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function JL(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var QL={addClasses:XL,removeClasses:JL};function ZL(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var e2={checkOverflow:ZL},fd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function t2(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){$t(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){$t(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),$t(e,s)}}const iu={eventsEmitter:QD,update:cL,translate:mL,transition:_L,slide:IL,loop:RL,grabCursor:ML,events:WL,breakpoints:KL,checkOverflow:e2,classes:QL},ru={};let ph=class Ln{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=$t({},n),e&&!n.el&&(n.el=e);const o=Si();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=$t({},n,{el:d});u.push(new Ln(f))}),u}const a=this;a.__swiper__=!0,a.support=Rb(),a.device=Ob({userAgent:n.userAgent}),a.browser=YD(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:t2(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=$t({},fd,l);return a.params=$t({},c,ru,n),a.originalParams=$t({},a.params),a.passedParams=$t({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=En(n,`.${s.slideClass}, swiper-slide`),r=ul(i[0]);return ul(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=En(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&va(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):En(s,i())[0];return!o&&n.params.createElements&&(o=cl("div",n.params.wrapperClass),s.append(o),En(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||_s(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||_s(s,"direction")==="rtl"),wrongRTL:_s(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?va(n,r):r.addEventListener("load",o=>{va(n,o.target)})}),dd(n),n.initialized=!0,dd(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),LD(s)),s.destroyed=!0),null}static extendDefaults(e){$t(ru,e)}static get extendedDefaults(){return ru}static get defaults(){return fd}static installModule(e){Ln.prototype.__modules__||(Ln.prototype.__modules__=[]);const n=Ln.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ln.installModule(n)),Ln):(Ln.installModule(e),Ln)}};Object.keys(iu).forEach(t=>{Object.keys(iu[t]).forEach(e=>{ph.prototype[e]=iu[t][e]})});ph.use([XD,JD]);const Db=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function mi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Vi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:mi(e[s])&&mi(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Vi(t[s],e[s]):t[s]=e[s]})}function Lb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function $b(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Fb(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Bb(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function n2(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function s2(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let _,v,y,g,S,T,A,L;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(_=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(v=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(y=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const C=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),u[x].prevEl=void 0,u[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),u[x].el=void 0,e[x].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?T=!0:!u.loop&&s.loop?A=!0:L=!0),c.forEach(x=>{if(mi(u[x])&&mi(s[x]))Object.assign(u[x],s[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in s[x]&&!s[x].enabled&&C(x);else{const R=s[x];(R===!0||R===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?R===!1&&C(x):u[x]=s[x]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(L=!0),_&&m.init()&&m.update(!0),v&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(T||L)&&e.loopDestroy(),(A||L)&&e.loopCreate(),e.update()}function pg(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};Vi(n,fd),n._emitClasses=!0,n.init=!1;const r={},o=Db.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?mi(t[l])?(n[l]={},i[l]={},Vi(n[l],t[l]),Vi(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function i2(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;Lb(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),$b(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Fb(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function r2(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return Db.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(mi(t[l])&&mi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const o2=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ou(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function a2(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return Ae(u.type,{...u.props},u.children);if(u.componentOptions)return Ae(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const rc={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=D("swiper"),a=D(null),l=D(!1),c=D(!1),u=D(null),d=D(null),f=D(null),h={value:[]},p={value:[]},m=D(null),_=D(null),v=D(null),y=D(null),{params:g,passedParams:S}=pg(t);ou(n,h,p),f.value=S,p.value=h.value;const T=()=>{ou(n,h,p),l.value=!0};g.onAny=function(C){for(var x=arguments.length,R=new Array(x>1?x-1:0),V=1;V<x;V++)R[V-1]=arguments[V];s(C,...R)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(C,x){o.value=x}});const A={...g};if(delete A.wrapperClass,d.value=new ph(A),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const C={cache:!1,slides:h.value,renderExternal:x=>{a.value=x},renderExternalUpdate:!1};Vi(d.value.params.virtual,C),Vi(d.value.originalParams.virtual,C)}Md(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:C}=pg(t),x=r2(C,f.value,h.value,p.value,R=>R.props&&R.props.key);f.value=C,(x.length||l.value)&&d.value&&!d.value.destroyed&&s2({swiper:d.value,slides:h.value,passedParams:C,changedParams:x,nextEl:m.value,prevEl:_.value,scrollbarEl:y.value,paginationEl:v.value}),l.value=!1}),wt("swiper",d),Ke(a,()=>{tr(()=>{o2(d.value)})}),Oe(()=>{u.value&&(i2({el:u.value,nextEl:m.value,prevEl:_.value,paginationEl:v.value,scrollbarEl:y.value,swiper:d.value},g),s("swiper",d.value))}),Dd(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function L(C){return g.virtual?a2(d,C,a.value):(C.forEach((x,R)=>{x.props||(x.props={}),x.props.swiperRef=d,x.props.swiperSlideIndex=R}),C)}return()=>{const{slides:C,slots:x}=ou(n,h,p);return Ae(i,{ref:u,class:Bb(o.value)},[x["container-start"],Ae(r,{class:n2(g.wrapperClass)},[x["wrapper-start"],L(C),x["wrapper-end"]]),Lb(t)&&[Ae("div",{ref:_,class:"swiper-button-prev"}),Ae("div",{ref:m,class:"swiper-button-next"})],Fb(t)&&Ae("div",{ref:y,class:"swiper-scrollbar"}),$b(t)&&Ae("div",{ref:v,class:"swiper-pagination"}),x["container-end"]])}}},oc={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=D(null),o=D("swiper-slide"),a=D(!1);function l(d,f,h){f===r.value&&(o.value=h)}Oe(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Nd(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Md(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Dd(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=Q(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));wt("swiperSlide",c);const u=()=>{a.value=!0};return()=>Ae(t.tag,{class:Bb(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Ae("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Ae("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Ae("div",{class:"swiper-lazy-preloader"})])}},l2={class:"relative"},c2=["src","alt"],u2={class:"text-xs mb-1"},d2={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(k(),B("div",l2,[O(I(Pl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:J(()=>[w("div",{class:Ie(["mb-1 image bg-contain",t.size])},[w("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,c2)],2),w("h3",u2,ne(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},hd={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[hh];return(n,s)=>(k(),re(I(rc),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:J(()=>[(k(!0),B(Re,null,Ns(t.films,i=>(k(),re(I(oc),{key:i.kinopoiskId?i.kinopoiskId:i.filmId,class:"flex-1"},{default:J(()=>[O(d2,{film:i.item?i.item:i},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},f2="/arrow.svg",pr={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,s)=>(k(),B("div",{class:"fixed bottom-20 right-7 inline-block p-2 rounded-md z-50 mb-1 cursor-pointer bg-gray-600 bg-opacity-50 backdrop-blur-sm",onClick:e},s[0]||(s[0]=[w("img",{src:f2,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},h2={class:"flex justify-between mb-3 pt-0.5"},p2={class:"text-lg font-semibold"},rn={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(k(),B("div",h2,[w("h2",p2,ne(t.title),1),t.showAll?(k(),re(I(Pl),{key:0,to:{name:t.link},class:"text-orange-600 font-semibold flex gap-1.5 pt-1"},{default:J(()=>n[0]||(n[0]=[w("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):Te("",!0)]))}},m2={class:"w-20 h-24 rounded-sm flex items-center overflow-hidden mb-1"},g2=["src","alt"],v2={class:"text-xs mb-1"},y2={key:0,class:"text-xs mb-1 text-gray-500"},_2={key:1,class:"text-xs mb-1 text-gray-500"},w2={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>{const s=Xt("RouterLink");return k(),B("div",null,[O(s,{to:{name:"staff",params:{id:t.staffItem.staffId}}},{default:J(()=>[w("div",m2,[w("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,g2)])]),_:1},8,["to"]),w("h3",v2,ne(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(k(),B("h3",y2,"Режиссер")):Te("",!0),t.staffItem.description?(k(),B("h3",_2,ne(t.staffItem.description),1)):Te("",!0)])}}},b2={__name:"StaffList",props:{staffList:Array},setup(t){const e=[hh];return(n,s)=>(k(),re(I(rc),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":4},{default:J(()=>[(k(!0),B(Re,null,Ns(t.staffList.slice(0,20),i=>(k(),re(I(oc),{key:i.staffId,class:"flex-1"},{default:J(()=>[O(w2,{staffItem:i},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},ac=Io("favoritesStore",()=>{const t=D([]),e=rs(),n=jt(),s=D(!0);return{favorites:t,getFavorites:()=>{s.value=!0,xn(n,a=>{if(a){const l=q_(Qe(e,`users/${a.uid}/favorites`),W_("date"));Xn(l,c=>{const u=[];c.forEach(d=>{u.push(d.val())}),t.value=u.reverse(),s.value=!1},c=>{console.log(c)})}else console.log("User logged out")})},addToFavorites:(a,l)=>{const c=new Date().getTime();a.isFavorite=!0,bi(Qe(e,"users/"+n.currentUser.uid+"/favorites/"+l),{nameRu:a.nameRu?a.nameRu:a.nameOriginal,genres:a.genres,year:a.year,posterUrl:a.posterUrl,id:+l,isFavorite:!0,isWatched:!1,date:c}).then(()=>console.log("Добавлено")).catch(u=>console.log(u))},removeFromFavorites:(a,l)=>{a&&(a.isFavorite=!1),Xa(Qe(e,"users/"+n.currentUser.uid+"/favorites/"+l)).then(()=>console.log("Удалено")).catch(c=>console.log(c))},loader:s}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const S2=t=>typeof t<"u";function E2(t){return JSON.parse(JSON.stringify(t))}function T2(t,e,n,s={}){var i,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=s,h=vi(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const _=g=>a?typeof a=="function"?a(g):E2(g):g,v=()=>S2(t[e])?_(t[e]):d,y=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=v(),S=D(g);let T=!1;return Ke(()=>t[e],A=>{T||(T=!0,S.value=_(A),tr(()=>T=!1))}),Ke(S,A=>{!T&&(A!==t[e]||u)&&y(A)},{deep:u}),S}else return Q({get(){return v()},set(g){y(g)}})}const C2=t=>(ov("data-v-8a63990a"),t=t(),av(),t),x2=C2(()=>w("div",{class:"swipe-modal-drag-handle"},null,-1)),I2=Xe({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){rE(C=>({ef0a5750:I(a)}));const n=t,s=e,i=D(null),r=D(null),o=T2(n,"modelValue",s),a=D("-100%"),l=D(!1),c=D(0),u=D(0),d=D("close"),f=Q(()=>{var C;return n.snapPoint?n.snapPoint==="auto"?`calc(${((C=r.value)==null?void 0:C.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:C,touchEvent:x,eventType:R})=>{R==="mouse"?c.value=C.y:c.value=x.touches[0].clientY,l.value=!0},p=({mouseEvent:C,touchEvent:x,eventType:R})=>{var V,W;if(l.value&&(R==="mouse"?u.value=c.value-C.y:u.value=c.value-x.touches[0].clientY,!(u.value>0&&d.value==="full"||(((V=i.value)==null?void 0:V.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(W=i.value)==null||W.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var C;if(l.value=!1,(C=i.value)==null||C.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?v():n.isPersistent?_():o.value=!1;case"snap":return n.isPersistent?_():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?y():_();default:return}}return _()},_=()=>{if(!i.value)return;const C=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";i.value.animate([{bottom:a.value},{bottom:C()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=C()}},v=()=>{i.value&&n.snapPoint&&(i.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},y=()=>{i.value&&(i.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=C=>{if(n.isBackdrop&&C.target===C.currentTarget){if(n.isPersistent)return _();o.value=!1}},S=C=>{C.stopPropagation()},T=()=>{var C;i.value&&(n.isBackdrop?i.value.showModal():i.value.show(),(C=i.value)==null||C.style.setProperty("visibility","visible"),i.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&L("hidden")})},A=()=>{i.value&&(i.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var C,x,R;a.value="-100%",d.value="close",l.value=!1,(C=i.value)==null||C.close(),(x=i.value)==null||x.style.setProperty("display","initial"),(R=i.value)==null||R.style.setProperty("visibility","hidden"),L("reset")})},L=C=>{if(C==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let x=window,R,V,W;document.defaultView?(x=document.defaultView,R=x.scrollX,V=x.scrollY):(W=document.documentElement,R=W.scrollLeft,V=W.scrollTop),document.documentElement.style.overflow=C,document.documentElement.style.overscrollBehaviorY=C==="auto"?"auto":"none",x.scrollTo(R,V)};return Ke(()=>o.value,C=>{C?T():A()}),Ke(()=>n.isScrollLock,C=>{L(C?"hidden":"auto")}),Oe(()=>{i.value&&(o.value||(i.value.style.setProperty("display","initial"),i.value.style.setProperty("visibility","hidden")))}),(C,x)=>(k(),B("dialog",{ref_key:"modalRef",ref:i,class:"swipe-modal modal-style",onClick:g},[w("div",{tabindex:"-1",class:"swipe-modal-content",onClick:S},[w("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:x[0]||(x[0]=R=>h({mouseEvent:R,eventType:"mouse"})),onMousemove:x[1]||(x[1]=R=>p({mouseEvent:R,eventType:"mouse"})),onMouseup:m,onTouchstart:x[2]||(x[2]=R=>h({touchEvent:R,eventType:"touch"})),onTouchmove:x[3]||(x[3]=R=>p({touchEvent:R,eventType:"touch"})),onTouchend:m},[C.isDragHandle?st(C.$slots,"drag-handle",{key:0},()=>[x2],!0):Te("",!0)],32),w("div",{ref_key:"panelRef",ref:r,class:"panel"},[st(C.$slots,"default",{},void 0,!0)],512)])],512))}}),k2=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Ub=k2(I2,[["__scopeId","data-v-8a63990a"]]),P2={class:"px-2 pb-8 text-sm text-white"},A2=Xe({__name:"Swiper",props:{openText:{type:String,required:!0},description:{type:String,required:!1},openTextStyle:{type:String,required:!1,default:"text-sm"}},setup(t){const e=D(!1);return(n,s)=>(k(),B(Re,null,[w("p",{class:Ie(["text-orange-600 text-end",t.openTextStyle]),onClick:s[0]||(s[0]=i=>e.value=!0)},ne(t.openText),3),O(I(Ub),{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=i=>e.value=i),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1},{default:J(()=>[w("div",P2,ne(t.description),1)]),_:1},8,["modelValue"])],64))}}),mr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},jb=mr(A2,[["__scopeId","data-v-c4ee9b02"]]);function mh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Uo(){let t=[],e={addEventListener(n,s,i,r){return n.addEventListener(s,i,r),e.add(()=>n.removeEventListener(s,i,r))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let s=setTimeout(...n);e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return mh(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let r=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:r})})},group(n){let s=Uo();return n(s),this.add(()=>s.dispose())},add(n){return t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}var mg;let R2=Symbol("headlessui.useid"),O2=0;const lc=(mg=iS)!=null?mg:function(){return We(R2,()=>`${++O2}`)()};function tt(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function An(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,An),s}var N2=Object.defineProperty,M2=(t,e,n)=>e in t?N2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gg=(t,e,n)=>(M2(t,typeof e!="symbol"?e+"":e,n),n);let D2=class{constructor(){gg(this,"current",this.detect()),gg(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},jo=new D2;function gr(t){if(jo.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=tt(t);if(e)return e.ownerDocument}return document}let pd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var vs=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(vs||{}),Vb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Vb||{}),L2=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(L2||{});function $2(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(pd)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Hb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Hb||{});function F2(t,e=0){var n;return t===((n=gr(t))==null?void 0:n.body)?!1:An(e,{0(){return t.matches(pd)},1(){let s=t;for(;s!==null;){if(s.matches(pd))return!0;s=s.parentElement}return!1}})}var B2=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(B2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ti(t){t==null||t.focus({preventScroll:!0})}let U2=["textarea","input"].join(",");function j2(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,U2))!=null?n:!1}function V2(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),r=e(s);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ya(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?V2(t):t:$2(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),s=s??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&j2(h)&&h.select(),2}function zb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function H2(){return/Android/gi.test(window.navigator.userAgent)}function z2(){return zb()||H2()}function Qo(t,e,n){jo.isServer||on(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function Wb(t,e,n){jo.isServer||on(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}function W2(t,e,n=Q(()=>!0)){function s(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:tt(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!F2(a,Hb.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let i=D(null);Qo("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Qo("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Qo("click",r=>{z2()||i.value&&(s(r,()=>i.value),i.value=null)},!0),Qo("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),Wb("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var dl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(dl||{}),ws=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ws||{});function Nn({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=Gb(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return au(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return An(l,{0(){return null},1(){return au({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return au(a)}function au({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...l}=Kb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),u={};if(s){let d=!1,f=[];for(let[h,p]of Object.entries(s))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=qb(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!q2(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,_,v)=>v.indexOf(m)===_).sort((m,_)=>m.localeCompare(_)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=Gb((o=d.props)!=null?o:{},l,u),p=si(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Ae(a,Object.assign({},l,u),{default:()=>c})}function qb(t){return t.flatMap(e=>e.type===Re?qb(e.children):[e])}function Gb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function Kb(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function q2(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var fl=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(fl||{});let md=Xe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var s;let{features:i,...r}=t,o={"aria-hidden":(i&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Nn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Yb=Symbol("Context");var Ft=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ft||{});function G2(){return gh()!==null}function gh(){return We(Yb,null)}function K2(t){wt(Yb,t)}var Xb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Xb||{});function Y2(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let zs=[];Y2(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&zs[0]!==e.target&&(zs.unshift(e.target),zs=zs.filter(n=>n!=null&&n.isConnected),zs.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Jb(t,e,n,s){jo.isServer||on(i=>{t=t??window,t.addEventListener(e,n,s),i(()=>t.removeEventListener(e,n,s))})}var Lr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Lr||{});function X2(){let t=D(0);return Wb("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Qb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let s=tt(n);s instanceof HTMLElement&&e.add(s)}return e}var Zb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Zb||{});let Ar=Object.assign(Xe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:D(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let i=D(null);s({el:i,$el:i});let r=Q(()=>gr(i)),o=D(!1);Oe(()=>o.value=!0),St(()=>o.value=!1),Q2({ownerDocument:r},Q(()=>o.value&&!!(t.features&16)));let a=Z2({ownerDocument:r,container:i,initialFocus:Q(()=>t.initialFocus)},Q(()=>o.value&&!!(t.features&2)));e$({ownerDocument:r,container:i,containers:t.containers,previousActiveElement:a},Q(()=>o.value&&!!(t.features&8)));let l=X2();function c(h){let p=tt(i);p&&(m=>m())(()=>{An(l.value,{[Lr.Forwards]:()=>{ya(p,vs.First,{skipElements:[h.relatedTarget]})},[Lr.Backwards]:()=>{ya(p,vs.Last,{skipElements:[h.relatedTarget]})}})})}let u=D(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=Qb(t.containers);tt(i)instanceof HTMLElement&&p.add(tt(i));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(e0(p,m)||(u.value?ya(tt(i),An(l.value,{[Lr.Forwards]:()=>vs.Next,[Lr.Backwards]:()=>vs.Previous})|vs.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&ti(h.target)))}return()=>{let h={},p={ref:i,onKeydown:d,onFocusout:f},{features:m,initialFocus:_,containers:v,...y}=t;return Ae(Re,[!!(m&4)&&Ae(md,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:fl.Focusable}),Nn({ourProps:p,theirProps:{...e,...y},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Ae(md,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:fl.Focusable})])}}}),{features:Zb});function J2(t){let e=D(zs.slice());return Ke([t],([n],[s])=>{s===!0&&n===!1?mh(()=>{e.value.splice(0)}):s===!1&&n===!0&&(e.value=zs.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(s=>s!=null&&s.isConnected))!=null?n:null}}function Q2({ownerDocument:t},e){let n=J2(e);Oe(()=>{on(()=>{var s,i;e.value||((s=t.value)==null?void 0:s.activeElement)===((i=t.value)==null?void 0:i.body)&&ti(n())},{flush:"post"})}),St(()=>{e.value&&ti(n())})}function Z2({ownerDocument:t,container:e,initialFocus:n},s){let i=D(null),r=D(!1);return Oe(()=>r.value=!0),St(()=>r.value=!1),Oe(()=>{Ke([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=tt(e);l&&mh(()=>{var c,u;if(!r.value)return;let d=tt(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?ti(d):ya(l,vs.First|vs.NoScroll)===Vb.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),i}function e$({ownerDocument:t,container:e,containers:n,previousActiveElement:s},i){var r;Jb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!i.value)return;let a=Qb(n);tt(e)instanceof HTMLElement&&a.add(tt(e));let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?e0(a,c)?(s.value=c,ti(c)):(o.preventDefault(),o.stopPropagation(),ti(l)):ti(s.value)},!0)}function e0(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function t$(t){let e=Jg(t.getSnapshot());return St(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function n$(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...r){let o=e[i].call(n,...r);o&&(n=o,s.forEach(a=>a()))}}}function s$(){let t;return{before({doc:e}){var n;let s=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:e,d:n}){let s=e.documentElement,i=s.clientWidth-s.offsetWidth,r=t-i;n.style(s,"paddingRight",`${r}px`)}}}function i$(){return zb()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Uo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!s(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let l=a.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(s(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function r$(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function o$(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ks=n$(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:Uo(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:o$(n)},i=[i$(),s$(),r$()];i.forEach(({before:r})=>r==null?void 0:r(s)),i.forEach(({after:r})=>r==null?void 0:r(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ks.subscribe(()=>{let t=Ks.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&Ks.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ks.dispatch("TEARDOWN",n)}});function a$(t,e,n){let s=t$(Ks),i=Q(()=>{let r=t.value?s.value.get(t.value):void 0;return r?r.count>0:!1});return Ke([t,e],([r,o],[a],l)=>{if(!r||!o)return;Ks.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(Ks.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),i}let lu=new Map,Rr=new Map;function vg(t,e=D(!0)){on(n=>{var s;if(!e.value)return;let i=tt(t);if(!i)return;n(function(){var o;if(!i)return;let a=(o=Rr.get(i))!=null?o:1;if(a===1?Rr.delete(i):Rr.set(i,a-1),a!==1)return;let l=lu.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,lu.delete(i))});let r=(s=Rr.get(i))!=null?s:0;Rr.set(i,r+1),r===0&&(lu.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function l$({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let s=D(null),i=gr(s);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(tt(s))||u.contains((l=(a=tt(s))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:s,MainTreeNode(){return n!=null?null:Ae(md,{features:fl.Hidden,ref:s})}}}let t0=Symbol("ForcePortalRootContext");function c$(){return We(t0,!1)}let yg=Xe({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return wt(t0,t.force),()=>{let{force:s,...i}=t;return Nn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),n0=Symbol("StackContext");var gd=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(gd||{});function u$(){return We(n0,()=>{})}function d$({type:t,enabled:e,element:n,onUpdate:s}){let i=u$();function r(...o){s==null||s(...o),i(...o)}Oe(()=>{Ke(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),St(()=>{e.value&&r(1,t,n)}),wt(n0,r)}let f$=Symbol("DescriptionContext");function h$({slot:t=D({}),name:e="Description",props:n={}}={}){let s=D([]);function i(r){return s.value.push(r),()=>{let o=s.value.indexOf(r);o!==-1&&s.value.splice(o,1)}}return wt(f$,{register:i,slot:t,name:e,props:n}),Q(()=>s.value.length>0?s.value.join(" "):void 0)}function p$(t){let e=gr(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}const vd=new WeakMap;function m$(t){var e;return(e=vd.get(t))!=null?e:0}function _g(t,e){let n=e(m$(t));return n<=0?vd.delete(t):vd.set(t,n),n}let g$=Xe({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=D(null),i=Q(()=>gr(s)),r=c$(),o=We(s0,null),a=D(r===!0||o==null?p$(s.value):o.resolveTarget());a.value&&_g(a.value,f=>f+1);let l=D(!1);Oe(()=>{l.value=!0}),on(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=We(yd,null),u=!1,d=vi();return Ke(s,()=>{if(u||!c)return;let f=tt(s);f&&(St(c.register(f),d),u=!0)}),St(()=>{var f,h;let p=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||_g(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return Ae(uv,{to:a.value},Nn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),yd=Symbol("PortalParentContext");function v$(){let t=We(yd,null),e=D([]);function n(r){return e.value.push(r),t&&t.register(r),()=>s(r)}function s(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let i={register:n,unregister:s,portals:e};return[e,Xe({name:"PortalWrapper",setup(r,{slots:o}){return wt(yd,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let s0=Symbol("PortalGroupContext"),y$=Xe({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=Os({resolveTarget(){return t.target}});return wt(s0,s),()=>{let{target:i,...r}=t;return Nn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var _$=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(_$||{});let _d=Symbol("DialogContext");function vh(t){let e=We(_d,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vh),n}return e}let Zo="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Vo=Xe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Zo},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${lc()}`,l=D(!1);Oe(()=>{l.value=!0});let c=!1,u=Q(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=D(0),f=gh(),h=Q(()=>t.open===Zo&&f!==null?(f.value&Ft.Open)===Ft.Open:t.open),p=D(null),m=Q(()=>gr(p));if(i({el:p,$el:p}),!(t.open!==Zo||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===Zo?void 0:t.open}`);let _=Q(()=>l.value&&h.value?0:1),v=Q(()=>_.value===0),y=Q(()=>d.value>1),g=We(_d,null)!==null,[S,T]=v$(),{resolveContainers:A,mainTreeNodeRef:L,MainTreeNode:C}=l$({portals:S,defaultContainers:[Q(()=>{var ge;return(ge=le.panelRef.value)!=null?ge:p.value})]}),x=Q(()=>y.value?"parent":"leaf"),R=Q(()=>f!==null?(f.value&Ft.Closing)===Ft.Closing:!1),V=Q(()=>g||R.value?!1:v.value),W=Q(()=>{var ge,ye,N;return(N=Array.from((ye=(ge=m.value)==null?void 0:ge.querySelectorAll("body > *"))!=null?ye:[]).find(K=>K.id==="headlessui-portal-root"?!1:K.contains(tt(L))&&K instanceof HTMLElement))!=null?N:null});vg(W,V);let H=Q(()=>y.value?!0:v.value),se=Q(()=>{var ge,ye,N;return(N=Array.from((ye=(ge=m.value)==null?void 0:ge.querySelectorAll("[data-headlessui-portal]"))!=null?ye:[]).find(K=>K.contains(tt(L))&&K instanceof HTMLElement))!=null?N:null});vg(se,H),d$({type:"Dialog",enabled:Q(()=>_.value===0),element:p,onUpdate:(ge,ye)=>{if(ye==="Dialog")return An(ge,{[gd.Add]:()=>d.value+=1,[gd.Remove]:()=>d.value-=1})}});let oe=h$({name:"DialogDescription",slot:Q(()=>({open:h.value}))}),ae=D(null),le={titleId:ae,panelRef:D(null),dialogState:_,setTitleId(ge){ae.value!==ge&&(ae.value=ge)},close(){e("close",!1)}};wt(_d,le);let _e=Q(()=>!(!v.value||y.value));W2(A,(ge,ye)=>{ge.preventDefault(),le.close(),tr(()=>ye==null?void 0:ye.focus())},_e);let ht=Q(()=>!(y.value||_.value!==0));Jb((o=m.value)==null?void 0:o.defaultView,"keydown",ge=>{ht.value&&(ge.defaultPrevented||ge.key===Xb.Escape&&(ge.preventDefault(),ge.stopPropagation(),le.close()))});let pt=Q(()=>!(R.value||_.value!==0||g));return a$(m,pt,ge=>{var ye;return{containers:[...(ye=ge.containers)!=null?ye:[],A]}}),on(ge=>{if(_.value!==0)return;let ye=tt(p);if(!ye)return;let N=new ResizeObserver(K=>{for(let Ee of K){let xe=Ee.target.getBoundingClientRect();xe.x===0&&xe.y===0&&xe.width===0&&xe.height===0&&le.close()}});N.observe(ye),ge(()=>N.disconnect())}),()=>{let{open:ge,initialFocus:ye,...N}=t,K={...n,ref:p,id:a,role:u.value,"aria-modal":_.value===0?!0:void 0,"aria-labelledby":ae.value,"aria-describedby":oe.value},Ee={open:_.value===0};return Ae(yg,{force:!0},()=>[Ae(g$,()=>Ae(y$,{target:p.value},()=>Ae(yg,{force:!1},()=>Ae(Ar,{initialFocus:ye,containers:A,features:v.value?An(x.value,{parent:Ar.features.RestoreFocus,leaf:Ar.features.All&~Ar.features.FocusLock}):Ar.features.None},()=>Ae(T,{},()=>Nn({ourProps:K,theirProps:{...N,...n},slot:Ee,attrs:n,slots:s,visible:_.value===0,features:dl.RenderStrategy|dl.Static,name:"Dialog"})))))),Ae(C)])}}}),er=Xe({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:s}){var i;let r=(i=t.id)!=null?i:`headlessui-dialog-panel-${lc()}`,o=vh("DialogPanel");s({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return Nn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),gi=Xe({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-title-${lc()}`,r=vh("DialogTitle");return Oe(()=>{r.setTitleId(i),St(()=>r.setTitleId(null))}),()=>{let{...o}=t;return Nn({ourProps:{id:i},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function w$(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function cu(t,...e){t&&e.length>0&&t.classList.add(...e)}function ea(t,...e){t&&e.length>0&&t.classList.remove(...e)}var wd=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(wd||{});function b$(t,e){let n=Uo();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:i}=getComputedStyle(t),[r,o]=[s,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function wg(t,e,n,s,i,r){let o=Uo(),a=r!==void 0?w$(r):()=>{};return ea(t,...i),cu(t,...e,...n),o.nextFrame(()=>{ea(t,...n),cu(t,...s),o.add(b$(t,l=>(ea(t,...s,...e),cu(t,...i),a(l))))}),o.add(()=>ea(t,...e,...n,...s,...i)),o.add(()=>a("cancelled")),o.dispose}function Us(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let yh=Symbol("TransitionContext");var S$=(t=>(t.Visible="visible",t.Hidden="hidden",t))(S$||{});function E$(){return We(yh,null)!==null}function T$(){let t=We(yh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function C$(){let t=We(_h,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let _h=Symbol("NestingContext");function cc(t){return"children"in t?cc(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function i0(t){let e=D([]),n=D(!1);Oe(()=>n.value=!0),St(()=>n.value=!1);function s(r,o=ws.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(An(o,{[ws.Unmount](){e.value.splice(a,1)},[ws.Hidden](){e.value[a].state="hidden"}}),!cc(e)&&n.value&&(t==null||t()))}function i(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>s(r,ws.Unmount)}return{children:e,register:i,unregister:s}}let r0=dl.RenderStrategy,dn=Xe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){let r=D(0);function o(){r.value|=Ft.Opening,e("beforeEnter")}function a(){r.value&=~Ft.Opening,e("afterEnter")}function l(){r.value|=Ft.Closing,e("beforeLeave")}function c(){r.value&=~Ft.Closing,e("afterLeave")}if(!E$()&&G2())return()=>Ae(vr,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},s);let u=D(null),d=Q(()=>t.unmount?ws.Unmount:ws.Hidden);i({el:u,$el:u});let{show:f,appear:h}=T$(),{register:p,unregister:m}=C$(),_=D(f.value?"visible":"hidden"),v={value:!0},y=lc(),g={value:!1},S=i0(()=>{!g.value&&_.value!=="hidden"&&(_.value="hidden",m(y),c())});Oe(()=>{let H=p(y);St(H)}),on(()=>{if(d.value===ws.Hidden&&y){if(f.value&&_.value!=="visible"){_.value="visible";return}An(_.value,{hidden:()=>m(y),visible:()=>p(y)})}});let T=Us(t.enter),A=Us(t.enterFrom),L=Us(t.enterTo),C=Us(t.entered),x=Us(t.leave),R=Us(t.leaveFrom),V=Us(t.leaveTo);Oe(()=>{on(()=>{if(_.value==="visible"){let H=tt(u);if(H instanceof Comment&&H.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function W(H){let se=v.value&&!h.value,oe=tt(u);!oe||!(oe instanceof HTMLElement)||se||(g.value=!0,f.value&&o(),f.value||l(),H(f.value?wg(oe,T,A,L,C,ae=>{g.value=!1,ae===wd.Finished&&a()}):wg(oe,x,R,V,C,ae=>{g.value=!1,ae===wd.Finished&&(cc(S)||(_.value="hidden",m(y),c()))})))}return Oe(()=>{Ke([f],(H,se,oe)=>{W(oe),v.value=!1},{immediate:!0})}),wt(_h,S),K2(Q(()=>An(_.value,{visible:Ft.Open,hidden:Ft.Closed})|r.value)),()=>{let{appear:H,show:se,enter:oe,enterFrom:ae,enterTo:le,entered:_e,leave:ht,leaveFrom:pt,leaveTo:ge,...ye}=t,N={ref:u},K={...ye,...h.value&&f.value&&jo.isServer?{class:Ie([n.class,ye.class,...T,...A])}:{}};return Nn({theirProps:K,ourProps:N,slot:{},slots:s,attrs:n,features:r0,visible:_.value==="visible",name:"TransitionChild"})}}}),x$=dn,vr=Xe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let i=gh(),r=Q(()=>t.show===null&&i!==null?(i.value&Ft.Open)===Ft.Open:t.show);on(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=D(r.value?"visible":"hidden"),a=i0(()=>{o.value="hidden"}),l=D(!0),c={show:r,appear:Q(()=>t.appear||!l.value)};return Oe(()=>{on(()=>{l.value=!1,r.value?o.value="visible":cc(a)||(o.value="hidden")})}),wt(_h,a),wt(yh,c),()=>{let u=Kb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return Nn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Ae(x$,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},s.default)]},attrs:{},features:r0,visible:o.value==="visible",name:"Transition"})}}});var bg=!1;function Sg(t,e,n){let s,i,r,o,a,l=!1;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);e=Number(e)||0;function c(y){let g=s,S=i;return s=i=void 0,r=t.apply(S,g),r}function u(y){return o=setTimeout(h,e),r}function d(y){let g=y-a,S=e-g;return console.log("remainingWait"),S}function f(y){let g=y-a;return a===void 0||g>=e||g<0||l}function h(){const y=Date.now();if(f(y))return p();o=setTimeout(h,d(y))}function p(y){return o=void 0,s?c():(s=i=void 0,r)}function m(){o!==void 0&&clearTimeout(o),s=a=i=o=void 0}function _(){return o===void 0?r:p()}function v(){let y=Date.now(),g=f(y);return s=arguments,i=this,a=y,g&&o===void 0?u():(o===void 0&&(o=setTimeout(h,e)),r)}return v.cancel=m,v.flush=_,v}const o0=t=>(ov("data-v-f6e84873"),t=t(),av(),t),I$=["innerHTML"],k$=Pe("|"),P$=o0(()=>w("div",{class:"simple-range-slider-popover-arrow"},null,-1)),A$=o0(()=>w("div",{class:"simple-range-slider-popover-arrow"},null,-1)),R$=Xe({name:"VueSimpleRangeSlider"}),O$=Xe({...R$,props:{modelValue:null,value:null,exponential:{type:Boolean,default:!1},barColor:{default:"#bebebe"},activeBarColor:{default:"#7e7e7e"},max:{default:100},min:{default:0},keepJustSignificantFigures:{type:Boolean,default:!0},significantFigures:{default:2}},emits:["input","update:model-value"],setup(t,{emit:e}){const n=t,s=(N,K)=>(K===2&&(N=Math.min(v.width,Math.max(i(x.value!==void 0?x.value:n.min),N))),K===1&&(N=Math.min(C.value?i(R.value!==void 0?R.value:n.max):v.width,N),N=Math.max(0,N)),N),i=N=>{if(n.exponential){const K=n.max-n.min;return l((N-n.min)/K,K)*v.width}else return(N-n.min)*T.value},r=N=>{if(n.exponential){const K=n.max-n.min;let Ee=Math.round(a(N/v.width,K)*K)+n.min;return n.keepJustSignificantFigures&&(Ee=o(Ee)),Ee}else return n.min+Math.round(N/T.value)},o=N=>Number(N.toPrecision(n.significantFigures)),a=(N,K)=>{const Ee=Math.E+K;return(Math.pow(Ee,N)-1)/(Math.pow(Ee,1)-1)},l=(N,K)=>{const Ee=Math.E;return Math.log(N*(K+Ee)+1)/Math.log(Ee+K)},c=D(),u=D(),d=D(),f=D(),h=D(),p=D(),m=D(),_={},v=Os({input1Width:0,input2Width:0,dashInput:80,anchor1PositionV:0,anchor2PositionV:0,isRtl:!1,width:100,draggingAnchor:0,dragStartX:0,dragStartPosition:0,isDragging:!1}),y=15;Oe(()=>{var N;ye(m.value,"direction")==="rtl"&&(v.isRtl=!0),_.ro3=new ResizeObserver(K=>{v.width=K[0].contentRect.width-(C.value?y:0)}),p.value&&(_.ro3.observe(p.value),v.width=((N=p.value.getBoundingClientRect())==null?void 0:N.width)-(C.value?y:0))}),St(()=>{var N;(N=_==null?void 0:_.ro3)==null||N.disconnect()});const g=N=>{R.value=r(N)},S=N=>{x.value=r(N)},T=Q(()=>v.width/(n.max-n.min)),A=Q({get:()=>v.anchor2PositionV,set:N=>{N!=v.anchor1PositionV&&(N=s(N,2),v.anchor2PositionV!==N&&(v.anchor2PositionV=N),g(N))}}),L=Q({get:()=>v.anchor1PositionV,set:N=>{N!=v.anchor1PositionV&&(N=s(N,1),v.anchor1PositionV!==N&&(v.anchor1PositionV=N),S(N))}}),C=Q(()=>Array.isArray(W.value)),x=Q({get:()=>C.value&&Array.isArray(W.value)?W.value[0]:!C.value&&!Array.isArray(W.value)?W.value:void 0,set:N=>{if(C.value&&Array.isArray(W.value)){if(N===W.value[0])return;W.value=[N||0,W.value[1]]}else if(!C.value&&!Array.isArray(W.value)){if(N===W.value)return;W.value=N}}}),R=Q({get:()=>C.value&&Array.isArray(W.value)?W.value[1]:!C.value&&!Array.isArray(W.value)?W.value:void 0,set:N=>{if(C.value&&Array.isArray(W.value)){if(N===W.value[1])return;W.value=[W.value[0],N||0]}else if(!C.value&&!Array.isArray(W.value)){if(N===W.value)return;W.value=N}}}),V={npm_package_devDependencies__vitejs_plugin_vue2:"^1.1.2",SHELL:"/bin/zsh",LSCOLORS:"Gxfxcxdxbxegedabagacad",SESSION_MANAGER:"local/mArchPC:@/tmp/.ICE-unix/1203,unix/mArchPC:/tmp/.ICE-unix/1203",COLORTERM:"truecolor",npm_package_scripts_test_vue2:"vue-demi-switch 2 vue2 && vitest",XDG_CONFIG_DIRS:"/home/mohamad/.config/kdedefaults:/etc/xdg",npm_package_devDependencies__types_node:"^18.0.6",LESS:"-R",npm_package_main:"./dist/index.umd.js",XDG_SESSION_PATH:"/org/freedesktop/DisplayManager/Session1",npm_package_scripts_build_vite:"vue-demi-switch 3 vue && vite build",npm_package_repository_url:"https://github.com/mohamadkhani/vue-simple-range-slider",TERM_PROGRAM_VERSION:"1.69.2",APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL:"true",npm_package_devDependencies_eslint_plugin_prettier:"^4.2.1",npm_package_devDependencies_eslint_plugin_vue:"^9.2.0",NODE:"/usr/bin/node",npm_config_ignore_scripts:"",npm_package_devDependencies__vitest_ui:"^0.18.1",npm_package_peerDependencies_vue:">=3.2.0||>=2.7.0",DOTNET_ROOT:"/usr/share/dotnet",npm_config_email:"mohamadkhani14@gmail.com",npm_package_exports___css:"./dist/style.css",npm_package_private:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_exports___vue2_css:"./dist/vue2/index.css",npm_config_bin_links:"true",DESKTOP_SESSION:"plasma",npm_package_devDependencies_npm_run_all:"^4.1.5",GTK_RC_FILES:"/etc/gtk/gtkrc:/home/mohamad/.gtkrc:/home/mohamad/.config/gtkrc",NO_AT_BRIDGE:"1",XCURSOR_SIZE:"32",npm_package_exports___import:"./dist/index.es.js",EDITOR:"nano",GTK_MODULES:"canberra-gtk-module:appmenu-gtk-module",XDG_SEAT:"seat0",PWD:"/home/mohamad/Projects/vue-simple-range-slider",npm_config_save_prefix:"^",npm_package_devDependencies_vite:"^3.0.2",XDG_SESSION_DESKTOP:"KDE",LOGNAME:"mohamad",XDG_SESSION_TYPE:"x11",npm_package_readmeFilename:"README.md",npm_package_devDependencies__typescript_eslint_parser:"^5.30.7",SYSTEMD_EXEC_PID:"1423",npm_package_scripts_build:"run-s build:vue3 build:vue2",npm_package_devDependencies_ts_jest:"^28.0.7",npm_package_devDependencies__vue_compiler_sfc:"^3.2.37",_:"/home/mohamad/Projects/vue-simple-range-slider/node_modules/.bin/vite",XAUTHORITY:"/home/mohamad/.Xauthority",npm_package_devDependencies_prettier:"^2.7.1",VSCODE_GIT_ASKPASS_NODE:"/opt/vscodium-bin/codium",MOTD_SHOWN:"pam",GTK2_RC_FILES:"/etc/gtk-2.0/gtkrc:/home/mohamad/.gtkrc-2.0:/home/mohamad/.config/gtkrc-2.0",HOME:"/home/mohamad",npm_package_scripts_test_2:"vue-demi-switch 2 vue2 && jest",npm_package_scripts_test_3:"vue-demi-switch 3 && jest",npm_config_version_git_tag:"true",LANG:"en_US.UTF-8",npm_package_devDependencies_typescript:"^4.1.5",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.swp=00;90:*.tmp=00;90:*.dpkg-dist=00;90:*.dpkg-old=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:",XDG_CURRENT_DESKTOP:"KDE",npm_config_init_license:"MIT",npm_package_version:"1.0.0-beta.6",npm_package_devDependencies_vue2:"npm:vue@^2.7.7",npm_package_devDependencies__typescript_eslint_eslint_plugin:"^5.30.7",npm_config_version_commit_hooks:"true",npm_package_files_0:"dist/*",npm_package_files_1:"src/*",npm_package_files_2:"public/*",npm_package_files_3:"*.json",npm_package_repository_type:"git",npm_package_files_4:"*.js",npm_config_wrap_output:"",npm_package_files_5:"LICENSE",GIT_ASKPASS:"/opt/vscodium-bin/resources/app/extensions/git/dist/askpass.sh",XDG_SEAT_PATH:"/org/freedesktop/DisplayManager/Seat0",INVOCATION_ID:"216c6571da264cf481cb4b2006e0031b",MANAGERPID:"1134",npm_package_devDependencies_vue:"^3.2.37",npm_package_exports___vue2_import:"./dist/vue2/index.common.js",INIT_CWD:"/home/mohamad/Projects/vue-simple-range-slider",DOTNET_BUNDLE_EXTRACT_BASE_DIR:"/home/mohamad/.cache/dotnet_bundle_extract",CHROME_DESKTOP:"codium-url-handler.desktop",npm_package_exports___vue2_require:"./dist/vue2/index.umd.min.js",KDE_SESSION_UID:"1000",npm_lifecycle_script:"vue-demi-switch 3 vue && vite build",npm_package_description:"Change Your numeric value or numeric range value with dragging handles",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",npm_package_devDependencies__vitejs_plugin_vue:"^3.0.1",npm_config_version_tag_prefix:"v",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies_vue_jest:"^5.0.0-0",XDG_SESSION_CLASS:"user",npm_package_devDependencies_vue_tsc:"^0.39.0",ANDROID_HOME:"/opt/android-sdk",npm_config_username:"mohamadkhani",TERM:"xterm-256color",npm_package_name:"vue-simple-range-slider",ZSH:"/home/mohamad/.oh-my-zsh",npm_package_devDependencies_jsdom:"^20.0.0",npm_config_prefix:"/home/mohamad/.yarn",USER:"mohamad",npm_package_devDependencies_vitest:"^0.18.1",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-a5b496017a.sock",KDE_SESSION_VERSION:"5",npm_package_devDependencies__vue_composition_api:"^1.7.0",npm_package_devDependencies__vue_test_utils:"^2.0.2",DISPLAY:":0",npm_lifecycle_event:"build:vite",SHLVL:"2",npm_config_version_git_sign:"",npm_config_version_git_message:"v%s",PAGER:"less",npm_package_devDependencies_eslint:"^8.20.0",ANDROID_SDK_ROOT:"/opt/android-sdk",XDG_VTNR:"1",npm_package_scripts_build_types:"vue-tsc ./src/index.ts -d --emitDeclarationOnly --outDir ./dist",UBUNTU_MENUPROXY:"1",XDG_SESSION_ID:"3",npm_config_user_agent:"yarn/1.22.19 npm/? node/v16.16.0 linux x64",npm_package_scripts_lint:"vue-cli-service lint",npm_execpath:"/usr/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies__vue_reactivity:"^3.2.37",npm_package_scripts_test:"vue-demi-switch 3 vue && vitest",XDG_RUNTIME_DIR:"/run/user/1000",npm_config_strict_ssl:"true",npm_package_keywords_5:"numeric-range",npm_package_keywords_4:"numeric-range-picker",npm_package_keywords_7:"range-input",npm_package_keywords_6:"input-element",npm_package_scripts_dev:"vue-demi-switch 3 vue && vite",npm_package_keywords_1:"range-slider",npm_package_keywords_0:"vue",npm_package_keywords_3:"range-picker",npm_package_keywords_2:"numeric-picker",VSCODE_GIT_ASKPASS_MAIN:"/opt/vscodium-bin/resources/app/extensions/git/dist/askpass-main.js",QT_AUTO_SCREEN_SCALE_FACTOR:"0",JOURNAL_STREAM:"8:26664",npm_package_scripts_dev_vue2:"vue-demi-switch 2 vue2 && vite -c ./src/vue2/vite.config.ts",XCURSOR_THEME:"material_cursors",GTK3_MODULES:"[]",KDE_FULL_SESSION:"true",GDK_BACKEND:"x11",npm_package_devDependencies__vue_eslint_config_typescript:"^11.0.0",PATH:"/tmp/yarn--1659709558891-0.34331445380848025:/home/mohamad/Projects/vue-simple-range-slider/node_modules/.bin:/home/mohamad/.config/yarn/link/node_modules/.bin:/usr/libexec/lib/node_modules/npm/bin/node-gyp-bin:/usr/lib/node_modules/npm/bin/node-gyp-bin:/usr/bin/node_modules/npm/bin/node-gyp-bin:/tmp/yarn--1659709558627-0.9545114092721885:/home/mohamad/Projects/vue-simple-range-slider/node_modules/.bin:/home/mohamad/.config/yarn/link/node_modules/.bin:/usr/libexec/lib/node_modules/npm/bin/node-gyp-bin:/usr/lib/node_modules/npm/bin/node-gyp-bin:/usr/bin/node_modules/npm/bin/node-gyp-bin:/tmp/yarn--1659709558366-0.8318286346480059:/home/mohamad/Projects/vue-simple-range-slider/node_modules/.bin:/home/mohamad/.config/yarn/link/node_modules/.bin:/usr/libexec/lib/node_modules/npm/bin/node-gyp-bin:/usr/lib/node_modules/npm/bin/node-gyp-bin:/usr/bin/node_modules/npm/bin/node-gyp-bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/opt/android-sdk/emulator:/opt/android-sdk/platform-tools:/opt/android-sdk/tools:/opt/android-sdk/tools/bin:/home/mohamad/.dotnet/tools:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/home/mohamad/.yarn/bin:/opt/android-sdk/platform-tools:/opt/android-sdk/emulator:/home/mohamad/.local/bin",ORIGINAL_XDG_CURRENT_DESKTOP:"KDE",npm_package_devDependencies_sass:"^1.53.0",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",npm_package_license:"MIT",KDE_APPLICATIONS_AS_SCOPE:"1",MAIL:"/var/spool/mail/mohamad",npm_config_registry:"https://registry.yarnpkg.com",npm_config_ignore_optional:"",npm_package_scripts_build_vue2:"cd src/vue2 && yarn build",npm_package_scripts_build_vue3:"run-p build:vite build:types",npm_node_execpath:"/usr/bin/node",OLDPWD:"/home/mohamad/Projects/vue-simple-range-slider",npm_package_types:"dist",npm_package_exports___require:"./dist/index.umd.js",npm_package_dependencies_vue_demi:"^0.13.5",TERM_PROGRAM:"vscode",npm_config_init_version:"1.0.0",NODE_ENV:"production"}.ISVUE2,W=Q({get:()=>V||bg?n.value:n.modelValue,set:N=>{Array.isArray(N)&&Array.isArray(n.modelValue)&&N[0]===n.modelValue[0]&&N[1]===n.modelValue[1]||!Array.isArray(N)&&N===n.modelValue||e(V||bg?"input":"update:model-value",N)}});Ke(()=>u.value,N=>{_.ro1&&_.ro1.disconnect(),_.ro1=new ResizeObserver(K=>{v.input1Width=K[0].target.getBoundingClientRect().width}),N&&_.ro1.observe(N)},{immediate:!0}),Ke(()=>f.value,N=>{_.ro2&&_.ro2.disconnect(),_.ro2=new ResizeObserver(K=>{v.input2Width=K[0].target.getBoundingClientRect().width}),N&&_.ro2.observe(N)},{immediate:!0}),Ke(()=>h.value,N=>{var K;v.dashInput=((K=N==null?void 0:N.getBoundingClientRect())==null?void 0:K.width)||30},{immediate:!0}),Ke(()=>({value:W.value,scale:T.value,exponential:n.exponential}),({value:N})=>{v.isDragging||(Array.isArray(N)?(L.value=i(N[0]),A.value=i(N[1])):N?L.value=i(N):L.value=0)},{immediate:!0});const H=Sg(N=>{setTimeout(()=>{var K;x.value=Number.parseInt(((K=c.value)==null?void 0:K.innerText.replace(/,/g,""))||"0")},100)},1e3),se=Sg(N=>{setTimeout(()=>{var K;R.value=Number.parseInt(((K=d.value)==null?void 0:K.innerText.replace(/,/g,""))||"0")},100)},1e3),oe=Q(()=>A.value-L.value<v.input1Width+v.input2Width-15&&C.value);Ke(()=>oe.value,()=>{if(c.value instanceof HTMLInputElement&&document.activeElement===c.value){const N=c.value.selectionStart;c.value instanceof HTMLInputElement&&(c.value.focus(),c.value.setSelectionRange(N,N))}if(d.value instanceof HTMLInputElement&&document.activeElement===d.value){const N=d.value.selectionStart;d.value instanceof HTMLInputElement&&(d.value.focus(),d.value.setSelectionRange(N,N))}});const ae=Q(()=>({transform:"translateX("+(v.isRtl?v.width-A.value:L.value)+"px)",width:A.value-L.value+15+"px",background:n.activeBarColor})),le=Q(()=>({transform:"translateX("+(v.isRtl?v.width-L.value+(C.value?7.5:-7.5):L.value-7.5)+"px)"})),_e=Q(()=>({transform:"translateX("+(v.isRtl?v.width-v.anchor2PositionV-7.5:v.anchor2PositionV+7.5)+"px)"})),ht=Q(()=>{let N=((v.isRtl?v.width-A.value-y/2:A.value-y/2)+(v.isRtl?v.width-L.value-y/2:L.value-y/2))/2-(v.input1Width+v.input2Width+v.dashInput)/2+1;return N=Math.max(N,-10),N=Math.min(N,v.width-(v.input1Width+v.input2Width+v.dashInput)+10),{transform:"translateX("+N+"px)",width:A.value-L.value+"px",direction:v.isRtl?"rtl":"ltr",minWidth:v.input1Width+v.input2Width+v.dashInput+6+"px"}}),pt=(N,K)=>{v.isDragging=!0,v.draggingAnchor=N,v.dragStartX=K.x,N==1?v.dragStartPosition=L.value:v.dragStartPosition=A.value;const Ee=window;Ee.$SRSMouseMove=xe=>{xe.preventDefault(),xe.stopPropagation(),v.isDragging&&(N==1?v.isRtl?L.value=v.dragStartPosition+v.dragStartX-xe.x:L.value=v.dragStartPosition-v.dragStartX+xe.x:v.isRtl?A.value=v.dragStartPosition+v.dragStartX-xe.x:A.value=v.dragStartPosition-v.dragStartX+xe.x)},Ee.mouseUp=xe=>{v.isDragging=!1,document.removeEventListener("mouseup",Ee.mouseUp),document.removeEventListener("mousemove",Ee.$SRSMouseMove),xe.preventDefault(),xe.stopPropagation()},document.addEventListener("mousemove",Ee.$SRSMouseMove),document.addEventListener("mouseup",Ee.mouseUp)},ge=(N,K)=>{if(v.changingByKey===N)return;v.changingByKey=N;let Ee=40,xe=0;const $=()=>{!v.isRtl&&(K.code==="ArrowDown"||K.code==="ArrowLeft")||v.isRtl&&(K.code==="ArrowUp"||K.code==="ArrowRight")?(N==1&&L.value--,N==2&&A.value--):(!v.isRtl&&(K.code==="ArrowUp"||K.code==="ArrowRight")||v.isRtl&&(K.code==="ArrowDown"||K.code==="ArrowLeft"))&&(N==1&&L.value++,N==2&&A.value++)};$();const ee=setInterval(()=>{xe++,!(xe<Ee)&&(Ee>1&&Ee--,$())},5);K.target instanceof HTMLElement&&K.target.addEventListener("keyup",()=>{v.changingByKey=void 0,clearInterval(ee)})},ye=(N,K)=>{let Ee;return N.currentStyle?Ee=N.currentStyle[K]:window.getComputedStyle&&(Ee=document.defaultView.getComputedStyle(N,null).getPropertyValue(K)),Ee};return(N,K)=>{var Ee,xe,$,ee;return k(),B("div",{class:"simple-range-slider",ref_key:"root",ref:m},[w("div",{class:"simple-range-slider-bg-bar",style:zt({background:t.barColor}),ref_key:"bar",ref:p},[I(C)?(k(),B("div",{key:0,class:"simple-range-slider-bar",style:zt(I(ae))},null,4)):Te("",!0),I(oe)?(k(),B("div",{key:1,style:zt([{right:"unset"},I(ht)]),class:"simple-range-slider-popover simple-range-slider-merged-popover"},[w("div",{class:"simple-range-slider-input-container",ref_key:"input1Container",ref:u},[st(N.$slots,"prefix",{value:I(x)},void 0,!0),w("div",{ref_key:"input1",ref:c,class:"input1",style:{display:"inline-block"},contenteditable:"true",innerHTML:(Ee=I(x))==null?void 0:Ee.toLocaleString("en-US"),onKeydown:K[0]||(K[0]=(...q)=>I(H)&&I(H)(...q))},null,40,I$),st(N.$slots,"suffix",{value:I(x)},void 0,!0)],512),w("label",null,[w("div",{style:{display:"inline-block",padding:"0 3px"},ref_key:"input_",ref:h},[N.$slots.splitter?st(N.$slots,"splitter",{key:0},void 0,!0):(k(),B(Re,{key:1},[k$],64))],512)]),w("div",{class:"simple-range-slider-input-container",ref_key:"input2Container",ref:f},[st(N.$slots,"prefix",{value:I(R)},void 0,!0),w("div",{ref_key:"input2",ref:d,class:"input2",style:{display:"inline-block"},contenteditable:"true",onKeydown:K[1]||(K[1]=(...q)=>I(se)&&I(se)(...q))},ne((xe=I(R))==null?void 0:xe.toLocaleString("en-US")),545),st(N.$slots,"suffix",{value:I(R)},void 0,!0)],512)],4)):Te("",!0),w("div",{class:"simple-range-slider-anchor",style:zt(I(le))},[w("div",{tabindex:"1",onMousedown:K[2]||(K[2]=nt(q=>pt(1,q),["stop"])),onKeydown:K[3]||(K[3]=nt(q=>ge(1,q),["stop"])),class:"simple-range-slider-handle"},null,32),I(oe)?Te("",!0):(k(),B("div",{key:0,style:zt({right:v.isRtl?"0 !important":"",left:v.isRtl?"unset":""}),class:"simple-range-slider-popover simple-range-slider-popover-left"},[w("div",{class:"simple-range-slider-input-container",ref_key:"input1Container",ref:u},[st(N.$slots,"prefix",{value:I(H)},void 0,!0),w("div",{ref_key:"input1",ref:c,class:"input1",contenteditable:"true",style:{display:"inline-block"},onKeydown:K[4]||(K[4]=(...q)=>I(H)&&I(H)(...q))},ne(($=I(x))==null?void 0:$.toLocaleString("en-US")),545),st(N.$slots,"suffix",{value:I(H)},void 0,!0)],512)],4)),P$],4),I(C)?(k(),B("div",{key:2,class:"simple-range-slider-anchor",style:zt(I(_e))},[w("div",{tabindex:"1",onMousedown:K[5]||(K[5]=nt(q=>pt(2,q),["stop"])),onKeydown:K[6]||(K[6]=nt(q=>ge(2,q),["stop"])),class:"simple-range-slider-handle"},null,32),I(oe)?Te("",!0):(k(),B("div",{key:0,style:zt({left:v.isRtl?"-3px !important":"",right:v.isRtl?"unset !important":""}),class:"simple-range-slider-popover simple-range-slider-popover-right"},[w("div",{class:"simple-range-slider-input-container",ref_key:"input2Container",ref:f},[st(N.$slots,"prefix",{value:I(se)},void 0,!0),w("div",{ref_key:"input2",ref:d,class:"input2",contenteditable:"true",style:{display:"inline-block"},onKeydown:K[7]||(K[7]=(...q)=>I(se)&&I(se)(...q))},ne((ee=I(R))==null?void 0:ee.toLocaleString("en-US")),545),st(N.$slots,"suffix",{value:I(se)},void 0,!0)],512)],4)),A$],4)):Te("",!0)],4)],512)}}}),N$=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},M$=N$(O$,[["__scopeId","data-v-f6e84873"]]),D$={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},L$={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},$$={class:"bg-white px-4 pb-4 pt-4"},F$={class:"items-center justify-center relative"},B$={class:"mt-3"},U$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},j$={class:"text-center text-xs text-red-500"},V$={class:"space-y-1 bg-white",action:"#",method:"POST"},H$={class:"bg-white px-4 pb-4 pt-2"},z$={class:"p-1"},W$={class:"flex flex-col gap-2 my-2 items-center"},q$={class:"text-md font-medium bg-gray-100 text-orange-600 w-10 h-10 flex items-center justify-center rounded-lg"},G$={class:"bg-white px-4 pb-4 pt-2"},a0={__name:"PopupComment",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0},userComment:{type:Object,required:!1,default:{comment:"",vote:0}},filmId:{type:String,required:!0}},setup(t){const e=jt(),n=rs(),s=D(""),i=D(!1),r=D(t.userComment?t.userComment.comment:""),o=D(t.userComment.vote?t.userComment.vote:0),a=()=>{if(r.value)i.value=!0,s.value="",bi(Qe(n,`items/${t.filmId}/comments/${e.currentUser.uid}`),{comment:r.value,vote:o.value,name:e.currentUser.displayName,date:new Date().toLocaleString("ru-RU",{timeZone:"UTC"}),uid:e.currentUser.uid}).then(()=>console.log("Добавлено")).catch(l=>console.log(l)),i.value=!1;else return s.value="Вы ничего не написали"};return(l,c)=>(k(),re(I(vr),{as:"template",show:t.openPopup},{default:J(()=>[O(I(Vo),{class:"relative z-10",onClose:t.handleClick},{default:J(()=>[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:J(()=>c[4]||(c[4]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",D$,[w("div",L$,[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:J(()=>[O(I(er),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:J(()=>[w("div",$$,[w("div",F$,[w("div",B$,[O(I(gi),{as:"h3",class:"text-base font-semibold text-center"},{default:J(()=>c[5]||(c[5]=[Pe("Оставить комментарий ")])),_:1})]),s.value?(k(),B("div",U$,[O(I(Nl),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",j$,ne(s.value),1)])):Te("",!0)])]),w("form",V$,[w("div",H$,[w("div",z$,[rt(w("textarea",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"text",id:"comment",autocomplete:"off",required:"",rows:"6",class:"block p-1 text-xs w-full rounded-md bg-gray-100 px-3 py-1.5 outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6 resize-none max-h-96 overflow-hidden overflow-y-scroll"},null,512),[[Gn,r.value]])]),w("div",W$,[w("div",q$,[w("div",null,ne(o.value),1)]),O(I(M$),{style:{width:"100%"},min:0,max:10,modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=u=>o.value=u),"bar-color":"#ea580c","active-bar-color":"black","keep-just-significant-figures":!1,"significant-figures":5,"popover-content-editable":"false"},null,8,["modelValue"])])]),w("div",G$,[i.value?(k(),re(Vt,{key:1,"full-screen":!1})):(k(),B("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:c[2]||(c[2]=()=>{a(),s.value||t.handleClick()})}," Оставить комментарий ")),w("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:c[3]||(c[3]=nt((...u)=>t.handleClick&&t.handleClick(...u),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},K$={class:"text-md font-medium bg-gray-100 text-orange-600 flex items-center justify-center rounded-lg"},Y$={class:"text-sm font-bold w-8 h-8 flex items-center justify-center"},X$={class:"flex justify-between"},J$={class:"text-xs mb-1"},Q$={class:"text-xs mb-1 text-gray-500 flex-1 w-60 h-8"},Z$={key:1,class:"absolute top-1 right-1"},eF={class:"flex items-center justify-center gap-2 cursor-pointer"},tF={class:"p-1 rounded-full flex items-center gap-2"},nF={__name:"CommentsItem",props:{comment:Object},setup(t){const e=D(!1),n=()=>{e.value=!e.value},s=rs(),i=jt(),o=Vd().params.id,a=()=>{Xa(Qe(s,`items/${o}/comments/${i.currentUser.uid}`)).then(()=>console.log("Удалено")).catch(l=>console.log(l))};return(l,c)=>(k(),B("div",{class:Ie(["flex gap-2 items-start p-1 rounded-lg bg-gray-100 bg-opacity-50 relative",t.comment.uid===I(i).currentUser.uid?"text-orange-600":""])},[w("div",K$,[w("span",Y$,ne(t.comment.vote),1)]),w("div",null,[w("div",X$,[w("h3",J$,ne(t.comment.uid===I(i).currentUser.uid?"Ваш отзыв":t.comment.name),1)]),rt(w("h3",{class:"text-xs mb-1 text-gray-500"},ne(t.comment.date.slice(0,10)),513),[[Tn,t.comment.date]]),w("h3",Q$,ne(t.comment.comment.length>60?t.comment.comment.slice(0,60)+"...":t.comment.comment),1),t.comment.comment.length>60?(k(),re(jb,{key:0,"open-text":"Прочитать отзыв",description:t.comment.comment,"open-text-style":"text-xs"},null,8,["description"])):Te("",!0),t.comment.uid===I(i).currentUser.uid?(k(),B("div",Z$,[w("div",eF,[w("div",{class:"flex items-center justify-center gap-2 cursor-pointer",onClick:n},[w("div",tF,[O(I(Yd),{class:"size-3 text-blue-400","aria-hidden":"true"}),O(a0,{handleClick:n,openPopup:e.value,"user-comment":t.comment,"film-id":I(o)},null,8,["openPopup","user-comment","film-id"])])]),w("div",{class:"py-1 px-1 rounded-full flex items-center gap-2",onClick:a},[O(I(kC),{class:"size-3 text-red-400","aria-hidden":"true"})])])])):Te("",!0)])],2))}},sF={__name:"CommentsList",props:{comments:Object},setup(t){const e=[hh];return(n,s)=>(k(),re(I(rc),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",modules:e,"space-between":4},{default:J(()=>[(k(!0),B(Re,null,Ns(t.comments,i=>(k(),re(I(oc),{class:"flex-1"},{default:J(()=>[O(nF,{comment:i},null,8,["comment"])]),_:2},1024))),256))]),_:1}))}},iF={key:1,class:"bg-white"},rF={class:"flex justify-center items-center w-full fixed -z-10 -mt-96 pt-12"},oF=["src","alt"],aF={class:"container mt-96 mx-auto pb-4 relative"},lF={class:"fixed z-50 top-4 left-4"},cF={class:"flex flex-col gap-2 w-full justify-between"},uF={class:"text-xl text-center"},dF={class:"self-center"},fF={class:"flex justify-center items-start gap-2 mb-1 px-1"},hF={class:"text-slate-400 text-sm text-center"},pF={class:"flex gap-4 justify-center items-center"},mF={key:0,class:"text-sm text-center"},gF={key:1,class:"text-sm"},vF={key:2,class:"text-gray-500 text-sm"},yF={key:3,class:"text-black text-xs font-semibold w-8 border border-black rounded-md box-border h-5 flex justify-center items-center"},_F={class:"flex items-center justify-around bg-gradient-to-r from-gray-600 via-orange-600 to-fray-600 bg-opacity-10 mt-3 rounded-sm"},wF=["href"],bF={class:"container p-2"},SF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},EF={class:"py-4"},TF={class:"text-sm font-bold mb-2"},CF={class:"flex flex-col items-center justify-center bg-gray-300 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},xF={key:0,class:"text-md text-gray-600 font-bold"},IF={class:"text-sm text-center mb-2"},kF=["href"],PF={class:"container p-2"},AF={key:0,class:"bg-gray-100 flex items-center justify-center py-4 rounded-sm text-xs"},RF={class:"mt-2"},OF={class:"bg-gray-200 bg-opacity-50 py-2 px-4 rounded-full flex items-center gap-2"},NF={class:"container p-2"},MF={__name:"Item",setup(t){const e=ac(),n=D(!0),s=D(!1),r=Vd().params.id,o=D({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),a=D([]),l=D([]),c=D([]),u=D(!1),d=D(!1),f="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",h=jt(),p=rs(),m=()=>{s.value=!s.value},_=async T=>{xn(h,A=>{if(n.value=!0,A){const L=Qe(p,`items/${T}`);Xn(L,C=>{C.val()?(e.favorites.find(R=>R.id===+T)?o.value={...C.val().data,isFavorite:!0}:o.value={...C.val().data,isFavorite:!1},a.value=C.val().similar,l.value=C.val().staff,c.value=C.val().comments||[],console.log(c.hasOwnProperty(`${h.currentUser.uid}`)),console.log(h.currentUser.uid),console.log(c.value),c.value.hasOwnProperty(h.currentUser.uid)?d.value=!0:d.value=!1):v(T),n.value=!1},C=>{console.log(C)})}else console.log("User logged out")})},v=async T=>{const{data:A}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${T}`,{headers:{"X-API-KEY":`${f}`,"Content-Type":"application/json"}});bi(Qe(p,`items/${T}`),{data:A}).then(()=>console.log("Добавлено")).catch(C=>console.log(C)),e.favorites.find(C=>C.id===+T)?o.value={...A,isFavorite:!0}:o.value={...A,isFavorite:!1},await y(T),await g(T)},y=async T=>{const{data:A}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${T}/similars`,{headers:{"X-API-KEY":`${f}`,"Content-Type":"application/json"}});Ju(Qe(p,`items/${T}`),{similar:A.items}).then(()=>console.log("Добавлено")).catch(L=>console.log(L)),a.value=A.items},g=async T=>{const{data:A}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${T}`,{headers:{"X-API-KEY":`${f}`,"Content-Type":"application/json"}});Ju(Qe(p,`items/${T}`),{staff:A}).then(()=>console.log("Добавлено")).catch(L=>console.log(L)),l.value=A},S=T=>{_(T)};return Oe(()=>{e.getFavorites(),S(r),window.scrollTo({top:0,behavior:"smooth"})}),bT((T,A)=>{T.params.id!==A.params.id&&(S(T.params.id),u.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),xo({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(T,A)=>{const L=Xt("metainfo");return k(),B(Re,null,[O(L,null,{title:J(()=>[Pe(ne(o.value.nameRu),1)]),meta:J(()=>[Pe(ne(o.value.shortDescription?o.value.shortDescription:o.value.description),1)]),_:1}),n.value?(k(),re(Vt,{key:0,"full-screen":!0})):(k(),B("main",iF,[w("div",rF,[w("img",{class:"w-1/2",src:o.value.posterUrl,alt:o.value.nameRu?o.value.nameRu:o.value.nameOriginal},null,8,oF)]),w("section",aF,[A[2]||(A[2]=w("div",{class:"absolute -top-20 bg-gradient-to-t from-white to-transparent w-full h-20 z-30"},null,-1)),w("div",lF,[O(Bo)]),w("div",cF,[w("h1",uF,ne(o.value.nameRu?o.value.nameRu:o.value.nameOriginal),1),w("div",dF,[w("div",fF,[w("div",{class:Ie([o.value.ratingKinopoisk?o.value.ratingKinopoisk>8?"text-yellow-500":o.value.ratingKinopoisk>7?"text-green-600":o.value.ratingKinopoisk>5?"text-gray-400":"text-red-600":"text-gray-400","text-sm font-semibold text-center min-w-10 rounded-sm"])},ne(o.value.ratingKinopoisk?o.value.ratingKinopoisk:"нет рейтинга"),3)]),w("p",hF,ne(o.value.genres.reduce((C,x)=>x.genre+", "+C,""))+" "+ne(o.value.countries[0]?o.value.countries[0].country:o.value.countries.country),1)]),w("div",pF,[o.value.startYear?(k(),B("div",mF,ne(o.value.startYear)+"-"+ne(o.value.endYear?o.value.endYear:"н.в."),1)):(k(),B("div",gF,ne(o.value.year),1)),o.value.filmLength?(k(),B("div",vF,ne(o.value.filmLength)+" мин. ",1)):Te("",!0),o.value.ratingAgeLimits?(k(),B("div",yF,ne(o.value.ratingAgeLimits.split("age")[1])+"+ ",1)):Te("",!0)])]),w("div",_F,[w("div",{class:"p-2 flex flex-col items-center justify-center",onClick:A[0]||(A[0]=C=>o.value.isFavorite?I(e).removeFromFavorites(o.value,I(r)):I(e).addToFavorites(o.value,I(r)))},[O(I(Kd),{class:Ie(["w-6",o.value.isFavorite?"text-orange-600 fill-orange-600":"text-white"]),alt:"home"},null,8,["class"]),A[1]||(A[1]=w("span",{class:"text-xs text-center text-white"},[Pe("Буду "),w("br"),Pe("смотреть")],-1))]),w("a",{href:o.value.webUrl,class:"my-2 text-sm rounded-full text-white bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,wF)])]),w("section",bF,[O(rn,{title:"Актеры и съемочная группа"}),O(b2,{"staff-list":l.value||[]},null,8,["staff-list"])]),w("section",null,[w("div",SF,[w("div",EF,[w("p",TF,ne(o.value.shortDescription?o.value.shortDescription:o.value.description),1),o.value.shortDescription&&o.value.description?(k(),re(jb,{key:0,"open-text":"Подробнее",description:o.value.description},null,8,["description"])):Te("",!0)]),A[3]||(A[3]=w("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),w("div",CF,[o.value.ratingKinopoisk?(k(),B("span",{key:1,class:Ie([o.value.ratingKinopoisk?o.value.ratingKinopoisk>8?"text-yellow-500":o.value.ratingKinopoisk>7?"text-green-500":o.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ne(o.value.ratingKinopoisk),3)):(k(),B("span",xF,"нет рейтинга")),w("div",IF," Оценок: "+ne(o.value.ratingKinopoiskVoteCount),1),w("a",{href:o.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 text-white"},"Оценить",8,kF)])])]),w("section",PF,[O(rn,{title:"Отзывы"}),c.value.length===0?(k(),B("div",AF,"Нет отзывов ")):(k(),re(sF,{key:1,comments:c.value},null,8,["comments"])),w("div",RF,[d.value?Te("",!0):(k(),B("div",{key:0,class:"flex items-center justify-center gap-2 cursor-pointer",onClick:m},[w("div",OF,[A[4]||(A[4]=w("span",{class:"text-xs text-gray-600"},"Добавить отзыв",-1)),O(I(Yd),{class:"size-4 text-blue-400","aria-hidden":"true"}),O(a0,{handleClick:m,openPopup:s.value,"film-id":I(r)},null,8,["openPopup","film-id"])])]))])]),rt(w("section",NF,[O(rn,{title:"Похожие"}),O(hd,{films:a.value?a.value:[]},null,8,["films"])],512),[[Tn,a.value]]),O(pr),A[5]||(A[5]=w("div",{class:"h-28 bg-white"},null,-1))]))],64)}}},DF=mr(MF,[["__scopeId","data-v-31d20a52"]]),LF={key:1},$F={class:"bg-white"},FF={class:"flex w-full mt-14 gap-2 container px-2"},BF=["src","alt"],UF={class:"flex flex-col gap-1"},jF={class:"text-gray-500 text-xs"},VF={class:"fixed z-50 top-4 left-4"},HF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},zF={class:"columns-2 gap-2 space-y-2"},WF={class:"flex flex-col"},qF={class:"text-xs"},GF={class:"w-4 flex items-center justify-center"},KF={key:0,class:"text-sm text-gray-600"},YF={__name:"Staff",setup(t){const e=jt(),n=rs();ac();const s=D(!0),r=Vd().params.id,o=D({}),a="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",l=async f=>{xn(e,h=>{if(s.value=!0,h){const p=Qe(n,`staff/${f}`);Xn(p,m=>{m.val()?o.value=m.val().data:c(f),s.value=!1},m=>{console.log(m),s.value=!1})}else console.log("User logged out")})},c=async f=>{const{data:h}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v1/staff/${f}`,{headers:{"X-API-KEY":`${a}`,"Content-Type":"application/json"}});h.films=h.films.filter((p,m,_)=>m===_.findIndex(v=>v.nameRu===p.nameRu&&v.nameRu===p.nameRu)).sort((p,m)=>m.rating-p.rating),bi(Qe(n,`staff/${f}`),{data:h}).then(()=>console.log("Добавлено")).catch(p=>console.log(p)),o.value=h},u=f=>{let h="",p=f%100;return p>=5&&p<=20?h="лет":(p=f%10,p===1?h="год":p>=2&&p<=4?h="года":h="лет"),h},d=f=>{l(f)};return Oe(()=>{d(r),window.scrollTo({top:0,behavior:"smooth"})}),xo({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(f,h)=>{const p=Xt("metainfo"),m=Xt("RouterLink");return k(),B(Re,null,[O(p,null,{title:J(()=>[Pe(ne(o.value.nameRu),1)]),meta:J(()=>[Pe(ne(o.value.shortDescription?o.value.shortDescription:o.value.description),1)]),_:1}),s.value?(k(),re(Vt,{key:0,"full-screen":!0})):(k(),B("div",LF,[w("section",$F,[w("div",FF,[w("img",{class:"w-28 rounded-sm",src:o.value.posterUrl,alt:o.value.nameRu?o.value.nameRu:o.value.nameEn},null,8,BF),w("div",UF,[w("div",null,ne(o.value.nameRu?o.value.nameRu:o.value.nameEn),1),rt(w("div",{class:"text-gray-500 text-sm"},ne(o.value.nameEn),513),[[Tn,o.value.nameRu]]),rt(w("p",{class:"text-gray-500 text-xs"},ne(o.value.age)+" "+ne(u(o.value.age)),513),[[Tn,o.value.age]]),w("p",jF,ne(o.value.profession),1)])]),w("div",VF,[O(Bo)])]),w("section",null,[w("div",HF,[h[0]||(h[0]=w("h2",{class:"text-xl bold"},"Фильмы",-1)),w("div",zF,[(k(!0),B(Re,null,Ns(o.value.films,_=>(k(),re(m,{to:{name:"item",params:{id:_.filmId}},key:_.rating,class:"flex items-center gap-2 bg-gray-500 bg-opacity-10 p-2 rounded-md justify-between break-inside-avoid-column"},{default:J(()=>[w("div",WF,[w("h3",qF,ne(_.nameRu?_.nameRu:_.nameEn),1)]),w("div",GF,[_.rating?(k(),B("span",{key:1,class:Ie([_.rating?_.rating>8?"text-yellow-500":_.rating>7?"text-green-500":_.rating>5?"text-slate-600":"text-red-400":"text-slate-300","text-xs"])},ne(_.rating),3)):(k(),B("span",KF,"-"))])]),_:2},1032,["to"]))),128))])]),O(pr),h[1]||(h[1]=w("div",{class:"h-28 bg-white"},null,-1))])]))],64)}}},l0=Io("newsStore",()=>{const t=D([]),e=D([]),n=D(!0),s=D(1),i=jt(),r=rs();return{newsData:t,getNews:async l=>{n.value=!0,xn(i,c=>{if(c){const u=Qe(r,`news/${l}`);Xn(u,d=>{t.value=d.val(),n.value=!1},d=>{console.log(d)})}else console.log("User logged out")}),s.value=l},getLastNews:async()=>{n.value=!0,xn(i,l=>{if(l){const c=Qe(r,"news/1");Xn(c,u=>{e.value=u.val()},u=>{console.log(u)})}else console.log("User logged out")}),n.value=!1},newsOnMain:e,currentPage:s,loader:n}}),XF={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},JF=["href"],QF={__name:"NewsItem",setup(t){const e=[WD,zD],n=l0();return Oe(()=>{n.newsOnMain.length||n.getLastNews()}),(s,i)=>(k(),re(I(rc),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-4"},{default:J(()=>[(k(!0),B(Re,null,Ns(I(n).newsOnMain,r=>(k(),re(I(oc),{key:r.item.kinopoiskId},{default:J(()=>[w("div",{class:"overflow-hidden bg-cover h-48 w-full",style:zt(`background-image: url(${r.item.imageUrl})`)},[i[0]||(i[0]=w("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-40"},null,-1)),w("h2",XF,ne(r.item.title),1),w("a",{href:r.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,JF)],4)]),_:2},1024))),128))]),_:1}))}},wh=Io("premiersStore",()=>{const t=D([]),e=D([]),n=D([]),s=D(1),i=jt(),r=rs(),o=D(!0),a="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",l={0:"january",1:"february",2:"march",3:"april",4:"may",5:"june",6:"july",7:"august",8:"september",9:"october",10:"november",11:"december"},c={year:new Date().getFullYear(),month:new Date().getMonth()},u=async()=>{o.value=!0,xn(i,p=>{if(p){const m=Qe(r,`premiers/${c.year}/${l[c.month]}`);Xn(m,_=>{_.val()||d(),t.value=_.val().items,o.value=!1},_=>{console.log(_)})}else console.log("User logged out")})},d=async()=>{const{data:p}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=${c.year}&month=${l[c.month]}`,{headers:{"X-API-KEY":a,"Content-Type":"application/json"}});bi(Qe(r,`premiers/${c.year}/${l[c.month]}`),{items:p.items}).then(()=>console.log("Добавлено")).catch(m=>console.log(m))};return{premiers:t,getPremiers:u,getTop250:p=>{o.value=!0,xn(i,m=>{if(m){const _=Qe(r,`top/${p}`);Xn(_,v=>{e.value=v.val(),o.value=!1},v=>{console.log(v)})}else console.log("User logged out")}),s.value=p},top250:e,getTopOnMain:()=>{xn(i,p=>{if(p){const m=Qe(r,"top/1");Xn(m,_=>{n.value=_.val(),o.value=!1},_=>{console.log(_)})}else console.log("User logged out")})},topOnMain:n,currentPage:s,loader:o}}),ZF={key:1,class:"container mx-auto px-1"},eB={__name:"MainPage",setup(t){const e=Pn(),n=wh(),s=()=>{Notification.requestPermission().then(i=>{i==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),Pn().notificationToken="")})};return Oe(()=>{(!n.premiers.length||!n.topOnMain.length)&&(n.getPremiers(),n.getTopOnMain()),e.getTokenNotification(),s()}),xo({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(i,r)=>{const o=Xt("metainfo");return k(),B(Re,null,[O(o,null,{title:J(()=>r[0]||(r[0]=[])),_:1}),I(n).loader?(k(),re(Vt,{key:0,"full-screen":!0})):(k(),B("section",ZF,[O(rn,{title:"Последние новости","show-all":!0,link:"news"}),O(QF),O(rn,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),O(hd,{films:I(n).premiers.slice(0,20),class:"mb-2"},null,8,["films"]),O(rn,{title:"Топ 250","show-all":!0,link:"top"}),O(hd,{films:I(n).topOnMain},null,8,["films"]),r[1]||(r[1]=w("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},tB={class:"flex items-center gap-8 mb-8 relative"},nB={class:"flex items-start justify-around gap-4 w-full"},sB=Xe({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=ac(),n=jt(),s=rs(),i=D(!1),r=o=>{t.film.isWatched=!o,Ju(Qe(s,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(k(),B(Re,null,[w("div",null,[O(I(xC),{onClick:a[0]||(a[0]=l=>i.value=!0),class:"w-5 text-gray-500",alt:"favorites"})]),O(I(Ub),{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=l=>i.value=l),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1,class:"bg-gray-600 bg-opacity-50 backdrop-blur-sm"},{default:J(()=>[w("div",tB,[w("div",nB,[w("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[O(I(yy),{class:Ie(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=w("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),w("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>{I(e).removeFromFavorites(null,t.film.id),i.value=!1})},[O(I(Kd),{class:Ie(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=w("span",{class:"text-xs text-center text-white"},[Pe("Удалить из"),w("br"),Pe("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),iB=mr(sB,[["__scopeId","data-v-90348836"]]),rB={class:"relative"},oB={class:"flex justify-between"},aB=["src","alt"],lB={class:"mr-8"},cB={class:"text-xs mb-1"},uB={class:"flex gap-1.5"},dB={__name:"FilmItem",props:{film:{type:Object,required:!0},sizeImage:{type:String,default:"w-16",required:!1},sizeBlock:{type:String,default:"min-w-16",required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1}},setup(t){const e=Kf();return(n,s)=>(k(),B("div",rB,[w("div",oB,[O(I(Pl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-2 mr-8 flex-1",onClick:s[0]||(s[0]=i=>t.remove?null:I(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:J(()=>[w("div",{class:Ie(["image bg-contain",t.sizeBlock])},[w("img",{class:Ie(["h-full",t.sizeImage]),src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,10,aB)],2),w("div",lB,[w("h3",cB,ne(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),w("div",uB,[rt(O(I(yy),{class:Ie(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),[[Tn,t.favorite]]),rt(w("h4",{class:"text-xs text-slate-400 mb-1"},ne(t.film.year),513),[[Tn,t.film.year&&t.film.year!=="null"]])])])]),_:1},8,["to"]),t.favorite?(k(),re(iB,{key:0,film:t.film},null,8,["film"])):Te("",!0)]),t.film.ratingKinopoisk?(k(),B("div",{key:0,class:Ie([t.film.ratingKinopoisk?t.film.ratingKinopoisk>8?"bg-yellow-600":t.film.ratingKinopoisk>7?"bg-green-600":t.film.ratingKinopoisk>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},ne(t.film.ratingKinopoisk&&t.film.ratingKinopoisk!=="null"?t.film.ratingKinopoisk:""),3)):t.film.rating?(k(),B("div",{key:1,class:Ie([t.film.rating==="null"?"bg-slate-300":t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},ne(t.film.rating&&t.film.rating!=="null"?t.film.rating:"-"),3)):Te("",!0),rt(O(I(wy),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-0",alt:"close",onClick:s[1]||(s[1]=i=>I(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[Tn,t.remove]])]))}},fB={class:"flex flex-col"},Eo={__name:"FilmList",props:{films:{type:Array,required:!0},sizeImage:{type:String,required:!1},sizeBlock:{type:String,required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(k(),B("div",fB,[(k(!0),B(Re,null,Ns(t.films,s=>(k(),re(dB,{film:s.item?s.item:s,"size-image":t.sizeImage,"size-block":t.sizeBlock,favorite:t.favorite,remove:t.remove},null,8,["film","size-image","size-block","favorite","remove"]))),256))]))}},hB={class:"container mx-auto px-1 text-sm"},pB=["defaultvalue","placeholder"],mB={key:0},gB={key:1},vB={key:1},yB={key:1},_B={key:1},wB={key:0},bB={class:"flex items-end justify-between pb-3 px-1"},SB={key:1},EB={__name:"Search",setup(t){const e="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",n=Kf(),s=D(!1),i=async l=>{n.loader=!0,s.value=!1;const{data:c}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${l.trim()}`,{headers:{"X-API-KEY":e,"Content-Type":"application/json"}});c.films.length===0?s.value=!0:(n.memoryFilms=c.films,s.value=!1),n.loader=!1},r=()=>{if(!n.memory)return a();n.memory.length>2&&i(n.memory),n.memory.length<2&&(n.memoryFilms=[])},o=D(!1);function a(){o.value=!0,setTimeout(()=>{o.value=!1},1500)}return Oe(()=>{n.getLastSearch()}),xo({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(l,c)=>{const u=Xt("metainfo");return k(),B(Re,null,[O(u,null,{title:J(()=>c[4]||(c[4]=[])),_:1}),w("section",hB,[w("div",{class:Ie(["relative w-full px-0.5 mb-3",{shake:o.value}])},[O(I(_y),{class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 left-3",alt:"search"}),rt(O(I(wy),{onClick:c[0]||(c[0]=()=>{I(n).memory="",I(n).memoryFilms=[],s.value=!1}),class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[Tn,I(n).memory.length>0]]),rt(w("input",{defaultvalue:I(n).memory,placeholder:o.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 py-2 pr-10 flex items-center text-sm text-black bg-gray-100 outline-none placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-none sm:text-sm/6 rounded-md",type:"text","onUpdate:modelValue":c[1]||(c[1]=d=>I(n).memory=d),onKeydown:[ep(r,["enter"]),c[2]||(c[2]=ep(d=>{I(n).memoryFilms=[],s.value=!1},["backspace"]))]},null,40,pB),[[Gn,I(n).memory]])],2),I(n).memory.length>0?(k(),B("div",mB,[I(n).loader?(k(),re(Vt,{key:0,"full-screen":!1})):(k(),B("div",gB,[s.value?(k(),B("div",vB,c[5]||(c[5]=[w("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(k(),re(Eo,{key:0,films:I(n).memoryFilms,"size-image":"w-14","size-block":"min-w-14"},null,8,["films"]))]))])):(k(),B("div",yB,[I(n).loader?(k(),re(Vt,{key:0,"full-screen":!1})):(k(),B("div",_B,[I(n).lastSearch.length>0?(k(),B("div",wB,[w("div",bB,[c[6]||(c[6]=w("h4",{class:"text-sm text-gray-600"},"Вы недавно искали",-1)),w("span",{class:"text-xs text-gray-600",onClick:c[3]||(c[3]=(...d)=>I(n).removeAllSearch&&I(n).removeAllSearch(...d))},"Очистить")]),O(Eo,{films:I(n).lastSearch.slice(0,7),"size-image":"w-14","size-block":"min-w-14",remove:!0},null,8,["films"])])):(k(),B("div",SB,c[7]||(c[7]=[w("div",{class:"flex items-end justify-center pb-3 px-1"},[w("h4",{class:"text-sm text-gray-600"},"История поиска пуста")],-1)])))]))]))]),c[8]||(c[8]=w("div",{class:"h-28"},null,-1))],64)}}},TB=mr(EB,[["__scopeId","data-v-ae125e75"]]),CB="/404-error.png",xB={},IB={class:"w-full h-screen flex justify-center items-center"};function kB(t,e){return k(),B("div",IB,e[0]||(e[0]=[w("img",{src:CB,alt:"404",class:"w-2/5"},null,-1)]))}const PB=mr(xB,[["render",kB]]),AB={key:1,class:"relative container mx-auto p-1"},RB={class:"flex gap-2 mb-1"},OB={__name:"Premier",setup(t){const e=wh();return Oe(()=>{e.premiers.length||e.getPremiers(),window.scrollTo({top:0,behavior:"smooth"})}),(n,s)=>I(e).loader?(k(),re(Vt,{key:0,"full-screen":!0})):(k(),B("section",AB,[w("div",RB,[O(Bo),O(rn,{title:"Премьеры этого месяца"})]),O(Eo,{films:I(e).premiers},null,8,["films"]),s[0]||(s[0]=w("div",{class:"h-28"},null,-1)),O(pr)]))}},NB={key:1,class:"relative container mx-auto p-1"},MB={class:"flex gap-2 mb-1"},DB={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},LB={__name:"Top",setup(t){const e=wh(),n=D(1),s=async i=>{await e.getTop250(i),window.scrollTo({top:0,behavior:"smooth"})};return Oe(()=>{e.top250.length?n.value=e.currentPage:e.getTop250(1),window.scrollTo({top:0,behavior:"smooth"})}),(i,r)=>I(e).loader?(k(),re(Vt,{key:0,"full-screen":!0})):(k(),B("section",NB,[w("div",MB,[O(Bo),O(rn,{title:"Топ 250"})]),O(Eo,{films:I(e).top250},null,8,["films"]),r[1]||(r[1]=w("div",{class:"h-32"},null,-1)),w("div",DB,[O(I(Gd),{"total-items":250,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),onClick:s},null,8,["modelValue"])]),O(pr)]))}},$B={key:1,class:"relative container mx-auto p-1"},FB={class:"flex gap-2 mb-1"},BB={class:"grid-cols-1 grid gap-2"},UB={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},jB=["href"],VB={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},HB={__name:"News",setup(t){const e=l0(),n=async i=>{await e.getNews(i),window.scrollTo({top:0,behavior:"smooth"})},s=D(1);return Oe(()=>{e.newsData.length?s.value=e.currentPage:e.getNews(1),window.scrollTo({top:0,behavior:"smooth"})}),xo({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(i,r)=>{const o=Xt("metainfo");return k(),B(Re,null,[O(o,null,{title:J(()=>r[1]||(r[1]=[])),_:1}),I(e).loader?(k(),re(Vt,{key:0,"full-screen":!0})):(k(),B("section",$B,[w("div",FB,[O(Bo),O(rn,{title:"Новости"})]),w("div",BB,[(k(!0),B(Re,null,Ns(I(e).newsData,a=>(k(),B("div",{key:a.item.kinopoiskId},[w("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:zt(`background-image: url(${a.item.imageUrl})`)},[r[2]||(r[2]=w("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),w("h2",UB,ne(a.item.title),1),w("a",{href:a.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,jB)],4)]))),128))]),O(pr),r[3]||(r[3]=w("div",{class:"h-32"},null,-1))])),w("div",VB,[O(I(Gd),{"total-items":208,"items-per-page":20,"max-pages-shown":3,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=a=>s.value=a),onClick:n},null,8,["modelValue"])])],64)}}},c0="/img/icons/192x192.png",zB={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},WB={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},qB={class:"bg-white px-4 pb-4 pt-4"},GB={class:"items-center justify-center relative"},KB={class:"mt-3"},YB={class:"space-y-1 bg-white",action:"#",method:"POST"},XB={class:"bg-white px-4 pb-4 pt-2"},JB={class:"mt-2"},QB={class:"bg-white px-4 pb-4 pt-2"},ZB={class:"bg-white px-4 pb-4 pt-4"},e3={class:"items-center justify-center relative"},t3={__name:"ForgorPassword",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=D(""),n=D(!1),s=()=>{const i=jt();n.value=!0,yA(i,e.value).then(()=>{console.log("password reset"),setTimeout(()=>{t.handleClick(),n.value=!1},3e3)}).catch(r=>{console.log(r),r.code,r.message})};return(i,r)=>(k(),re(I(vr),{as:"template",show:t.openPopup},{default:J(()=>[O(I(Vo),{class:"relative z-10",onClose:t.handleClick},{default:J(()=>[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:J(()=>r[2]||(r[2]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",zB,[w("div",WB,[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:J(()=>[n.value?(k(),re(I(er),{key:1,class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:J(()=>[w("div",ZB,[w("div",e3,[O(I(gi),{as:"h3",class:"text-sm text-center"},{default:J(()=>r[5]||(r[5]=[Pe("На указанный email отправлено письмо со ссылкой для сброса пароля ")])),_:1})])])]),_:1})):(k(),re(I(er),{key:0,class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:J(()=>[w("div",qB,[w("div",GB,[w("div",KB,[O(I(gi),{as:"h3",class:"text-base font-semibold text-center"},{default:J(()=>r[3]||(r[3]=[Pe("Забыли пароль? ")])),_:1})])])]),w("form",YB,[w("div",XB,[r[4]||(r[4]=w("label",{for:"name",class:"text-sm/6 font-medium"},"Введите свою почту",-1)),w("div",JB,[rt(w("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>e.value=o),type:"email",name:"email",id:"forgot",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,e.value]])])]),w("div",QB,[w("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:s}," Сбросить пароль "),w("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:r[1]||(r[1]=nt((...o)=>t.handleClick&&t.handleClick(...o),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1}))]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},n3={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},s3={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},i3={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},r3={class:"text-center text-xs text-red-500"},o3={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},a3={class:"space-y-6",action:"#",method:"POST"},l3={class:"mt-2"},c3={class:"flex items-center justify-between"},u3={class:"text-sm"},d3={class:"mt-2"},f3={class:"mt-10 text-center text-sm/6 text-gray-400"},h3=Xe({__name:"Login",setup(t){const e=nr(),n=Pn(),s=D(""),i=D(""),r=async l=>{l.preventDefault(),n.error="",s.value&&i.value?(await n.auth("login",{email:s.value,password:i.value}),await e.push("/")):n.error="Заполните все поля"},o=D(!1),a=()=>{o.value=!o.value};return Oe(()=>{n.error="",s.value="",i.value=""}),(l,c)=>{const u=Xt("RouterLink");return k(),B("div",n3,[w("div",s3,[c[2]||(c[2]=w("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:c0,alt:"Filmoteka"},null,-1)),c[3]||(c[3]=w("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),I(n).error?(k(),B("div",i3,[O(I(Nl),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",r3,ne(I(n).error),1)])):Te("",!0)]),w("div",o3,[w("form",a3,[w("div",null,[c[4]||(c[4]=w("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),w("div",l3,[rt(w("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":c[0]||(c[0]=d=>s.value=d),class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,s.value]])])]),w("div",null,[w("div",c3,[c[5]||(c[5]=w("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль",-1)),w("div",u3,[w("a",{href:"#",class:"text-orange-600 hover:text-orange-500",onClick:a},"Забыли пароль?"),O(t3,{handleClick:a,openPopup:o.value},null,8,["openPopup"])])]),w("div",d3,[rt(w("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>i.value=d),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,i.value]])])]),w("div",null,[I(n).loader?(k(),re(Vt,{key:1,"full-screen":!1})):(k(),B("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),w("p",f3,[c[7]||(c[7]=Pe(" Нет аккаунта? "+ne(" ")+" ")),O(u,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:J(()=>c[6]||(c[6]=[Pe("Зарегистрироваться ")])),_:1})])])])}}}),p3={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},m3={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},g3={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},v3={class:"text-center text-xs text-red-500"},y3={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},_3={class:"space-y-6",action:"#",method:"POST"},w3={class:"mt-2"},b3={class:"mt-2"},S3={class:"mt-2"},E3={class:"mt-10 text-center text-sm text-gray-400"},T3=Xe({__name:"Registration",setup(t){const e=Pn(),n=D(""),s=D(""),i=D(""),r=nr(),o=async()=>{e.error="",s.value&&i.value&&n.value?(await e.auth("registration",{email:s.value,password:i.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return Oe(()=>{e.error="",s.value="",i.value="",n.value=""}),(a,l)=>{const c=Xt("RouterLink");return k(),B("div",p3,[w("div",m3,[l[3]||(l[3]=w("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:c0,alt:"Your Company"},null,-1)),l[4]||(l[4]=w("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),I(e).error?(k(),B("div",g3,[O(I(Nl),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",v3,ne(I(e).error),1)])):Te("",!0)]),w("div",y3,[w("form",_3,[w("div",null,[l[5]||(l[5]=w("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),w("div",w3,[rt(w("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,n.value]])])]),w("div",null,[l[6]||(l[6]=w("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),w("div",b3,[rt(w("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,s.value]])])]),w("div",null,[l[7]||(l[7]=w("div",{class:"flex items-center justify-between"},[w("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),w("div",S3,[rt(w("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,i.value]])])]),w("div",null,[I(e).loader?(k(),re(Vt,{key:1,"full-screen":!1})):(k(),B("button",{key:0,type:"submit",onClick:nt(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),w("p",E3,[l[9]||(l[9]=Pe(" Есть аккаунт? "+ne(" ")+" ")),O(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:J(()=>l[8]||(l[8]=[Pe("Войти")])),_:1})])])])}}}),C3={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},x3={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},I3={class:"bg-white px-4 pb-4 pt-4"},k3={class:"items-center justify-center"},P3={class:"mt-3"},A3={class:"bg-white px-4 py-4 items-center flex flex-col"},R3={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=nr(),n=Pn(),s=()=>{n.auth("logout"),e.push("/login")};return(i,r)=>(k(),re(I(vr),{as:"template",show:t.openPopup},{default:J(()=>[O(I(Vo),{class:"relative z-10",onClose:t.handleClick},{default:J(()=>[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:J(()=>r[1]||(r[1]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",C3,[w("div",x3,[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:J(()=>[O(I(er),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:J(()=>[w("div",I3,[w("div",k3,[w("div",P3,[O(I(gi),{as:"h3",class:"text-base text-center"},{default:J(()=>r[2]||(r[2]=[Pe("Вы хотите выйти из профиля? ")])),_:1})])])]),w("div",A3,[w("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),w("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:s,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},O3={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},N3={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},M3={class:"bg-white px-4 pb-4 pt-4"},D3={class:"items-center justify-center"},L3={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},$3={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},F3={class:"mt-3"},B3={key:2,class:"mt-2"},U3={class:"text-sm text-gray-500 break-words text-center"},j3={class:"bg-white px-4 py-4 items-center flex flex-col"},V3={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Pn(),n=D(!1),s=D(!1),i=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},500)},250)};return(r,o)=>(k(),re(I(vr),{as:"template",show:t.openPopup},{default:J(()=>[O(I(Vo),{class:"relative z-10",onClose:t.handleClick},{default:J(()=>[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:J(()=>o[1]||(o[1]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",O3,[w("div",N3,[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:J(()=>[O(I(er),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:J(()=>[w("div",M3,[w("div",D3,[I(e).notificationToken?(k(),B("div",$3,[O(I(vy),{class:"size-6 text-green-600","aria-hidden":"true"})])):(k(),B("div",L3,[O(I(gy),{class:"size-6 text-red-600","aria-hidden":"true"})])),w("div",F3,[I(e).notificationToken?(k(),re(I(gi),{key:1,as:"h3",class:"text-base text-center"},{default:J(()=>o[3]||(o[3]=[Pe("Уведомления разрешены ")])),_:1})):(k(),re(I(gi),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:J(()=>o[2]||(o[2]=[Pe(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),I(e).notificationToken?(k(),B("div",B3,[w("div",U3,ne(I(e).notificationToken),1)])):Te("",!0)])])]),w("div",j3,[I(e).notificationToken&&!n.value&&!s.value?(k(),B("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i},"Скопировать токен ")):Te("",!0),n.value?(k(),re(Vt,{key:1,"full-screen":!1})):Te("",!0),s.value?(k(),re(I(CC),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):Te("",!0),w("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},H3={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},z3={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},W3={class:"bg-white px-4 pb-4 pt-4"},q3={class:"items-center justify-center relative"},G3={class:"mt-3"},K3={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},Y3={class:"text-center text-xs text-red-500"},X3={class:"space-y-1 bg-white",action:"#",method:"POST"},J3={class:"bg-white px-4 pb-4 pt-2"},Q3={class:"mt-2"},Z3={class:"bg-white px-4 pb-4 pt-2"},e5={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=D(""),n=D(""),s=Pn(),i=async()=>{if(e.value){if(e.value===s.userInfo.name)return n.value="Имя не изменилось";n.value="",await s.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(k(),re(I(vr),{as:"template",show:t.openPopup},{default:J(()=>[O(I(Vo),{class:"relative z-10",onClose:t.handleClick},{default:J(()=>[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:J(()=>o[3]||(o[3]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",H3,[w("div",z3,[O(I(dn),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:J(()=>[O(I(er),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:J(()=>[w("div",W3,[w("div",q3,[w("div",G3,[O(I(gi),{as:"h3",class:"text-base font-semibold text-center"},{default:J(()=>o[4]||(o[4]=[Pe("Изменить имя ")])),_:1})]),n.value?(k(),B("div",K3,[O(I(Nl),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",Y3,ne(n.value),1)])):Te("",!0)])]),w("form",X3,[w("div",J3,[o[5]||(o[5]=w("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),w("div",Q3,[rt(w("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[Gn,e.value]])])]),w("div",Z3,[I(s).loader?(k(),re(Vt,{key:1,"full-screen":!1})):(k(),B("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await i(),n.value||t.handleClick()})}," Сохранить ")),w("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:o[2]||(o[2]=nt((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},t5={class:"container mx-auto px-1"},n5={class:"mt-2"},s5={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},i5={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},r5={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},o5={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},a5={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},l5={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},c5={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},u5={__name:"Profile",setup(t){const e=Pn(),n=D(!1),s=D(!1),i=D(!1),r=()=>{n.value=!n.value},o=()=>{s.value=!s.value},a=()=>{i.value=!i.value};return Oe(()=>{e.getTokenNotification()}),(l,c)=>(k(),B("section",t5,[O(rn,{title:"Профиль"}),c[3]||(c[3]=w("div",{class:"sm:px-0"},[w("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),w("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),w("div",n5,[w("dl",null,[w("div",s5,[c[0]||(c[0]=w("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),w("dd",i5,ne(I(e).userInfo.name),1),w("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[O(I(Yd),{class:"size-6 text-blue-500","aria-hidden":"true"}),O(e5,{handleClick:a,openPopup:i.value},null,8,["openPopup"])])]),w("div",r5,[c[1]||(c[1]=w("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),I(e).notificationToken?(k(),B("dd",o5,"Уведомления разрешены ")):(k(),B("dd",a5,"Уведомления не разрешены")),w("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-100 p-4 rounded-full",onClick:r},[I(e).notificationToken?(k(),re(I(vy),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(k(),re(I(gy),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),O(V3,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),w("div",l5,[c[2]||(c[2]=w("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),w("dd",c5,ne(I(e).userInfo.email),1)])])]),w("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md text-white"}," Выйти "),O(R3,{"handle-click":o,"open-popup":s.value},null,8,["open-popup"])]))}};var Eg=function(){return Math.random().toString(36).substring(2)},d5=Xe({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(e){var n=Q(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idClip"):Eg()}),s=Q(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idGradient"):Eg()}),i=Q(function(){var a;return(a=e.width)!==null&&a!==void 0?a:400}),r=Q(function(){var a;return(a=e.height)!==null&&a!==void 0?a:130}),o=Q(function(){var a;return(a=e.viewBox)!==null&&a!==void 0?a:"0 0 ".concat(i.value," ").concat(r.value)});return{idClip:n,idGradient:s,computedViewBox:o}},render:function(){return O("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[O("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),O("defs",null,[O("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():O("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),O("linearGradient",{id:this.idGradient},[O("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),O("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),O("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?O("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});const f5={components:{ContentLoader:d5}},h5={class:"mt-4 px-2"};function p5(t,e,n,s,i,r){const o=Xt("content-loader");return k(),B("div",h5,[O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:J(()=>e[0]||(e[0]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:J(()=>e[1]||(e[1]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:J(()=>e[2]||(e[2]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:J(()=>e[3]||(e[3]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),O(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:J(()=>e[4]||(e[4]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1})])}const m5=mr(f5,[["render",p5]]),g5={class:"relative container mx-auto px-1"},v5={key:1},y5={key:1,class:"text-gray-600 text-sm my-4"},_5={__name:"Favorites",setup(t){const e=ac();return Oe(()=>{e.favorites.length||e.getFavorites()}),(n,s)=>(k(),B("section",g5,[O(rn,{title:"Избранное"}),I(e).loader?(k(),re(m5,{key:0,"full-screen":!0})):(k(),B("div",v5,[I(e).favorites.length?(k(),re(Eo,{key:0,films:I(e).favorites,"size-image":"w-16","size-block":"min-w-16",favorite:!0},null,8,["films"])):(k(),B("div",y5,"В избранное ничего не добавлено"))])),s[0]||(s[0]=w("div",{class:"h-28"},null,-1)),rt(O(pr,null,null,512),[[Tn,I(e).favorites.length>6]])]))}};var w5="firebase",b5="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt(w5,b5,"app");const S5=[{path:"/",component:eB,name:"main",meta:{auth:!0}},{path:"/profile",component:u5,name:"profile",meta:{auth:!0}},{path:"/favorites",component:_5,name:"favorites",meta:{auth:!0}},{path:"/login",component:h3,name:"login",meta:{auth:!1}},{path:"/registration",component:T3,name:"registration",meta:{auth:!1}},{path:"/search",component:TB,name:"search",meta:{auth:!0}},{path:"/film/:id",component:DF,name:"item",meta:{auth:!0}},{path:"/staff/:id",component:YF,name:"staff",meta:{auth:!0}},{path:"/premier",component:OB,name:"premier",props:!0,meta:{auth:!0}},{path:"/top",component:LB,name:"top",props:!0,meta:{auth:!0}},{path:"/news",component:HB,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:PB,meta:{auth:!0}}],u0=kT({history:sT("/"),routes:S5}),E5=lC(),T5={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};u0.beforeEach((t,e,n)=>{const s=Pn();t.meta.auth&&!s.accessToken?n("/login"):!t.meta.auth&&s.accessToken?n("/"):n()});My(T5);TE(sM).use(u0).use(VT()).use(aC).use(E5).use(TC).mount("#app");
