var eS=Object.defineProperty;var tS=(t,e,n)=>e in t?eS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ks=(t,e,n)=>tS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Le={},Ii=[],Kt=()=>{},nS=()=>!1,rl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pd=t=>t.startsWith("onUpdate:"),pt=Object.assign,md=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sS=Object.prototype.hasOwnProperty,Ie=(t,e)=>sS.call(t,e),ue=Array.isArray,xi=t=>ol(t)==="[object Map]",vg=t=>ol(t)==="[object Set]",fe=t=>typeof t=="function",Ge=t=>typeof t=="string",zn=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",yg=t=>(Ve(t)||fe(t))&&fe(t.then)&&fe(t.catch),_g=Object.prototype.toString,ol=t=>_g.call(t),iS=t=>ol(t).slice(8,-1),wg=t=>ol(t)==="[object Object]",gd=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,kr=hd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),al=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},rS=/-(\w)/g,Wt=al(t=>t.replace(rS,(e,n)=>n?n.toUpperCase():"")),oS=/\B([A-Z])/g,bs=al(t=>t.replace(oS,"-$1").toLowerCase()),ll=al(t=>t.charAt(0).toUpperCase()+t.slice(1)),tc=al(t=>t?`on${ll(t)}`:""),ds=(t,e)=>!Object.is(t,e),Ko=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},bg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},tu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _h;const cl=()=>_h||(_h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function go(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ge(s)?uS(s):go(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ge(t)||Ve(t))return t}const aS=/;(?![^(]*\))/g,lS=/:([^]+)/,cS=/\/\*[^]*?\*\//g;function uS(t){const e={};return t.replace(cS,"").split(aS).forEach(n=>{if(n){const s=n.split(lS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function xe(t){let e="";if(Ge(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const s=xe(t[n]);s&&(e+=s+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const dS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fS=hd(dS);function Sg(t){return!!t||t===""}const Eg=t=>!!(t&&t.__v_isRef===!0),ce=t=>Ge(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===_g||!fe(t.toString))?Eg(t)?ce(t.value):JSON.stringify(t,Tg,2):String(t),Tg=(t,e)=>Eg(e)?Tg(t,e.value):xi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[nc(s,r)+" =>"]=i,n),{})}:vg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nc(n))}:zn(e)?nc(e):Ve(e)&&!ue(e)&&!wg(e)?String(e):e,nc=(t,e="")=>{var n;return zn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class Cg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){yt=this}off(){yt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ig(t){return new Cg(t)}function xg(){return yt}function hS(t,e=!1){yt&&yt.cleanups.push(t)}let Fe;const sc=new WeakSet;class kg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sc.has(this)&&(sc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ag(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wh(this),Rg(this);const e=Fe,n=Yt;Fe=this,Yt=!0;try{return this.fn()}finally{Og(this),Fe=e,Yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_d(e);this.deps=this.depsTail=void 0,wh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nu(this)&&this.run()}get dirty(){return nu(this)}}let Pg=0,Pr,Ar;function Ag(t,e=!1){if(t.flags|=8,e){t.next=Ar,Ar=t;return}t.next=Pr,Pr=t}function vd(){Pg++}function yd(){if(--Pg>0)return;if(Ar){let e=Ar;for(Ar=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Pr;){let e=Pr;for(Pr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Rg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Og(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),_d(s),pS(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function nu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ng(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ng(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===zr))return;t.globalVersion=zr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!nu(t)){t.flags&=-3;return}const n=Fe,s=Yt;Fe=t,Yt=!0;try{Rg(t);const i=t.fn(t._value);(e.version===0||ds(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Fe=n,Yt=s,Og(t),t.flags&=-3}}function _d(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)_d(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function pS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yt=!0;const Mg=[];function Ss(){Mg.push(Yt),Yt=!1}function Es(){const t=Mg.pop();Yt=t===void 0?!0:t}function wh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let zr=0;class mS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Yt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new mS(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,Lg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=s)}return n}trigger(e){this.version++,zr++,this.notify(e)}notify(e){vd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{yd()}}}function Lg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Lg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const fa=new WeakMap,js=Symbol(""),su=Symbol(""),qr=Symbol("");function ut(t,e,n){if(Yt&&Fe){let s=fa.get(t);s||fa.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new wd),i.map=s,i.key=n),i.track()}}function Rn(t,e,n,s,i,r){const o=fa.get(t);if(!o){zr++;return}const a=l=>{l&&l.trigger()};if(vd(),e==="clear")o.forEach(a);else{const l=ue(t),c=l&&gd(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===qr||!zn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(qr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(js)),xi(t)&&a(o.get(su)));break;case"delete":l||(a(o.get(js)),xi(t)&&a(o.get(su)));break;case"set":xi(t)&&a(o.get(js));break}}yd()}function gS(t,e){const n=fa.get(t);return n&&n.get(e)}function vi(t){const e=Se(t);return e===t?e:(ut(e,"iterate",qr),Ut(t)?e:e.map(dt))}function ul(t){return ut(t=Se(t),"iterate",qr),t}const vS={__proto__:null,[Symbol.iterator](){return ic(this,Symbol.iterator,dt)},concat(...t){return vi(this).concat(...t.map(e=>ue(e)?vi(e):e))},entries(){return ic(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return Cn(this,"every",t,e,void 0,arguments)},filter(t,e){return Cn(this,"filter",t,e,n=>n.map(dt),arguments)},find(t,e){return Cn(this,"find",t,e,dt,arguments)},findIndex(t,e){return Cn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Cn(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return Cn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Cn(this,"forEach",t,e,void 0,arguments)},includes(...t){return rc(this,"includes",t)},indexOf(...t){return rc(this,"indexOf",t)},join(t){return vi(this).join(t)},lastIndexOf(...t){return rc(this,"lastIndexOf",t)},map(t,e){return Cn(this,"map",t,e,void 0,arguments)},pop(){return ur(this,"pop")},push(...t){return ur(this,"push",t)},reduce(t,...e){return bh(this,"reduce",t,e)},reduceRight(t,...e){return bh(this,"reduceRight",t,e)},shift(){return ur(this,"shift")},some(t,e){return Cn(this,"some",t,e,void 0,arguments)},splice(...t){return ur(this,"splice",t)},toReversed(){return vi(this).toReversed()},toSorted(t){return vi(this).toSorted(t)},toSpliced(...t){return vi(this).toSpliced(...t)},unshift(...t){return ur(this,"unshift",t)},values(){return ic(this,"values",dt)}};function ic(t,e,n){const s=ul(t),i=s[e]();return s!==t&&!Ut(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const yS=Array.prototype;function Cn(t,e,n,s,i,r){const o=ul(t),a=o!==t&&!Ut(t),l=o[e];if(l!==yS[e]){const d=l.apply(t,r);return a?dt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,dt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function bh(t,e,n,s){const i=ul(t);let r=n;return i!==t&&(Ut(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,dt(a),l,t)}),i[e](r,...s)}function rc(t,e,n){const s=Se(t);ut(s,"iterate",qr);const i=s[e](...n);return(i===-1||i===!1)&&dl(n[0])?(n[0]=Se(n[0]),s[e](...n)):i}function ur(t,e,n=[]){Ss(),vd();const s=Se(t)[e].apply(t,n);return yd(),Es(),s}const _S=hd("__proto__,__v_isRef,__isVue"),Dg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zn));function wS(t){zn(t)||(t=String(t));const e=Se(this);return ut(e,"has",t),e.hasOwnProperty(t)}class Fg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?AS:jg:r?Ug:Bg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ue(e);if(!i){let l;if(o&&(l=vS[n]))return l;if(n==="hasOwnProperty")return wS}const a=Reflect.get(e,n,qe(e)?e:s);return(zn(n)?Dg.has(n):_S(n))||(i||ut(e,"get",n),r)?a:qe(a)?o&&gd(n)?a:a.value:Ve(a)?i?Hg(a):ui(a):a}}class $g extends Fg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=Ys(r);if(!Ut(s)&&!Ys(s)&&(r=Se(r),s=Se(s)),!ue(e)&&qe(r)&&!qe(s))return l?!1:(r.value=s,!0)}const o=ue(e)&&gd(n)?Number(n)<e.length:Ie(e,n),a=Reflect.set(e,n,s,qe(e)?e:i);return e===Se(i)&&(o?ds(s,r)&&Rn(e,"set",n,s):Rn(e,"add",n,s)),a}deleteProperty(e,n){const s=Ie(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Rn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!zn(n)||!Dg.has(n))&&ut(e,"has",n),s}ownKeys(e){return ut(e,"iterate",ue(e)?"length":js),Reflect.ownKeys(e)}}class bS extends Fg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const SS=new $g,ES=new bS,TS=new $g(!0);const iu=t=>t,Do=t=>Reflect.getPrototypeOf(t);function CS(t,e,n){return function(...s){const i=this.__v_raw,r=Se(i),o=xi(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?iu:e?ru:dt;return!e&&ut(r,"iterate",l?su:js),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Fo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function IS(t,e){const n={get(i){const r=this.__v_raw,o=Se(r),a=Se(i);t||(ds(i,a)&&ut(o,"get",i),ut(o,"get",a));const{has:l}=Do(o),c=e?iu:t?ru:dt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ut(Se(i),"iterate",js),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Se(r),a=Se(i);return t||(ds(i,a)&&ut(o,"has",i),ut(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Se(a),c=e?iu:t?ru:dt;return!t&&ut(l,"iterate",js),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return pt(n,t?{add:Fo("add"),set:Fo("set"),delete:Fo("delete"),clear:Fo("clear")}:{add(i){!e&&!Ut(i)&&!Ys(i)&&(i=Se(i));const r=Se(this);return Do(r).has.call(r,i)||(r.add(i),Rn(r,"add",i,i)),this},set(i,r){!e&&!Ut(r)&&!Ys(r)&&(r=Se(r));const o=Se(this),{has:a,get:l}=Do(o);let c=a.call(o,i);c||(i=Se(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?ds(r,u)&&Rn(o,"set",i,r):Rn(o,"add",i,r),this},delete(i){const r=Se(this),{has:o,get:a}=Do(r);let l=o.call(r,i);l||(i=Se(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Rn(r,"delete",i,void 0),c},clear(){const i=Se(this),r=i.size!==0,o=i.clear();return r&&Rn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=CS(i,t,e)}),n}function bd(t,e){const n=IS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Ie(n,i)&&i in s?n:s,i,r)}const xS={get:bd(!1,!1)},kS={get:bd(!1,!0)},PS={get:bd(!0,!1)};const Bg=new WeakMap,Ug=new WeakMap,jg=new WeakMap,AS=new WeakMap;function RS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OS(t){return t.__v_skip||!Object.isExtensible(t)?0:RS(iS(t))}function ui(t){return Ys(t)?t:Sd(t,!1,SS,xS,Bg)}function Vg(t){return Sd(t,!1,TS,kS,Ug)}function Hg(t){return Sd(t,!0,ES,PS,jg)}function Sd(t,e,n,s,i){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=OS(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function fs(t){return Ys(t)?fs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ys(t){return!!(t&&t.__v_isReadonly)}function Ut(t){return!!(t&&t.__v_isShallow)}function dl(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function fl(t){return!Ie(t,"__v_skip")&&Object.isExtensible(t)&&bg(t,"__v_skip",!0),t}const dt=t=>Ve(t)?ui(t):t,ru=t=>Ve(t)?Hg(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function F(t){return zg(t,!1)}function Wg(t){return zg(t,!0)}function zg(t,e){return qe(t)?t:new NS(t,e)}class NS{constructor(e,n){this.dep=new wd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:dt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ut(e)||Ys(e);e=s?e:Se(e),ds(e,n)&&(this._rawValue=e,this._value=s?e:dt(e),this.dep.trigger())}}function L(t){return qe(t)?t.value:t}const MS={get:(t,e,n)=>e==="__v_raw"?t:L(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return qe(i)&&!qe(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function qg(t){return fs(t)?t:new Proxy(t,MS)}function LS(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Gg(t,n);return e}class DS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gS(Se(this._object),this._key)}}class FS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $S(t,e,n){return qe(t)?t:fe(t)?new FS(t):Ve(t)&&arguments.length>1?Gg(t,e,n):F(t)}function Gg(t,e,n){const s=t[e];return qe(s)?s:new DS(t,e,n)}class BS{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Ag(this,!0),!0}get value(){const e=this.dep.track();return Ng(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function US(t,e,n=!1){let s,i;return fe(t)?s=t:(s=t.get,i=t.set),new BS(s,i,n)}const $o={},ha=new WeakMap;let Os;function jS(t,e=!1,n=Os){if(n){let s=ha.get(n);s||ha.set(n,s=[]),s.push(t)}}function VS(t,e,n=Le){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:Ut(S)||i===!1||i===0?On(S,1):On(S);let u,d,f,h,p=!1,m=!1;if(qe(t)?(d=()=>t.value,p=Ut(t)):fs(t)?(d=()=>c(t),p=!0):ue(t)?(m=!0,p=t.some(S=>fs(S)||Ut(S)),d=()=>t.map(S=>{if(qe(S))return S.value;if(fs(S))return c(S);if(fe(S))return l?l(S,2):S()})):fe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ss();try{f()}finally{Es()}}const S=Os;Os=u;try{return l?l(t,3,[h]):t(h)}finally{Os=S}}:d=Kt,e&&i){const S=d,T=i===!0?1/0:i;d=()=>On(S(),T)}const y=xg(),w=()=>{u.stop(),y&&y.active&&md(y.effects,u)};if(r&&e){const S=e;e=(...T)=>{S(...T),w()}}let v=m?new Array(t.length).fill($o):$o;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const T=u.run();if(i||p||(m?T.some((R,B)=>ds(R,v[B])):ds(T,v))){f&&f();const R=Os;Os=u;try{const B=[T,v===$o?void 0:m&&v[0]===$o?[]:v,h];l?l(e,3,B):e(...B),v=T}finally{Os=R}}}else u.run()};return a&&a(g),u=new kg(d),u.scheduler=o?()=>o(g,!1):g,h=S=>jS(S,!1,u),f=u.onStop=()=>{const S=ha.get(u);if(S){if(l)l(S,4);else for(const T of S)T();ha.delete(u)}},e?s?g(!0):v=u.run():o?o(g.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function On(t,e=1/0,n){if(e<=0||!Ve(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qe(t))On(t.value,e,n);else if(ue(t))for(let s=0;s<t.length;s++)On(t[s],e,n);else if(vg(t)||xi(t))t.forEach(s=>{On(s,e,n)});else if(wg(t)){for(const s in t)On(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&On(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vo(t,e,n,s){try{return s?t(...s):t()}catch(i){hl(i,e,n)}}function wn(t,e,n,s){if(fe(t)){const i=vo(t,e,n,s);return i&&yg(i)&&i.catch(r=>{hl(r,e,n)}),i}if(ue(t)){const i=[];for(let r=0;r<t.length;r++)i.push(wn(t[r],e,n,s));return i}}function hl(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Le;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Ss(),vo(r,null,10,[t,l,c]),Es();return}}HS(t,n,i,s,o)}function HS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const _t=[];let un=-1;const ki=[];let es=null,_i=0;const Kg=Promise.resolve();let pa=null;function Ki(t){const e=pa||Kg;return t?e.then(this?t.bind(this):t):e}function WS(t){let e=un+1,n=_t.length;for(;e<n;){const s=e+n>>>1,i=_t[s],r=Gr(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Ed(t){if(!(t.flags&1)){const e=Gr(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=Gr(n)?_t.push(t):_t.splice(WS(e),0,t),t.flags|=1,Yg()}}function Yg(){pa||(pa=Kg.then(Qg))}function Jg(t){ue(t)?ki.push(...t):es&&t.id===-1?es.splice(_i+1,0,t):t.flags&1||(ki.push(t),t.flags|=1),Yg()}function Sh(t,e,n=un+1){for(;n<_t.length;n++){const s=_t[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;_t.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Xg(t){if(ki.length){const e=[...new Set(ki)].sort((n,s)=>Gr(n)-Gr(s));if(ki.length=0,es){es.push(...e);return}for(es=e,_i=0;_i<es.length;_i++){const n=es[_i];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}es=null,_i=0}}const Gr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Qg(t){try{for(un=0;un<_t.length;un++){const e=_t[un];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),vo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;un<_t.length;un++){const e=_t[un];e&&(e.flags&=-2)}un=-1,_t.length=0,Xg(),pa=null,(_t.length||ki.length)&&Qg()}}let Qe=null,pl=null;function ma(t){const e=Qe;return Qe=t,pl=t&&t.type.__scopeId||null,e}function zS(t){pl=t}function qS(){pl=null}function te(t,e=Qe,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Lh(-1);const r=ma(e);let o;try{o=t(...i)}finally{ma(r),s._d&&Lh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function jt(t,e){if(Qe===null)return t;const n=yl(Qe),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Le]=e[i];r&&(fe(r)&&(r={mounted:r,updated:r}),r.deep&&On(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ps(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Ss(),wn(l,n,8,[t.el,a,t,e]),Es())}}const Zg=Symbol("_vte"),GS=t=>t.__isTeleport,Rr=t=>t&&(t.disabled||t.disabled===""),Eh=t=>t&&(t.defer||t.defer===""),Th=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ch=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ou=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},ev={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=c,w=Rr(e.props);let{shapeFlag:v,children:g,dynamicChildren:S}=e;if(t==null){const T=e.el=m(""),R=e.anchor=m("");h(T,n,s),h(R,n,s);const B=(C,k)=>{v&16&&(i&&i.isCE&&(i.ce._teleportTarget=C),u(g,C,k,i,r,o,a,l))},x=()=>{const C=e.target=ou(e.props,p),k=nv(C,e,m,h);C&&(o!=="svg"&&Th(C)?o="svg":o!=="mathml"&&Ch(C)&&(o="mathml"),w||(B(C,k),Yo(e,!1)))};w&&(B(n,R),Yo(e,!0)),Eh(e.props)?vt(()=>{x(),e.el.__isMounted=!0},r):x()}else{if(Eh(e.props)&&!t.el.__isMounted){vt(()=>{ev.process(t,e,n,s,i,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,R=e.target=t.target,B=e.targetAnchor=t.targetAnchor,x=Rr(t.props),C=x?n:R,k=x?T:B;if(o==="svg"||Th(R)?o="svg":(o==="mathml"||Ch(R))&&(o="mathml"),S?(f(t.dynamicChildren,S,C,i,r,o,a),Pd(t,e,!0)):l||d(t,e,C,k,i,r,o,a,!1),w)x?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bo(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=ou(e.props,p);U&&Bo(e,U,null,c,0)}else x&&Bo(e,R,B,c,1);Yo(e,w)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Rr(f);for(let p=0;p<a.length;p++){const m=a[p];s(m,e,n,h,!!m.dynamicChildren)}}},move:Bo,hydrate:KS};function Bo(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||Rr(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&s(a,e,n)}function KS(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=ou(e.props,l);if(f){const h=Rr(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||nv(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}Yo(e,h)}return e.anchor&&o(e.anchor)}const tv=ev;function Yo(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function nv(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[Zg]=r,t&&(s(i,t),s(r,t)),r}function Td(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Td(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ye(t,e){return fe(t)?pt({name:t.name},e,{setup:t}):t}function YS(){const t=di();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function sv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ga(t,e,n,s,i=!1){if(ue(t)){t.forEach((p,m)=>ga(p,e&&(ue(e)?e[m]:e),n,s,i));return}if(Pi(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ga(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?yl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Le?a.refs={}:a.refs,d=a.setupState,f=Se(d),h=d===Le?()=>!1:p=>Ie(f,p);if(c!=null&&c!==l&&(Ge(c)?(u[c]=null,h(c)&&(d[c]=null)):qe(c)&&(c.value=null)),fe(l))vo(l,a,12,[o,u]);else{const p=Ge(l),m=qe(l);if(p||m){const y=()=>{if(t.f){const w=p?h(l)?d[l]:u[l]:l.value;i?ue(w)&&md(w,r):ue(w)?w.includes(r)||w.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,vt(y,n)):y()}}}cl().requestIdleCallback;cl().cancelIdleCallback;const Pi=t=>!!t.type.__asyncLoader,iv=t=>t.type.__isKeepAlive;function rv(t,e){av(t,"a",e)}function ov(t,e){av(t,"da",e)}function av(t,e,n=it){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ml(e,s,n),n){let i=n.parent;for(;i&&i.parent;)iv(i.parent.vnode)&&JS(s,e,n,i),i=i.parent}}function JS(t,e,n,s){const i=ml(e,t,s,!0);bt(()=>{md(s[e],i)},n)}function ml(t,e,n=it,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ss();const a=yo(n),l=wn(e,n,t,o);return a(),Es(),l});return s?i.unshift(r):i.push(r),r}}const qn=t=>(e,n=it)=>{(!Jr||t==="sp")&&ml(t,(...s)=>e(...s),n)},XS=qn("bm"),ke=qn("m"),Cd=qn("bu"),Id=qn("u"),xd=qn("bum"),bt=qn("um"),QS=qn("sp"),ZS=qn("rtg"),eE=qn("rtc");function tE(t,e=it){ml("ec",t,e)}const lv="components";function Ts(t,e){return uv(lv,t,!0,e)||t}const cv=Symbol.for("v-ndc");function qt(t){return Ge(t)?uv(lv,t,!1)||t:t||cv}function uv(t,e,n=!0,s=!1){const i=Qe||it;if(i){const r=i.type;{const a=VE(r,!1);if(a&&(a===e||a===Wt(e)||a===ll(Wt(e))))return r}const o=Ih(i[t]||r[t],e)||Ih(i.appContext[t],e);return!o&&s?r:o}}function Ih(t,e){return t&&(t[e]||t[Wt(e)]||t[ll(Wt(e))])}function Yi(t,e,n,s){let i;const r=n,o=ue(t);if(o||Ge(t)){const a=o&&fs(t);let l=!1;a&&(l=!Ut(t),t=ul(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?dt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ve(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function dn(t,e,n={},s,i){if(Qe.ce||Qe.parent&&Pi(Qe.parent)&&Qe.parent.ce)return e!=="default"&&(n.name=e),A(),he(Oe,null,[$("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),A();const o=r&&dv(r(n)),a=n.key||o&&o.key,l=he(Oe,{key:(a&&!zn(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function dv(t){return t.some(e=>Yr(e)?!(e.type===jn||e.type===Oe&&!dv(e.children)):!0)?t:null}const au=t=>t?Av(t)?yl(t):au(t.parent):null,Or=pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>au(t.parent),$root:t=>au(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>hv(t),$forceUpdate:t=>t.f||(t.f=()=>{Ed(t.update)}),$nextTick:t=>t.n||(t.n=Ki.bind(t.proxy)),$watch:t=>EE.bind(t)}),oc=(t,e)=>t!==Le&&!t.__isScriptSetup&&Ie(t,e),nE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(oc(s,e))return o[e]=1,s[e];if(i!==Le&&Ie(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Ie(c,e))return o[e]=3,r[e];if(n!==Le&&Ie(n,e))return o[e]=4,n[e];lu&&(o[e]=0)}}const u=Or[e];let d,f;if(u)return e==="$attrs"&&ut(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Le&&Ie(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ie(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return oc(i,e)?(i[e]=n,!0):s!==Le&&Ie(s,e)?(s[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Le&&Ie(t,o)||oc(e,o)||(a=r[0])&&Ie(a,o)||Ie(s,o)||Ie(Or,o)||Ie(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function xh(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let lu=!0;function sE(t){const e=hv(t),n=t.proxy,s=t.ctx;lu=!1,e.beforeCreate&&kh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:g,unmounted:S,render:T,renderTracked:R,renderTriggered:B,errorCaptured:x,serverPrefetch:C,expose:k,inheritAttrs:U,components:J,directives:V,filters:ee}=e;if(c&&iE(c,s,null),o)for(const ie in o){const we=o[ie];fe(we)&&(s[ie]=we.bind(n))}if(i){const ie=i.call(n,n);Ve(ie)&&(t.data=ui(ie))}if(lu=!0,r)for(const ie in r){const we=r[ie],mt=fe(we)?we.bind(n,n):fe(we.get)?we.get.bind(n,n):Kt,Et=!fe(we)&&fe(we.set)?we.set.bind(n):Kt,me=Q({get:mt,set:Et});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>me.value,set:ge=>me.value=ge})}if(a)for(const ie in a)fv(a[ie],s,n,ie);if(l){const ie=fe(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(we=>{ht(we,ie[we])})}u&&kh(u,t,"c");function se(ie,we){ue(we)?we.forEach(mt=>ie(mt.bind(n))):we&&ie(we.bind(n))}if(se(XS,d),se(ke,f),se(Cd,h),se(Id,p),se(rv,m),se(ov,y),se(tE,x),se(eE,R),se(ZS,B),se(xd,v),se(bt,S),se(QS,C),ue(k))if(k.length){const ie=t.exposed||(t.exposed={});k.forEach(we=>{Object.defineProperty(ie,we,{get:()=>n[we],set:mt=>n[we]=mt})})}else t.exposed||(t.exposed={});T&&t.render===Kt&&(t.render=T),U!=null&&(t.inheritAttrs=U),J&&(t.components=J),V&&(t.directives=V),C&&sv(t)}function iE(t,e,n=Kt){ue(t)&&(t=cu(t));for(const s in t){const i=t[s];let r;Ve(i)?"default"in i?r=je(i.from||s,i.default,!0):r=je(i.from||s):r=je(i),qe(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function kh(t,e,n){wn(ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function fv(t,e,n,s){let i=s.includes(".")?Cv(n,s):()=>n[s];if(Ge(t)){const r=e[t];fe(r)&&ot(i,r)}else if(fe(t))ot(i,t.bind(n));else if(Ve(t))if(ue(t))t.forEach(r=>fv(r,e,n,s));else{const r=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(r)&&ot(i,r,t)}}function hv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>va(l,c,o,!0)),va(l,e,o)),Ve(e)&&r.set(e,l),l}function va(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&va(t,r,n,!0),i&&i.forEach(o=>va(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=rE[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rE={data:Ph,props:Ah,emits:Ah,methods:Er,computed:Er,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:Er,directives:Er,watch:aE,provide:Ph,inject:oE};function Ph(t,e){return e?t?function(){return pt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function oE(t,e){return Er(cu(t),cu(e))}function cu(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gt(t,e){return t?[...new Set([].concat(t,e))]:e}function Er(t,e){return t?pt(Object.create(null),t,e):e}function Ah(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:pt(Object.create(null),xh(t),xh(e??{})):e}function aE(t,e){if(!t)return e;if(!e)return t;const n=pt(Object.create(null),t);for(const s in e)n[s]=gt(t[s],e[s]);return n}function pv(){return{app:null,config:{isNativeTag:nS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lE=0;function cE(t,e){return function(s,i=null){fe(s)||(s=pt({},s)),i!=null&&!Ve(i)&&(i=null);const r=pv(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:lE++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:WE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&fe(u.install)?(o.add(u),u.install(c,...d)):fe(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||$(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,yl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(wn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Vs;Vs=c;try{return u()}finally{Vs=d}}};return c}}let Vs=null;function ht(t,e){if(it){let n=it.provides;const s=it.parent&&it.parent.provides;s===n&&(n=it.provides=Object.create(s)),n[t]=e}}function je(t,e,n=!1){const s=it||Qe;if(s||Vs){const i=Vs?Vs._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&fe(e)?e.call(s&&s.proxy):e}}function uE(){return!!(it||Qe||Vs)}const mv={},gv=()=>Object.create(mv),vv=t=>Object.getPrototypeOf(t)===mv;function dE(t,e,n,s=!1){const i={},r=gv();t.propsDefaults=Object.create(null),yv(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Vg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function fE(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Se(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(gl(t.emitsOptions,f))continue;const h=e[f];if(l)if(Ie(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Wt(f);i[p]=uu(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{yv(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!Ie(e,d)&&((u=bs(d))===d||!Ie(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=uu(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Ie(e,d))&&(delete r[d],c=!0)}c&&Rn(t.attrs,"set","")}function yv(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(kr(l))continue;const c=e[l];let u;i&&Ie(i,u=Wt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:gl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Se(n),c=a||Le;for(let u=0;u<r.length;u++){const d=r[u];n[d]=uu(i,l,d,c[d],t,!Ie(c,d))}}return o}function uu(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Ie(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=yo(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===bs(n))&&(s=!0))}return s}const hE=new WeakMap;function _v(t,e,n=!1){const s=n?hE:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!fe(t)){const u=d=>{l=!0;const[f,h]=_v(d,e,!0);pt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ve(t)&&s.set(t,Ii),Ii;if(ue(r))for(let u=0;u<r.length;u++){const d=Wt(r[u]);Rh(d)&&(o[d]=Le)}else if(r)for(const u in r){const d=Wt(u);if(Rh(d)){const f=r[u],h=o[d]=ue(f)||fe(f)?{type:f}:pt({},f),p=h.type;let m=!1,y=!0;if(ue(p))for(let w=0;w<p.length;++w){const v=p[w],g=fe(v)&&v.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=fe(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||Ie(h,"default"))&&a.push(d)}}const c=[o,a];return Ve(t)&&s.set(t,c),c}function Rh(t){return t[0]!=="$"&&!kr(t)}const wv=t=>t[0]==="_"||t==="$stable",kd=t=>ue(t)?t.map(hn):[hn(t)],pE=(t,e,n)=>{if(e._n)return e;const s=te((...i)=>kd(e(...i)),n);return s._c=!1,s},bv=(t,e,n)=>{const s=t._ctx;for(const i in t){if(wv(i))continue;const r=t[i];if(fe(r))e[i]=pE(i,r,s);else if(r!=null){const o=kd(r);e[i]=()=>o}}},Sv=(t,e)=>{const n=kd(e);t.slots.default=()=>n},Ev=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},mE=(t,e,n)=>{const s=t.slots=gv();if(t.vnode.shapeFlag&32){const i=e._;i?(Ev(s,e,n),n&&bg(s,"_",i,!0)):bv(e,s)}else e&&Sv(t,e)},gE=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Le;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Ev(i,e,n):(r=!e.$stable,bv(e,i)),o=e}else e&&(Sv(t,e),o={default:1});if(r)for(const a in i)!wv(a)&&o[a]==null&&delete i[a]},vt=AE;function vE(t){return yE(t)}function yE(t,e){const n=cl();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Kt,insertStaticContent:p}=t,m=(_,b,I,O=null,D=null,M=null,G=void 0,q=null,z=!!b.dynamicChildren)=>{if(_===b)return;_&&!dr(_,b)&&(O=N(_),ge(_,D,M,!0),_=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:j,ref:oe,shapeFlag:Y}=b;switch(j){case vl:y(_,b,I,O);break;case jn:w(_,b,I,O);break;case Jo:_==null&&v(b,I,O,G);break;case Oe:J(_,b,I,O,D,M,G,q,z);break;default:Y&1?T(_,b,I,O,D,M,G,q,z):Y&6?V(_,b,I,O,D,M,G,q,z):(Y&64||Y&128)&&j.process(_,b,I,O,D,M,G,q,z,Z)}oe!=null&&D&&ga(oe,_&&_.ref,M,b||_,!b)},y=(_,b,I,O)=>{if(_==null)s(b.el=a(b.children),I,O);else{const D=b.el=_.el;b.children!==_.children&&c(D,b.children)}},w=(_,b,I,O)=>{_==null?s(b.el=l(b.children||""),I,O):b.el=_.el},v=(_,b,I,O)=>{[_.el,_.anchor]=p(_.children,b,I,O,_.el,_.anchor)},g=({el:_,anchor:b},I,O)=>{let D;for(;_&&_!==b;)D=f(_),s(_,I,O),_=D;s(b,I,O)},S=({el:_,anchor:b})=>{let I;for(;_&&_!==b;)I=f(_),i(_),_=I;i(b)},T=(_,b,I,O,D,M,G,q,z)=>{b.type==="svg"?G="svg":b.type==="math"&&(G="mathml"),_==null?R(b,I,O,D,M,G,q,z):C(_,b,D,M,G,q,z)},R=(_,b,I,O,D,M,G,q)=>{let z,j;const{props:oe,shapeFlag:Y,transition:ne,dirs:de}=_;if(z=_.el=o(_.type,M,oe&&oe.is,oe),Y&8?u(z,_.children):Y&16&&x(_.children,z,null,O,D,ac(_,M),G,q),de&&Ps(_,null,O,"created"),B(z,_,_.scopeId,G,O),oe){for(const De in oe)De!=="value"&&!kr(De)&&r(z,De,null,oe[De],M,O);"value"in oe&&r(z,"value",null,oe.value,M),(j=oe.onVnodeBeforeMount)&&ln(j,O,_)}de&&Ps(_,null,O,"beforeMount");const be=_E(D,ne);be&&ne.beforeEnter(z),s(z,b,I),((j=oe&&oe.onVnodeMounted)||be||de)&&vt(()=>{j&&ln(j,O,_),be&&ne.enter(z),de&&Ps(_,null,O,"mounted")},D)},B=(_,b,I,O,D)=>{if(I&&h(_,I),O)for(let M=0;M<O.length;M++)h(_,O[M]);if(D){let M=D.subTree;if(b===M||xv(M.type)&&(M.ssContent===b||M.ssFallback===b)){const G=D.vnode;B(_,G,G.scopeId,G.slotScopeIds,D.parent)}}},x=(_,b,I,O,D,M,G,q,z=0)=>{for(let j=z;j<_.length;j++){const oe=_[j]=q?ts(_[j]):hn(_[j]);m(null,oe,b,I,O,D,M,G,q)}},C=(_,b,I,O,D,M,G)=>{const q=b.el=_.el;let{patchFlag:z,dynamicChildren:j,dirs:oe}=b;z|=_.patchFlag&16;const Y=_.props||Le,ne=b.props||Le;let de;if(I&&As(I,!1),(de=ne.onVnodeBeforeUpdate)&&ln(de,I,b,_),oe&&Ps(b,_,I,"beforeUpdate"),I&&As(I,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(q,""),j?k(_.dynamicChildren,j,q,I,O,ac(b,D),M):G||we(_,b,q,null,I,O,ac(b,D),M,!1),z>0){if(z&16)U(q,Y,ne,I,D);else if(z&2&&Y.class!==ne.class&&r(q,"class",null,ne.class,D),z&4&&r(q,"style",Y.style,ne.style,D),z&8){const be=b.dynamicProps;for(let De=0;De<be.length;De++){const Pe=be[De],At=Y[Pe],Tt=ne[Pe];(Tt!==At||Pe==="value")&&r(q,Pe,At,Tt,D,I)}}z&1&&_.children!==b.children&&u(q,b.children)}else!G&&j==null&&U(q,Y,ne,I,D);((de=ne.onVnodeUpdated)||oe)&&vt(()=>{de&&ln(de,I,b,_),oe&&Ps(b,_,I,"updated")},O)},k=(_,b,I,O,D,M,G)=>{for(let q=0;q<b.length;q++){const z=_[q],j=b[q],oe=z.el&&(z.type===Oe||!dr(z,j)||z.shapeFlag&70)?d(z.el):I;m(z,j,oe,null,O,D,M,G,!0)}},U=(_,b,I,O,D)=>{if(b!==I){if(b!==Le)for(const M in b)!kr(M)&&!(M in I)&&r(_,M,b[M],null,D,O);for(const M in I){if(kr(M))continue;const G=I[M],q=b[M];G!==q&&M!=="value"&&r(_,M,q,G,D,O)}"value"in I&&r(_,"value",b.value,I.value,D)}},J=(_,b,I,O,D,M,G,q,z)=>{const j=b.el=_?_.el:a(""),oe=b.anchor=_?_.anchor:a("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:de}=b;de&&(q=q?q.concat(de):de),_==null?(s(j,I,O),s(oe,I,O),x(b.children||[],I,oe,D,M,G,q,z)):Y>0&&Y&64&&ne&&_.dynamicChildren?(k(_.dynamicChildren,ne,I,D,M,G,q),(b.key!=null||D&&b===D.subTree)&&Pd(_,b,!0)):we(_,b,I,oe,D,M,G,q,z)},V=(_,b,I,O,D,M,G,q,z)=>{b.slotScopeIds=q,_==null?b.shapeFlag&512?D.ctx.activate(b,I,O,G,z):ee(b,I,O,D,M,G,z):re(_,b,z)},ee=(_,b,I,O,D,M,G)=>{const q=_.component=FE(_,O,D);if(iv(_)&&(q.ctx.renderer=Z),$E(q,!1,G),q.asyncDep){if(D&&D.registerDep(q,se,G),!_.el){const z=q.subTree=$(jn);w(null,z,b,I)}}else se(q,_,b,I,D,M,G)},re=(_,b,I)=>{const O=b.component=_.component;if(kE(_,b,I))if(O.asyncDep&&!O.asyncResolved){ie(O,b,I);return}else O.next=b,O.update();else b.el=_.el,O.vnode=b},se=(_,b,I,O,D,M,G)=>{const q=()=>{if(_.isMounted){let{next:Y,bu:ne,u:de,parent:be,vnode:De}=_;{const on=Tv(_);if(on){Y&&(Y.el=De.el,ie(_,Y,G)),on.asyncDep.then(()=>{_.isUnmounted||q()});return}}let Pe=Y,At;As(_,!1),Y?(Y.el=De.el,ie(_,Y,G)):Y=De,ne&&Ko(ne),(At=Y.props&&Y.props.onVnodeBeforeUpdate)&&ln(At,be,Y,De),As(_,!0);const Tt=Nh(_),rn=_.subTree;_.subTree=Tt,m(rn,Tt,d(rn.el),N(rn),_,D,M),Y.el=Tt.el,Pe===null&&PE(_,Tt.el),de&&vt(de,D),(At=Y.props&&Y.props.onVnodeUpdated)&&vt(()=>ln(At,be,Y,De),D)}else{let Y;const{el:ne,props:de}=b,{bm:be,m:De,parent:Pe,root:At,type:Tt}=_,rn=Pi(b);As(_,!1),be&&Ko(be),!rn&&(Y=de&&de.onVnodeBeforeMount)&&ln(Y,Pe,b),As(_,!0);{At.ce&&At.ce._injectChildStyle(Tt);const on=_.subTree=Nh(_);m(null,on,I,O,_,D,M),b.el=on.el}if(De&&vt(De,D),!rn&&(Y=de&&de.onVnodeMounted)){const on=b;vt(()=>ln(Y,Pe,on),D)}(b.shapeFlag&256||Pe&&Pi(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&_.a&&vt(_.a,D),_.isMounted=!0,b=I=O=null}};_.scope.on();const z=_.effect=new kg(q);_.scope.off();const j=_.update=z.run.bind(z),oe=_.job=z.runIfDirty.bind(z);oe.i=_,oe.id=_.uid,z.scheduler=()=>Ed(oe),As(_,!0),j()},ie=(_,b,I)=>{b.component=_;const O=_.vnode.props;_.vnode=b,_.next=null,fE(_,b.props,O,I),gE(_,b.children,I),Ss(),Sh(_),Es()},we=(_,b,I,O,D,M,G,q,z=!1)=>{const j=_&&_.children,oe=_?_.shapeFlag:0,Y=b.children,{patchFlag:ne,shapeFlag:de}=b;if(ne>0){if(ne&128){Et(j,Y,I,O,D,M,G,q,z);return}else if(ne&256){mt(j,Y,I,O,D,M,G,q,z);return}}de&8?(oe&16&&at(j,D,M),Y!==j&&u(I,Y)):oe&16?de&16?Et(j,Y,I,O,D,M,G,q,z):at(j,D,M,!0):(oe&8&&u(I,""),de&16&&x(Y,I,O,D,M,G,q,z))},mt=(_,b,I,O,D,M,G,q,z)=>{_=_||Ii,b=b||Ii;const j=_.length,oe=b.length,Y=Math.min(j,oe);let ne;for(ne=0;ne<Y;ne++){const de=b[ne]=z?ts(b[ne]):hn(b[ne]);m(_[ne],de,I,null,D,M,G,q,z)}j>oe?at(_,D,M,!0,!1,Y):x(b,I,O,D,M,G,q,z,Y)},Et=(_,b,I,O,D,M,G,q,z)=>{let j=0;const oe=b.length;let Y=_.length-1,ne=oe-1;for(;j<=Y&&j<=ne;){const de=_[j],be=b[j]=z?ts(b[j]):hn(b[j]);if(dr(de,be))m(de,be,I,null,D,M,G,q,z);else break;j++}for(;j<=Y&&j<=ne;){const de=_[Y],be=b[ne]=z?ts(b[ne]):hn(b[ne]);if(dr(de,be))m(de,be,I,null,D,M,G,q,z);else break;Y--,ne--}if(j>Y){if(j<=ne){const de=ne+1,be=de<oe?b[de].el:O;for(;j<=ne;)m(null,b[j]=z?ts(b[j]):hn(b[j]),I,be,D,M,G,q,z),j++}}else if(j>ne)for(;j<=Y;)ge(_[j],D,M,!0),j++;else{const de=j,be=j,De=new Map;for(j=be;j<=ne;j++){const Rt=b[j]=z?ts(b[j]):hn(b[j]);Rt.key!=null&&De.set(Rt.key,j)}let Pe,At=0;const Tt=ne-be+1;let rn=!1,on=0;const cr=new Array(Tt);for(j=0;j<Tt;j++)cr[j]=0;for(j=de;j<=Y;j++){const Rt=_[j];if(At>=Tt){ge(Rt,D,M,!0);continue}let an;if(Rt.key!=null)an=De.get(Rt.key);else for(Pe=be;Pe<=ne;Pe++)if(cr[Pe-be]===0&&dr(Rt,b[Pe])){an=Pe;break}an===void 0?ge(Rt,D,M,!0):(cr[an-be]=j+1,an>=on?on=an:rn=!0,m(Rt,b[an],I,null,D,M,G,q,z),At++)}const vh=rn?wE(cr):Ii;for(Pe=vh.length-1,j=Tt-1;j>=0;j--){const Rt=be+j,an=b[Rt],yh=Rt+1<oe?b[Rt+1].el:O;cr[j]===0?m(null,an,I,yh,D,M,G,q,z):rn&&(Pe<0||j!==vh[Pe]?me(an,I,yh,2):Pe--)}}},me=(_,b,I,O,D=null)=>{const{el:M,type:G,transition:q,children:z,shapeFlag:j}=_;if(j&6){me(_.component.subTree,b,I,O);return}if(j&128){_.suspense.move(b,I,O);return}if(j&64){G.move(_,b,I,Z);return}if(G===Oe){s(M,b,I);for(let Y=0;Y<z.length;Y++)me(z[Y],b,I,O);s(_.anchor,b,I);return}if(G===Jo){g(_,b,I);return}if(O!==2&&j&1&&q)if(O===0)q.beforeEnter(M),s(M,b,I),vt(()=>q.enter(M),D);else{const{leave:Y,delayLeave:ne,afterLeave:de}=q,be=()=>s(M,b,I),De=()=>{Y(M,()=>{be(),de&&de()})};ne?ne(M,be,De):De()}else s(M,b,I)},ge=(_,b,I,O=!1,D=!1)=>{const{type:M,props:G,ref:q,children:z,dynamicChildren:j,shapeFlag:oe,patchFlag:Y,dirs:ne,cacheIndex:de}=_;if(Y===-2&&(D=!1),q!=null&&ga(q,null,I,_,!0),de!=null&&(b.renderCache[de]=void 0),oe&256){b.ctx.deactivate(_);return}const be=oe&1&&ne,De=!Pi(_);let Pe;if(De&&(Pe=G&&G.onVnodeBeforeUnmount)&&ln(Pe,b,_),oe&6)Jn(_.component,I,O);else{if(oe&128){_.suspense.unmount(I,O);return}be&&Ps(_,null,b,"beforeUnmount"),oe&64?_.type.remove(_,b,I,Z,O):j&&!j.hasOnce&&(M!==Oe||Y>0&&Y&64)?at(j,b,I,!1,!0):(M===Oe&&Y&384||!D&&oe&16)&&at(z,b,I),O&&Je(_)}(De&&(Pe=G&&G.onVnodeUnmounted)||be)&&vt(()=>{Pe&&ln(Pe,b,_),be&&Ps(_,null,b,"unmounted")},I)},Je=_=>{const{type:b,el:I,anchor:O,transition:D}=_;if(b===Oe){Xe(I,O);return}if(b===Jo){S(_);return}const M=()=>{i(I),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(_.shapeFlag&1&&D&&!D.persisted){const{leave:G,delayLeave:q}=D,z=()=>G(I,M);q?q(_.el,M,z):z()}else M()},Xe=(_,b)=>{let I;for(;_!==b;)I=f(_),i(_),_=I;i(b)},Jn=(_,b,I)=>{const{bum:O,scope:D,job:M,subTree:G,um:q,m:z,a:j}=_;Oh(z),Oh(j),O&&Ko(O),D.stop(),M&&(M.flags|=8,ge(G,_,b,I)),q&&vt(q,b),vt(()=>{_.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},at=(_,b,I,O=!1,D=!1,M=0)=>{for(let G=M;G<_.length;G++)ge(_[G],b,I,O,D)},N=_=>{if(_.shapeFlag&6)return N(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=f(_.anchor||_.el),I=b&&b[Zg];return I?f(I):b};let X=!1;const K=(_,b,I)=>{_==null?b._vnode&&ge(b._vnode,null,null,!0):m(b._vnode||null,_,b,null,null,null,I),b._vnode=_,X||(X=!0,Sh(),Xg(),X=!1)},Z={p:m,um:ge,m:me,r:Je,mt:ee,mc:x,pc:we,pbc:k,n:N,o:t};return{render:K,hydrate:void 0,createApp:cE(K)}}function ac({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function As({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function _E(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pd(t,e,n=!1){const s=t.children,i=e.children;if(ue(s)&&ue(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=ts(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Pd(o,a)),a.type===vl&&(a.el=o.el)}}function wE(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Tv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tv(e)}function Oh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const bE=Symbol.for("v-scx"),SE=()=>je(bE);function Qt(t,e){return Ad(t,null,e)}function ot(t,e,n){return Ad(t,e,n)}function Ad(t,e,n=Le){const{immediate:s,deep:i,flush:r,once:o}=n,a=pt({},n),l=e&&s||!e&&r!=="post";let c;if(Jr){if(r==="sync"){const h=SE();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Kt,h.resume=Kt,h.pause=Kt,h}}const u=it;a.call=(h,p,m)=>wn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Ed(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=VS(t,e,a);return Jr&&(c?c.push(f):l&&f()),f}function EE(t,e,n){const s=this.proxy,i=Ge(t)?t.includes(".")?Cv(s,t):()=>s[t]:t.bind(s,s);let r;fe(e)?r=e:(r=e.handler,n=e);const o=yo(this),a=Ad(i,r.bind(s),n);return o(),a}function Cv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const TE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Wt(e)}Modifiers`]||t[`${bs(e)}Modifiers`];function CE(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Le;let i=n;const r=e.startsWith("update:"),o=r&&TE(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Ge(u)?u.trim():u)),o.number&&(i=n.map(tu)));let a,l=s[a=tc(e)]||s[a=tc(Wt(e))];!l&&r&&(l=s[a=tc(bs(e))]),l&&wn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,wn(c,t,6,i)}}function Iv(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!fe(t)){const l=c=>{const u=Iv(c,e,!0);u&&(a=!0,pt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ve(t)&&s.set(t,null),null):(ue(r)?r.forEach(l=>o[l]=null):pt(o,r),Ve(t)&&s.set(t,o),o)}function gl(t,e){return!t||!rl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,bs(e))||Ie(t,e))}function Nh(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=ma(t);let w,v;try{if(n.shapeFlag&4){const S=i||s,T=S;w=hn(c.call(T,S,u,d,h,f,p)),v=a}else{const S=e;w=hn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),v=e.props?a:IE(a)}}catch(S){Nr.length=0,hl(S,t,1),w=$(jn)}let g=w;if(v&&m!==!1){const S=Object.keys(v),{shapeFlag:T}=g;S.length&&T&7&&(r&&S.some(pd)&&(v=xE(v,r)),g=Js(g,v,!1,!0))}return n.dirs&&(g=Js(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Td(g,n.transition),w=g,ma(y),w}const IE=t=>{let e;for(const n in t)(n==="class"||n==="style"||rl(n))&&((e||(e={}))[n]=t[n]);return e},xE=(t,e)=>{const n={};for(const s in t)(!pd(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function kE(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Mh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!gl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Mh(s,o,c):!0:!!o;return!1}function Mh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!gl(n,r))return!0}return!1}function PE({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const xv=t=>t.__isSuspense;function AE(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Jg(t)}const Oe=Symbol.for("v-fgt"),vl=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),Jo=Symbol.for("v-stc"),Nr=[];let Lt=null;function A(t=!1){Nr.push(Lt=t?null:[])}function RE(){Nr.pop(),Lt=Nr[Nr.length-1]||null}let Kr=1;function Lh(t,e=!1){Kr+=t,t<0&&Lt&&e&&(Lt.hasOnce=!0)}function kv(t){return t.dynamicChildren=Kr>0?Lt||Ii:null,RE(),Kr>0&&Lt&&Lt.push(t),t}function H(t,e,n,s,i,r){return kv(E(t,e,n,s,i,r,!0))}function he(t,e,n,s,i){return kv($(t,e,n,s,i,!0))}function Yr(t){return t?t.__v_isVNode===!0:!1}function dr(t,e){return t.type===e.type&&t.key===e.key}const Pv=({key:t})=>t??null,Xo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||qe(t)||fe(t)?{i:Qe,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,s=0,i=null,r=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pv(e),ref:e&&Xo(e),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qe};return a?(Rd(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),Kr>0&&!o&&Lt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Lt.push(l),l}const $=OE;function OE(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===cv)&&(t=jn),Yr(t)){const a=Js(t,e,!0);return n&&Rd(a,n),Kr>0&&!r&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(t)]=a:Lt.push(a)),a.patchFlag=-2,a}if(HE(t)&&(t=t.__vccOpts),e){e=NE(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=xe(a)),Ve(l)&&(dl(l)&&!ue(l)&&(l=pt({},l)),e.style=go(l))}const o=Ge(t)?1:xv(t)?128:GS(t)?64:Ve(t)?4:fe(t)?2:0;return E(t,e,n,s,i,o,r,!0)}function NE(t){return t?dl(t)||vv(t)?pt({},t):t:null}function Js(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?ME(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Pv(c),ref:e&&e.ref?n&&r?ue(r)?r.concat(Xo(e)):[r,Xo(e)]:Xo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Js(t.ssContent),ssFallback:t.ssFallback&&Js(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Td(u,l.clone(u)),u}function Be(t=" ",e=0){return $(vl,null,t,e)}function Me(t="",e=!1){return e?(A(),he(jn,null,t)):$(jn,null,t)}function hn(t){return t==null||typeof t=="boolean"?$(jn):ue(t)?$(Oe,null,t.slice()):Yr(t)?ts(t):$(vl,null,String(t))}function ts(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Js(t)}function Rd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Rd(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!vv(e)?e._ctx=Qe:i===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:Qe},n=32):(e=String(e),s&64?(n=16,e=[Be(e)]):n=8);t.children=e,t.shapeFlag|=n}function ME(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=xe([e.class,s.class]));else if(i==="style")e.style=go([e.style,s.style]);else if(rl(i)){const r=e[i],o=s[i];o&&r!==o&&!(ue(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ln(t,e,n,s=null){wn(t,e,7,[n,s])}const LE=pv();let DE=0;function FE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||LE,r={uid:DE++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_v(s,i),emitsOptions:Iv(s,i),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:s.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=CE.bind(null,r),t.ce&&t.ce(r),r}let it=null;const di=()=>it||Qe;let ya,du;{const t=cl(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ya=e("__VUE_INSTANCE_SETTERS__",n=>it=n),du=e("__VUE_SSR_SETTERS__",n=>Jr=n)}const yo=t=>{const e=it;return ya(t),t.scope.on(),()=>{t.scope.off(),ya(e)}},Dh=()=>{it&&it.scope.off(),ya(null)};function Av(t){return t.vnode.shapeFlag&4}let Jr=!1;function $E(t,e=!1,n=!1){e&&du(e);const{props:s,children:i}=t.vnode,r=Av(t);dE(t,s,r,e),mE(t,i,n);const o=r?BE(t,e):void 0;return e&&du(!1),o}function BE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,nE);const{setup:s}=n;if(s){Ss();const i=t.setupContext=s.length>1?jE(t):null,r=yo(t),o=vo(s,t,0,[t.props,i]),a=yg(o);if(Es(),r(),(a||t.sp)&&!Pi(t)&&sv(t),a){if(o.then(Dh,Dh),e)return o.then(l=>{Fh(t,l)}).catch(l=>{hl(l,t,0)});t.asyncDep=o}else Fh(t,o)}else Rv(t)}function Fh(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=qg(e)),Rv(t)}function Rv(t,e,n){const s=t.type;t.render||(t.render=s.render||Kt);{const i=yo(t);Ss();try{sE(t)}finally{Es(),i()}}}const UE={get(t,e){return ut(t,"get",""),t[e]}};function jE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,UE),slots:t.slots,emit:t.emit,expose:e}}function yl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(qg(fl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Or)return Or[n](t)},has(e,n){return n in e||n in Or}})):t.proxy}function VE(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function HE(t){return fe(t)&&"__vccOpts"in t}const Q=(t,e)=>US(t,e,Jr);function Ee(t,e,n){const s=arguments.length;return s===2?Ve(e)&&!ue(e)?Yr(e)?$(t,null,[e]):$(t,e):$(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Yr(n)&&(n=[n]),$(t,e,n))}const WE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fu;const $h=typeof window<"u"&&window.trustedTypes;if($h)try{fu=$h.createPolicy("vue",{createHTML:t=>t})}catch{}const Ov=fu?t=>fu.createHTML(t):t=>t,zE="http://www.w3.org/2000/svg",qE="http://www.w3.org/1998/Math/MathML",kn=typeof document<"u"?document:null,Bh=kn&&kn.createElement("template"),GE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?kn.createElementNS(zE,t):e==="mathml"?kn.createElementNS(qE,t):n?kn.createElement(t,{is:n}):kn.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>kn.createTextNode(t),createComment:t=>kn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Bh.innerHTML=Ov(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Bh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},KE=Symbol("_vtc");function YE(t,e,n){const s=t[KE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _a=Symbol("_vod"),Nv=Symbol("_vsh"),Mr={beforeMount(t,{value:e},{transition:n}){t[_a]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):fr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),fr(t,!0),s.enter(t)):s.leave(t,()=>{fr(t,!1)}):fr(t,e))},beforeUnmount(t,{value:e}){fr(t,e)}};function fr(t,e){t.style.display=e?t[_a]:"none",t[Nv]=!e}const Mv=Symbol("");function JE(t){const e=di();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>wa(r,i))},s=()=>{const i=t(e.proxy);e.ce?wa(e.ce,i):hu(e.subTree,i),n(i)};Cd(()=>{Jg(s)}),ke(()=>{ot(s,Kt,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),bt(()=>i.disconnect())})}function hu(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{hu(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)wa(t.el,e);else if(t.type===Oe)t.children.forEach(n=>hu(n,e));else if(t.type===Jo){let{el:n,anchor:s}=t;for(;n&&(wa(n,e),n!==s);)n=n.nextSibling}}function wa(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[Mv]=s}}const XE=/(^|;)\s*display\s*:/;function QE(t,e,n){const s=t.style,i=Ge(n);let r=!1;if(n&&!i){if(e)if(Ge(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Qo(s,a,"")}else for(const o in e)n[o]==null&&Qo(s,o,"");for(const o in n)o==="display"&&(r=!0),Qo(s,o,n[o])}else if(i){if(e!==n){const o=s[Mv];o&&(n+=";"+o),s.cssText=n,r=XE.test(n)}}else e&&t.removeAttribute("style");_a in t&&(t[_a]=r?s.display:"",t[Nv]&&(s.display="none"))}const Uh=/\s*!important$/;function Qo(t,e,n){if(ue(n))n.forEach(s=>Qo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=ZE(t,e);Uh.test(n)?t.setProperty(bs(s),n.replace(Uh,""),"important"):t[s]=n}}const jh=["Webkit","Moz","ms"],lc={};function ZE(t,e){const n=lc[e];if(n)return n;let s=Wt(e);if(s!=="filter"&&s in t)return lc[e]=s;s=ll(s);for(let i=0;i<jh.length;i++){const r=jh[i]+s;if(r in t)return lc[e]=r}return e}const Vh="http://www.w3.org/1999/xlink";function Hh(t,e,n,s,i,r=fS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Vh,e.slice(6,e.length)):t.setAttributeNS(Vh,e,n):n==null||r&&!Sg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":zn(n)?String(n):n)}function Wh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ov(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Sg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function wi(t,e,n,s){t.addEventListener(e,n,s)}function e0(t,e,n,s){t.removeEventListener(e,n,s)}const zh=Symbol("_vei");function t0(t,e,n,s,i=null){const r=t[zh]||(t[zh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=n0(e);if(s){const c=r[e]=r0(s,i);wi(t,a,c,l)}else o&&(e0(t,a,o,l),r[e]=void 0)}}const qh=/(?:Once|Passive|Capture)$/;function n0(t){let e;if(qh.test(t)){e={};let s;for(;s=t.match(qh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bs(t.slice(2)),e]}let cc=0;const s0=Promise.resolve(),i0=()=>cc||(s0.then(()=>cc=0),cc=Date.now());function r0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;wn(o0(s,n.value),e,5,[s])};return n.value=t,n.attached=i0(),n}function o0(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Gh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,a0=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?YE(t,s,o):e==="style"?QE(t,n,s):rl(e)?pd(e)||t0(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):l0(t,e,s,o))?(Wh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Hh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(s))?Wh(t,Wt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Hh(t,e,s,o))};function l0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Gh(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Gh(e)&&Ge(n)?!1:e in t}const Kh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Ko(e,n):e};function c0(t){t.target.composing=!0}function Yh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const uc=Symbol("_assign"),Hs={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[uc]=Kh(i);const r=s||i.props&&i.props.type==="number";wi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=tu(a)),t[uc](a)}),n&&wi(t,"change",()=>{t.value=t.value.trim()}),e||(wi(t,"compositionstart",c0),wi(t,"compositionend",Yh),wi(t,"change",Yh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[uc]=Kh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?tu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},u0=["ctrl","shift","alt","meta"],d0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>u0.some(n=>t[`${n}Key`]&&!e.includes(n))},Ot=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=d0[e[o]];if(a&&a(i,e))return}return t(i,...r)})},f0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=bs(i.key);if(e.some(o=>o===r||f0[o]===r))return t(i)})},h0=pt({patchProp:a0},GE);let Xh;function p0(){return Xh||(Xh=vE(h0))}const m0=(...t)=>{const e=p0().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=v0(s);if(!i)return;const r=e._component;!fe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,g0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function g0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function v0(t){return Ge(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const bi=typeof document<"u";function Lv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function y0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Lv(t.default)}const Ce=Object.assign;function dc(t,e){const n={};for(const s in e){const i=e[s];n[s]=Zt(i)?i.map(t):t(i)}return n}const Lr=()=>{},Zt=Array.isArray,Dv=/#/g,_0=/&/g,w0=/\//g,b0=/=/g,S0=/\?/g,Fv=/\+/g,E0=/%5B/g,T0=/%5D/g,$v=/%5E/g,C0=/%60/g,Bv=/%7B/g,I0=/%7C/g,Uv=/%7D/g,x0=/%20/g;function Od(t){return encodeURI(""+t).replace(I0,"|").replace(E0,"[").replace(T0,"]")}function k0(t){return Od(t).replace(Bv,"{").replace(Uv,"}").replace($v,"^")}function pu(t){return Od(t).replace(Fv,"%2B").replace(x0,"+").replace(Dv,"%23").replace(_0,"%26").replace(C0,"`").replace(Bv,"{").replace(Uv,"}").replace($v,"^")}function P0(t){return pu(t).replace(b0,"%3D")}function A0(t){return Od(t).replace(Dv,"%23").replace(S0,"%3F")}function R0(t){return t==null?"":A0(t).replace(w0,"%2F")}function Xr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const O0=/\/$/,N0=t=>t.replace(O0,"");function fc(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=F0(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Xr(o)}}function M0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Qh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function L0(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Fi(e.matched[s],n.matched[i])&&jv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!D0(t[n],e[n]))return!1;return!0}function D0(t,e){return Zt(t)?Zh(t,e):Zt(e)?Zh(e,t):t===e}function Zh(t,e){return Zt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function F0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Xn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qr;(function(t){t.pop="pop",t.push="push"})(Qr||(Qr={}));var Dr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Dr||(Dr={}));function $0(t){if(!t)if(bi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),N0(t)}const B0=/^[^#]+#/;function U0(t,e){return t.replace(B0,"#")+e}function j0(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const _l=()=>({left:window.scrollX,top:window.scrollY});function V0(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=j0(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ep(t,e){return(history.state?history.state.position-e:-1)+t}const mu=new Map;function H0(t,e){mu.set(t,e)}function W0(t){const e=mu.get(t);return mu.delete(t),e}let z0=()=>location.protocol+"//"+location.host;function Vv(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Qh(l,"")}return Qh(n,t)+s+i}function q0(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=Vv(t,location),p=n.value,m=e.value;let y=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else s(h);i.forEach(w=>{w(n.value,p,{delta:y,type:Qr.pop,direction:y?y>0?Dr.forward:Dr.back:Dr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Ce({},f.state,{scroll:_l()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function tp(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?_l():null}}function G0(t){const{history:e,location:n}=window,s={value:Vv(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:z0()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ce({},e.state,tp(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Ce({},i.value,e.state,{forward:l,scroll:_l()});r(u.current,u,!0);const d=Ce({},tp(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function K0(t){t=$0(t);const e=G0(t),n=q0(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ce({location:"",base:t,go:s,createHref:U0.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Y0(t){return typeof t=="string"||t&&typeof t=="object"}function Hv(t){return typeof t=="string"||typeof t=="symbol"}const Wv=Symbol("");var np;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(np||(np={}));function $i(t,e){return Ce(new Error,{type:t,[Wv]:!0},e)}function In(t,e){return t instanceof Error&&Wv in t&&(e==null||!!(t.type&e))}const sp="[^/]+?",J0={sensitive:!1,strict:!1,start:!0,end:!0},X0=/[.+*?^${}()[\]/\\]/g;function Q0(t,e){const n=Ce({},J0,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(X0,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:w}=f;r.push({name:p,repeatable:m,optional:y});const v=w||sp;if(v!==sp){h+=10;try{new RegExp(`(${v})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+S.message)}}let g=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),i+=g,h+=20,y&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,w=p in c?c[p]:"";if(Zt(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Zt(w)?w.join("/"):w;if(!v)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function Z0(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zv(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=Z0(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(ip(s))return 1;if(ip(i))return-1}return i.length-s.length}function ip(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eT={type:0,value:""},tT=/[a-zA-Z0-9_]/;function nT(t){if(!t)return[[]];if(t==="/")return[[eT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:tT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function sT(t,e,n){const s=Q0(nT(t.path),n),i=Ce(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function iT(t,e){const n=[],s=new Map;e=lp({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const p=!h,m=op(d);m.aliasOf=h&&h.record;const y=lp(e,d),w=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of S)w.push(op(Ce({},m,{components:h?h.record.components:m.components,path:T,aliasOf:h?h.record:m})))}let v,g;for(const S of w){const{path:T}=S;if(f&&T[0]!=="/"){const R=f.record.path,B=R[R.length-1]==="/"?"":"/";S.path=f.record.path+(T&&B+T)}if(v=sT(S,f,y),h?h.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),p&&d.name&&!ap(v)&&o(d.name)),qv(v)&&l(v),m.children){const R=m.children;for(let B=0;B<R.length;B++)r(R[B],v,h&&h.children[B])}h=h||v}return g?()=>{o(g)}:Lr}function o(d){if(Hv(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=aT(d,n);n.splice(f,0,d),d.record.name&&!ap(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw $i(1,{location:d});y=h.record.name,p=Ce(rp(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&rp(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?s.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw $i(1,{location:d,currentLocation:f});y=h.record.name,p=Ce({},f.params,d.params),m=h.stringify(p)}const w=[];let v=h;for(;v;)w.unshift(v.record),v=v.parent;return{name:y,path:m,params:p,matched:w,meta:oT(w)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function rp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function op(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:rT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function rT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function ap(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function oT(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function lp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function aT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;zv(t,e[r])<0?s=r:n=r+1}const i=lT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function lT(t){let e=t;for(;e=e.parent;)if(qv(e)&&zv(t,e)===0)return e}function qv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function cT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Fv," "),o=r.indexOf("="),a=Xr(o<0?r:r.slice(0,o)),l=o<0?null:Xr(r.slice(o+1));if(a in e){let c=e[a];Zt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function cp(t){let e="";for(let n in t){const s=t[n];if(n=P0(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zt(s)?s.map(r=>r&&pu(r)):[s&&pu(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function uT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Zt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Gv=Symbol(""),up=Symbol(""),wl=Symbol(""),Nd=Symbol(""),gu=Symbol("");function hr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function dT(t,e,n){const s=()=>{t[e].delete(n)};bt(s),ov(s),rv(()=>{t[e].add(n)}),t[e].add(n)}function fT(t){const e=je(Gv,{}).value;e&&dT(e,"updateGuards",t)}function ns(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l($i(4,{from:n,to:e})):f instanceof Error?l(f):Y0(f)?l($i(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function hc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Lv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ns(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=y0(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ns(h,n,s,o,a,i)()}))}}return r}function dp(t){const e=je(wl),n=je(Nd),s=Q(()=>{const l=L(t.to);return e.resolve(l)}),i=Q(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Fi.bind(null,u));if(f>-1)return f;const h=fp(l[c-2]);return c>1&&fp(u)===h&&d[d.length-1].path!==h?d.findIndex(Fi.bind(null,l[c-2])):f}),r=Q(()=>i.value>-1&&gT(n.params,s.value.params)),o=Q(()=>i.value>-1&&i.value===n.matched.length-1&&jv(n.params,s.value.params));function a(l={}){if(mT(l)){const c=e[L(t.replace)?"replace":"push"](L(t.to)).catch(Lr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Q(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function hT(t){return t.length===1?t[0]:t}const pT=Ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dp,setup(t,{slots:e}){const n=ui(dp(t)),{options:s}=je(wl),i=Q(()=>({[hp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[hp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&hT(e.default(n));return t.custom?r:Ee("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),bl=pT;function mT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gT(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Zt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function fp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const hp=(t,e,n)=>t??e??n,vT=Ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=je(gu),i=Q(()=>t.route||s.value),r=je(up,0),o=Q(()=>{let c=L(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Q(()=>i.value.matched[o.value]);ht(up,Q(()=>o.value+1)),ht(Gv,a),ht(gu,i);const l=F();return ot(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Fi(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return pp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Ee(f,Ce({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return pp(n.default,{Component:y,route:c})||y}}});function pp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const yT=vT;function _T(t){const e=iT(t.routes,t),n=t.parseQuery||cT,s=t.stringifyQuery||cp,i=t.history,r=hr(),o=hr(),a=hr(),l=Wg(Xn);let c=Xn;bi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=dc.bind(null,N=>""+N),d=dc.bind(null,R0),f=dc.bind(null,Xr);function h(N,X){let K,Z;return Hv(N)?(K=e.getRecordMatcher(N),Z=X):Z=N,e.addRoute(Z,K)}function p(N){const X=e.getRecordMatcher(N);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(N=>N.record)}function y(N){return!!e.getRecordMatcher(N)}function w(N,X){if(X=Ce({},X||l.value),typeof N=="string"){const I=fc(n,N,X.path),O=e.resolve({path:I.path},X),D=i.createHref(I.fullPath);return Ce(I,O,{params:f(O.params),hash:Xr(I.hash),redirectedFrom:void 0,href:D})}let K;if(N.path!=null)K=Ce({},N,{path:fc(n,N.path,X.path).path});else{const I=Ce({},N.params);for(const O in I)I[O]==null&&delete I[O];K=Ce({},N,{params:d(I)}),X.params=d(X.params)}const Z=e.resolve(K,X),Ne=N.hash||"";Z.params=u(f(Z.params));const _=M0(s,Ce({},N,{hash:k0(Ne),path:Z.path})),b=i.createHref(_);return Ce({fullPath:_,hash:Ne,query:s===cp?uT(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:b})}function v(N){return typeof N=="string"?fc(n,N,l.value.path):Ce({},N)}function g(N,X){if(c!==N)return $i(8,{from:X,to:N})}function S(N){return B(N)}function T(N){return S(Ce(v(N),{replace:!0}))}function R(N){const X=N.matched[N.matched.length-1];if(X&&X.redirect){const{redirect:K}=X;let Z=typeof K=="function"?K(N):K;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=v(Z):{path:Z},Z.params={}),Ce({query:N.query,hash:N.hash,params:Z.path!=null?{}:N.params},Z)}}function B(N,X){const K=c=w(N),Z=l.value,Ne=N.state,_=N.force,b=N.replace===!0,I=R(K);if(I)return B(Ce(v(I),{state:typeof I=="object"?Ce({},Ne,I.state):Ne,force:_,replace:b}),X||K);const O=K;O.redirectedFrom=X;let D;return!_&&L0(s,Z,K)&&(D=$i(16,{to:O,from:Z}),me(Z,Z,!0,!1)),(D?Promise.resolve(D):k(O,Z)).catch(M=>In(M)?In(M,2)?M:Et(M):we(M,O,Z)).then(M=>{if(M){if(In(M,2))return B(Ce({replace:b},v(M.to),{state:typeof M.to=="object"?Ce({},Ne,M.to.state):Ne,force:_}),X||O)}else M=J(O,Z,!0,b,Ne);return U(O,Z,M),M})}function x(N,X){const K=g(N,X);return K?Promise.reject(K):Promise.resolve()}function C(N){const X=Xe.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(N):N()}function k(N,X){let K;const[Z,Ne,_]=wT(N,X);K=hc(Z.reverse(),"beforeRouteLeave",N,X);for(const I of Z)I.leaveGuards.forEach(O=>{K.push(ns(O,N,X))});const b=x.bind(null,N,X);return K.push(b),at(K).then(()=>{K=[];for(const I of r.list())K.push(ns(I,N,X));return K.push(b),at(K)}).then(()=>{K=hc(Ne,"beforeRouteUpdate",N,X);for(const I of Ne)I.updateGuards.forEach(O=>{K.push(ns(O,N,X))});return K.push(b),at(K)}).then(()=>{K=[];for(const I of _)if(I.beforeEnter)if(Zt(I.beforeEnter))for(const O of I.beforeEnter)K.push(ns(O,N,X));else K.push(ns(I.beforeEnter,N,X));return K.push(b),at(K)}).then(()=>(N.matched.forEach(I=>I.enterCallbacks={}),K=hc(_,"beforeRouteEnter",N,X,C),K.push(b),at(K))).then(()=>{K=[];for(const I of o.list())K.push(ns(I,N,X));return K.push(b),at(K)}).catch(I=>In(I,8)?I:Promise.reject(I))}function U(N,X,K){a.list().forEach(Z=>C(()=>Z(N,X,K)))}function J(N,X,K,Z,Ne){const _=g(N,X);if(_)return _;const b=X===Xn,I=bi?history.state:{};K&&(Z||b?i.replace(N.fullPath,Ce({scroll:b&&I&&I.scroll},Ne)):i.push(N.fullPath,Ne)),l.value=N,me(N,X,K,b),Et()}let V;function ee(){V||(V=i.listen((N,X,K)=>{if(!Jn.listening)return;const Z=w(N),Ne=R(Z);if(Ne){B(Ce(Ne,{replace:!0,force:!0}),Z).catch(Lr);return}c=Z;const _=l.value;bi&&H0(ep(_.fullPath,K.delta),_l()),k(Z,_).catch(b=>In(b,12)?b:In(b,2)?(B(Ce(v(b.to),{force:!0}),Z).then(I=>{In(I,20)&&!K.delta&&K.type===Qr.pop&&i.go(-1,!1)}).catch(Lr),Promise.reject()):(K.delta&&i.go(-K.delta,!1),we(b,Z,_))).then(b=>{b=b||J(Z,_,!1),b&&(K.delta&&!In(b,8)?i.go(-K.delta,!1):K.type===Qr.pop&&In(b,20)&&i.go(-1,!1)),U(Z,_,b)}).catch(Lr)}))}let re=hr(),se=hr(),ie;function we(N,X,K){Et(N);const Z=se.list();return Z.length?Z.forEach(Ne=>Ne(N,X,K)):console.error(N),Promise.reject(N)}function mt(){return ie&&l.value!==Xn?Promise.resolve():new Promise((N,X)=>{re.add([N,X])})}function Et(N){return ie||(ie=!N,ee(),re.list().forEach(([X,K])=>N?K(N):X()),re.reset()),N}function me(N,X,K,Z){const{scrollBehavior:Ne}=t;if(!bi||!Ne)return Promise.resolve();const _=!K&&W0(ep(N.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Ki().then(()=>Ne(N,X,_)).then(b=>b&&V0(b)).catch(b=>we(b,N,X))}const ge=N=>i.go(N);let Je;const Xe=new Set,Jn={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:w,options:t,push:S,replace:T,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:mt,install(N){const X=this;N.component("RouterLink",bl),N.component("RouterView",yT),N.config.globalProperties.$router=X,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>L(l)}),bi&&!Je&&l.value===Xn&&(Je=!0,S(i.location).catch(Ne=>{}));const K={};for(const Ne in Xn)Object.defineProperty(K,Ne,{get:()=>l.value[Ne],enumerable:!0});N.provide(wl,X),N.provide(Nd,Vg(K)),N.provide(gu,l);const Z=N.unmount;Xe.add(N),N.unmount=function(){Xe.delete(N),Xe.size<1&&(c=Xn,V&&V(),V=null,l.value=Xn,Je=!1,ie=!1),Z()}}};function at(N){return N.reduce((X,K)=>X.then(()=>C(K)),Promise.resolve())}return Jn}function wT(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Fi(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Fi(c,l))||i.push(l))}return[n,s,i]}function Ji(){return je(wl)}function bT(t){return je(Nd)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const ST=(t,e)=>(n,s)=>{let i=-1;if(s.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(i=a,l):r},e),i>-1)return n[i]},ET=ST((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var TT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:ET});const CT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},IT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},Vt=Array.isArray,Zo=t=>typeof t=="function",mp=t=>typeof t=="string",Sl=t=>t!==null&&typeof t=="object",xT=Object.prototype.toString,Fr=t=>xT.call(t)==="[object Object]",gp=Symbol("kIsProxy"),kT=Symbol("kProxySources"),Kv=Symbol("kProxyTarget"),Si=Symbol("kResolveContext");function Zr(t){if(Vt(t))return t.map(Zr);if(Sl(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:Zr(t[n]);return e}return t}const ea=(t,e,n)=>{const s=[];for(const i of t)i&&e in i&&(s.push(i[e]),n&&n(i));return s},ba=(t,e=[],n,s)=>{if(!n&&!s&&({active:n,sources:s}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],s=s.map(l=>l[a]).filter(Boolean)}if(!n||!s)return;const i=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&Sl(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...s),r=Object.keys(n);for(const o of r)i.includes(o)||delete n[o];for(const o of i){let a=!1;for(let d=0;d<s.length;d++){const f=s[d];if(f&&o in f&&f[o]!==void 0){a=Fr(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of s)o in f&&d.push(f[o]);ba(t,[...e,o],n[o],d);continue}!n[o]&&Vt(s[0][o])&&(n[o]=[]);const l=[],c=ea(s,o,d=>l.push(d[Si]));let u=t.resolve(c,l,n[o],o,e);Fr(u)&&(u=Zr(u)),n[o]=u}},Yv=(t,e,n,s=[])=>{const i=PT(t,n,s),r=fl(new Proxy(e,i));return!s.length&&t.sources&&t.sources.push(r),r},PT=(t,e,n=[])=>({get:(s,i,r)=>{if(i===gp)return!0;if(i===kT)return t.sources;if(i===Kv)return s;if(i===Si)return e;let o=Reflect.get(s,i,r);if(!Sl(o))return o;if(!o[gp]){const a=[...n,i];o=Yv(t,o,e,a),Reflect.set(s,i,o)}return o},set:(s,i,r)=>{const o=Reflect.set(s,i,r);if(o){const a=Vt(s);let l,c=!1,{sources:u,active:d}=t,f=0;for(const y of n){if(u=ea(u,y),a&&f===n.length-1){l=y;break}Vt(d)&&(c=!0),d=d[y],f++}if(c)return ba(t),o;if(Fr(r))return ba(t,n),o;let h,p=[];a?(h=u,p=u.map(y=>y[Si])):h=ea(u,i,y=>p.push(y[Si]));let m=t.resolve(h,p,d,i,n);Fr(m)&&(m=Zr(m)),a&&l?d[l]=m:d[i]=m}return o},deleteProperty:(s,i)=>{const r=Reflect.deleteProperty(s,i);if(r){const o=Vt(s);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&i in d)){let d,f=[];o?(d=l,f=l.map(p=>p[Si])):d=ea(l,i,p=>f.push(p[Si]));let h=t.resolve(d,f,c,i,n);Fr(h)&&(h=Zr(h)),o&&a?c[a]=h:c[i]=h}else delete c[i]}return r}}),pc={};function AT(t,e,n,s){return"attributesFor"in s?function(i,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(i.isSSR)return{to:"",vnode:Ee(`ssr-${l}`,o)};if(!pc[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),pc[l]={el:f,attrs:[]}}const{el:c,attrs:u}=pc[l];for(const f in o){let h=ta(i,`${r}(${f})`,o[f],o);Vt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,s):"group"in s?function(i,r,o,a){return Vt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return Sa(i,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,s):Sa(t,e,n,s)}function Sa(t,e,n,s={},i){const r=["content","json","rawContent"],o=y=>function(w,v){for(const g of w){const S=IT[g];if(g&&S)return S[v]}}([a,s.tag],y);if(Vt(n))return n.map(y=>Sa(t,e,y,s,i)).filter(Boolean).flat();const{tag:a=s.tag||e}=n;let l="",c=!1,u=!1;if(mp(n))l=n;else if(n.children&&Vt(n.children))c=!0,l=n.children.map(y=>{const w=Sa(t,e,y,s,i);return Vt(w)?w.map(({vnode:v})=>v):w&&w.vnode});else{let y=0;for(const w of r){if(!l&&n[w]){l=y===1?JSON.stringify(n[w]):n[w],u=y>1;break}y++}}const d=i&&i.fullName||e,f=i&&i.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const y of r)delete h[y]}if(c)l=ta(t,f,l,n);else{const y=!!o("contentAsAttribute");let{valueAttribute:w}=s;if(!w&&y){const[v]=o("attributes");w=mp(y)?y:v}if(w){const{nameless:v}=s;if(!v){const g=s.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[w]=ta(t,f,h[w]||l,i),l=""}else l=ta(t,f,l,n)}const p=i&&i.tagNamespace?`${i.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Ee(p,h,l||void 0);return{to:n.to,vnode:m}}function ta({metainfo:t,slots:e},n,s,i){const r=e&&e[n];if(!r||!Zo(r))return s;const o={content:s,metainfo:t};if(i&&i.group){const{group:l,data:c}=i;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return s}const RT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",OT=(t=>RT?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function Jv(t,e,n){for(const s in e)s in n?Sl(t[s])?Jv(t[s],e[s],n[s]):e[s]!==n[s]&&(t[s]=e[s]):t[s]=e[s];for(const s in n)e&&s in e||delete t[s]}function Xv(t){if(t||(t=di()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function El(t,e){const n=di()||void 0;if(!e&&n&&(e=Xv(n)),!e)throw new Error("No manager or current instance");dl(t)&&(ot(t,(i,r)=>{Jv(s.meta,i,r)}),t=t.value);const s=e.addMeta(t,n);return s}const NT=Ye({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=Xv();if(n)return n.render({slots:e})}});function vp(t,e,n,s){const i=Vt(s)?s:[s];t?n.endsWith("Attrs")||i.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):i.forEach((r,o)=>{r.type===jn&&i.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...i)}const MT=(t=!1,e,n)=>LT.create(t,CT,TT);var Us;let LT=(Us=class{constructor(e,n,s,i){ks(this,"isSSR",!1);ks(this,"config");ks(this,"target");ks(this,"resolver");ks(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=s,i&&"setup"in i&&Zo(i.setup)&&(this.resolver=i)}install(e){e.component("Metainfo",NT),e.config.globalProperties.$metaManager=this,e.provide(OT,this.target.context.active)}addMeta(e,n){n||(n=di()||void 0);const s={removed:[]},i={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(i);const o=this.target.addSource(e,i,!0),a=l=>this.unmount(!!l,o,s,n);return n&&bt(a),{meta:o,onRemoved:l=>s.removed.push(l),unmount:a}}unmount(e,n,s,i){if(i){const{$el:r}=i.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,s))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,s)}async reallyUnmount(e,n,s){this.target.delSource(n),!e&&s&&await Promise.all(s.removed.map(i=>i()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:s}=this;if(!s&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const i={};for(const r in n){const o=this.config[r]||{};let a=AT({isSSR:s,metainfo:n,slots:e},r,n[r],o);if(!a)continue;Vt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)vp(this.isSSR,i,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];Zo(a)&&vp(this.isSSR,i,o,a({metainfo:n}))}return Object.keys(i).map(r=>Ee(tv,{to:r},i[r]))}},ks(Us,"create",(e,n,s)=>{const i=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>ba(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=Yv(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[Kv]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>Zo(s)?s(r,o,a,l,c):s.resolve(r,o,a,l,c),ui({}));return new Us(e,n,i,s)}),Us);const Qv=new Set,xt=new WeakMap,Bi=new WeakMap,Xs=new WeakMap,vu=new WeakMap,DT=new WeakMap,Ui=new WeakMap,Ea=new WeakMap,Tr=new WeakSet;let gs,Md=0,Ld=0;const Nn="__aa_tgt",eo="__aa_del",Ta="__aa_new",FT=t=>{const e=HT(t);e&&e.forEach(n=>WT(n))},$T=t=>{t.forEach(e=>{e.target===gs&&UT(),xt.has(e.target)&&fi(e.target)})};function BT(t){const e=vu.get(t);e==null||e.disconnect();let n=xt.get(t),s=0;const i=5;n||(n=ji(t),xt.set(t,n));const{offsetWidth:r,offsetHeight:o}=gs,l=[n.top-i,r-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&fi(t)},{root:gs,threshold:1,rootMargin:l});c.observe(t),vu.set(t,c)}function fi(t){clearTimeout(Ea.get(t));const e=Tl(t),n=to(e)?500:e.duration;Ea.set(t,setTimeout(async()=>{const s=Xs.get(t);try{await(s==null?void 0:s.finished),xt.set(t,ji(t)),BT(t)}catch{}},n))}function UT(){clearTimeout(Ea.get(gs)),Ea.set(gs,setTimeout(()=>{Qv.forEach(t=>ny(t,e=>Zv(()=>fi(e))))},100))}function jT(t){setTimeout(()=>{DT.set(t,setInterval(()=>Zv(fi.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function Zv(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let yu,Ei;const VT=typeof window<"u"&&"ResizeObserver"in window;VT&&(gs=document.documentElement,yu=new MutationObserver(FT),Ei=new ResizeObserver($T),window.addEventListener("scroll",()=>{Ld=window.scrollY,Md=window.scrollX}),Ei.observe(gs));function HT(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(mc(i.target),!s.has(i.target)){s.add(i.target);for(let r=0;r<i.target.children.length;r++){const o=i.target.children.item(r);if(o){if(eo in o)return!1;mc(i.target,o),s.add(o)}}}if(i.removedNodes.length)for(let r=0;r<i.removedNodes.length;r++){const o=i.removedNodes[r];if(eo in o)return!1;o instanceof Element&&(s.add(o),mc(i.target,o),Bi.set(o,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function mc(t,e){!e&&!(Nn in t)?Object.defineProperty(t,Nn,{value:t}):e&&!(Nn in e)&&Object.defineProperty(e,Nn,{value:t})}function WT(t){var e;const n=t.isConnected,s=xt.has(t);n&&Bi.has(t)&&Bi.delete(t),Xs.has(t)&&((e=Xs.get(t))===null||e===void 0||e.cancel()),Ta in t?yp(t):s&&n?qT(t):s&&!n?GT(t):yp(t)}function fn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function zT(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function ji(t){const e=t.getBoundingClientRect(),{x:n,y:s}=zT(t);return{top:e.top+s,left:e.left+n,width:e.width,height:e.height}}function ey(t,e,n){let s=e.width,i=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=fn(a.paddingTop)+fn(a.paddingBottom)+fn(a.borderTopWidth)+fn(a.borderBottomWidth),u=fn(a.paddingLeft)+fn(a.paddingRight)+fn(a.borderRightWidth)+fn(a.borderLeftWidth);s-=u,r-=u,i-=c,o-=c}return[s,r,i,o].map(Math.round)}function Tl(t){return Nn in t&&Ui.has(t[Nn])?Ui.get(t[Nn]):{duration:250,easing:"ease-in-out"}}function ty(t){if(Nn in t)return t[Nn]}function Dd(t){const e=ty(t);return e?Tr.has(e):!1}function ny(t,...e){e.forEach(n=>n(t,Ui.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,Ui.has(s)))}}function Fd(t){return Array.isArray(t)?t:[t]}function to(t){return typeof t=="function"}function qT(t){const e=xt.get(t),n=ji(t);if(!Dd(t))return xt.set(t,n);let s;if(!e)return;const i=Tl(t);if(typeof i!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=ey(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),s=t.animate([d,f],{duration:i.duration,easing:i.easing})}else{const[r]=Fd(i(t,"remain",e,n));s=new Animation(r),s.play()}Xs.set(t,s),xt.set(t,n),s.addEventListener("finish",fi.bind(null,t))}function yp(t){Ta in t&&delete t[Ta];const e=ji(t);xt.set(t,e);const n=Tl(t);if(!Dd(t))return;let s;if(typeof n!="function")s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=Fd(n(t,"add",e));s=new Animation(i),s.play()}Xs.set(t,s),s.addEventListener("finish",fi.bind(null,t))}function _p(t,e){var n;t.remove(),xt.delete(t),Bi.delete(t),Xs.delete(t),(n=vu.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(eo in t&&delete t[eo],Object.defineProperty(t,Ta,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const s in e)t.style[s]=""},0)}function GT(t){var e;if(!Bi.has(t)||!xt.has(t))return;const[n,s]=Bi.get(t);Object.defineProperty(t,eo,{value:!0,configurable:!0});const i=window.scrollX,r=window.scrollY;if(s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=ty(t))===null||e===void 0||e.appendChild(t),!Dd(t))return _p(t);const[o,a,l,c]=YT(t),u=Tl(t),d=xt.get(t);(i!==Md||r!==Ld)&&KT(t,i,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!to(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=Fd(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}Xs.set(t,f),f.addEventListener("finish",_p.bind(null,t,h))}function KT(t,e,n,s){const i=Md-e,r=Ld-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(gs).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!to(s)){const h=c-l.clientHeight,p=u-l.clientWidth;d+s.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function YT(t){const e=xt.get(t),[n,,s]=ey(t,e,ji(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const r=getComputedStyle(i),o=xt.get(i)||ji(i),a=Math.round(e.top-o.top)-fn(r.borderTopWidth),l=Math.round(e.left-o.left)-fn(r.borderLeftWidth);return[a,l,n,s]}function JT(t,e={}){return yu&&Ei&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!to(e)&&!e.disrespectUserMotionPreference||(Tr.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),ny(t,fi,jT,i=>Ei==null?void 0:Ei.observe(i)),to(e)?Ui.set(t,e):Ui.set(t,{duration:250,easing:"ease-in-out",...e}),yu.observe(t,{childList:!0}),Qv.add(t))),Object.freeze({parent:t,enable:()=>{Tr.add(t)},disable:()=>{Tr.delete(t)},isEnabled:()=>Tr.has(t)})}const XT={mounted:(t,e)=>{JT(t,e.value||{})},getSSRProps:()=>({})},QT=XT,ZT={install(t){t.directive("auto-animate",QT)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let sy;const Cl=t=>sy=t,iy=Symbol();function _u(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var $r;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($r||($r={}));function eC(){const t=Ig(!0),e=t.run(()=>F({}));let n=[],s=[];const i=fl({install(r){Cl(i),i._a=r,r.provide(iy,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ry=()=>{};function wp(t,e,n,s=ry){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&xg()&&hS(i),i}function yi(t,...e){t.slice().forEach(n=>{n(...e)})}const tC=t=>t(),bp=Symbol(),gc=Symbol();function wu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];_u(i)&&_u(s)&&t.hasOwnProperty(n)&&!qe(s)&&!fs(s)?t[n]=wu(i,s):t[n]=s}return t}const nC=Symbol();function sC(t){return!_u(t)||!t.hasOwnProperty(nC)}const{assign:Zn}=Object;function iC(t){return!!(qe(t)&&t.effect)}function rC(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=LS(n.state.value[t]);return Zn(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=fl(Q(()=>{Cl(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=oy(t,c,e,n,s,!0),l}function oy(t,e,n={},s,i,r){let o;const a=Zn({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),F({});let m;function y(x){let C;c=u=!1,typeof x=="function"?(x(s.state.value[t]),C={type:$r.patchFunction,storeId:t,events:h}):(wu(s.state.value[t],x),C={type:$r.patchObject,payload:x,storeId:t,events:h});const k=m=Symbol();Ki().then(()=>{m===k&&(c=!0)}),u=!0,yi(d,C,s.state.value[t])}const w=r?function(){const{state:C}=n,k=C?C():{};this.$patch(U=>{Zn(U,k)})}:ry;function v(){o.stop(),d=[],f=[],s._s.delete(t)}const g=(x,C="")=>{if(bp in x)return x[gc]=C,x;const k=function(){Cl(s);const U=Array.from(arguments),J=[],V=[];function ee(ie){J.push(ie)}function re(ie){V.push(ie)}yi(f,{args:U,name:k[gc],store:T,after:ee,onError:re});let se;try{se=x.apply(this&&this.$id===t?this:T,U)}catch(ie){throw yi(V,ie),ie}return se instanceof Promise?se.then(ie=>(yi(J,ie),ie)).catch(ie=>(yi(V,ie),Promise.reject(ie))):(yi(J,se),se)};return k[bp]=!0,k[gc]=C,k},S={_p:s,$id:t,$onAction:wp.bind(null,f),$patch:y,$reset:w,$subscribe(x,C={}){const k=wp(d,x,C.detached,()=>U()),U=o.run(()=>ot(()=>s.state.value[t],J=>{(C.flush==="sync"?u:c)&&x({storeId:t,type:$r.direct,events:h},J)},Zn({},l,C)));return k},$dispose:v},T=ui(S);s._s.set(t,T);const B=(s._a&&s._a.runWithContext||tC)(()=>s._e.run(()=>(o=Ig()).run(()=>e({action:g}))));for(const x in B){const C=B[x];if(qe(C)&&!iC(C)||fs(C))r||(p&&sC(C)&&(qe(C)?C.value=p[x]:wu(C,p[x])),s.state.value[t][x]=C);else if(typeof C=="function"){const k=g(C,x);B[x]=k,a.actions[x]=C}}return Zn(T,B),Zn(Se(T),B),Object.defineProperty(T,"$state",{get:()=>s.state.value[t],set:x=>{y(C=>{Zn(C,x)})}}),s._p.forEach(x=>{Zn(T,o.run(()=>x({store:T,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function _o(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=uE();return a=a||(c?je(iy,null):null),a&&Cl(a),a=sy,a._s.has(s)||(r?oy(s,e,i,a):rC(s,i,a)),a._s.get(s)}return o.$id=s,o}const oC={key:0},aC={key:1},lC={key:2},cC={key:3},uC={key:4},dC={key:5},fC={key:6},hC={key:7},pC={key:8},mC={key:9},$d=Ye({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const s=$S(n,"modelValue"),i=e,r=g=>{g!==s.value&&(g>l.value||g<1||n.disablePagination||(i("update:modelValue",g),i("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=Q(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=Q(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let R=Math.floor(n.maxPagesShown/2),B=Math.ceil(n.maxPagesShown/2)-1;s.value<=R?(g=1,S=n.maxPagesShown):s.value+B>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=s.value-R,S=s.value+B)}let T=Array.from(Array(S+1-g).keys()).map(R=>g+R);return n.dir==="rtl"&&(T=T.reverse()),{totalItems:n.totalItems,currentPage:s.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:T}}),u=Q(()=>n.dir==="rtl"),d=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==l.value:!n.hidePrevNextWhenEnds||s.value!==1),f=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==1:!n.hidePrevNextWhenEnds||s.value!==l.value),h=Q(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=Q(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),y=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),w=Q(()=>s.value!==1),v=Q(()=>s.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(A(),H("ul",{id:"componentContainer",class:xe(t.paginationContainerClass)},[t.showEndingButtons&&w.value?(A(),H("li",oC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=Ot(T=>r(u.value?l.value:1),["prevent"])),class:xe([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:te(()=>[dn(g.$slots,"first-page-button",{},()=>[Be(ce(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showJumpButtons&&h.value?(A(),H("li",aC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=Ot(T=>r(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:xe([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:te(()=>[dn(g.$slots,"backward-jump-button",{},()=>[Be(ce(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),!t.hidePrevNext&&d.value?(A(),H("li",lC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+1:s.value-1),onClick:S[2]||(S[2]=Ot(T=>r(u.value?s.value+1:s.value-1),["prevent"])),class:xe([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:te(()=>[dn(g.$slots,"prev-button",{},()=>[Be(ce(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showBreakpointButtons&&m.value?(A(),H("li",cC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=Ot(T=>r(u.value?l.value:1),["prevent"])),class:xe([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:te(()=>[Be(ce(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):Me("",!0),t.showBreakpointButtons&&h.value?(A(),H("li",uC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=Ot(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:xe([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:te(()=>[dn(g.$slots,"starting-breakpoint-button",{},()=>[Be(ce(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):Me("",!0),(A(!0),H(Oe,null,Yi(c.value.pages,(T,R)=>(A(),H("li",{key:R},[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(T),onClick:Ot(()=>r(T),["prevent"]),class:xe([t.paginateButtonsClass,t.numberButtonsClass,T===s.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:te(()=>[Be(ce(o(T)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(A(),H("li",dC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=Ot(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:xe([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:te(()=>[dn(g.$slots,"ending-breakpoint-button",{},()=>[Be(ce(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):Me("",!0),t.showBreakpointButtons&&y.value?(A(),H("li",fC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=Ot(T=>r(u.value?1:l.value),["prevent"])),class:xe([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:te(()=>[Be(ce(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):Me("",!0),!t.hidePrevNext&&f.value?(A(),H("li",hC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-1:s.value+1),onClick:S[7]||(S[7]=Ot(T=>r(u.value?s.value-1:s.value+1),["prevent"])),class:xe([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:te(()=>[dn(g.$slots,"next-button",{},()=>[Be(ce(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showJumpButtons&&p.value?(A(),H("li",pC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=Ot(T=>r(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:xe([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:te(()=>[dn(g.$slots,"forward-jump-button",{},()=>[Be(ce(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showEndingButtons&&v.value?(A(),H("li",mC,[(A(),he(qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=Ot(T=>r(u.value?1:l.value),["prevent"])),class:xe([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:te(()=>[dn(g.$slots,"last-page-button",{},()=>[Be(ce(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0)],2))}});var gC={install:t=>{t.component("VueAwesomePaginate",$d)}};function ay(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function ly(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Bd(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function vC(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function yC(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function Ud(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function cy(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function _C(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function uy(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function wC(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function bC(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function dy(t,e){return A(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var Sp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Xi(e)},Xi=function(t){return new Error("Firebase Database ("+fy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new EC;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const py=function(t){const e=hy(t);return jd.encodeByteArray(e,!0)},Ca=function(t){return py(t).replace(/\./g,"")},Ia=function(t){try{return jd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){return my(void 0,t)}function my(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!CC(n)||(t[n]=my(t[n],e[n]));return t}function CC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=()=>IC().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof Sp>"u")return;const t=Sp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ia(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return xC()||kC()||PC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gy=t=>{var e,n;return(n=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AC=t=>{const e=gy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vy=()=>{var t;return(t=Vd())===null||t===void 0?void 0:t.config},yy=t=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ca(JSON.stringify(n)),Ca(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function OC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MC(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LC(){return fy.NODE_ADMIN===!0}function wy(){try{return typeof indexedDB=="object"}catch{return!1}}function by(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="FirebaseError";class Gn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DC,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cs.prototype.create)}}class Cs{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?FC(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gn(i,a,s)}}function FC(t,e){return t.replace($C,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const $C=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=no(Ia(r[0])||""),n=no(Ia(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},BC=function(t){const e=Sy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},UC=function(t){const e=Sy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xa(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Ep(r)&&Ep(o)){if(!ka(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Ep(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Ir(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function VC(t,e){const n=new HC(t,e);return n.subscribe.bind(n)}class HC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=vc),i.error===void 0&&(i.error=vc),i.complete===void 0&&(i.complete=vc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vc(){}function Il(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,W(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xl=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class zt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KC(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GC(t){return t===Ns?void 0:t}function KC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const JC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},XC=Re.INFO,QC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},ZC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=QC[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wd{constructor(e){this.name=e,this._logLevel=XC,this._logHandler=ZC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const eI=(t,e)=>e.some(n=>t instanceof n);let Tp,Cp;function tI(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nI(){return Cp||(Cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ey=new WeakMap,Su=new WeakMap,Ty=new WeakMap,yc=new WeakMap,zd=new WeakMap;function sI(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n($n(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ey.set(n,t)}).catch(()=>{}),zd.set(e,t),e}function iI(t){if(Su.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Su.set(t,e)}let Eu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Su.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ty.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rI(t){Eu=t(Eu)}function oI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_c(this),e,...n);return Ty.set(s,e.sort?e.sort():[e]),$n(s)}:nI().includes(t)?function(...e){return t.apply(_c(this),e),$n(Ey.get(this))}:function(...e){return $n(t.apply(_c(this),e))}}function aI(t){return typeof t=="function"?oI(t):(t instanceof IDBTransaction&&iI(t),eI(t,tI())?new Proxy(t,Eu):t)}function $n(t){if(t instanceof IDBRequest)return sI(t);if(yc.has(t))return yc.get(t);const e=aI(t);return e!==t&&(yc.set(t,e),zd.set(e,t)),e}const _c=t=>zd.get(t);function Zi(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=$n(o);return s&&o.addEventListener("upgradeneeded",l=>{s($n(o.result),l.oldVersion,l.newVersion,$n(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Ai(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),$n(n).then(()=>{})}const lI=["get","getKey","getAll","getAllKeys","count"],cI=["put","add","delete","clear"],wc=new Map;function Ip(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=cI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||lI.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return wc.set(e,r),r}rI(t=>({...t,get:(e,n,s)=>Ip(e,n)||t.get(e,n,s),has:(e,n)=>!!Ip(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tu="@firebase/app",xp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new Wd("@firebase/app"),fI="@firebase/app-compat",hI="@firebase/analytics-compat",pI="@firebase/analytics",mI="@firebase/app-check-compat",gI="@firebase/app-check",vI="@firebase/auth",yI="@firebase/auth-compat",_I="@firebase/database",wI="@firebase/data-connect",bI="@firebase/database-compat",SI="@firebase/functions",EI="@firebase/functions-compat",TI="@firebase/installations",CI="@firebase/installations-compat",II="@firebase/messaging",xI="@firebase/messaging-compat",kI="@firebase/performance",PI="@firebase/performance-compat",AI="@firebase/remote-config",RI="@firebase/remote-config-compat",OI="@firebase/storage",NI="@firebase/storage-compat",MI="@firebase/firestore",LI="@firebase/vertexai",DI="@firebase/firestore-compat",FI="firebase",$I="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu="[DEFAULT]",BI={[Tu]:"fire-core",[fI]:"fire-core-compat",[pI]:"fire-analytics",[hI]:"fire-analytics-compat",[gI]:"fire-app-check",[mI]:"fire-app-check-compat",[vI]:"fire-auth",[yI]:"fire-auth-compat",[_I]:"fire-rtdb",[wI]:"fire-data-connect",[bI]:"fire-rtdb-compat",[SI]:"fire-fn",[EI]:"fire-fn-compat",[TI]:"fire-iid",[CI]:"fire-iid-compat",[II]:"fire-fcm",[xI]:"fire-fcm-compat",[kI]:"fire-perf",[PI]:"fire-perf-compat",[AI]:"fire-rc",[RI]:"fire-rc-compat",[OI]:"fire-gcs",[NI]:"fire-gcs-compat",[MI]:"fire-fst",[DI]:"fire-fst-compat",[LI]:"fire-vertex","fire-js":"fire-js",[FI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Map,UI=new Map,Iu=new Map;function kp(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Iu.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Iu.set(e,t);for(const n of Pa.values())kp(n,t);for(const n of UI.values())kp(n,t);return!0}function er(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Cs("app","Firebase",jI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=$I;function Cy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw hs.create("bad-app-name",{appName:String(i)});if(n||(n=vy()),!n)throw hs.create("no-options");const r=Pa.get(i);if(r){if(ka(n,r.options)&&ka(s,r.config))return r;throw hs.create("duplicate-app",{appName:i})}const o=new YC(i);for(const l of Iu.values())o.addComponent(l);const a=new VI(n,s,o);return Pa.set(i,a),a}function qd(t=Cu){const e=Pa.get(t);if(!e&&t===Cu&&vy())return Cy();if(!e)throw hs.create("no-app",{appName:t});return e}function Ht(t,e,n){var s;let i=(s=BI[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(a.join(" "));return}en(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebase-heartbeat-database",WI=1,so="firebase-heartbeat-store";let bc=null;function Iy(){return bc||(bc=Zi(HI,WI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(so)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),bc}async function zI(t){try{const n=(await Iy()).transaction(so),s=await n.objectStore(so).get(xy(t));return await n.done,s}catch(e){if(e instanceof Gn)Vn.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(n.message)}}}async function Pp(t,e){try{const s=(await Iy()).transaction(so,"readwrite");await s.objectStore(so).put(e,xy(t)),await s.done}catch(n){if(n instanceof Gn)Vn.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(s.message)}}}function xy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1024,GI=30*24*60*60*1e3;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=GI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Vn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ap(),{heartbeatsToSend:s,unsentEntries:i}=YI(this._heartbeatsCache.heartbeats),r=Ca(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Vn.warn(n),""}}}function Ap(){return new Date().toISOString().substring(0,10)}function YI(t,e=qI){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Rp(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class JI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wy()?by().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rp(t){return Ca(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){en(new zt("platform-logger",e=>new uI(e),"PRIVATE")),en(new zt("heartbeat",e=>new KI(e),"PRIVATE")),Ht(Tu,xp,t),Ht(Tu,xp,"esm2017"),Ht("fire-js","")}XI("");var Op={};const Np="@firebase/database",Mp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky="";function QI(t){ky=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:no(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ZI(e)}}catch{}return new ex},Ds=Py("localStorage"),tx=Py("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Wd("@firebase/database"),nx=function(){let t=1;return function(){return t++}}(),Ay=function(t){const e=zC(t),n=new jC;n.update(e);const s=n.digest();return jd.encodeByteArray(s)},bo=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=bo.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let Br=null,Lp=!0;const sx=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Ri.logLevel=Re.VERBOSE,Br=Ri.log.bind(Ri)},lt=function(...t){if(Lp===!0&&(Lp=!1,Br===null&&tx.get("logging_enabled")===!0&&sx()),Br){const e=bo.apply(null,t);Br(e)}},So=function(t){return function(...e){lt(t,...e)}},xu=function(...t){const e="FIREBASE INTERNAL ERROR: "+bo(...t);Ri.error(e)},Hn=function(...t){const e=`FIREBASE FATAL ERROR: ${bo(...t)}`;throw Ri.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+bo(...t);Ri.warn(e)},ix=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qs="[MIN_NAME]",vs="[MAX_NAME]",hi=function(t,e){if(t===e)return 0;if(t===Qs||e===vs)return-1;if(e===Qs||t===vs)return 1;{const n=Dp(t),s=Dp(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},ox=function(t,e){return t===e?0:t<e?-1:1},pr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Kd=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=rt(e[s]),n+=":",n+=Kd(t[e[s]]);return n+="}",n},Ry=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Oy=function(t){W(!Gd(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ax=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const ux=new RegExp("^-?(0*)\\d{1,10}$"),dx=-2147483648,fx=2147483647,Dp=function(t){if(ux.test(t)){const e=Number(t);if(e>=dx&&e<=fx)return e}return null},nr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},hx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ur=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class na{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}na.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="5",Ny="v",My="s",Ly="r",Dy="f",Fy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$y="ls",By="p",ku="ac",Uy="websocket",jy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ds.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ds.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function gx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Hy(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let s;if(e===Uy)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jy)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gx(t)&&(n.ns=t.namespace);const i=[];return ct(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return TC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={},Ec={};function Jd(t){const e=t.toString();return Sc[e]||(Sc[e]=new vx),Sc[e]}function yx(t,e){const n=t.toString();return Ec[n]||(Ec[n]=e()),Ec[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&nr(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="start",wx="close",bx="pLPCommand",Sx="pRTLPCB",Wy="id",zy="pw",qy="ser",Ex="cb",Tx="seg",Cx="ts",Ix="d",xx="dframe",Gy=1870,Ky=30,kx=Gy-Ky,Px=25e3,Ax=3e4;class Ti{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=So(e),this.stats_=Jd(n),this.urlFn=l=>(this.appCheckToken&&(l[ku]=this.appCheckToken),Hy(n,jy,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new _x(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ax)),rx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xd((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Fp)this.id=a,this.password=l;else if(o===wx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Fp]="t",s[qy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Ex]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ny]=Yd,this.transportSessionId&&(s[My]=this.transportSessionId),this.lastSessionId&&(s[$y]=this.lastSessionId),this.applicationId&&(s[By]=this.applicationId),this.appCheckToken&&(s[ku]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fy.test(location.hostname)&&(s[Ly]=Dy);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ti.forceAllow_=!0}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){return Ti.forceAllow_?!0:!Ti.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ax()&&!lx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=py(n),i=Ry(s,kx);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[xx]="t",s[Wy]=e,s[zy]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xd{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nx(),window[bx+this.uniqueCallbackIdentifier]=e,window[Sx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){lt("frame writing exception"),a.stack&&lt(a.stack),lt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Wy]=this.myID,e[zy]=this.myPW,e[qy]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ky+s.length<=Gy;){const o=this.pendingSegs.shift();s=s+"&"+Tx+i+"="+o.seg+"&"+Cx+i+"="+o.ts+"&"+Ix+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(Px)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=16384,Ox=45e3;let Aa=null;typeof MozWebSocket<"u"?Aa=MozWebSocket:typeof WebSocket<"u"&&(Aa=WebSocket);class mn{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=So(this.connId),this.stats_=Jd(n),this.connURL=mn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Ny]=Yd,typeof location<"u"&&location.hostname&&Fy.test(location.hostname)&&(o[Ly]=Dy),n&&(o[My]=n),s&&(o[$y]=s),i&&(o[ku]=i),r&&(o[By]=r),Hy(e,Uy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ds.set("previous_websocket_failure",!0);try{let s;LC(),this.mySock=new Aa(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Aa!==null&&!mn.forceDisallow_}static previouslyFailed(){return Ds.isInMemoryStorage||Ds.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ds.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=no(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ry(n,Rx);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ox))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static get ALL_TRANSPORTS(){return[Ti,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=mn.isAvailable();let s=n&&!mn.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[mn];else{const i=this.transports_=[];for(const r of io.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);io.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}io.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=6e4,Mx=5e3,Lx=10*1024,Dx=100*1024,Tc="t",$p="d",Fx="s",Bp="r",$x="e",Up="o",jp="a",Vp="n",Hp="p",Bx="h";class Ux{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=So("c:"+this.id+":"),this.transportManager_=new io(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ur(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Dx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Lx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tc in e){const n=e[Tc];n===jp?this.upgradeIfSecondaryHealthy_():n===Bp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Up&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=pr("t",e),s=pr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=pr("t",e),s=pr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=pr(Tc,e);if($p in e){const s=e[$p];if(n===Bx){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Vp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Fx?this.onConnectionShutdown_(s):n===Bp?this.onReset_(s):n===$x?xu("Server Error: "+s):n===Up?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yd!==s&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ur(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Nx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ur(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ds.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Jy{static getInstance(){return new Ra}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=32,zp=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Ae("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ys(t){return t.pieces_.length-t.pieceNum_}function Ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function Qd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ro(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Xy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function ze(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ae)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Ae(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=ve(t),s=ve(e);if(n===null)return e;if(n===s)return Ct(Ue(t),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vx(t,e){const n=ro(t,0),s=ro(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=hi(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function Zd(t,e){if(ys(t)!==ys(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(ys(t)>ys(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class Hx{constructor(e,n){this.errorPrefix_=n,this.parts_=ro(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=xl(this.parts_[s]);Qy(this)}}function Wx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xl(e),Qy(t)}function zx(t){const e=t.parts_.pop();t.byteLength_-=xl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Qy(t){if(t.byteLength_>zp)throw new Error(t.errorPrefix_+"has a key path longer than "+zp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wp+") or object contains a cycle "+Ms(t))}function Ms(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Jy{static getInstance(){return new ef}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=1e3,qx=60*5*1e3,qp=30*1e3,Gx=1.3,Kx=3e4,Yx="server_kill",Gp=3;class Bn extends Yy{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Bn.nextPersistentConnectionId_++,this.log_=So("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mr,this.maxReconnectDelay_=qx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ef.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(rt(r)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new wo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Bn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&En(e,"w")){const s=Vi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||UC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xu("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Kx&&(this.reconnectDelay_=mr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Bn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Ux(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{wt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Yx)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wt(d),l())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bu(this.interruptReasons_)&&(this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Kd(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Ae(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gp&&(this.reconnectDelay_=qp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ky.replace(/\./g,"-")]=1,Hd()?e["framework.cordova"]=1:_y()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ra.getInstance().currentlyOnline();return bu(this.interruptReasons_)&&e}}Bn.nextPersistentConnectionId_=0;Bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new _e(Qs,e),i=new _e(Qs,n);return this.compare(s,i)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class Zy extends kl{static get __EMPTY_NODE(){return Uo}static set __EMPTY_NODE(e){Uo=e}compare(e,n){return hi(e.name,n.name)}isDefinedOn(e){throw Xi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(vs,Uo)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Uo)}toString(){return".key"}}const Ws=new Zy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??nt.RED,this.left=i??It.EMPTY_NODE,this.right=r??It.EMPTY_NODE}copy(e,n,s,i,r){return new nt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class Jx{copy(e,n,s,i,r){return this}insert(e,n,s){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new Jx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e){return hi(t.name,e.name)}function tf(t,e){return hi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;function Qx(t){Pu=t}const e_=function(t){return typeof t=="number"?"number:"+Oy(t):"string:"+t},t_=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else W(t===Pu||t.isEmpty(),"priority of unexpected type.");W(t===Pu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp;class et{static set __childrenNodeConstructor(e){Kp=e}static get __childrenNodeConstructor(){return Kp}constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:ve(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(W(s!==".priority"||ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+e_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Oy(this.value_):e+=this.value_,this.lazyHash_=Ay(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=et.VALUE_TYPE_ORDER.indexOf(n),r=et.VALUE_TYPE_ORDER.indexOf(s);return W(i>=0,"Unknown leaf type: "+n),W(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n_,s_;function Zx(t){n_=t}function e1(t){s_=t}class t1 extends kl{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?hi(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(vs,new et("[PRIORITY-POST]",s_))}makePost(e,n){const s=n_(e);return new _e(n,new et("[PRIORITY-POST]",s))}toString(){return".priority"}}const He=new t1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=Math.log(2);class s1{constructor(e){const n=r=>parseInt(Math.log(r)/n1,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oa=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new nt(f,d.node,nt.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new nt(f,d.node,nt.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const y=d-p,w=d;d-=p;const v=i(y+1,w),g=t[y],S=n?n(g):g;h(new nt(S,g.node,m,null,v))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?f(y,nt.BLACK):(f(y,nt.BLACK),f(y,nt.RED))}return u},o=new s1(t.length),a=r(o);return new It(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const gr={};class Mn{static get Default(){return W(He,"ChildrenNode.ts has not been loaded"),Cc=Cc||new Mn({".priority":gr},{".priority":He}),Cc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Vi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){W(e!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(_e.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Oa(s,e.getCompare()):a=gr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Mn(u,c)}addToIndexes(e,n){const s=xa(this.indexes_,(i,r)=>{const o=Vi(this.indexSet_,r);if(W(o,"Missing index implementation for "+r),i===gr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Oa(a,o.getCompare())}else return gr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new Mn(s,this.indexSet_)}removeFromIndexes(e,n){const s=xa(this.indexes_,i=>{if(i===gr)return i;{const r=n.get(e.name);return r?i.remove(new _e(e.name,r)):i}});return new Mn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vr;class le{static get EMPTY_NODE(){return vr||(vr=new le(new It(tf),null,Mn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&t_(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vr}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vr:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new _e(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?vr:this.priorityNode_;return new le(i,o,r)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{W(ve(e)!==".priority"||ys(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(Ue(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),s++,r&&le.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+e_(this.getPriority().val())+":"),this.forEachChild(He,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Ay(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new _e(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eo?-1:0}withIndex(e){if(e===Ws||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(He),i=n.getIterator(He);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ws?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class i1 extends le{constructor(){super(new It(tf),le.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const Eo=new i1;Object.defineProperties(_e,{MIN:{value:new _e(Qs,le.EMPTY_NODE)},MAX:{value:new _e(vs,Eo)}});Zy.__EMPTY_NODE=le.EMPTY_NODE;et.__childrenNodeConstructor=le;Qx(Eo);e1(Eo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=!0;function st(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,st(e))}if(!(t instanceof Array)&&r1){const n=[];let s=!1;if(ct(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=st(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),n.length===0)return le.EMPTY_NODE;const r=Oa(n,Xx,o=>o.name,tf);if(s){const o=Oa(n,He.getCompare());return new le(r,st(e),new Mn({".priority":o},{".priority":He}))}else return new le(r,st(e),Mn.Default)}else{let n=le.EMPTY_NODE;return ct(t,(s,i)=>{if(En(t,s)&&s.substring(0,1)!=="."){const r=st(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(st(e))}}Zx(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends kl{constructor(e){super(),this.indexPath_=e,W(!ye(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?hi(e.name,n.name):r}makePost(e,n){const s=st(e),i=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(n,i)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,Eo);return new _e(vs,e)}toString(){return ro(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends kl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?hi(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const s=st(e);return new _e(n,s)}toString(){return".value"}}const i_=new o1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return{type:"value",snapshotNode:t}}function Hi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ao(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function a1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(oo(n,a)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Hi(n,s)):o.trackChildChange(ao(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(He,(i,r)=>{n.hasChild(i)||s.trackChildChange(oo(i,r))}),n.isLeafNode()||n.forEachChild(He,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(ao(i,r,o))}else s.trackChildChange(Hi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.indexedFilter_=new sf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lo.getStartPost_(e),this.endPost_=lo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new _e(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);const r=this;return n.forEachChild(He,(o,a)=>{r.matches(new _e(o,a))||(i=i.updateImmediateChild(o,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new lo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new _e(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=le.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;W(a.numChildren()===this.limit_,"");const l=new _e(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(ao(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(oo(n,d));const m=a.updateImmediateChild(n,le.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Hi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(oo(c.name,c.node)),r.trackChildChange(Hi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qs}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new rf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function c1(t){return t.loadsAllData()?new sf(t.getIndex()):t.hasLimit()?new l1(t):new lo(t)}function u1(t,e){const n=t.copy();return n.index_=e,n}function Yp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===i_?n="$value":t.index_===Ws?n="$key":(W(t.index_ instanceof nf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=rt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+rt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=rt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Yy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=So("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Na.getListenId_(e,s),a={};this.listens_[o]=a;const l=Yp(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Vi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Na.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Yp(e._queryParams),s=e._path.toString(),i=new wo;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qi(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=no(a.responseText)}catch{wt("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&wt("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function o_(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ve(e);t.children.has(s)||t.children.set(s,Ma());const i=t.children.get(s);e=Ue(e),o_(i,e,n)}}function Au(t,e,n){t.value!==null?n(e,t.value):f1(t,(s,i)=>{const r=new Ae(e.toString()+"/"+s);Au(i,r,n)})}function f1(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=10*1e3,p1=30*1e3,m1=5*60*1e3;class g1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new h1(e);const s=Xp+(p1-Xp)*Math.random();Ur(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;ct(e,(i,r)=>{r>0&&En(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Ur(this.reportStats_.bind(this),Math.floor(Math.random()*2*m1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function of(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function af(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Gt.ACK_USER_WRITE,this.source=of()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new La(Te(),n,this.revert)}}else return W(ve(this.path)===e,"operationForChild called for unrelated child."),new La(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new co(this.source,Te()):new co(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Gt.OVERWRITE}operationForChild(e){return ye(this.path)?new Zs(this.source,Te(),this.snap.getImmediateChild(e)):new Zs(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Gt.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Zs(this.source,Te(),n.value):new Wi(this.source,Te(),n)}else return W(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wi(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function y1(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(a1(o.childName,o.snapshotNode))}),yr(t,i,"child_removed",e,s,n),yr(t,i,"child_added",e,s,n),yr(t,i,"child_moved",r,s,n),yr(t,i,"child_changed",e,s,n),yr(t,i,"value",e,s,n),i}function yr(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>w1(t,a,l)),o.forEach(a=>{const l=_1(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function _1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function w1(t,e,n){if(e.childName==null||n.childName==null)throw Xi("Should only compare child_ events.");const s=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return{eventCache:t,serverCache:e}}function jr(t,e,n,s){return Pl(new ei(e,n,s),t.serverCache)}function a_(t,e,n,s){return Pl(t.eventCache,new ei(e,n,s))}function Ru(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ti(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;const b1=()=>(Ic||(Ic=new It(ox)),Ic);class $e{static fromObject(e){let n=new $e(null);return ct(e,(s,i)=>{n=n.set(new Ae(s),i)}),n}constructor(e,n=b1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(ye(e))return null;{const s=ve(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(Ue(e),n);return r!=null?{path:ze(new Ae(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(Ue(e)):new $e(null)}}set(e,n){if(ye(e))return new $e(n,this.children);{const s=ve(e),r=(this.children.get(s)||new $e(null)).set(Ue(e),n),o=this.children.insert(s,r);return new $e(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const i=s.remove(Ue(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new $e(null):new $e(this.value,r)}else return this}}get(e){if(ye(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(Ue(e)):null}}setTree(e,n){if(ye(e))return n;{const s=ve(e),r=(this.children.get(s)||new $e(null)).setTree(Ue(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new $e(this.value,o)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(ze(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(ye(e))return null;{const r=ve(e),o=this.children.get(r);return o?o.findOnPath_(Ue(e),ze(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const i=ve(e),r=this.children.get(i);return r?r.foreachOnPath_(Ue(e),ze(n,i),s):new $e(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(ze(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new $e(null))}}function Vr(t,e,n){if(ye(e))return new Jt(new $e(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Ct(i,e);return r=r.updateChild(o,n),new Jt(t.writeTree_.set(i,r))}else{const i=new $e(n),r=t.writeTree_.setTree(e,i);return new Jt(r)}}}function Ou(t,e,n){let s=t;return ct(n,(i,r)=>{s=Vr(s,ze(e,i),r)}),s}function Qp(t,e){if(ye(e))return Jt.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new Jt(n)}}function Nu(t,e){return pi(t,e)!=null}function pi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Zp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(s,i)=>{e.push(new _e(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new _e(s,i.value))}),e}function ps(t,e){if(ye(e))return t;{const n=pi(t,e);return n!=null?new Jt(new $e(n)):new Jt(t.writeTree_.subtree(e))}}function Mu(t){return t.writeTree_.isEmpty()}function zi(t,e){return l_(Te(),t.writeTree_,e)}function l_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(W(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=l_(ze(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(ze(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){return f_(e,t)}function S1(t,e,n,s,i){W(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Vr(t.visibleWrites,e,n)),t.lastWriteId=s}function E1(t,e,n,s){W(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Ou(t.visibleWrites,e,n),t.lastWriteId=s}function T1(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function C1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&I1(a,s.path)?i=!1:Bt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return x1(t),!0;if(s.snap)t.visibleWrites=Qp(t.visibleWrites,s.path);else{const a=s.children;ct(a,l=>{t.visibleWrites=Qp(t.visibleWrites,ze(s.path,l))})}return!0}else return!1}function I1(t,e){if(t.snap)return Bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bt(ze(t.path,n),e))return!0;return!1}function x1(t){t.visibleWrites=c_(t.allWrites,k1,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function k1(t){return t.visible}function c_(t,e,n){let s=Jt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)Bt(n,o)?(a=Ct(n,o),s=Vr(s,a,r.snap)):Bt(o,n)&&(a=Ct(o,n),s=Vr(s,Te(),r.snap.getChild(a)));else if(r.children){if(Bt(n,o))a=Ct(n,o),s=Ou(s,a,r.children);else if(Bt(o,n))if(a=Ct(o,n),ye(a))s=Ou(s,Te(),r.children);else{const l=Vi(r.children,ve(a));if(l){const c=l.getChild(Ue(a));s=Vr(s,Te(),c)}}}else throw Xi("WriteRecord should have .snap or .children")}}return s}function u_(t,e,n,s,i){if(!s&&!i){const r=pi(t.visibleWrites,e);if(r!=null)return r;{const o=ps(t.visibleWrites,e);if(Mu(o))return n;if(n==null&&!Nu(o,Te()))return null;{const a=n||le.EMPTY_NODE;return zi(o,a)}}}else{const r=ps(t.visibleWrites,e);if(!i&&Mu(r))return n;if(!i&&n==null&&!Nu(r,Te()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Bt(c.path,e)||Bt(e,c.path))},a=c_(t.allWrites,o,e),l=n||le.EMPTY_NODE;return zi(a,l)}}}function P1(t,e,n){let s=le.EMPTY_NODE;const i=pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(He,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=ps(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=zi(ps(r,new Ae(o)),a);s=s.updateImmediateChild(o,l)}),Zp(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=ps(t.visibleWrites,e);return Zp(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function A1(t,e,n,s,i){W(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=ze(e,n);if(Nu(t.visibleWrites,r))return null;{const o=ps(t.visibleWrites,r);return Mu(o)?i.getChild(n):zi(o,i.getChild(n))}}function R1(t,e,n,s){const i=ze(e,n),r=pi(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=ps(t.visibleWrites,i);return zi(o,s.getNode().getImmediateChild(n))}else return null}function O1(t,e){return pi(t.visibleWrites,e)}function N1(t,e,n,s,i,r,o){let a;const l=ps(t.visibleWrites,e),c=pi(l,Te());if(c!=null)a=c;else if(n!=null)a=zi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function M1(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Da(t,e,n,s){return u_(t.writeTree,t.treePath,e,n,s)}function uf(t,e){return P1(t.writeTree,t.treePath,e)}function em(t,e,n,s){return A1(t.writeTree,t.treePath,e,n,s)}function Fa(t,e){return O1(t.writeTree,ze(t.treePath,e))}function L1(t,e,n,s,i,r){return N1(t.writeTree,t.treePath,e,n,s,i,r)}function df(t,e,n){return R1(t.writeTree,t.treePath,e,n)}function d_(t,e){return f_(ze(t.treePath,e),t.writeTree)}function f_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,ao(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,oo(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Hi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,ao(s,e.snapshotNode,i.oldSnap));else throw Xi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const h_=new F1;class ff{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return df(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ti(this.viewCache_),r=L1(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){return{filter:t}}function B1(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function U1(t,e,n,s,i){const r=new D1;let o,a;if(n.type===Gt.OVERWRITE){const c=n;c.source.fromUser?o=Lu(t,e,c.path,c.snap,s,i,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ye(c.path),o=$a(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Gt.MERGE){const c=n;c.source.fromUser?o=V1(t,e,c.path,c.children,s,i,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Du(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Gt.ACK_USER_WRITE){const c=n;c.revert?o=z1(t,e,c.path,s,i,r):o=H1(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Gt.LISTEN_COMPLETE)o=W1(t,e,n.path,s,r);else throw Xi("Unknown operation type: "+n.type);const l=r.getChanges();return j1(e,o,l),{viewCache:o,changes:l}}function j1(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Ru(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(r_(Ru(e)))}}function p_(t,e,n,s,i,r){const o=e.eventCache;if(Fa(s,n)!=null)return e;{let a,l;if(ye(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ti(e),u=c instanceof le?c:le.EMPTY_NODE,d=uf(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Da(s,ti(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ve(n);if(c===".priority"){W(ys(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=em(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ue(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=em(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=df(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return jr(e,a,o.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function $a(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ye(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=ve(n);if(!l.isCompleteForPath(n)&&ys(n)>1)return e;const p=Ue(n),y=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,h_,null)}const d=a_(e,c,l.isFullyInitialized()||ye(n),u.filtersNodes()),f=new ff(i,d,r);return p_(t,d,n,i,f,a)}function Lu(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new ff(i,e,r);if(ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=jr(e,c,!0,t.filter.filtersNodes());else{const d=ve(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=jr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ue(n),h=a.getNode().getImmediateChild(d);let p;if(ye(f))p=s;else{const m=u.getCompleteChild(d);m!=null?Qd(f)===".priority"&&m.getChild(Xy(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=le.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=jr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function tm(t,e){return t.eventCache.isCompleteForChild(e)}function V1(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=ze(n,l);tm(e,ve(u))&&(a=Lu(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=ze(n,l);tm(e,ve(u))||(a=Lu(t,a,u,c,i,r,o))}),a}function nm(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Du(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ye(n)?c=s:c=new $e(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=nm(t,h,f);l=$a(t,l,new Ae(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=nm(t,p,f);l=$a(t,l,new Ae(d),m,i,r,o,a)}}),l}function H1(t,e,n,s,i,r,o){if(Fa(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $a(t,e,n,l.getNode().getChild(n),i,r,a,o);if(ye(n)){let c=new $e(null);return l.getNode().forEachChild(Ws,(u,d)=>{c=c.set(new Ae(u),d)}),Du(t,e,n,c,i,r,a,o)}else return e}else{let c=new $e(null);return s.foreach((u,d)=>{const f=ze(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Du(t,e,n,c,i,r,a,o)}}function W1(t,e,n,s,i){const r=e.serverCache,o=a_(e,r.getNode(),r.isFullyInitialized()||ye(n),r.isFiltered());return p_(t,o,n,s,h_,i)}function z1(t,e,n,s,i,r){let o;if(Fa(s,n)!=null)return e;{const a=new ff(s,e,i),l=e.eventCache.getNode();let c;if(ye(n)||ve(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Da(s,ti(e));else{const d=e.serverCache.getNode();W(d instanceof le,"serverChildren would be complete if leaf node"),u=uf(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ve(n);let d=df(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ue(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,le.EMPTY_NODE,Ue(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Da(s,ti(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Fa(s,Te())!=null,jr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new sf(s.getIndex()),r=c1(s);this.processor_=$1(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(le.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(le.EMPTY_NODE,a.getNode(),null),u=new ei(l,o.isFullyInitialized(),i.filtersNodes()),d=new ei(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Pl(d,u),this.eventGenerator_=new v1(this.query_)}get query(){return this.query_}}function G1(t){return t.viewCache_.serverCache.getNode()}function K1(t,e){const n=ti(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function sm(t){return t.eventRegistrations_.length===0}function Y1(t,e){t.eventRegistrations_.push(e)}function im(t,e,n){const s=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function rm(t,e,n,s){e.type===Gt.MERGE&&e.source.queryId!==null&&(W(ti(t.viewCache_),"We should always have a full cache before handling merges"),W(Ru(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=U1(t.processor_,i,e,n,s);return B1(t.processor_,r.viewCache),W(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,m_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function J1(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(r,o)=>{s.push(Hi(r,o))}),n.isFullyInitialized()&&s.push(r_(n.getNode())),m_(t,s,n.getNode(),e)}function m_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return y1(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;class X1{constructor(){this.views=new Map}}function Q1(t){W(!Ba,"__referenceConstructor has already been defined"),Ba=t}function Z1(){return W(Ba,"Reference.ts has not been loaded"),Ba}function ek(t){return t.views.size===0}function hf(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return W(r!=null,"SyncTree gave us an op for an invalid query."),rm(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(rm(o,e,n,s));return r}}function tk(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Da(n,i?s:null),l=!1;a?l=!0:s instanceof le?(a=uf(n,s),l=!1):(a=le.EMPTY_NODE,l=!1);const c=Pl(new ei(a,l,!1),new ei(s,i,!1));return new q1(e,c)}return o}function nk(t,e,n,s,i,r){const o=tk(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Y1(o,n),J1(o,n)}function sk(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=_s(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(im(c,n,s)),sm(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(im(l,n,s)),sm(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!_s(t)&&r.push(new(Z1())(e._repo,e._path)),{removed:r,events:o}}function g_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Oi(t,e){let n=null;for(const s of t.views.values())n=n||K1(s,e);return n}function v_(t,e){if(e._queryParams.loadsAllData())return Al(t);{const s=e._queryIdentifier;return t.views.get(s)}}function y_(t,e){return v_(t,e)!=null}function _s(t){return Al(t)!=null}function Al(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;function ik(t){W(!Ua,"__referenceConstructor has already been defined"),Ua=t}function rk(){return W(Ua,"Reference.ts has not been loaded"),Ua}let ok=1;class om{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=M1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function __(t,e,n,s,i){return S1(t.pendingWriteTree_,e,n,s,i),i?sr(t,new Zs(of(),e,n)):[]}function ak(t,e,n,s){E1(t.pendingWriteTree_,e,n,s);const i=$e.fromObject(n);return sr(t,new Wi(of(),e,i))}function ls(t,e,n=!1){const s=T1(t.pendingWriteTree_,e);if(C1(t.pendingWriteTree_,e)){let r=new $e(null);return s.snap!=null?r=r.set(Te(),!0):ct(s.children,o=>{r=r.set(new Ae(o),!0)}),sr(t,new La(s.path,r,n))}else return[]}function Rl(t,e,n){return sr(t,new Zs(af(),e,n))}function lk(t,e,n){const s=$e.fromObject(n);return sr(t,new Wi(af(),e,s))}function ck(t,e){return sr(t,new co(af(),e))}function uk(t,e,n){const s=mf(t,n);if(s){const i=gf(s),r=i.path,o=i.queryId,a=Ct(r,e),l=new co(lf(o),a);return vf(t,r,l)}else return[]}function Fu(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||y_(o,e))){const l=sk(o,e,n,s);ek(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>_s(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=hk(f);for(let p=0;p<h.length;++p){const m=h[p],y=m.query,w=S_(t,m);t.listenProvider_.startListening(Hr(y),ja(t,y),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Hr(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Ol(f));t.listenProvider_.stopListening(Hr(f),h)}))}pk(t,c)}return a}function dk(t,e,n,s){const i=mf(t,s);if(i!=null){const r=gf(i),o=r.path,a=r.queryId,l=Ct(o,e),c=new Zs(lf(a),l,n);return vf(t,o,c)}else return[]}function fk(t,e,n,s){const i=mf(t,s);if(i){const r=gf(i),o=r.path,a=r.queryId,l=Ct(o,e),c=$e.fromObject(n),u=new Wi(lf(a),l,c);return vf(t,o,u)}else return[]}function am(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=Ct(f,i);r=r||Oi(h,p),o=o||_s(h)});let a=t.syncPointTree_.get(i);a?(o=o||_s(a),r=r||Oi(a,Te())):(a=new X1,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=le.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=Oi(p,Te());m&&(r=r.updateImmediateChild(h,m))}));const c=y_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ol(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=mk();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=cf(t.pendingWriteTree_,i);let d=nk(a,e,n,u,r,l);if(!c&&!o&&!s){const f=v_(a,e);d=d.concat(gk(t,e,f))}return d}function pf(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ct(o,e),c=Oi(a,l);if(c)return c});return u_(i,e,r,n,!0)}function sr(t,e){return w_(e,t.syncPointTree_,null,cf(t.pendingWriteTree_,Te()))}function w_(t,e,n,s){if(ye(t.path))return b_(t,e,n,s);{const i=e.get(Te());n==null&&i!=null&&(n=Oi(i,Te()));let r=[];const o=ve(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=d_(s,o);r=r.concat(w_(a,l,c,u))}return i&&(r=r.concat(hf(i,t,s,n))),r}}function b_(t,e,n,s){const i=e.get(Te());n==null&&i!=null&&(n=Oi(i,Te()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=d_(s,o),u=t.operationForChild(o);u&&(r=r.concat(b_(u,a,l,c)))}),i&&(r=r.concat(hf(i,t,s,n))),r}function S_(t,e){const n=e.query,s=ja(t,n);return{hashFn:()=>(G1(e)||le.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?uk(t,n._path,s):ck(t,n._path);{const r=cx(i,n);return Fu(t,n,null,r)}}}}function ja(t,e){const n=Ol(e);return t.queryToTagMap.get(n)}function Ol(t){return t._path.toString()+"$"+t._queryIdentifier}function mf(t,e){return t.tagToQueryMap.get(e)}function gf(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function vf(t,e,n){const s=t.syncPointTree_.get(e);W(s,"Missing sync point for query tag that we're tracking");const i=cf(t.pendingWriteTree_,e);return hf(s,n,i,null)}function hk(t){return t.fold((e,n,s)=>{if(n&&_s(n))return[Al(n)];{let i=[];return n&&(i=g_(n)),ct(s,(r,o)=>{i=i.concat(o)}),i}})}function Hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(rk())(t._repo,t._path):t}function pk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Ol(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function mk(){return ok++}function gk(t,e,n){const s=e._path,i=ja(t,e),r=S_(t,n),o=t.listenProvider_.startListening(Hr(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)W(!_s(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ye(c)&&u&&_s(u))return[Al(u).query];{let f=[];return u&&(f=f.concat(g_(u).map(h=>h.query))),ct(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Hr(u),ja(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yf(n)}node(){return this.node_}}class _f{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new _f(this.syncTree_,n)}node(){return pf(this.syncTree_,this.path_)}}const vk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lm=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _k(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},_k=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&W(!1,"Unexpected increment value: "+s);const i=e.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},E_=function(t,e,n,s){return wf(e,new _f(n,t),s)},T_=function(t,e,n){return wf(t,new yf(e),n)};function wf(t,e,n){const s=t.getPriority().val(),i=lm(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=lm(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new et(a,st(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new et(i))),o.forEachChild(He,(a,l)=>{const c=wf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Sf(t,e){let n=e instanceof Ae?e:new Ae(e),s=t,i=ve(n);for(;i!==null;){const r=Vi(s.node.children,i)||{children:{},childCount:0};s=new bf(i,s,r),n=Ue(n),i=ve(n)}return s}function ir(t){return t.node.value}function C_(t,e){t.node.value=e,$u(t)}function I_(t){return t.node.childCount>0}function wk(t){return ir(t)===void 0&&!I_(t)}function Nl(t,e){ct(t.node.children,(n,s)=>{e(new bf(n,t,s))})}function x_(t,e,n,s){n&&e(t),Nl(t,i=>{x_(i,e,!0)})}function bk(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function To(t){return new Ae(t.parent===null?t.name:To(t.parent)+"/"+t.name)}function $u(t){t.parent!==null&&Sk(t.parent,t.name,t)}function Sk(t,e,n){const s=wk(n),i=En(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,$u(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,$u(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/[\[\].#$\/\u0000-\u001F\u007F]/,Tk=/[\[\].#$\u0000-\u001F\u007F]/,xc=10*1024*1024,Ef=function(t){return typeof t=="string"&&t.length!==0&&!Ek.test(t)},k_=function(t){return typeof t=="string"&&t.length!==0&&!Tk.test(t)},Ck=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),k_(t)},Bu=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gd(t)||t&&typeof t=="object"&&En(t,".sv")},Ik=function(t,e,n,s){Ml(Il(t,"value"),e,n)},Ml=function(t,e,n){const s=n instanceof Ae?new Hx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ms(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ms(s)+" with contents = "+e.toString());if(Gd(e))throw new Error(t+"contains "+e.toString()+" "+Ms(s));if(typeof e=="string"&&e.length>xc/3&&xl(e)>xc)throw new Error(t+"contains a string greater than "+xc+" utf8 bytes "+Ms(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(ct(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Ef(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ms(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Wx(s,o),Ml(t,a,s),zx(s)}),i&&r)throw new Error(t+' contains ".value" child '+Ms(s)+" in addition to actual children.")}},xk=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=ro(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Ef(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Vx);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Bt(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},kk=function(t,e,n,s){const i=Il(t,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];ct(e,(o,a)=>{const l=new Ae(o);if(Ml(i,a,ze(n,l)),Qd(l)===".priority"&&!Bu(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),xk(i,r)},Tf=function(t,e,n,s){if(!k_(n))throw new Error(Il(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Pk=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Tf(t,e,n)},P_=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ak=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ef(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ck(n))throw new Error(Il(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ll(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!Zd(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function A_(t,e,n){Ll(t,n),R_(t,s=>Zd(s,e))}function tn(t,e,n){Ll(t,n),R_(t,s=>Bt(s,e)||Bt(e,s))}function R_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(Ok(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ok(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Br&&lt("event: "+n.toString()),nr(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="repo_interrupt",Mk=25;class Lk{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Dk(t,e,n){if(t.stats_=Jd(t.repoInfo_),t.forceRestClient_||hx())t.server_=new Na(t.repoInfo_,(s,i,r,o)=>{cm(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>um(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Bn(t.repoInfo_,e,(s,i,r,o)=>{cm(t,s,i,r,o)},s=>{um(t,s)},s=>{$k(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=yx(t.repoInfo_,()=>new g1(t.stats_,t.server_)),t.infoData_=new d1,t.infoSyncTree_=new om({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Rl(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Cf(t,"connected",!1),t.serverSyncTree_=new om({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);tn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Fk(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Dl(t){return vk({timestamp:Fk(t)})}function cm(t,e,n,s,i){t.dataUpdateCount++;const r=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=xa(n,c=>st(c));o=fk(t.serverSyncTree_,r,l,i)}else{const l=st(n);o=dk(t.serverSyncTree_,r,l,i)}else if(s){const l=xa(n,c=>st(c));o=lk(t.serverSyncTree_,r,l)}else{const l=st(n);o=Rl(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=qi(t,r)),tn(t.eventQueue_,a,o)}function um(t,e){Cf(t,"connected",e),e===!1&&jk(t)}function $k(t,e){ct(e,(n,s)=>{Cf(t,n,s)})}function Cf(t,e,n){const s=new Ae("/.info/"+e),i=st(n);t.infoData_.updateSnapshot(s,i);const r=Rl(t.infoSyncTree_,s,i);tn(t.eventQueue_,s,r)}function If(t){return t.nextWriteId_++}function Bk(t,e,n,s,i){Fl(t,"set",{path:e.toString(),value:n,priority:s});const r=Dl(t),o=st(n,s),a=pf(t.serverSyncTree_,e),l=T_(o,a,r),c=If(t),u=__(t.serverSyncTree_,e,l,c,!0);Ll(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||wt("set at "+e+" failed: "+f);const m=ls(t.serverSyncTree_,c,!p);tn(t.eventQueue_,e,m),Uu(t,i,f,h)});const d=kf(t,e);qi(t,d),tn(t.eventQueue_,d,[])}function Uk(t,e,n,s){Fl(t,"update",{path:e.toString(),value:n});let i=!0;const r=Dl(t),o={};if(ct(n,(a,l)=>{i=!1,o[a]=E_(ze(e,a),st(l),t.serverSyncTree_,r)}),i)lt("update() called with empty data.  Don't do anything."),Uu(t,s,"ok",void 0);else{const a=If(t),l=ak(t.serverSyncTree_,e,o,a);Ll(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||wt("update at "+e+" failed: "+c);const f=ls(t.serverSyncTree_,a,!d),h=f.length>0?qi(t,e):e;tn(t.eventQueue_,h,f),Uu(t,s,c,u)}),ct(n,c=>{const u=kf(t,ze(e,c));qi(t,u)}),tn(t.eventQueue_,e,[])}}function jk(t){Fl(t,"onDisconnectEvents");const e=Dl(t),n=Ma();Au(t.onDisconnect_,Te(),(i,r)=>{const o=E_(i,r,t.serverSyncTree_,e);o_(n,i,o)});let s=[];Au(n,Te(),(i,r)=>{s=s.concat(Rl(t.serverSyncTree_,i,r));const o=kf(t,i);qi(t,o)}),t.onDisconnect_=Ma(),tn(t.eventQueue_,Te(),s)}function Vk(t,e,n){let s;ve(e._path)===".info"?s=am(t.infoSyncTree_,e,n):s=am(t.serverSyncTree_,e,n),A_(t.eventQueue_,e._path,s)}function dm(t,e,n){let s;ve(e._path)===".info"?s=Fu(t.infoSyncTree_,e,n):s=Fu(t.serverSyncTree_,e,n),A_(t.eventQueue_,e._path,s)}function Hk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Nk)}function Fl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),lt(n,...e)}function Uu(t,e,n,s){e&&nr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function O_(t,e,n){return pf(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function xf(t,e=t.transactionQueueTree_){if(e||$l(t,e),ir(e)){const n=M_(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Wk(t,To(e),n)}else I_(e)&&Nl(e,n=>{xf(t,n)})}function Wk(t,e,n){const s=n.map(c=>c.currentWriteId),i=O_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];W(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ct(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Fl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ls(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();$l(t,Sf(t.transactionQueueTree_,e)),xf(t,t.transactionQueueTree_),tn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)nr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}qi(t,e)}},o)}function qi(t,e){const n=N_(t,e),s=To(n),i=M_(t,n);return zk(t,i,s),s}function zk(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ct(n,l.path);let u=!1,d;if(W(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(ls(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Mk)u=!0,d="maxretry",i=i.concat(ls(t.serverSyncTree_,l.currentWriteId,!0));else{const f=O_(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Ml("transaction failed: Data returned ",h,l.path);let p=st(h);typeof h=="object"&&h!=null&&En(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,w=Dl(t),v=T_(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=If(t),o.splice(o.indexOf(y),1),i=i.concat(__(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(ls(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(ls(t.serverSyncTree_,l.currentWriteId,!0))}tn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}$l(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)nr(s[a]);xf(t,t.transactionQueueTree_)}function N_(t,e){let n,s=t.transactionQueueTree_;for(n=ve(e);n!==null&&ir(s)===void 0;)s=Sf(s,n),e=Ue(e),n=ve(e);return s}function M_(t,e){const n=[];return L_(t,e,n),n.sort((s,i)=>s.order-i.order),n}function L_(t,e,n){const s=ir(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Nl(e,i=>{L_(t,i,n)})}function $l(t,e){const n=ir(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,C_(e,n.length>0?n:void 0)}Nl(e,s=>{$l(t,s)})}function kf(t,e){const n=To(N_(t,e)),s=Sf(t.transactionQueueTree_,e);return bk(s,i=>{kc(t,i)}),kc(t,s),x_(s,i=>{kc(t,i)}),n}function kc(t,e){const n=ir(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(W(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(W(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ls(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?C_(e,void 0):n.length=r+1,tn(t.eventQueue_,To(e),i);for(let o=0;o<s.length;o++)nr(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Gk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const fm=function(t,e){const n=Kk(t),s=n.namespace;n.domain==="firebase.com"&&Hn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ix();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vy(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Ae(n.pathString)}},Kk=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=qk(t.substring(u,d)));const f=Gk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class Jk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return ye(this._path)?null:Qd(this._path)}get ref(){return new Is(this._repo,this._path)}get _queryIdentifier(){const e=Jp(this._queryParams),n=Kd(e);return n==="{}"?"default":n}get _queryObject(){return Jp(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof Bl))return!1;const n=this._repo===e._repo,s=Zd(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jx(this._path)}}function Qk(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Zk(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ws){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Qs)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==vs)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===He){if(e!=null&&!Bu(e)||n!=null&&!Bu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof nf||t.getIndex()===i_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Is extends Bl{constructor(e,n){super(e,n,new rf,!1)}get parent(){const e=Xy(this._path);return e===null?null:new Is(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Va{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),s=ju(this.ref,e);return new Va(this._node.getChild(n),s,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Va(i,ju(this.ref,s),He)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dt(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?ju(t._root,e):t._root}function ju(t,e){return t=Ze(t),ve(t._path)===null?Pk("child","path",e):Tf("child","path",e),new Is(t._repo,ze(t._path,e))}function Vu(t){return P_("remove",t._path),Pf(t,null)}function Pf(t,e){t=Ze(t),P_("set",t._path),Ik("set",e,t._path);const n=new wo;return Bk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function eP(t,e){kk("update",e,t._path);const n=new wo;return Uk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Af{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Yk("value",this,new Va(e.snapshotNode,new Is(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Jk(this,e,n):null}matches(e){return e instanceof Af?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function tP(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{dm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Xk(n,r||void 0),a=new Af(o);return Vk(t._repo,t,a),()=>dm(t._repo,t,a)}function zs(t,e,n,s){return tP(t,"value",e,n,s)}class nP{}class sP extends nP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Qk(e,"orderByChild");const n=new Ae(this._path);if(ye(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new nf(n),i=u1(e._queryParams,s);return Zk(i),new Bl(e._repo,e._path,i,!0)}}function D_(t){return Tf("orderByChild","path",t),new sP(t)}function F_(t,...e){let n=Ze(t);for(const s of e)n=s._apply(n);return n}Q1(Is);ik(Is);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="FIREBASE_DATABASE_EMULATOR_HOST",Hu={};let rP=!1;function oP(t,e,n,s){t.repoInfo_=new Vy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function aP(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=fm(r,i),a=o.repoInfo,l;typeof process<"u"&&Op&&(l=Op[iP]),l?(r=`http://${l}?ns=${a.namespace}`,o=fm(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new mx(t.name,t.options,e);Ak("Invalid Firebase Database URL",o),ye(o.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=cP(a,t,c,new px(t.name,n));return new uP(u,t)}function lP(t,e){const n=Hu[e];(!n||n[t.key]!==t)&&Hn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Hk(t),delete n[t.key]}function cP(t,e,n,s){let i=Hu[e.name];i||(i={},Hu[e.name]=i);let r=i[t.toURLString()];return r&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Lk(t,rP,n,s),i[t.toURLString()]=r,r}class uP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Dk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Is(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hn("Cannot call "+e+" on a deleted database.")}}function Co(t=qd(),e){const n=er(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=AC("database");s&&dP(n,...s)}return n}function dP(t,e,n,s={}){t=Ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Hn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new na(na.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:RC(s.mockUserToken,t.app.options.projectId);r=new na(o)}oP(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){QI(tr),en(new zt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return aP(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Ht(Np,Mp,t),Ht(Np,Mp,"esm2017")}Bn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Bn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fP();function Rf(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function $_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hP=$_,B_=new Cs("auth","Firebase",$_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Wd("@firebase/auth");function pP(t,...e){Ha.logLevel<=Re.WARN&&Ha.warn(`Auth (${tr}): ${t}`,...e)}function sa(t,...e){Ha.logLevel<=Re.ERROR&&Ha.error(`Auth (${tr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Of(t,...e)}function vn(t,...e){return Of(t,...e)}function U_(t,e,n){const s=Object.assign(Object.assign({},hP()),{[e]:n});return new Cs("auth","Firebase",s).create(e,{appName:t.name})}function Un(t){return U_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Of(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return B_.create(t,...e)}function ae(t,e,...n){if(!t)throw Of(e,...n)}function Ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sa(e),new Error(e)}function Wn(t,e){t||Ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mP(){return hm()==="http:"||hm()==="https:"}function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mP()||NC()||"connection"in navigator)?navigator.onLine:!0}function vP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=Hd()||_y()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Io(3e4,6e4);function xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kn(t,e,n,s,i={}){return V_(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=Qi(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return OC()||(c.referrerPolicy="no-referrer"),j_.fetch()(H_(t,t.config.apiHost,n,a),c)})}async function V_(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},yP),e);try{const i=new bP(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Vo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw U_(t,u,c);nn(t,u)}}catch(i){if(i instanceof Gn)throw i;nn(t,"network-request-failed",{message:String(i)})}}async function xo(t,e,n,s,i={}){const r=await Kn(t,e,n,s,i);return"mfaPendingCredential"in r&&nn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function H_(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?Nf(t.config,i):`${t.config.apiScheme}://${i}`}function wP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vn(this.auth,"network-request-failed")),_P.get())})}}function Vo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=vn(t,e,s);return i.customData._tokenResponse=n,i}function pm(t){return t!==void 0&&t.enterprise!==void 0}class SP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EP(t,e){return Kn(t,"GET","/v2/recaptchaConfig",xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e){return Kn(t,"POST","/v1/accounts:delete",e)}async function W_(t,e){return Kn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CP(t,e=!1){const n=Ze(t),s=await n.getIdToken(e),i=Mf(s);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Wr(Pc(i.auth_time)),issuedAtTime:Wr(Pc(i.iat)),expirationTime:Wr(Pc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Pc(t){return Number(t)*1e3}function Mf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return sa("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ia(n);return i?JSON.parse(i):(sa("Failed to decode base64 JWT payload"),null)}catch(i){return sa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mm(t){const e=Mf(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gn&&IP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function IP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Gi(t,W_(n,{idToken:s}));ae(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?z_(r.providerUserInfo):[],a=PP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new zu(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function kP(t){const e=Ze(t);await Wa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function z_(t){return t.map(e=>{var{providerId:n}=e,s=Rf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(t,e){const n=await V_(t,{},async()=>{const s=Qi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=H_(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j_.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RP(t,e){return Kn(t,"POST","/v2/accounts:revokeToken",xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=mm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await AP(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Ni;return s&&(ae(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ae(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ni,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new zu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Gi(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CP(this,e)}reload(){return kP(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wa(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Un(this.auth));const e=await this.getIdToken();return await Gi(this,TP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:T,providerData:R,stsTokenManager:B}=n;ae(g&&B,e,"internal-error");const x=Ni.fromJSON(this.name,B);ae(typeof g=="string",e,"internal-error"),Qn(d,e.name),Qn(f,e.name),ae(typeof S=="boolean",e,"internal-error"),ae(typeof T=="boolean",e,"internal-error"),Qn(h,e.name),Qn(p,e.name),Qn(m,e.name),Qn(y,e.name),Qn(w,e.name),Qn(v,e.name);const C=new Dn({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:x,createdAt:w,lastLoginAt:v});return R&&Array.isArray(R)&&(C.providerData=R.map(k=>Object.assign({},k))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,n,s=!1){const i=new Ni;i.updateFromServerResponse(n);const r=new Dn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Wa(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?z_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Ni;a.updateFromIdToken(s);const l=new Dn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new zu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map;function Fn(t){Wn(t instanceof Function,"Expected a class definition");let e=gm.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q_.type="NONE";const vm=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e,n){return`firebase:${t}:${e}:${n}`}class Mi{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=ia(this.userKey,i.apiKey,r),this.fullPersistenceKey=ia("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mi(Fn(vm),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||Fn(vm);const o=ia(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Dn._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Mi(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Mi(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q_(e))return"Blackberry";if(Z_(e))return"Webos";if(K_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if(X_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function G_(t=St()){return/firefox\//i.test(t)}function K_(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(t=St()){return/crios\//i.test(t)}function J_(t=St()){return/iemobile/i.test(t)}function X_(t=St()){return/android/i.test(t)}function Q_(t=St()){return/blackberry/i.test(t)}function Z_(t=St()){return/webos/i.test(t)}function Lf(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OP(t=St()){var e;return Lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NP(){return MC()&&document.documentMode===10}function ew(t=St()){return Lf(t)||X_(t)||Z_(t)||Q_(t)||/windows phone/i.test(t)||J_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e=[]){let n;switch(t){case"Browser":n=ym(St());break;case"Worker":n=`${ym(St())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e={}){return Kn(t,"GET","/v2/passwordPolicy",xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=6;class FP{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _m(this),this.idTokenSubscription=new _m(this),this.beforeStateQueue=new MP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Mi.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await W_(this,{idToken:e}),s=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Un(this));const n=e?Ze(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Un(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Un(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LP(this),n=new FP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cs("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await RP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Mi.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mi(t){return Ze(t)}class _m{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BP(t){Ul=t}function nw(t){return Ul.loadJS(t)}function UP(){return Ul.recaptchaEnterpriseScript}function jP(){return Ul.gapiScript}function VP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HP{constructor(){this.enterprise=new WP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zP="recaptcha-enterprise",sw="NO_RECAPTCHA";class qP{constructor(e){this.type=zP,this.auth=mi(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{EP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new SP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;pm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(sw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HP().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&pm(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=UP();l.length!==0&&(l+=a),nw(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wm(t,e,n,s=!1,i=!1){const r=new qP(t);let o;if(i)o=sw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qu(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wm(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await wm(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){const n=er(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(ka(r,e??{}))return i;nn(i,"already-initialized")}return n.initialize({options:e})}function KP(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function YP(t,e,n){const s=mi(t);ae(s._canInitEmulator,s,"emulator-config-failed"),ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=iw(e),{host:o,port:a}=JP(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),XP()}function iw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JP(t){const e=iw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:bm(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:bm(o)}}}function bm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function QP(t,e){return Kn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){return xo(t,"POST","/v1/accounts:signInWithPassword",xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e){return xo(t,"POST","/v1/accounts:signInWithEmailLink",xs(t,e))}async function tA(t,e){return xo(t,"POST","/v1/accounts:signInWithEmailLink",xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Df{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,n,"signInWithPassword",ZP);case"emailLink":return eA(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,s,"signUpPassword",QP);case"emailLink":return tA(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Li(t,e){return xo(t,"POST","/v1/accounts:signInWithIdp",xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="http://localhost";class ni extends Df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Rf(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new ni(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Li(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Li(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Li(e,n)}buildRequest(){const e={requestUri:nA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iA(t){const e=Cr(Ir(t)).link,n=e?Cr(Ir(e)).deep_link_id:null,s=Cr(Ir(t)).deep_link_id;return(s?Cr(Ir(s)).link:null)||s||n||e||t}class Ff{constructor(e){var n,s,i,r,o,a;const l=Cr(Ir(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=sA((i=l.mode)!==null&&i!==void 0?i:null);ae(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=iA(e);try{return new Ff(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.providerId=rr.PROVIDER_ID}static credential(e,n){return uo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ff.parseLink(n);return ae(s,"argument-error"),uo._fromEmailAndCode(e,s.code,s.tenantId)}}rr.PROVIDER_ID="password";rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends rw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends ko{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ni._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ko{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends ko{constructor(){super("twitter.com")}static credential(e,n){return ni._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e){return xo(t,"POST","/v1/accounts:signUp",xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Dn._fromIdTokenResponse(e,s,i),o=Sm(s);return new si({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Sm(s);return new si({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Sm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Gn{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,za.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new za(e,n,s,i)}}function ow(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(t,r,e,s):r})}async function oA(t,e,n=!1){const s=await Gi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return si._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t,e,n=!1){const{auth:s}=t;if(pn(s.app))return Promise.reject(Un(s));const i="reauthenticate";try{const r=await Gi(t,ow(s,i,e,t),n);ae(r.idToken,s,"internal-error");const o=Mf(r.idToken);ae(o,s,"internal-error");const{sub:a}=o;return ae(t.uid===a,s,"user-mismatch"),si._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&nn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(t,e,n=!1){if(pn(t.app))return Promise.reject(Un(t));const s="signIn",i=await ow(t,s,e),r=await si._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function lA(t,e){return aw(mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t){const e=mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cA(t,e,n){if(pn(t.app))return Promise.reject(Un(t));const s=mi(t),o=await qu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lw(t),l}),a=await si._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function uA(t,e,n){return pn(t.app)?Promise.reject(Un(t)):lA(Ze(t),rr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,e){return Kn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ze(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Gi(s,dA(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function fA(t,e,n,s){return Ze(t).onIdTokenChanged(e,n,s)}function hA(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function ms(t,e,n,s){return Ze(t).onAuthStateChanged(e,n,s)}function pA(t){return Ze(t).signOut()}const qa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1e3,gA=10;class uw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);NP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gA):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uw.type="LOCAL";const vA=uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dw.type="SESSION";const fw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new jl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await yA(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=$f("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function wA(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function bA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EA(){return hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",TA=1,Ga="firebaseLocalStorage",mw="fbase_key";class Po{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vl(t,e){return t.transaction([Ga],e?"readwrite":"readonly").objectStore(Ga)}function CA(){const t=indexedDB.deleteDatabase(pw);return new Po(t).toPromise()}function Gu(){const t=indexedDB.open(pw,TA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ga,{keyPath:mw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ga)?e(s):(s.close(),await CA(),e(await Gu()))})})}async function Tm(t,e,n){const s=Vl(t,!0).put({[mw]:e,value:n});return new Po(s).toPromise()}async function IA(t,e){const n=Vl(t,!1).get(e),s=await new Po(n).toPromise();return s===void 0?null:s.value}function Cm(t,e){const n=Vl(t,!0).delete(e);return new Po(n).toPromise()}const xA=800,kA=3;class gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jl._getInstance(EA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bA(),!this.activeServiceWorker)return;this.sender=new _A(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gu();return await Tm(e,qa,"1"),await Cm(e,qa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>IA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Vl(i,!1).getAll();return new Po(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gw.type="LOCAL";const PA=gw;new Io(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){return e?Fn(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Li(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Li(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Li(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RA(t){return aw(t.auth,new Bf(t),t.bypassAuthState)}function OA(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),aA(n,new Bf(t),t.bypassAuthState)}async function NA(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),oA(n,new Bf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RA;case"linkViaPopup":case"linkViaRedirect":return NA;case"reauthViaPopup":case"reauthViaRedirect":return OA;default:nn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new Io(2e3,1e4);class Ci extends vw{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=$f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MA.get())};e()}}Ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="pendingRedirect",ra=new Map;class DA extends vw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ra.get(this.auth._key());if(!e){try{const s=await FA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FA(t,e){const n=UA(e),s=BA(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function $A(t,e){ra.set(t._key(),e)}function BA(t){return Fn(t._redirectPersistence)}function UA(t){return ia(LA,t.config.apiKey,t.name)}async function jA(t,e,n=!1){if(pn(t.app))return Promise.reject(Un(t));const s=mi(t),i=AA(s,e),o=await new DA(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=10*60*1e3;class HA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!yw(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Im(e))}saveEventToCache(e){this.cachedEventUids.add(Im(e)),this.lastProcessedEventTime=Date.now()}}function Im(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e={}){return Kn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GA=/^https?/;async function KA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zA(t);for(const n of e)try{if(YA(n))return}catch{}nn(t,"unauthorized-domain")}function YA(t){const e=Wu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!GA.test(n))return!1;if(qA.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Io(3e4,6e4);function xm(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XA(t){return new Promise((e,n)=>{var s,i,r;function o(){xm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xm(),n(vn(t,"network-request-failed"))},timeout:JA.get()})}if(!((i=(s=yn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=yn().gapi)===null||r===void 0)&&r.load)o();else{const a=VP("iframefcb");return yn()[a]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},nw(`${jP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw oa=null,e})}let oa=null;function QA(t){return oa=oa||XA(t),oa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Io(5e3,15e3),eR="__/auth/iframe",tR="emulator/auth/iframe",nR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iR(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nf(e,tR):`https://${t.config.authDomain}/${eR}`,s={apiKey:e.apiKey,appName:t.name,v:tr},i=sR.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Qi(s).slice(1)}`}async function rR(t){const e=await QA(t),n=yn().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:iR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nR,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=yn().setTimeout(()=>{r(o)},ZA.get());function l(){yn().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aR=500,lR=600,cR="_blank",uR="http://localhost";class km{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dR(t,e,n,s=aR,i=lR){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oR),{width:s.toString(),height:i.toString(),top:r,left:o}),c=St().toLowerCase();n&&(a=Y_(c)?cR:n),G_(c)&&(e=e||uR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(OP(c)&&a!=="_self")return fR(e||"",a),new km(null);const d=window.open(e||"",a,u);ae(d,t,"popup-blocked");try{d.focus()}catch{}return new km(d)}function fR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="__/auth/handler",pR="emulator/auth/handler",mR=encodeURIComponent("fac");async function Pm(t,e,n,s,i,r){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:tr,eventId:i};if(e instanceof rw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof ko){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${mR}=${encodeURIComponent(l)}`:"";return`${gR(t)}?${Qi(a).slice(1)}${c}`}function gR({config:t}){return t.emulator?Nf(t,pR):`https://${t.authDomain}/${hR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="webStorageSupport";class vR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=jA,this._overrideRedirectResult=$A}async _openPopup(e,n,s,i){var r;Wn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Pm(e,n,s,Wu(),i);return dR(e,o,$f())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Pm(e,n,s,Wu(),i);return wA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Wn(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rR(e),s=new HA(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ac,{type:Ac},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Ac];o!==void 0&&n(!!o),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ew()||K_()||Lf()}}const yR=vR;var Am="@firebase/auth",Rm="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bR(t){en(new zt("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(t)},c=new $P(s,i,r,l);return KP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),en(new zt("auth-internal",e=>{const n=mi(e.getProvider("auth").getImmediate());return(s=>new _R(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(Am,Rm,wR(t)),Ht(Am,Rm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=5*60,ER=yy("authIdTokenMaxAge")||SR;let Om=null;const TR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ER)return;const i=n==null?void 0:n.token;Om!==i&&(Om=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ws(t=qd()){const e=er(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GP(t,{popupRedirectResolver:yR,persistence:[PA,vA,fw]}),s=yy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=TR(r.toString());hA(n,o,()=>o(n.currentUser)),fA(n,a=>o(a))}}const i=gy("auth");return i&&YP(n,`http://${i}`),n}function CR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=vn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",CR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bR("Browser");const Uf=_o("searchStore",()=>{const t=F([]),e=F(""),n=F([]),s=Co(),i=ws();return{memory:e,memoryFilms:n,lastSearch:t,getLastSearch:()=>{ms(i,c=>{if(c){const u=F_(Dt(s,`users/${c.uid}/search`),D_("date"));zs(u,d=>{const f=[];d.forEach(h=>{f.push(h.val())}),t.value=f.reverse()},d=>{console.log(d)})}else console.log("User logged out")})},addToLastSearch:(c,u)=>{const d=new Date().getTime();c.isFavorite=!0,Pf(Dt(s,"users/"+i.currentUser.uid+"/search/"+u),{nameRu:c.nameRu?c.nameRu:c.nameEn,year:c.year,rating:c.rating,posterUrl:c.posterUrl,id:+u,date:d}).then(()=>console.log("Добавлено")).catch(f=>console.log(f))},removeFromSearch:c=>{Vu(Dt(s,"users/"+i.currentUser.uid+"/search/"+c)).then(()=>console.log("Удалено")).catch(u=>console.log(u))},removeAllSearch:()=>{Vu(Dt(s,"users/"+i.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(c=>console.log(c))}}}),IR={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-600 bg-opacity-50 backdrop-blur-sm"},xR={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},kR={__name:"Header",setup(t){const e=Uf();return(n,s)=>{const i=Ts("RouterLink");return A(),H("header",IR,[E("nav",xR,[$(i,{to:"/",class:"flex flex-col items-center gap-1"},{default:te(()=>[$(L(_C),{class:"w-6 text-gray-50",alt:"home"}),s[1]||(s[1]=E("span",{class:"text-xs text-white"},"Главное",-1))]),_:1}),$(i,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:te(()=>[$(L(Bd),{class:"w-6 text-gray-50",alt:"favorites"}),s[2]||(s[2]=E("span",{class:"text-xs text-white"},"Мое",-1))]),_:1}),$(i,{to:"/search",class:"flex flex-col items-center gap-1",onClick:s[0]||(s[0]=r=>{L(e).memory="",L(e).memoryFilms=[]})},{default:te(()=>[$(L(uy),{class:"w-6 text-gray-50",alt:"search"}),s[3]||(s[3]=E("span",{class:"text-xs text-white"},"Поиск",-1))]),_:1}),$(i,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:te(()=>[$(L(bC),{class:"w-6 text-gray-50",alt:"profile"}),s[4]||(s[4]=E("span",{class:"text-xs text-white"},"Профиль",-1))]),_:1})])])}}},_w="@firebase/installations",jf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1e4,bw=`w:${jf}`,Sw="FIS_v2",PR="https://firebaseinstallations.googleapis.com/v1",AR=60*60*1e3,RR="installations",OR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ii=new Cs(RR,OR,NR);function Ew(t){return t instanceof Gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw({projectId:t}){return`${PR}/projects/${t}/installations`}function Cw(t){return{token:t.token,requestStatus:2,expiresIn:LR(t.expiresIn),creationTime:Date.now()}}async function Iw(t,e){const s=(await e.json()).error;return ii.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function xw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MR(t,{refreshToken:e}){const n=xw(t);return n.append("Authorization",DR(e)),n}async function kw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function LR(t){return Number(t.replace("s","000"))}function DR(t){return`${Sw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Tw(t),i=xw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Sw,appId:t.appId,sdkVersion:bw},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await kw(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Cw(c.authToken)}}else throw await Iw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^[cdef][\w-]{21}$/,Ku="";function UR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=jR(t);return BR.test(n)?n:Ku}catch{return Ku}}function jR(t){return $R(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function Rw(t,e){const n=Hl(t);Ow(n,e),VR(n,e)}function Ow(t,e){const n=Aw.get(t);if(n)for(const s of n)s(e)}function VR(t,e){const n=HR();n&&n.postMessage({key:t,fid:e}),WR()}let Fs=null;function HR(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=t=>{Ow(t.data.key,t.data.fid)}),Fs}function WR(){Aw.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-installations-database",qR=1,ri="firebase-installations-store";let Rc=null;function Vf(){return Rc||(Rc=Zi(zR,qR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ri)}}})),Rc}async function Ka(t,e){const n=Hl(t),i=(await Vf()).transaction(ri,"readwrite"),r=i.objectStore(ri),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Rw(t,e.fid),e}async function Nw(t){const e=Hl(t),s=(await Vf()).transaction(ri,"readwrite");await s.objectStore(ri).delete(e),await s.done}async function Wl(t,e){const n=Hl(t),i=(await Vf()).transaction(ri,"readwrite"),r=i.objectStore(ri),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Rw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){let e;const n=await Wl(t.appConfig,s=>{const i=GR(s),r=KR(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===Ku?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GR(t){const e=t||{fid:UR(),registrationStatus:0};return Mw(e)}function KR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ii.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=YR(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JR(t)}:{installationEntry:e}}async function YR(t,e){try{const n=await FR(t,e);return Ka(t.appConfig,n)}catch(n){throw Ew(n)&&n.customData.serverCode===409?await Nw(t.appConfig):await Ka(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function JR(t){let e=await Nm(t.appConfig);for(;e.registrationStatus===1;)await Pw(100),e=await Nm(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Hf(t);return s||n}return e}function Nm(t){return Wl(t,e=>{if(!e)throw ii.create("installation-not-found");return Mw(e)})}function Mw(t){return XR(t)?{fid:t.fid,registrationStatus:0}:t}function XR(t){return t.registrationStatus===1&&t.registrationTime+ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR({appConfig:t,heartbeatServiceProvider:e},n){const s=ZR(t,n),i=MR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:bw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await kw(()=>fetch(s,a));if(l.ok){const c=await l.json();return Cw(c)}else throw await Iw("Generate Auth Token",l)}function ZR(t,{fid:e}){return`${Tw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t,e=!1){let n;const s=await Wl(t.appConfig,r=>{if(!Lw(r))throw ii.create("not-registered");const o=r.authToken;if(!e&&nO(o))return r;if(o.requestStatus===1)return n=eO(t,e),r;{if(!navigator.onLine)throw ii.create("app-offline");const a=iO(r);return n=tO(t,a),a}});return n?await n:s.authToken}async function eO(t,e){let n=await Mm(t.appConfig);for(;n.authToken.requestStatus===1;)await Pw(100),n=await Mm(t.appConfig);const s=n.authToken;return s.requestStatus===0?Wf(t,e):s}function Mm(t){return Wl(t,e=>{if(!Lw(e))throw ii.create("not-registered");const n=e.authToken;return rO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tO(t,e){try{const n=await QR(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Ka(t.appConfig,s),n}catch(n){if(Ew(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Nw(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ka(t.appConfig,s)}throw n}}function Lw(t){return t!==void 0&&t.registrationStatus===2}function nO(t){return t.requestStatus===2&&!sO(t)}function sO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AR}function iO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function rO(t){return t.requestStatus===1&&t.requestTime+ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t){const e=t,{installationEntry:n,registrationPromise:s}=await Hf(e);return s?s.catch(console.error):Wf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e=!1){const n=t;return await lO(n),(await Wf(n,e)).token}async function lO(t){const{registrationPromise:e}=await Hf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){if(!t||!t.options)throw Oc("App Configuration");if(!t.name)throw Oc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Oc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Oc(t){return ii.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="installations",uO="installations-internal",dO=t=>{const e=t.getProvider("app").getImmediate(),n=cO(e),s=er(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},fO=t=>{const e=t.getProvider("app").getImmediate(),n=er(e,Dw).getImmediate();return{getId:()=>oO(n),getToken:i=>aO(n,i)}};function hO(){en(new zt(Dw,dO,"PUBLIC")),en(new zt(uO,fO,"PRIVATE"))}hO();Ht(_w,jf);Ht(_w,jf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="/firebase-messaging-sw.js",mO="/firebase-cloud-messaging-push-scope",Fw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gO="https://fcmregistrations.googleapis.com/v1",$w="google.c.a.c_id",vO="google.c.a.c_l",yO="google.c.a.ts",_O="google.c.a.e",Lm=1e4;var Dm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Dm||(Dm={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var fo;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(fo||(fo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="fcm_token_details_db",bO=5,Fm="fcm_token_object_Store";async function SO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Nc))return null;let e=null;return(await Zi(Nc,bO,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Fm))return;const l=o.objectStore(Fm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Pn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Pn(u.auth),p256dh:Pn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Pn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Pn(u.auth),p256dh:Pn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Pn(u.vapidKey)}}}}}})).close(),await Ai(Nc),await Ai("fcm_vapid_details_db"),await Ai("undefined"),EO(e)?e:null}function EO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebase-messaging-database",CO=1,ho="firebase-messaging-store";let Mc=null;function Bw(){return Mc||(Mc=Zi(TO,CO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ho)}}})),Mc}async function IO(t){const e=Uw(t),s=await(await Bw()).transaction(ho).objectStore(ho).get(e);if(s)return s;{const i=await SO(t.appConfig.senderId);if(i)return await zf(t,i),i}}async function zf(t,e){const n=Uw(t),i=(await Bw()).transaction(ho,"readwrite");return await i.objectStore(ho).put(e,n),await i.done,e}function Uw({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},kt=new Cs("messaging","Messaging",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){const n=await Gf(t),s=jw(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(qf(t.appConfig),i)).json()}catch(o){throw kt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw kt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw kt.create("token-subscribe-no-token");return r.token}async function PO(t,e){const n=await Gf(t),s=jw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${qf(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw kt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw kt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw kt.create("token-update-no-token");return r.token}async function AO(t,e){const s={method:"DELETE",headers:await Gf(t)};try{const r=await(await fetch(`${qf(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw kt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw kt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function qf({projectId:t}){return`${gO}/projects/${t}/registrations`}async function Gf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function jw({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==Fw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=7*24*60*60*1e3;async function OO(t){const e=await MO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Pn(e.getKey("auth")),p256dh:Pn(e.getKey("p256dh"))},s=await IO(t.firebaseDependencies);if(s){if(LO(s.subscriptionOptions,n))return Date.now()>=s.createTime+RO?NO(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await AO(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return $m(t.firebaseDependencies,n)}else return $m(t.firebaseDependencies,n)}async function NO(t,e){try{const n=await PO(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await zf(t.firebaseDependencies,s),n}catch(n){throw n}}async function $m(t,e){const s={token:await kO(t,e),createTime:Date.now(),subscriptionOptions:e};return await zf(t,s),s.token}async function MO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wO(e)})}function LO(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return DO(e,t),FO(e,t),$O(e,t),e}function DO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function FO(t,e){e.data&&(t.data=e.data)}function $O(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){return typeof t=="object"&&!!t&&$w in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){if(!t||!t.options)throw Lc("App Configuration Object");if(!t.name)throw Lc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Lc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Lc(t){return kt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jO=class{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=UO(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t){try{t.swRegistration=await navigator.serviceWorker.register(pO,{scope:mO}),t.swRegistration.update().catch(()=>{}),await HO(t.swRegistration)}catch(e){throw kt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function HO(t){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Lm} ms`)),Lm),i=t.installing||t.waiting;t.active?(clearTimeout(s),e()):i?i.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){if(!e&&!t.swRegistration&&await VO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Fw)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(t,e){if(!navigator)throw kt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw kt.create("permission-blocked");return await zO(t,e==null?void 0:e.vapidKey),await WO(t,e==null?void 0:e.serviceWorkerRegistration),OO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e,n){const s=GO(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[$w],message_name:n[vO],message_time:n[yO],message_device_time:Math.floor(Date.now()/1e3)})}function GO(t){switch(t){case fo.NOTIFICATION_CLICKED:return"notification_open";case fo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===fo.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Bm(n)):t.onMessageHandler.next(Bm(n)));const s=n.data;BO(s)&&s[_O]==="1"&&await qO(t,n.messageType,s)}const Um="@firebase/messaging",jm="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=t=>{const e=new jO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>KO(e,n)),e},JO=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>Vw(e,s)}};function XO(){en(new zt("messaging",YO,"PUBLIC")),en(new zt("messaging-internal",JO,"PRIVATE")),Ht(Um,jm),Ht(Um,jm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t,e){if(!navigator)throw kt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function ZO(t,e){return t=Ze(t),Vw(t,e)}function eN(t,e){return t=Ze(t),QO(t,e)}XO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tN="https://fcmregistrations.googleapis.com/v1",Ww="FCM_MSG",nN="google.c.a.c_id",sN=3,iN=1;var Ya;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ya||(Ya={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ja;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="fcm_token_details_db",oN=5,Vm="fcm_token_object_Store";async function aN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Dc))return null;let e=null;return(await Zi(Dc,oN,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Vm))return;const l=o.objectStore(Vm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:An(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:An(u.auth),p256dh:An(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:An(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:An(u.auth),p256dh:An(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:An(u.vapidKey)}}}}}})).close(),await Ai(Dc),await Ai("fcm_vapid_details_db"),await Ai("undefined"),lN(e)?e:null}function lN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firebase-messaging-database",uN=1,oi="firebase-messaging-store";let Fc=null;function Kf(){return Fc||(Fc=Zi(cN,uN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oi)}}})),Fc}async function Yf(t){const e=Xf(t),s=await(await Kf()).transaction(oi).objectStore(oi).get(e);if(s)return s;{const i=await aN(t.appConfig.senderId);if(i)return await Jf(t,i),i}}async function Jf(t,e){const n=Xf(t),i=(await Kf()).transaction(oi,"readwrite");return await i.objectStore(oi).put(e,n),await i.done,e}async function dN(t){const e=Xf(t),s=(await Kf()).transaction(oi,"readwrite");await s.objectStore(oi).delete(e),await s.done}function Xf({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xt=new Cs("messaging","Messaging",fN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e){const n=await Zf(t),s=qw(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(Qf(t.appConfig),i)).json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Xt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Xt.create("token-subscribe-no-token");return r.token}async function pN(t,e){const n=await Zf(t),s=qw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${Qf(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Xt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Xt.create("token-update-no-token");return r.token}async function zw(t,e){const s={method:"DELETE",headers:await Zf(t)};try{const r=await(await fetch(`${Qf(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Xt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Xt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Qf({projectId:t}){return`${tN}/projects/${t}/registrations`}async function Zf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function qw({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==Hw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=7*24*60*60*1e3;async function gN(t){const e=await yN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:An(e.getKey("auth")),p256dh:An(e.getKey("p256dh"))},s=await Yf(t.firebaseDependencies);if(s){if(_N(s.subscriptionOptions,n))return Date.now()>=s.createTime+mN?vN(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await zw(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return Wm(t.firebaseDependencies,n)}else return Wm(t.firebaseDependencies,n)}async function Hm(t){const e=await Yf(t.firebaseDependencies);e&&(await zw(t.firebaseDependencies,e.token),await dN(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function vN(t,e){try{const n=await pN(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Jf(t.firebaseDependencies,s),n}catch(n){throw n}}async function Wm(t,e){const s={token:await hN(t,e),createTime:Date.now(),subscriptionOptions:e};return await Jf(t,s),s.token}async function yN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rN(e)})}function _N(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return bN(e,t),SN(e,t),EN(e,t),e}function bN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function SN(t,e){e.data&&(t.data=e.data)}function EN(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){return typeof t=="object"&&!!t&&nN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){return new Promise(e=>{setTimeout(e,t)})}async function IN(t,e){const n=xN(e,await t.firebaseDependencies.installations.getId());kN(t,n,e.productId)}function xN(t,e){var n,s;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=Ya.DISPLAY_NOTIFICATION.toString():i.message_type=Ya.DATA_MESSAGE.toString(),i.sdk_platform=sN.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=iN.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label),i}function kN(t,e,n){const s={};s.event_time_ms=Math.floor(Date.now()).toString(),s.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(s.compliance_data=PN(n)),t.logEvents.push(s)}function PN(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){var n,s;const{newSubscription:i}=t;if(!i){await Hm(e);return}const r=await Yf(e.firebaseDependencies);await Hm(e),e.vapidKey=(s=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&s!==void 0?s:Hw,await gN(e)}async function RN(t,e){const n=MN(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await IN(e,n);const s=await Gw();if(DN(s))return FN(s,n);if(n.notification&&await $N(NN(n)),!!e&&e.onBackgroundMessageHandler){const i=wN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function ON(t){var e,n;const s=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[Ww];if(s){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=BN(s);if(!i)return;const r=new URL(i,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await LN(r);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await CN(3e3)),!!a)return s.messageType=Ja.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,a.postMessage(s)}function NN(t){const e=Object.assign({},t.notification);return e.data={[Ww]:t},e}function MN({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function LN(t){const e=await Gw();for(const n of e){const s=new URL(n.url,self.location.href);if(t.host===s.host)return n}return null}function DN(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function FN(t,e){e.isFirebaseMessaging=!0,e.messageType=Ja.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function Gw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $N(t){var e;const{actions:n}=t,{maxActions:s}=Notification;return n&&s&&n.length>s&&console.warn(`This browser only supports ${s} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function BN(t){var e,n,s;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(s=t.notification)===null||s===void 0?void 0:s.click_action;return i||(TN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){if(!t||!t.options)throw $c("App Configuration Object");if(!t.name)throw $c("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw $c(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function $c(t){return Xt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=UN(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=t=>{const e=new jN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(RN(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(AN(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(ON(n))}),e};function HN(){en(new zt("messaging-sw",VN,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(){return wy()&&await by()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t=qd()){return WN().then(e=>{if(!e)throw Xt.create("unsupported-browser")},e=>{throw Xt.create("indexed-db-unsupported")}),er(Ze(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */HN();const bn=_o("auth",()=>{const t=F(""),e=Ji(),n=F(!1),s=F(""),i=F(""),r=F(""),o=F({email:"",userId:"",name:""}),a=async(f,h)=>{const p=ws();switch(f){case"logout":pA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s.value="",i.value="",o.value={email:"",userId:"",name:""},e.push("/login"),console.log("Logout OK")}).catch(m=>console.log(m));break;case"login":n.value=!0;try{const{user:m}=await uA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await cA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Em(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=ws();console.log(f),await Em(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:s,refreshToken:i,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=zN();ZO(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),eN(h,p=>{console.log("Message received. ",p)})}}}),Yn={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(A(),H("div",{role:"status",class:xe(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(A(),H("svg",{"aria-hidden":"true",class:xe(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[E("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),E("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=E("span",{class:"sr-only"},"Loading...",-1))],2))}},qN={class:"mt-2"},GN={__name:"App",setup(t){const e=bn();Ji();const n=Q(()=>e.accessToken);F(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const s=ws(),i=F(!0),r=()=>{ms(s,o=>{o?(console.log("User logged in"),i.value=!1):(console.log("User logged out"),e.auth("logout"))}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return ke(()=>{r(),i.value=!1}),(o,a)=>{const l=Ts("RouterView");return A(),H(Oe,null,[jt($(kR,null,null,512),[[Mr,n.value]]),E("main",qN,[$(l)])],64)}}};function Kw(t,e){return function(){return t.apply(e,arguments)}}const{toString:KN}=Object.prototype,{getPrototypeOf:eh}=Object,zl=(t=>e=>{const n=KN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sn=t=>(t=t.toLowerCase(),e=>zl(e)===t),ql=t=>e=>typeof e===t,{isArray:or}=Array,po=ql("undefined");function YN(t){return t!==null&&!po(t)&&t.constructor!==null&&!po(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Yw=sn("ArrayBuffer");function JN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Yw(t.buffer),e}const XN=ql("string"),Ft=ql("function"),Jw=ql("number"),Gl=t=>t!==null&&typeof t=="object",QN=t=>t===!0||t===!1,aa=t=>{if(zl(t)!=="object")return!1;const e=eh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZN=sn("Date"),eM=sn("File"),tM=sn("Blob"),nM=sn("FileList"),sM=t=>Gl(t)&&Ft(t.pipe),iM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ft(t.append)&&((e=zl(t))==="formdata"||e==="object"&&Ft(t.toString)&&t.toString()==="[object FormData]"))},rM=sn("URLSearchParams"),[oM,aM,lM,cM]=["ReadableStream","Request","Response","Headers"].map(sn),uM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ao(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),or(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function Xw(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qw=t=>!po(t)&&t!==$s;function Yu(){const{caseless:t}=Qw(this)&&this||{},e={},n=(s,i)=>{const r=t&&Xw(e,i)||i;aa(e[r])&&aa(s)?e[r]=Yu(e[r],s):aa(s)?e[r]=Yu({},s):or(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ao(arguments[s],n);return e}const dM=(t,e,n,{allOwnKeys:s}={})=>(Ao(e,(i,r)=>{n&&Ft(i)?t[r]=Kw(i,n):t[r]=i},{allOwnKeys:s}),t),fM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hM=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},pM=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&eh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},mM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},gM=t=>{if(!t)return null;if(or(t))return t;let e=t.length;if(!Jw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},vM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),yM=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},_M=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},wM=sn("HTMLFormElement"),bM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),zm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),SM=sn("RegExp"),Zw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ao(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},EM=t=>{Zw(t,(e,n)=>{if(Ft(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Ft(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TM=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return or(t)?s(t):s(String(t).split(e)),n},CM=()=>{},IM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Bc="abcdefghijklmnopqrstuvwxyz",qm="0123456789",eb={DIGIT:qm,ALPHA:Bc,ALPHA_DIGIT:Bc+Bc.toUpperCase()+qm},xM=(t=16,e=eb.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function kM(t){return!!(t&&Ft(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const PM=t=>{const e=new Array(10),n=(s,i)=>{if(Gl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const r=or(s)?[]:{};return Ao(s,(o,a)=>{const l=n(o,i+1);!po(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},AM=sn("AsyncFunction"),RM=t=>t&&(Gl(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),tb=((t,e)=>t?setImmediate:e?((n,s)=>($s.addEventListener("message",({source:i,data:r})=>{i===$s&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),$s.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft($s.postMessage)),OM=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||tb,P={isArray:or,isArrayBuffer:Yw,isBuffer:YN,isFormData:iM,isArrayBufferView:JN,isString:XN,isNumber:Jw,isBoolean:QN,isObject:Gl,isPlainObject:aa,isReadableStream:oM,isRequest:aM,isResponse:lM,isHeaders:cM,isUndefined:po,isDate:ZN,isFile:eM,isBlob:tM,isRegExp:SM,isFunction:Ft,isStream:sM,isURLSearchParams:rM,isTypedArray:vM,isFileList:nM,forEach:Ao,merge:Yu,extend:dM,trim:uM,stripBOM:fM,inherits:hM,toFlatObject:pM,kindOf:zl,kindOfTest:sn,endsWith:mM,toArray:gM,forEachEntry:yM,matchAll:_M,isHTMLForm:wM,hasOwnProperty:zm,hasOwnProp:zm,reduceDescriptors:Zw,freezeMethods:EM,toObjectSet:TM,toCamelCase:bM,noop:CM,toFiniteNumber:IM,findKey:Xw,global:$s,isContextDefined:Qw,ALPHABET:eb,generateString:xM,isSpecCompliantForm:kM,toJSONObject:PM,isAsyncFn:AM,isThenable:RM,setImmediate:tb,asap:OM};function pe(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const nb=pe.prototype,sb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sb[t]={value:t}});Object.defineProperties(pe,sb);Object.defineProperty(nb,"isAxiosError",{value:!0});pe.from=(t,e,n,s,i,r)=>{const o=Object.create(nb);return P.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pe.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const NM=null;function Ju(t){return P.isPlainObject(t)||P.isArray(t)}function ib(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Gm(t,e,n){return t?t.concat(e).map(function(i,r){return i=ib(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function MM(t){return P.isArray(t)&&!t.some(Ju)}const LM=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Kl(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!P.isUndefined(y[m])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(P.isDate(p))return p.toISOString();if(!l&&P.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(p)||P.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let w=p;if(p&&!y&&typeof p=="object"){if(P.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(P.isArray(p)&&MM(p)||(P.isFileList(p)||P.endsWith(m,"[]"))&&(w=P.toArray(p)))return m=ib(m),w.forEach(function(g,S){!(P.isUndefined(g)||g===null)&&e.append(o===!0?Gm([m],S,r):o===null?m:m+"[]",c(g))}),!1}return Ju(p)?!0:(e.append(Gm(y,m,r),c(p)),!1)}const d=[],f=Object.assign(LM,{defaultVisitor:u,convertValue:c,isVisitable:Ju});function h(p,m){if(!P.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),P.forEach(p,function(w,v){(!(P.isUndefined(w)||w===null)&&i.call(e,w,P.isString(v)?v.trim():v,m,f))===!0&&h(w,m?m.concat(v):[v])}),d.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Km(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function th(t,e){this._pairs=[],t&&Kl(t,this,e)}const rb=th.prototype;rb.append=function(e,n){this._pairs.push([e,n])};rb.toString=function(e){const n=e?function(s){return e.call(this,s,Km)}:Km;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function DM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ob(t,e,n){if(!e)return t;const s=n&&n.encode||DM;P.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=P.isURLSearchParams(e)?e.toString():new th(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Ym{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(s){s!==null&&e(s)})}}const ab={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FM=typeof URLSearchParams<"u"?URLSearchParams:th,$M=typeof FormData<"u"?FormData:null,BM=typeof Blob<"u"?Blob:null,UM={isBrowser:!0,classes:{URLSearchParams:FM,FormData:$M,Blob:BM},protocols:["http","https","file","blob","url","data"]},nh=typeof window<"u"&&typeof document<"u",Xu=typeof navigator=="object"&&navigator||void 0,jM=nh&&(!Xu||["ReactNative","NativeScript","NS"].indexOf(Xu.product)<0),VM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HM=nh&&window.location.href||"http://localhost",WM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nh,hasStandardBrowserEnv:jM,hasStandardBrowserWebWorkerEnv:VM,navigator:Xu,origin:HM},Symbol.toStringTag,{value:"Module"})),ft={...WM,...UM};function zM(t,e){return Kl(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,r){return ft.isNode&&P.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function qM(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GM(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function lb(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&P.isArray(i[o])&&(i[o]=GM(i[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(s,i)=>{e(qM(s),i,n,0)}),n}return null}function KM(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const Ro={transitional:ab,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=P.isObject(e);if(r&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return i?JSON.stringify(lb(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return zM(e,this.formSerializer).toString();if((a=P.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),KM(e)):e}],transformResponse:[function(e){const n=this.transitional||Ro.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{Ro.headers[t]={}});const YM=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JM=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&YM[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Jm=Symbol("internals");function _r(t){return t&&String(t).trim().toLowerCase()}function la(t){return t===!1||t==null?t:P.isArray(t)?t.map(la):String(t)}function XM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const QM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Uc(t,e,n,s,i){if(P.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!P.isString(e)){if(P.isString(s))return e.indexOf(s)!==-1;if(P.isRegExp(s))return s.test(e)}}function ZM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function eL(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}class Pt{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=_r(l);if(!u)throw new Error("header name must be a non-empty string");const d=P.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=la(a))}const o=(a,l)=>P.forEach(a,(c,u)=>r(c,u,l));if(P.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(P.isString(e)&&(e=e.trim())&&!QM(e))o(JM(e),n);else if(P.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(n,e,s);return this}get(e,n){if(e=_r(e),e){const s=P.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return XM(i);if(P.isFunction(n))return n.call(this,i,s);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_r(e),e){const s=P.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Uc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=_r(o),o){const a=P.findKey(s,o);a&&(!n||Uc(s,s[a],a,n))&&(delete s[a],i=!0)}}return P.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||Uc(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return P.forEach(this,(i,r)=>{const o=P.findKey(s,r);if(o){n[o]=la(i),delete n[r];return}const a=e?ZM(r):String(r).trim();a!==r&&delete n[r],n[a]=la(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&P.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Jm]=this[Jm]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=_r(o);s[a]||(eL(i,o),s[a]=!0)}return P.isArray(e)?e.forEach(r):r(e),this}}Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Pt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});P.freezeMethods(Pt);function jc(t,e){const n=this||Ro,s=e||n,i=Pt.from(s.headers);let r=s.data;return P.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function cb(t){return!!(t&&t.__CANCEL__)}function ar(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(ar,pe,{__CANCEL__:!0});function ub(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function nL(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function sL(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const Xa=(t,e,n=3)=>{let s=0;const i=nL(50,250);return sL(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Xm=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Qm=t=>(...e)=>P.asap(()=>t(...e)),iL=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,rL=ft.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];P.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),P.isString(s)&&o.push("path="+s),P.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function aL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function db(t,e){return t&&!oL(e)?aL(t,e):e}const Zm=t=>t instanceof Pt?{...t}:t;function ai(t,e){e=e||{};const n={};function s(c,u,d,f){return P.isPlainObject(c)&&P.isPlainObject(u)?P.merge.call({caseless:f},c,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function i(c,u,d,f){if(P.isUndefined(u)){if(!P.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function r(c,u){if(!P.isUndefined(u))return s(void 0,u)}function o(c,u){if(P.isUndefined(u)){if(!P.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(Zm(c),Zm(u),d,!0)};return P.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);P.isUndefined(f)&&d!==a||(n[u]=f)}),n}const fb=t=>{const e=ai({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=Pt.from(o),e.url=ob(db(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ft.hasStandardBrowserEnv&&(s&&P.isFunction(s)&&(s=s(e)),s||s!==!1&&iL(e.url))){const c=i&&r&&rL.read(r);c&&o.set(i,c)}return e},lL=typeof XMLHttpRequest<"u",cL=lL&&function(t){return new Promise(function(n,s){const i=fb(t);let r=i.data;const o=Pt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const g=Pt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};ub(function(B){n(B),m()},function(B){s(B),m()},T),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(s(new pe("Request aborted",pe.ECONNABORTED,t,y)),y=null)},y.onerror=function(){s(new pe("Network Error",pe.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||ab;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new pe(S,T.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&P.forEach(o.toJSON(),function(S,T){y.setRequestHeader(T,S)}),P.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=Xa(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Xa(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=g=>{y&&(s(!g||g.type?new ar(null,t,y):g),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=tL(i.url);if(v&&ft.protocols.indexOf(v)===-1){s(new pe("Unsupported protocol "+v+":",pe.ERR_BAD_REQUEST,t));return}y.send(r||null)})},uL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof pe?u:new ar(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>P.asap(a),l}},dL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},fL=async function*(t,e){for await(const n of hL(t))yield*dL(n,e)},hL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},eg=(t,e,n,s)=>{const i=fL(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hb=Yl&&typeof ReadableStream=="function",pL=Yl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mL=hb&&pb(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),tg=64*1024,Qu=hb&&pb(()=>P.isReadableStream(new Response("").body)),Qa={stream:Qu&&(t=>t.body)};Yl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qa[e]&&(Qa[e]=P.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new pe(`Response type '${e}' is not supported`,pe.ERR_NOT_SUPPORT,s)})})})(new Response);const gL=async t=>{if(t==null)return 0;if(P.isBlob(t))return t.size;if(P.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(P.isArrayBufferView(t)||P.isArrayBuffer(t))return t.byteLength;if(P.isURLSearchParams(t)&&(t=t+""),P.isString(t))return(await pL(t)).byteLength},vL=async(t,e)=>{const n=P.toFiniteNumber(t.getContentLength());return n??gL(e)},yL=Yl&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=fb(t);c=c?(c+"").toLowerCase():"text";let h=uL([i,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&mL&&n!=="get"&&n!=="head"&&(y=await vL(u,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(P.isFormData(s)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){const[B,x]=Xm(y,Xa(Qm(l)));s=eg(T.body,tg,B,x)}}P.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?d:void 0});let v=await fetch(p);const g=Qu&&(c==="stream"||c==="response");if(Qu&&(a||g&&m)){const T={};["status","statusText","headers"].forEach(C=>{T[C]=v[C]});const R=P.toFiniteNumber(v.headers.get("content-length")),[B,x]=a&&Xm(R,Xa(Qm(a),!0))||[];v=new Response(eg(v.body,tg,B,()=>{x&&x(),m&&m()}),T)}c=c||"text";let S=await Qa[P.findKey(Qa,c)||"text"](v,t);return!g&&m&&m(),await new Promise((T,R)=>{ub(T,R,{data:S,headers:Pt.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,t,p),{cause:w.cause||w}):pe.from(w,w&&w.code,t,p)}}),Zu={http:NM,xhr:cL,fetch:yL};P.forEach(Zu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ng=t=>`- ${t}`,_L=t=>P.isFunction(t)||t===null||t===!1,mb={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let o;if(s=n,!_L(n)&&(s=Zu[(o=String(n)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+r]=s}if(!s){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(ng).join(`
`):" "+ng(r[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Zu};function Vc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ar(null,t)}function sg(t){return Vc(t),t.headers=Pt.from(t.headers),t.data=jc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mb.getAdapter(t.adapter||Ro.adapter)(t).then(function(s){return Vc(t),s.data=jc.call(t,t.transformResponse,s),s.headers=Pt.from(s.headers),s},function(s){return cb(s)||(Vc(t),s&&s.response&&(s.response.data=jc.call(t,t.transformResponse,s.response),s.response.headers=Pt.from(s.response.headers))),Promise.reject(s)})}const gb="1.7.9",Jl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const ig={};Jl.transitional=function(e,n,s){function i(r,o){return"[Axios v"+gb+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new pe(i(o," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!ig[o]&&(ig[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};Jl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function wL(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new pe("option "+r+" must be "+l,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+r,pe.ERR_BAD_OPTION)}}const ca={assertOptions:wL,validators:Jl},cn=ca.validators;class qs{constructor(e){this.defaults=e,this.interceptors={request:new Ym,response:new Ym}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ai(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&ca.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),i!=null&&(P.isFunction(i)?n.paramsSerializer={serialize:i}:ca.assertOptions(i,{encode:cn.function,serialize:cn.function},!0)),ca.assertOptions(n,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&P.merge(r.common,r[n.method]);r&&P.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Pt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[sg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=sg.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=ai(this.defaults,e);const n=db(e.baseURL,e.url);return ob(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){qs.prototype[e]=function(n,s){return this.request(ai(s||{},{method:e,url:n,data:(s||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(ai(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}qs.prototype[e]=n(),qs.prototype[e+"Form"]=n(!0)});class sh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new ar(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sh(function(i){e=i}),cancel:e}}}function bL(t){return function(n){return t.apply(null,n)}}function SL(t){return P.isObject(t)&&t.isAxiosError===!0}const ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ed).forEach(([t,e])=>{ed[e]=t});function vb(t){const e=new qs(t),n=Kw(qs.prototype.request,e);return P.extend(n,qs.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return vb(ai(t,i))},n}const We=vb(Ro);We.Axios=qs;We.CanceledError=ar;We.CancelToken=sh;We.isCancel=cb;We.VERSION=gb;We.toFormData=Kl;We.AxiosError=pe;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=bL;We.isAxiosError=SL;We.mergeConfig=ai;We.AxiosHeaders=Pt;We.formToJSON=t=>lb(P.isHTMLForm(t)?new FormData(t):t);We.getAdapter=mb.getAdapter;We.HttpStatusCode=ed;We.default=We;const EL="/right_arrow.svg",Xl={__name:"BackLink",setup(t){const e=Ji(),n=()=>e.go(-1);return(s,i)=>(A(),H("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},i[0]||(i[0]=[E("img",{src:EL,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function rg(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ih(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:rg(e[n])&&rg(t[n])&&Object.keys(e[n]).length>0&&ih(t[n],e[n])})}const yb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gi(){const t=typeof document<"u"?document:{};return ih(t,yb),t}const TL={document:yb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function $t(){const t=typeof window<"u"?window:{};return ih(t,TL),t}function CL(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function IL(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function td(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Gs(){return Date.now()}function xL(t){const e=$t();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function kL(t,e){e===void 0&&(e="x");const n=$t();let s,i,r;const o=xL(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function Ho(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function PL(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Nt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!PL(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(Ho(t[a])&&Ho(s[a])?s[a].__swiper__?t[a]=s[a]:Nt(t[a],s[a]):!Ho(t[a])&&Ho(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Nt(t[a],s[a])):t[a]=s[a])}}}return t}function Wo(t,e,n){t.style.setProperty(e,n)}function _b(t){let{swiper:e,targetPosition:n,side:s}=t;const i=$t(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function gn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function AL(t,e){var s,i;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((s=r.shadowRoot)==null?void 0:s.children)||[],...((i=r.assignedElements)==null?void 0:i.call(r))||[])}}function RL(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=AL(t,e))),n}function Za(t){try{console.warn(t);return}catch{}}function el(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:CL(e)),n}function OL(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function NL(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function cs(t,e){return $t().getComputedStyle(t,null).getPropertyValue(e)}function tl(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function wb(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function Hc(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function nd(t,e,n){const s=$t();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function tt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function bb(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=gn(t.el,`.${s[i]}`)[0];r||(r=el("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function ML(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const y=e.params.navigation;p=tt(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...y.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=bb(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),y=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:y}),m=tt(m),y=tt(y);const w=(v,g)=>{v&&v.addEventListener("click",g==="next"?c:l),!e.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};m.forEach(v=>w(v,"next")),y.forEach(v=>w(v,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=tt(p),m=tt(m);const y=(w,v)=>{w.removeEventListener("click",v==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>y(w,"next")),m.forEach(w=>y(w,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=tt(p),m=tt(m),e.enabled){a();return}[...p,...m].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:y,prevEl:w}=e.navigation;y=tt(y),w=tt(w);const v=m.target;let g=w.includes(v)||y.includes(v);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(T=>y.includes(T)||w.includes(T)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let S;y.length?S=y[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...y,...w].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function wr(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function LL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(v,g){const{bulletActiveClass:S}=e.params.pagination;v&&(v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${S}-${g}`),v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${S}-${g}-${g}`)))}function u(v,g,S){if(v=v%S,g=g%S,g===v+1)return"next";if(g===v-1)return"previous"}function d(v){const g=v.target.closest(wr(e.params.pagination.bulletClass));if(!g)return;v.preventDefault();const S=tl(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=u(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const v=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=tt(S);let T,R;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,x=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(R=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,R=e.previousSnapIndex):(R=e.previousIndex||0,T=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let k,U,J;if(g.dynamicBullets&&(o=nd(C[0],e.isHorizontal()?"width":"height"),S.forEach(V=>{V.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&R!==void 0&&(a+=T-(R||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),k=Math.max(T-a,0),U=k+(Math.min(C.length,g.dynamicMainBullets)-1),J=(U+k)/2),C.forEach(V=>{const ee=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${g.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();V.classList.remove(...ee)}),S.length>1)C.forEach(V=>{const ee=tl(V);ee===T?V.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&V.setAttribute("part","bullet"),g.dynamicBullets&&(ee>=k&&ee<=U&&V.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),ee===k&&c(V,"prev"),ee===U&&c(V,"next"))});else{const V=C[T];if(V&&V.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&C.forEach((ee,re)=>{ee.setAttribute("part",re===T?"bullet-active":"bullet")}),g.dynamicBullets){const ee=C[k],re=C[U];for(let se=k;se<=U;se+=1)C[se]&&C[se].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(ee,"prev"),c(re,"next")}}if(g.dynamicBullets){const V=Math.min(C.length,g.dynamicMainBullets+4),ee=(o*V-o)/2-J*o,re=v?"right":"left";C.forEach(se=>{se.style[e.isHorizontal()?re:"top"]=`${ee}px`})}}S.forEach((C,k)=>{if(g.type==="fraction"&&(C.querySelectorAll(wr(g.currentClass)).forEach(U=>{U.textContent=g.formatFractionCurrent(T+1)}),C.querySelectorAll(wr(g.totalClass)).forEach(U=>{U.textContent=g.formatFractionTotal(x)})),g.type==="progressbar"){let U;g.progressbarOpposite?U=e.isHorizontal()?"vertical":"horizontal":U=e.isHorizontal()?"horizontal":"vertical";const J=(T+1)/x;let V=1,ee=1;U==="horizontal"?V=J:ee=J,C.querySelectorAll(wr(g.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${ee})`,re.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(C.innerHTML=g.renderCustom(e,T+1,x),k===0&&i("paginationRender",C)):(k===0&&i("paginationRender",C),i("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const v=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=tt(S);let T="";if(v.type==="bullets"){let R=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&R>g&&(R=g);for(let B=0;B<R;B+=1)v.renderBullet?T+=v.renderBullet.call(e,B,v.bulletClass):T+=`<${v.bulletElement} ${e.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?T=v.renderFraction.call(e,v.currentClass,v.totalClass):T=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?T=v.renderProgressbar.call(e,v.progressbarFillClass):T=`<span class="${v.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(R=>{v.type!=="custom"&&(R.innerHTML=T||""),v.type==="bullets"&&e.pagination.bullets.push(...R.querySelectorAll(wr(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=bb(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const v=e.params.pagination;if(!v.el)return;let g;typeof v.el=="string"&&e.isElement&&(g=e.el.querySelector(v.el)),!g&&typeof v.el=="string"&&(g=[...document.querySelectorAll(v.el)]),g||(g=v.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(v.el)],g.length>1&&(g=g.find(S=>wb(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=tt(g),g.forEach(S=>{v.type==="bullets"&&v.clickable&&S.classList.add(...(v.clickableClass||"").split(" ")),S.classList.add(v.modifierClass+v.type),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.classList.add(v.progressbarOppositeClass),v.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(v.lockClass)}))}function m(){const v=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=tt(g),g.forEach(S=>{S.classList.remove(v.hiddenClass),S.classList.remove(v.modifierClass+v.type),S.classList.remove(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(S.classList.remove(...(v.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...v.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const v=e.params.pagination;let{el:g}=e.pagination;g=tt(g),g.forEach(S=>{S.classList.remove(v.horizontalClass,v.verticalClass),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?w():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(v,g)=>{const S=g.target,T=tt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const R=T[0].classList.contains(e.params.pagination.hiddenClass);i(R===!0?"paginationShow":"paginationHide"),T.forEach(B=>B.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:w,render:h,update:f,init:p,destroy:m})}function Sb(t){let{swiper:e,extendParams:n,emit:s,once:i}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Gs()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,y=Gs()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const x=p.velocities.pop(),C=p.velocities.pop(),k=x.position-C.position,U=x.time-C.time;e.velocity=k/U,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(U>150||Gs()-x.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const v=e.velocity*w;let g=e.translate+v;f&&(g=-g);let S=!1,T;const R=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let B;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-R&&(g=e.maxTranslate()-R),T=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&(B=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>R&&(g=e.minTranslate()+R),T=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&(B=!0);else if(u.freeMode.sticky){let x;for(let C=0;C<h.length;C+=1)if(h[C]>-g){x=C;break}Math.abs(h[x]-g)<Math.abs(h[x-1]-g)||e.swipeDirection==="next"?g=h[x]:g=h[x-1],g=-g}if(B&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-g-e.translate)/e.velocity):w=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const x=Math.abs((f?-g:g)-e.translate),C=e.slidesSizesGrid[e.activeIndex];x<C?w=u.speed:x<2*C?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(T),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Hc(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(s("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),Hc(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Hc(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&s("_freeModeNoMomentumRelease");(!u.freeMode.momentum||y>=u.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Wc;function DL(){const t=$t(),e=gi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Eb(){return Wc||(Wc=DL()),Wc}let zc;function FL(t){let{userAgent:e}=t===void 0?{}:t;const n=Eb(),s=$t(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Tb(t){return t===void 0&&(t={}),zc||(zc=FL(t)),zc}let qc;function $L(){const t=$t(),e=Tb();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function BL(){return qc||(qc=$L()),qc}function UL(t){let{swiper:e,on:n,emit:s}=t;const i=$t();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(y=>{let{contentBoxSize:w,contentRect:v,target:g}=y;g&&g!==e.el||(p=v?v.width:(w[0]||w).inlineSize,m=v?v.height:(w[0]||w).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function jL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=$t(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=wb(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var VL={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function HL(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(cs(s,"padding-left")||0,10)-parseInt(cs(s,"padding-right")||0,10),n=n-parseInt(cs(s,"padding-top")||0,10)-parseInt(cs(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function WL(){const t=this;function e(k,U){return parseFloat(k.getPropertyValue(t.getDirectionLabel(U))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=gn(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,v=t.slidesGrid.length;let g=n.spaceBetween,S=-m,T=0,R=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(k=>{o?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Wo(s,"--swiper-centered-offset-before",""),Wo(s,"--swiper-centered-offset-after",""));const B=n.grid&&n.grid.rows>1&&t.grid;B?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let x;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<d;k+=1){x=0;let U;if(u[k]&&(U=u[k]),B&&t.grid.updateSlide(k,U,u),!(u[k]&&cs(U,"display")==="none")){if(n.slidesPerView==="auto"){C&&(u[k].style[t.getDirectionLabel("width")]="");const J=getComputedStyle(U),V=U.style.transform,ee=U.style.webkitTransform;if(V&&(U.style.transform="none"),ee&&(U.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?nd(U,"width"):nd(U,"height");else{const re=e(J,"width"),se=e(J,"padding-left"),ie=e(J,"padding-right"),we=e(J,"margin-left"),mt=e(J,"margin-right"),Et=J.getPropertyValue("box-sizing");if(Et&&Et==="border-box")x=re+we+mt;else{const{clientWidth:me,offsetWidth:ge}=U;x=re+se+ie+we+mt+(ge-me)}}V&&(U.style.transform=V),ee&&(U.style.webkitTransform=ee),n.roundLengths&&(x=Math.floor(x))}else x=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),u[k]&&(u[k].style[t.getDirectionLabel("width")]=`${x}px`);u[k]&&(u[k].swiperSlideSize=x),p.push(x),n.centeredSlides?(S=S+x/2+T/2+g,T===0&&k!==0&&(S=S-r/2-g),k===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),R%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+x+g),t.virtualSize+=x+g,T=x,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),B&&t.grid.updateWrapperSize(x,f),!n.centeredSlides){const k=[];for(let U=0;U<f.length;U+=1){let J=f[U];n.roundLengths&&(J=Math.floor(J)),f[U]<=t.virtualSize-r&&k.push(J)}f=k,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const k=p[0]+g;if(n.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),J=k*n.slidesPerGroup;for(let V=0;V<U;V+=1)f.push(f[f.length-1]+J)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+k),h.push(h[h.length-1]+k),t.virtualSize+=k}if(f.length===0&&(f=[0]),g!==0){const k=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((U,J)=>!n.cssMode||n.loop?!0:J!==u.length-1).forEach(U=>{U.style[k]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const U=k>r?k-r:0;f=f.map(J=>J<=0?-m:J>U?U+y:J)}if(n.centerInsufficientSlides){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const U=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+U<r){const J=(r-k-U)/2;f.forEach((V,ee)=>{f[ee]=V-J}),h.forEach((V,ee)=>{h[ee]=V+J})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Wo(s,"--swiper-centered-offset-before",`${-f[0]}px`),Wo(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const k=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(J=>J+k),t.slidesGrid=t.slidesGrid.map(J=>J+U)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,U=t.el.classList.contains(k);d<=n.maxBackfaceHiddenSlides?U||t.el.classList.add(k):U&&t.el.classList.remove(k)}}function zL(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function qL(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const og=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function GL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),og(c,y,n.slideVisibleClass),og(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function KL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Gc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function YL(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>gn(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=NL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=OL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Gc(d,d===l,n.slideActiveClass),Gc(d,d===u,n.slideNextClass),Gc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ua=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Kc=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},sd=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Kc(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&Kc(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&Kc(t,o)};function JL(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function XL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=JL(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&sd(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function QL(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var ZL={updateSize:HL,updateSlides:WL,updateAutoHeight:zL,updateSlidesOffset:qL,updateSlidesProgress:GL,updateProgress:KL,updateSlidesClasses:YL,updateActiveIndex:XL,updateClickedSlide:QL};function eD(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=kL(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function tD(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function nD(){return-this.snapGrid[0]}function sD(){return-this.snapGrid[this.snapGrid.length-1]}function iD(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return _b({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var rD={getTranslate:eD,setTranslate:tD,minTranslate:nD,maxTranslate:sD,translateTo:iD};function oD(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Cb(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function aD(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Cb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function lD(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Cb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var cD={setTransition:oD,transitionStart:aD,transitionEnd:lD};function uD(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const w=-l[y];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const R=-Math.floor(w*100),B=Math.floor(c[T]*100),x=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?R>=B&&R<x-(x-B)/2?o=T:R>=B&&R<x&&(o=T+1):R>=B&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let v;o>d?v="next":o<d?v="prev":v="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&i)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(a.cssMode){const T=r.isHorizontal(),R=f?w:-w;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[T?"scrollLeft":"scrollTop"]=R})):h[T?"scrollLeft":"scrollTop"]=R,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return _b({swiper:r,targetPosition:R,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:R,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,v),e===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(R){!r||r.destroyed||R.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function dD(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function fD(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function hD(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const h=f(d),p=r.map(w=>f(w));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let w;r.forEach((v,g)=>{h>=v&&(w=g)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let y=0;if(typeof m<"u"&&(y=o.indexOf(m),y<0&&(y=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&s.isBeginning){const w=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(w,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,e,n)}),!0;return s.slideTo(y,t,e,n)}function pD(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function mD(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function gD(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(gn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),td(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(gn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),td(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var vD={slideTo:uD,slideToLoop:dD,slideNext:fD,slidePrev:hD,slideReset:pD,slideToClosest:mD,slideToClickedSlide:gD};function yD(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{gn(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?el("swiper-slide",[n.slideBlankClass]):el("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else Za("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Za("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function _D(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const y=h.slidesPerGroupAuto?m:h.slidesPerGroup;let w=y;w%y!==0&&(w+=y-w%y),w+=h.loopAdditionalSlides,l.loopedSlides=w;const v=l.grid&&h.grid&&h.grid.rows>1;c.length<m+w?Za("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&h.grid.fill==="row"&&Za("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(V=>V.classList.contains(h.slideActiveClass))):T=r;const R=s==="next"||!s,B=s==="prev"||!s;let x=0,C=0;const k=v?Math.ceil(c.length/h.grid.rows):c.length,J=(v?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(J<w){x=Math.max(w-J,y);for(let V=0;V<w-J;V+=1){const ee=V-Math.floor(V/k)*k;if(v){const re=k-ee-1;for(let se=c.length-1;se>=0;se-=1)c[se].column===re&&g.push(se)}else g.push(k-ee-1)}}else if(J+m>k-w){C=Math.max(J-(k-w*2),y);for(let V=0;V<C;V+=1){const ee=V-Math.floor(V/k)*k;v?c.forEach((re,se)=>{re.column===ee&&S.push(se)}):S.push(ee)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),B&&g.forEach(V=>{c[V].swiperLoopMoveDOM=!0,f.prepend(c[V]),c[V].swiperLoopMoveDOM=!1}),R&&S.forEach(V=>{c[V].swiperLoopMoveDOM=!0,f.append(c[V]),c[V].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():v&&(g.length>0&&B||S.length>0&&R)&&l.slides.forEach((V,ee)=>{l.grid.updateSlide(ee,V,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&B){if(typeof e>"u"){const V=l.slidesGrid[T],re=l.slidesGrid[T+x]-V;a?l.setTranslate(l.translate-re):(l.slideTo(T+Math.ceil(x),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else if(i){const V=v?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+V,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&R)if(typeof e>"u"){const V=l.slidesGrid[T],re=l.slidesGrid[T-C]-V;a?l.setTranslate(l.translate-re):(l.slideTo(T-C,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else{const V=v?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-V,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const V={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(ee=>{!ee.destroyed&&ee.params.loop&&ee.loopFix({...V,slideTo:ee.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...V,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function wD(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var bD={loopCreate:yD,loopFix:_D,loopDestroy:wD};function SD(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function ED(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var TD={setGrabCursor:SD,unsetGrabCursor:ED};function CD(t,e){e===void 0&&(e=this);function n(s){if(!s||s===gi()||s===$t())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function ag(t,e,n){const s=$t(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function ID(t){const e=this,n=gi();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){ag(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!RL(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?CD(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!ag(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=Gs(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const y=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function xD(t){const e=gi(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=Gs());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const w=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(w&&v&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&y!==n.touchesDirection&&w&&v&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let g=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(w&&v&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**S))):p<0&&(w&&v&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function kD(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(T=>T.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Gs(),f=d-n.touchStartTime;if(e.allowClick){const T=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(T&&T[0]||s.target,T),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Gs(),td(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,y=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+R]<"u"?(p||h>=c[T]&&h<c[T+R])&&(m=T,y=c[T+R]-c[T]):(p||h>=c[T])&&(m=T,y=c[c.length-1]-c[c.length-2])}let w=null,v=null;o.rewind&&(e.isBeginning?v=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(h-c[m])/y,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):v!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(v):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+S),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:m))}}function lg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function PD(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function AD(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function RD(t){const e=this;ua(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function OD(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Ib=(t,e)=>{const n=gi(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",lg,!0):t[c]("observerUpdate",lg,!0),i[l]("load",t.onLoad,{capture:!0}))};function ND(){const t=this,{params:e}=t;t.onTouchStart=ID.bind(t),t.onTouchMove=xD.bind(t),t.onTouchEnd=kD.bind(t),t.onDocumentTouchStart=OD.bind(t),e.cssMode&&(t.onScroll=AD.bind(t)),t.onClick=PD.bind(t),t.onLoad=RD.bind(t),Ib(t,"on")}function MD(){Ib(this,"off")}var LD={attachEvents:ND,detachEvents:MD};const cg=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function DD(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=gi(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=cg(t,s),h=cg(t,d),p=t.params.grabCursor,m=d.grabCursor,y=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof d[R]>"u")return;const B=s[R]&&s[R].enabled,x=d[R]&&d[R].enabled;B&&!x&&t[R].disable(),!B&&x&&t[R].enable()});const w=d.direction&&d.direction!==s.direction,v=s.loop&&(d.slidesPerView!==s.slidesPerView||w),g=s.loop;w&&n&&t.changeDirection(),Nt(t.params,d);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!S?t.disable():!y&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&T?(t.loopCreate(e),t.updateSlides()):g&&!T&&t.loopDestroy()),t.emit("breakpoint",d)}function FD(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=$t(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var $D={setBreakpoint:DD,getBreakpoint:FD};function BD(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function UD(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=BD(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function jD(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var VD={addClasses:UD,removeClasses:jD};function HD(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var WD={checkOverflow:HD},id={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function zD(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){Nt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Nt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Nt(e,s)}}const Yc={eventsEmitter:VL,update:ZL,translate:rD,transition:cD,slide:vD,loop:bD,grabCursor:TD,events:LD,breakpoints:$D,checkOverflow:WD,classes:VD},Jc={};let rh=class xn{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Nt({},n),e&&!n.el&&(n.el=e);const o=gi();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Nt({},n,{el:d});u.push(new xn(f))}),u}const a=this;a.__swiper__=!0,a.support=Eb(),a.device=Tb({userAgent:n.userAgent}),a.browser=BL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:zD(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Nt({},id,l);return a.params=Nt({},c,Jc,n),a.originalParams=Nt({},a.params),a.passedParams=Nt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=gn(n,`.${s.slideClass}, swiper-slide`),r=tl(i[0]);return tl(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=gn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ua(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):gn(s,i())[0];return!o&&n.params.createElements&&(o=el("div",n.params.wrapperClass),s.append(o),gn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||cs(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||cs(s,"direction")==="rtl"),wrongRTL:cs(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?ua(n,r):r.addEventListener("load",o=>{ua(n,o.target)})}),sd(n),n.initialized=!0,sd(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),IL(s)),s.destroyed=!0),null}static extendDefaults(e){Nt(Jc,e)}static get extendedDefaults(){return Jc}static get defaults(){return id}static installModule(e){xn.prototype.__modules__||(xn.prototype.__modules__=[]);const n=xn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>xn.installModule(n)),xn):(xn.installModule(e),xn)}};Object.keys(Yc).forEach(t=>{Object.keys(Yc[t]).forEach(e=>{rh.prototype[e]=Yc[t][e]})});rh.use([UL,jL]);const xb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function li(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Di(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:li(e[s])&&li(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Di(t[s],e[s]):t[s]=e[s]})}function kb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Pb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Ab(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Rb(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function qD(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function GD(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let y,w,v,g,S,T,R,B;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(v=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const x=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?T=!0:!u.loop&&s.loop?R=!0:B=!0),c.forEach(C=>{if(li(u[C])&&li(s[C]))Object.assign(u[C],s[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in s[C]&&!s[C].enabled&&x(C);else{const k=s[C];(k===!0||k===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?k===!1&&x(C):u[C]=s[C]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(B=!0),y&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(T||B)&&e.loopDestroy(),(R||B)&&e.loopCreate(),e.update()}function ug(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};Di(n,id),n._emitClasses=!0,n.init=!1;const r={},o=xb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?li(t[l])?(n[l]={},i[l]={},Di(n[l],t[l]),Di(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function KD(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;kb(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Pb(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Ab(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function YD(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return xb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(li(t[l])&&li(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const JD=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Xc(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function XD(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return Ee(u.type,{...u.props},u.children);if(u.componentOptions)return Ee(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const oh={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=F("swiper"),a=F(null),l=F(!1),c=F(!1),u=F(null),d=F(null),f=F(null),h={value:[]},p={value:[]},m=F(null),y=F(null),w=F(null),v=F(null),{params:g,passedParams:S}=ug(t);Xc(n,h,p),f.value=S,p.value=h.value;const T=()=>{Xc(n,h,p),l.value=!0};g.onAny=function(x){for(var C=arguments.length,k=new Array(C>1?C-1:0),U=1;U<C;U++)k[U-1]=arguments[U];s(x,...k)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(x,C){o.value=C}});const R={...g};if(delete R.wrapperClass,d.value=new rh(R),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const x={cache:!1,slides:h.value,renderExternal:C=>{a.value=C},renderExternalUpdate:!1};Di(d.value.params.virtual,x),Di(d.value.originalParams.virtual,x)}Id(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:x}=ug(t),C=YD(x,f.value,h.value,p.value,k=>k.props&&k.props.key);f.value=x,(C.length||l.value)&&d.value&&!d.value.destroyed&&GD({swiper:d.value,slides:h.value,passedParams:x,changedParams:C,nextEl:m.value,prevEl:y.value,scrollbarEl:v.value,paginationEl:w.value}),l.value=!1}),ht("swiper",d),ot(a,()=>{Ki(()=>{JD(d.value)})}),ke(()=>{u.value&&(KD({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:w.value,scrollbarEl:v.value,swiper:d.value},g),s("swiper",d.value))}),xd(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function B(x){return g.virtual?XD(d,x,a.value):(x.forEach((C,k)=>{C.props||(C.props={}),C.props.swiperRef=d,C.props.swiperSlideIndex=k}),x)}return()=>{const{slides:x,slots:C}=Xc(n,h,p);return Ee(i,{ref:u,class:Rb(o.value)},[C["container-start"],Ee(r,{class:qD(g.wrapperClass)},[C["wrapper-start"],B(x),C["wrapper-end"]]),kb(t)&&[Ee("div",{ref:y,class:"swiper-button-prev"}),Ee("div",{ref:m,class:"swiper-button-next"})],Ab(t)&&Ee("div",{ref:v,class:"swiper-scrollbar"}),Pb(t)&&Ee("div",{ref:w,class:"swiper-pagination"}),C["container-end"]])}}},ah={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=F(null),o=F("swiper-slide"),a=F(!1);function l(d,f,h){f===r.value&&(o.value=h)}ke(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Cd(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Id(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),xd(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=Q(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));ht("swiperSlide",c);const u=()=>{a.value=!0};return()=>Ee(t.tag,{class:Rb(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Ee("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})])}},QD={class:"relative"},ZD=["src","alt"],eF={class:"text-xs mb-1"},tF={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(A(),H("div",QD,[$(L(bl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:te(()=>[E("div",{class:xe(["mb-1 image bg-contain",t.size])},[E("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,ZD)],2),E("h3",eF,ce(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},rd={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[Sb];return(n,s)=>(A(),he(L(oh),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:te(()=>[(A(!0),H(Oe,null,Yi(t.films,i=>(A(),he(L(ah),{key:i.kinopoiskId?i.kinopoiskId:i.filmId,class:"flex-1"},{default:te(()=>[$(tF,{film:i.item?i.item:i},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},nF="/arrow.svg",Oo={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,s)=>(A(),H("div",{class:"fixed bottom-20 right-7 inline-block p-2 rounded-md z-50 mb-1 cursor-pointer bg-gray-600 bg-opacity-50 backdrop-blur-sm",onClick:e},s[0]||(s[0]=[E("img",{src:nF,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},sF={class:"flex justify-between mb-3 pt-0.5"},iF={class:"text-lg font-semibold"},_n={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(A(),H("div",sF,[E("h2",iF,ce(t.title),1),t.showAll?(A(),he(L(bl),{key:0,to:{name:t.link},class:"text-orange-600 font-semibold flex gap-1.5 pt-1"},{default:te(()=>n[0]||(n[0]=[E("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):Me("",!0)]))}},rF={class:"w-20 h-20 rounded-full flex items-center overflow-hidden mb-1"},oF=["src","alt"],aF={class:"text-xs mb-1"},lF={key:0,class:"text-xs mb-1 text-gray-500"},cF={key:1,class:"text-xs mb-1 text-gray-500"},uF={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>(A(),H("div",null,[E("div",rF,[E("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,oF)]),E("h3",aF,ce(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(A(),H("h3",lF,"Режиссер")):Me("",!0),t.staffItem.description?(A(),H("h3",cF,ce(t.staffItem.description),1)):Me("",!0)]))}},dF={__name:"StaffList",props:{staffList:Array},setup(t){const e=[Sb];return(n,s)=>(A(),he(L(oh),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:te(()=>[(A(!0),H(Oe,null,Yi(t.staffList.slice(0,10),i=>(A(),he(L(ah),{key:i.staffId,class:"flex-1"},{default:te(()=>[$(uF,{staffItem:i},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},lh=_o("favoritesStore",()=>{const t=F([]),e=Co(),n=ws();return{favorites:t,getFavorites:()=>{ms(n,o=>{if(o){console.log(o);const a=F_(Dt(e,`users/${o.uid}/favorites`),D_("date"));zs(a,l=>{const c=[];l.forEach(u=>{c.push(u.val())}),t.value=c.reverse(),console.log(t.value)},l=>{console.log(l)})}else console.log("User logged out")})},addToFavorites:(o,a)=>{const l=new Date().getTime();o.isFavorite=!0,Pf(Dt(e,"users/"+n.currentUser.uid+"/favorites/"+a),{nameRu:o.nameRu?o.nameRu:o.nameOriginal,genres:o.genres,year:o.year,posterUrl:o.posterUrl,id:+a,isFavorite:!0,isWatched:!1,date:l}).then(()=>console.log("Добавлено")).catch(c=>console.log(c))},removeFromFavorites:(o,a)=>{o&&(o.isFavorite=!1),Vu(Dt(e,"users/"+n.currentUser.uid+"/favorites/"+a)).then(()=>console.log("Удалено")).catch(l=>console.log(l))}}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fF=t=>typeof t<"u";function hF(t){return JSON.parse(JSON.stringify(t))}function pF(t,e,n,s={}){var i,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=s,h=di(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const y=g=>a?typeof a=="function"?a(g):hF(g):g,w=()=>fF(t[e])?y(t[e]):d,v=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=w(),S=F(g);let T=!1;return ot(()=>t[e],R=>{T||(T=!0,S.value=y(R),Ki(()=>T=!1))}),ot(S,R=>{!T&&(R!==t[e]||u)&&v(R)},{deep:u}),S}else return Q({get(){return w()},set(g){v(g)}})}const mF=t=>(zS("data-v-8a63990a"),t=t(),qS(),t),gF=mF(()=>E("div",{class:"swipe-modal-drag-handle"},null,-1)),vF=Ye({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){JE(x=>({ef0a5750:L(a)}));const n=t,s=e,i=F(null),r=F(null),o=pF(n,"modelValue",s),a=F("-100%"),l=F(!1),c=F(0),u=F(0),d=F("close"),f=Q(()=>{var x;return n.snapPoint?n.snapPoint==="auto"?`calc(${((x=r.value)==null?void 0:x.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:x,touchEvent:C,eventType:k})=>{k==="mouse"?c.value=x.y:c.value=C.touches[0].clientY,l.value=!0},p=({mouseEvent:x,touchEvent:C,eventType:k})=>{var U,J;if(l.value&&(k==="mouse"?u.value=c.value-x.y:u.value=c.value-C.touches[0].clientY,!(u.value>0&&d.value==="full"||(((U=i.value)==null?void 0:U.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(J=i.value)==null||J.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var x;if(l.value=!1,(x=i.value)==null||x.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?w():n.isPersistent?y():o.value=!1;case"snap":return n.isPersistent?y():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?v():y();default:return}}return y()},y=()=>{if(!i.value)return;const x=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";i.value.animate([{bottom:a.value},{bottom:x()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=x()}},w=()=>{i.value&&n.snapPoint&&(i.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},v=()=>{i.value&&(i.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=x=>{if(n.isBackdrop&&x.target===x.currentTarget){if(n.isPersistent)return y();o.value=!1}},S=x=>{x.stopPropagation()},T=()=>{var x;i.value&&(n.isBackdrop?i.value.showModal():i.value.show(),(x=i.value)==null||x.style.setProperty("visibility","visible"),i.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&B("hidden")})},R=()=>{i.value&&(i.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var x,C,k;a.value="-100%",d.value="close",l.value=!1,(x=i.value)==null||x.close(),(C=i.value)==null||C.style.setProperty("display","initial"),(k=i.value)==null||k.style.setProperty("visibility","hidden"),B("reset")})},B=x=>{if(x==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let C=window,k,U,J;document.defaultView?(C=document.defaultView,k=C.scrollX,U=C.scrollY):(J=document.documentElement,k=J.scrollLeft,U=J.scrollTop),document.documentElement.style.overflow=x,document.documentElement.style.overscrollBehaviorY=x==="auto"?"auto":"none",C.scrollTo(k,U)};return ot(()=>o.value,x=>{x?T():R()}),ot(()=>n.isScrollLock,x=>{B(x?"hidden":"auto")}),ke(()=>{i.value&&(o.value||(i.value.style.setProperty("display","initial"),i.value.style.setProperty("visibility","hidden")))}),(x,C)=>(A(),H("dialog",{ref_key:"modalRef",ref:i,class:"swipe-modal modal-style",onClick:g},[E("div",{tabindex:"-1",class:"swipe-modal-content",onClick:S},[E("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:C[0]||(C[0]=k=>h({mouseEvent:k,eventType:"mouse"})),onMousemove:C[1]||(C[1]=k=>p({mouseEvent:k,eventType:"mouse"})),onMouseup:m,onTouchstart:C[2]||(C[2]=k=>h({touchEvent:k,eventType:"touch"})),onTouchmove:C[3]||(C[3]=k=>p({touchEvent:k,eventType:"touch"})),onTouchend:m},[x.isDragHandle?dn(x.$slots,"drag-handle",{key:0},()=>[gF],!0):Me("",!0)],32),E("div",{ref_key:"panelRef",ref:r,class:"panel"},[dn(x.$slots,"default",{},void 0,!0)],512)])],512))}}),yF=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Ob=yF(vF,[["__scopeId","data-v-8a63990a"]]),_F={class:"px-2 pb-8 text-sm text-white"},wF=Ye({__name:"Swiper",props:{openText:{type:String,required:!0},shortDescription:{type:String,required:!1},description:{type:String,required:!1}},setup(t){const e=F(!1);return(n,s)=>(A(),H(Oe,null,[E("p",{class:"text-orange-600 text-sm text-end",onClick:s[0]||(s[0]=i=>e.value=!0)},ce(t.openText),1),$(L(Ob),{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=i=>e.value=i),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1},{default:te(()=>[E("div",_F,ce(t.description),1)]),_:1},8,["modelValue"])],64))}}),No=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},bF=No(wF,[["__scopeId","data-v-be89b96d"]]),SF={key:1,class:"bg-white"},EF={class:"flex justify-center fixed -z-10 -mt-96 pt-5"},TF=["src","alt"],CF={class:"container mt-96 mx-auto pb-4 relative"},IF={class:"fixed z-50 top-4 left-4"},xF={class:"flex flex-col gap-2 w-full justify-between"},kF={class:"text-xl text-center"},PF={class:"self-center"},AF={class:"flex justify-center items-start gap-2 mb-1 px-1"},RF={class:"text-slate-400 text-sm text-center"},OF={class:"flex gap-4 justify-center items-center"},NF={key:0,class:"text-sm text-center"},MF={key:1,class:"text-sm"},LF={key:2,class:"text-gray-500 text-sm"},DF={key:3,class:"text-black text-xs font-semibold w-8 border border-black rounded-md box-border h-5 flex justify-center items-center"},FF={class:"flex items-center justify-around bg-gradient-to-r from-orange-300 via-orange-600 to-fray-400 bg-opacity-10 mt-3 rounded-sm"},$F=["href"],BF={class:"container p-2"},UF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},jF={class:"py-4"},VF={class:"text-sm font-bold mb-2"},HF={class:"flex flex-col items-center justify-center bg-gray-300 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},WF={key:0,class:"text-md text-gray-600 font-bold"},zF={class:"text-sm text-center mb-2"},qF=["href"],GF={key:0,class:"container p-2"},KF={__name:"Item",setup(t){const e=lh(),n=F(!0),i=bT().params.id,r=F({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),o=F([]),a=F([]),l=F(!1),c="9e52d931-b757-457b-a1ea-0d872ae51d51",u=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${p}`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});e.favorites.find(w=>w.id===+p)?r.value={...m,isFavorite:!0}:r.value={...m,isFavorite:!1}},d=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${p}/similars`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});o.value=m.items},f=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${p}`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});a.value=m},h=p=>{n.value=!0,u(p),d(p),f(p),n.value=!1};return ke(()=>{e.getFavorites(),h(i),window.scrollTo({top:0,behavior:"smooth"})}),fT((p,m)=>{p.params.id!==m.params.id&&(h(p.params.id),l.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),El({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(p,m)=>{const y=Ts("metainfo");return A(),H(Oe,null,[$(y,null,{title:te(()=>[Be(ce(r.value.nameRu),1)]),meta:te(()=>[Be(ce(r.value.shortDescription?r.value.shortDescription:r.value.description),1)]),_:1}),n.value?(A(),he(Yn,{key:0,"full-screen":!0})):(A(),H("main",SF,[E("div",EF,[E("img",{class:"w-1/2",src:r.value.posterUrl,alt:r.value.nameRu?r.value.nameRu:r.value.nameOriginal},null,8,TF)]),E("section",CF,[m[2]||(m[2]=E("div",{class:"absolute -top-20 bg-gradient-to-t from-white to-transparent w-full h-20 z-30"},null,-1)),E("div",IF,[$(Xl)]),E("div",xF,[E("h1",kF,ce(r.value.nameRu?r.value.nameRu:r.value.nameOriginal),1),E("div",PF,[E("div",AF,[E("div",{class:xe([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-600":r.value.ratingKinopoisk>5?"text-gray-400":"text-red-600":"text-gray-400","text-sm font-semibold text-center min-w-10 rounded-sm"])},ce(r.value.ratingKinopoisk?r.value.ratingKinopoisk:"нет рейтинга"),3)]),E("p",RF,ce(r.value.genres.reduce((w,v)=>v.genre+", "+w,""))+" "+ce(r.value.countries[0]?r.value.countries[0].country:r.value.countries.country),1)]),E("div",OF,[r.value.startYear?(A(),H("div",NF,ce(r.value.startYear)+"-"+ce(r.value.endYear?r.value.endYear:"н.в."),1)):(A(),H("div",MF,ce(r.value.year),1)),r.value.filmLength?(A(),H("div",LF,ce(r.value.filmLength)+" мин. ",1)):Me("",!0),r.value.ratingAgeLimits?(A(),H("div",DF,ce(r.value.ratingAgeLimits.split("age")[1])+"+ ",1)):Me("",!0)])]),E("div",FF,[E("div",{class:"p-2 flex flex-col items-center justify-center",onClick:m[0]||(m[0]=w=>r.value.isFavorite?L(e).removeFromFavorites(r.value,L(i)):L(e).addToFavorites(r.value,L(i)))},[$(L(Bd),{class:xe(["w-6",r.value.isFavorite?"text-orange-600 fill-orange-600":"text-white"]),alt:"home"},null,8,["class"]),m[1]||(m[1]=E("span",{class:"text-xs text-center text-white"},[Be("Буду "),E("br"),Be("смотреть")],-1))]),E("a",{href:r.value.webUrl,class:"my-2 text-sm rounded-full text-white bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,$F)])]),E("section",BF,[$(_n,{title:"Актеры и съемочная группа"}),$(dF,{"staff-list":a.value},null,8,["staff-list"])]),E("section",null,[E("div",UF,[E("div",jF,[E("p",VF,ce(r.value.shortDescription),1),r.value.shortDescription?(A(),he(bF,{key:0,"open-text":"Подробнее","short-description":r.value.shortDescription,description:r.value.description},null,8,["short-description","description"])):Me("",!0)]),m[3]||(m[3]=E("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),E("div",HF,[r.value.ratingKinopoisk?(A(),H("span",{key:1,class:xe([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ce(r.value.ratingKinopoisk),3)):(A(),H("span",WF,"нет рейтинга")),E("div",zF," Оценок: "+ce(r.value.ratingKinopoiskVoteCount),1),E("a",{href:r.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 text-white"},"Оценить",8,qF)])])]),o.value.length?(A(),H("section",GF,[$(_n,{title:"Похожие"}),$(rd,{films:o.value},null,8,["films"])])):Me("",!0),$(Oo),m[4]||(m[4]=E("div",{class:"h-28 bg-white"},null,-1))]))],64)}}},YF=No(KF,[["__scopeId","data-v-d8211c38"]]),Nb=_o("newsStore",()=>{const t=F([]),e=F([]),n=F(!0),s=F(1),i=ws(),r=Co();return{newsData:t,getNews:async l=>{n.value=!0,ms(i,c=>{if(c){const u=Dt(r,`news/${l}`);zs(u,d=>{t.value=d.val()},d=>{console.log(d)})}else console.log("User logged out")}),s.value=l,n.value=!1},getLastNews:async()=>{n.value=!0,ms(i,l=>{if(l){const c=Dt(r,"news/1");zs(c,u=>{e.value=u.val()},u=>{console.log(u)})}else console.log("User logged out")}),n.value=!1},newsOnMain:e,currentPage:s}}),JF={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},XF=["href"],QF={__name:"NewsItem",setup(t){const e=[LL,ML],n=Nb();return ke(()=>{n.newsOnMain.length||n.getLastNews()}),(s,i)=>(A(),he(L(oh),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-4"},{default:te(()=>[(A(!0),H(Oe,null,Yi(L(n).newsOnMain,r=>(A(),he(L(ah),{key:r.item.kinopoiskId},{default:te(()=>[E("div",{class:"overflow-hidden bg-cover h-48 w-full",style:go(`background-image: url(${r.item.imageUrl})`)},[i[0]||(i[0]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-40"},null,-1)),E("h2",JF,ce(r.item.title),1),E("a",{href:r.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,XF)],4)]),_:2},1024))),128))]),_:1}))}},ch=_o("premiersStore",()=>{const t=F([]),e=F([]),n=F([]),s=F(1),i=F(!0),r=ws(),o=Co();return{premiers:t,getPremiers:async()=>{i.value=!0,await ms(r,u=>{if(u){const d=Dt(o,"premiers");zs(d,f=>{t.value=f.val()},f=>{console.log(f)})}else console.log("User logged out")}),i.value=!1},getTop250:async u=>{i.value=!0,await ms(r,d=>{if(d){const f=Dt(o,`top/${u}`);zs(f,h=>{e.value=h.val()},h=>{console.log(h)})}else console.log("User logged out")}),s.value=u,i.value=!1},top250:e,loader:i,getTopOnMain:async()=>{i.value=!0,await ms(r,u=>{if(u){const d=Dt(o,"top/1");zs(d,f=>{n.value=f.val()},f=>{console.log(f)})}else console.log("User logged out")}),i.value=!1},topOnMain:n,currentPage:s}}),ZF={key:1,class:"container mx-auto px-1"},e$={__name:"MainPage",setup(t){const e=bn(),n=ch(),s=()=>{Notification.requestPermission().then(i=>{i==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),bn().notificationToken="")})};return ke(()=>{(!n.premiers.length||!n.topOnMain.length)&&(n.getPremiers(),n.getTopOnMain()),e.getTokenNotification(),s()}),El({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(i,r)=>{const o=Ts("metainfo");return A(),H(Oe,null,[$(o,null,{title:te(()=>r[0]||(r[0]=[])),_:1}),L(n).loader?(A(),he(Yn,{key:0,"full-screen":!0})):(A(),H("section",ZF,[$(_n,{title:"Последние новости","show-all":!0,link:"news"}),$(QF),$(_n,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),$(rd,{films:L(n).premiers.slice(0,20),class:"mb-2"},null,8,["films"]),$(_n,{title:"Топ 250","show-all":!0,link:"top"}),$(rd,{films:L(n).topOnMain},null,8,["films"]),r[1]||(r[1]=E("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},t$={class:"flex items-center gap-8 mb-8 relative"},n$={class:"flex items-start justify-around gap-4 w-full"},s$=Ye({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=lh(),n=ws(),s=Co(),i=F(!1),r=o=>{t.film.isWatched=!o,eP(Dt(s,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(A(),H(Oe,null,[E("div",null,[$(L(yC),{onClick:a[0]||(a[0]=l=>i.value=!0),class:"w-5 text-gray-500",alt:"favorites"})]),$(L(Ob),{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=l=>i.value=l),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1,class:"bg-gray-600 bg-opacity-50 backdrop-blur-sm"},{default:te(()=>[E("div",t$,[E("div",n$,[E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[$(L(cy),{class:xe(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=E("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>L(e).removeFromFavorites(null,t.film.id))},[$(L(Bd),{class:xe(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=E("span",{class:"text-xs text-center text-white"},[Be("Удалить из"),E("br"),Be("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),i$=No(s$,[["__scopeId","data-v-bbd35135"]]),r$={class:"relative"},o$={class:"flex justify-between"},a$=["src","alt"],l$={class:"pr-8"},c$={class:"text-xs mb-1"},u$={class:"flex gap-1.5"},d$={__name:"FilmItem",props:{film:{type:Object,required:!0},sizeImage:{type:String,default:"w-16",required:!1},sizeBlock:{type:String,default:"min-w-16",required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1}},setup(t){const e=Uf();return(n,s)=>(A(),H("div",r$,[E("div",o$,[$(L(bl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-2 mr-8",onClick:s[0]||(s[0]=i=>t.remove?null:L(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:te(()=>[E("div",{class:xe(["image bg-contain",t.sizeBlock])},[E("img",{class:xe(["h-full",t.sizeImage]),src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,10,a$)],2),E("div",l$,[E("h3",c$,ce(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),E("div",u$,[jt($(L(cy),{class:xe(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),[[Mr,t.favorite]]),jt(E("h4",{class:"text-xs text-slate-400 mb-1"},ce(t.film.year),513),[[Mr,t.film.year&&t.film.year!=="null"]])])])]),_:1},8,["to"]),t.favorite?(A(),he(i$,{key:0,film:t.film},null,8,["film"])):Me("",!0)]),t.film.ratingKinopoisk?(A(),H("div",{key:0,class:xe([t.film.ratingKinopoisk?t.film.ratingKinopoisk>8?"bg-yellow-600":t.film.ratingKinopoisk>7?"bg-green-600":t.film.ratingKinopoisk>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-3 text-white w-6 text-center rounded-sm"])},ce(t.film.ratingKinopoisk&&t.film.ratingKinopoisk!=="null"?t.film.ratingKinopoisk:""),3)):(A(),H("div",{key:1,class:xe([t.film.rating?t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-3 text-white w-6 text-center rounded-sm"])},ce(t.film.rating&&t.film.rating!=="null"?t.film.rating:""),3)),jt($(L(dy),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-1",alt:"close",onClick:s[1]||(s[1]=i=>L(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[Mr,t.remove]])]))}},f$={class:"flex flex-col"},mo={__name:"FilmList",props:{films:{type:Array,required:!0},sizeImage:{type:String,required:!1},sizeBlock:{type:String,required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(A(),H("div",f$,[(A(!0),H(Oe,null,Yi(t.films,s=>(A(),he(d$,{film:s.item?s.item:s,"size-image":t.sizeImage,"size-block":t.sizeBlock,favorite:t.favorite,remove:t.remove},null,8,["film","size-image","size-block","favorite","remove"]))),256))]))}},h$={class:"container mx-auto px-1 text-sm"},p$=["defaultvalue","placeholder"],m$={key:0},g$={key:1},v$={key:1},y$={key:0},_$={class:"flex items-end justify-between pb-3 px-1"},w$={__name:"Search",setup(t){const e="9e52d931-b757-457b-a1ea-0d872ae51d51",n=Uf(),s=F(!1),i=async l=>{s.value=!1;const{data:c}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${l.trim()}`,{headers:{"X-API-KEY":e,"Content-Type":"application/json"}});c.films.length===0?s.value=!0:(n.memoryFilms=c.films,s.value=!1)},r=()=>{if(!n.memory)return a();n.memory.length>2&&i(n.memory),n.memory.length<2&&(n.memoryFilms=[])},o=F(!1);function a(){o.value=!0,setTimeout(()=>{o.value=!1},1500)}return ke(()=>{n.getLastSearch()}),El({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(l,c)=>{const u=Ts("metainfo");return A(),H(Oe,null,[$(u,null,{title:te(()=>c[4]||(c[4]=[])),_:1}),E("section",h$,[E("div",{class:xe(["relative w-full px-0.5 mb-3",{shake:o.value}])},[$(L(uy),{class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 left-3",alt:"search"}),jt($(L(dy),{onClick:c[0]||(c[0]=()=>{L(n).memory="",L(n).memoryFilms=[],s.value=!1}),class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[Mr,L(n).memory.length>0]]),jt(E("input",{defaultvalue:L(n).memory,placeholder:o.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 py-2 pr-10 flex items-center text-sm text-black bg-gray-100 outline-none placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-none sm:text-sm/6 rounded-md",type:"text","onUpdate:modelValue":c[1]||(c[1]=d=>L(n).memory=d),onKeydown:[Jh(r,["enter"]),c[2]||(c[2]=Jh(d=>{L(n).memoryFilms=[],s.value=!1},["backspace"]))]},null,40,p$),[[Hs,L(n).memory]])],2),L(n).memory.length>0?(A(),H("div",m$,[s.value?(A(),H("div",g$,c[5]||(c[5]=[E("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(A(),he(mo,{key:0,films:L(n).memoryFilms,"size-image":"w-12","size-block":"min-w-12"},null,8,["films"]))])):(A(),H("div",v$,[L(n).lastSearch.length>0?(A(),H("div",y$,[E("div",_$,[c[6]||(c[6]=E("h4",{class:"text-sm text-gray-600"},"Вы недавно искали",-1)),E("span",{class:"text-xs text-gray-600",onClick:c[3]||(c[3]=(...d)=>L(n).removeAllSearch&&L(n).removeAllSearch(...d))},"Очистить")]),$(mo,{films:L(n).lastSearch.slice(0,6),"size-image":"w-12","size-block":"min-w-12",remove:!0},null,8,["films"])])):Me("",!0)]))]),c[7]||(c[7]=E("div",{class:"h-28"},null,-1))],64)}}},b$=No(w$,[["__scopeId","data-v-ec2f3e44"]]),S$="/404-error.png",E$={},T$={class:"w-full h-screen flex justify-center items-center"};function C$(t,e){return A(),H("div",T$,e[0]||(e[0]=[E("img",{src:S$,alt:"404",class:"w-2/5"},null,-1)]))}const I$=No(E$,[["render",C$]]),x$={key:1,class:"relative container mx-auto p-1"},k$={class:"flex gap-2 mb-1"},P$={__name:"Premier",setup(t){const e=ch();return ke(()=>{e.premiers.length||e.getPremiers(),window.scrollTo({top:0,behavior:"smooth"})}),(n,s)=>L(e).loader?(A(),he(Yn,{key:0})):(A(),H("section",x$,[E("div",k$,[$(Xl),$(_n,{title:"Премьеры этого месяца"})]),$(mo,{films:L(e).premiers},null,8,["films"]),s[0]||(s[0]=E("div",{class:"h-28"},null,-1)),$(Oo)]))}},A$={key:1,class:"relative container mx-auto p-1"},R$={class:"flex gap-2 mb-1"},O$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},N$={__name:"Top",setup(t){const e=ch(),n=F(1),s=async i=>{await e.getTop250(i),window.scrollTo({top:0,behavior:"smooth"})};return ke(()=>{e.top250.length?n.value=e.currentPage:e.getTop250(1),window.scrollTo({top:0,behavior:"smooth"})}),(i,r)=>L(e).loader?(A(),he(Yn,{key:0,"full-screen":!0})):(A(),H("section",A$,[E("div",R$,[$(Xl),$(_n,{title:"Топ 250"})]),$(mo,{films:L(e).top250},null,8,["films"]),r[1]||(r[1]=E("div",{class:"h-32"},null,-1)),E("div",O$,[$(L($d),{"total-items":250,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),onClick:s},null,8,["modelValue"])]),$(Oo)]))}},M$={key:1,class:"relative container mx-auto p-1"},L$={class:"flex gap-2 mb-1"},D$={class:"grid-cols-1 grid gap-2"},F$={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},$$=["href"],B$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},U$={__name:"News",setup(t){const e=Nb(),n=async r=>{await e.getNews(r),window.scrollTo({top:0,behavior:"smooth"})},s=F(1),i=F(!0);return ke(()=>{e.newsData.length?s.value=e.currentPage:e.getNews(1),window.scrollTo({top:0,behavior:"smooth"}),i.value=!1}),El({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(r,o)=>{const a=Ts("metainfo");return A(),H(Oe,null,[$(a,null,{title:te(()=>o[1]||(o[1]=[])),_:1}),i.value?(A(),he(Yn,{key:0,"full-screen":!0})):(A(),H("section",M$,[E("div",L$,[$(Xl),$(_n,{title:"Новости"})]),E("div",D$,[(A(!0),H(Oe,null,Yi(L(e).newsData,l=>(A(),H("div",{key:l.item.kinopoiskId},[E("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:go(`background-image: url(${l.item.imageUrl})`)},[o[2]||(o[2]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),E("h2",F$,ce(l.item.title),1),E("a",{href:l.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,$$)],4)]))),128))]),$(Oo),o[3]||(o[3]=E("div",{class:"h-32"},null,-1))])),E("div",B$,[$(L($d),{"total-items":208,"items-per-page":20,"max-pages-shown":3,modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),onClick:n},null,8,["modelValue"])])],64)}}},Mb="/img/icons/192x192.png",j$={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},V$={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},H$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},W$={class:"text-center text-xs text-red-500"},z$={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},q$={class:"space-y-6",action:"#",method:"POST"},G$={class:"mt-2"},K$={class:"mt-2"},Y$={class:"mt-10 text-center text-sm/6 text-gray-400"},J$=Ye({__name:"Login",setup(t){const e=Ji(),n=bn(),s=F(""),i=F(""),r=async o=>{o.preventDefault(),n.error="",s.value&&i.value?(await n.auth("login",{email:s.value,password:i.value}),await e.push("/")):n.error="Заполните все поля"};return ke(()=>{n.error="",s.value="",i.value=""}),(o,a)=>{const l=Ts("RouterLink");return A(),H("div",j$,[E("div",V$,[a[2]||(a[2]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Mb,alt:"Filmoteka"},null,-1)),a[3]||(a[3]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),L(n).error?(A(),H("div",H$,[$(L(Ud),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",W$,ce(L(n).error),1)])):Me("",!0)]),E("div",z$,[E("form",q$,[E("div",null,[a[4]||(a[4]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",G$,[jt(E("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":a[0]||(a[0]=c=>s.value=c),class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Hs,s.value]])])]),E("div",null,[a[5]||(a[5]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль"),E("div",{class:"text-sm"},[E("a",{href:"#",class:"text-orange-600 hover:text-orange-500"},"Забыли пароль?")])],-1)),E("div",K$,[jt(E("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>i.value=c),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Hs,i.value]])])]),E("div",null,[L(n).loader?(A(),he(Yn,{key:1,"full-screen":!1})):(A(),H("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),E("p",Y$,[a[7]||(a[7]=Be(" Нет аккаунта? "+ce(" ")+" ")),$(l,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:te(()=>a[6]||(a[6]=[Be("Зарегистрироваться ")])),_:1})])])])}}}),X$={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},Q$={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},Z$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},eB={class:"text-center text-xs text-red-500"},tB={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},nB={class:"space-y-6",action:"#",method:"POST"},sB={class:"mt-2"},iB={class:"mt-2"},rB={class:"mt-2"},oB={class:"mt-10 text-center text-sm text-gray-400"},aB=Ye({__name:"Registration",setup(t){const e=bn(),n=F(""),s=F(""),i=F(""),r=Ji(),o=async()=>{e.error="",s.value&&i.value&&n.value?(await e.auth("registration",{email:s.value,password:i.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return ke(()=>{e.error="",s.value="",i.value="",n.value=""}),(a,l)=>{const c=Ts("RouterLink");return A(),H("div",X$,[E("div",Q$,[l[3]||(l[3]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Mb,alt:"Your Company"},null,-1)),l[4]||(l[4]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),L(e).error?(A(),H("div",Z$,[$(L(Ud),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",eB,ce(L(e).error),1)])):Me("",!0)]),E("div",tB,[E("form",nB,[E("div",null,[l[5]||(l[5]=E("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),E("div",sB,[jt(E("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Hs,n.value]])])]),E("div",null,[l[6]||(l[6]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",iB,[jt(E("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Hs,s.value]])])]),E("div",null,[l[7]||(l[7]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),E("div",rB,[jt(E("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6 autofill:bg-gray-900"},null,512),[[Hs,i.value]])])]),E("div",null,[L(e).loader?(A(),he(Yn,{key:1,"full-screen":!1})):(A(),H("button",{key:0,type:"submit",onClick:Ot(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),E("p",oB,[l[9]||(l[9]=Be(" Есть аккаунт? "+ce(" ")+" ")),$(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:te(()=>l[8]||(l[8]=[Be("Войти")])),_:1})])])])}}});function uh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Mo(){let t=[],e={addEventListener(n,s,i,r){return n.addEventListener(s,i,r),e.add(()=>n.removeEventListener(s,i,r))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let s=setTimeout(...n);e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return uh(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let r=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:r})})},group(n){let s=Mo();return n(s),this.add(()=>s.dispose())},add(n){return t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}var dg;let lB=Symbol("headlessui.useid"),cB=0;const Ql=(dg=YS)!=null?dg:function(){return je(lB,()=>`${++cB}`)()};function Ke(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function Sn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Sn),s}var uB=Object.defineProperty,dB=(t,e,n)=>e in t?uB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fg=(t,e,n)=>(dB(t,typeof e!="symbol"?e+"":e,n),n);let fB=class{constructor(){fg(this,"current",this.detect()),fg(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Lo=new fB;function lr(t){if(Lo.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ke(t);if(e)return e.ownerDocument}return document}let od=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var as=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(as||{}),Lb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Lb||{}),hB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(hB||{});function pB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(od)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Db=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Db||{});function mB(t,e=0){var n;return t===((n=lr(t))==null?void 0:n.body)?!1:Sn(e,{0(){return t.matches(od)},1(){let s=t;for(;s!==null;){if(s.matches(od))return!0;s=s.parentElement}return!1}})}var gB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(gB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ks(t){t==null||t.focus({preventScroll:!0})}let vB=["textarea","input"].join(",");function yB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,vB))!=null?n:!1}function _B(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),r=e(s);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function da(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?_B(t):t:pB(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),s=s??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&yB(h)&&h.select(),2}function Fb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wB(){return/Android/gi.test(window.navigator.userAgent)}function bB(){return Fb()||wB()}function zo(t,e,n){Lo.isServer||Qt(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function $b(t,e,n){Lo.isServer||Qt(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}function SB(t,e,n=Q(()=>!0)){function s(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Ke(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!mB(a,Db.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let i=F(null);zo("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),zo("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),zo("click",r=>{bB()||i.value&&(s(r,()=>i.value),i.value=null)},!0),zo("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),$b("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var nl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(nl||{}),us=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(us||{});function Tn({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=Ub(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return Qc(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return Sn(l,{0(){return null},1(){return Qc({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Qc(a)}function Qc({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...l}=jb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),u={};if(s){let d=!1,f=[];for(let[h,p]of Object.entries(s))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=Bb(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!EB(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,y,w)=>w.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=Ub((o=d.props)!=null?o:{},l,u),p=Js(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Ee(a,Object.assign({},l,u),{default:()=>c})}function Bb(t){return t.flatMap(e=>e.type===Oe?Bb(e.children):[e])}function Ub(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function jb(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function EB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var sl=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(sl||{});let ad=Ye({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var s;let{features:i,...r}=t,o={"aria-hidden":(i&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Tn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Vb=Symbol("Context");var Mt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Mt||{});function TB(){return dh()!==null}function dh(){return je(Vb,null)}function CB(t){ht(Vb,t)}var Hb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Hb||{});function IB(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ls=[];IB(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ls[0]!==e.target&&(Ls.unshift(e.target),Ls=Ls.filter(n=>n!=null&&n.isConnected),Ls.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Wb(t,e,n,s){Lo.isServer||Qt(i=>{t=t??window,t.addEventListener(e,n,s),i(()=>t.removeEventListener(e,n,s))})}var xr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(xr||{});function xB(){let t=F(0);return $b("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function zb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let s=Ke(n);s instanceof HTMLElement&&e.add(s)}return e}var qb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(qb||{});let br=Object.assign(Ye({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:F(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let i=F(null);s({el:i,$el:i});let r=Q(()=>lr(i)),o=F(!1);ke(()=>o.value=!0),bt(()=>o.value=!1),PB({ownerDocument:r},Q(()=>o.value&&!!(t.features&16)));let a=AB({ownerDocument:r,container:i,initialFocus:Q(()=>t.initialFocus)},Q(()=>o.value&&!!(t.features&2)));RB({ownerDocument:r,container:i,containers:t.containers,previousActiveElement:a},Q(()=>o.value&&!!(t.features&8)));let l=xB();function c(h){let p=Ke(i);p&&(m=>m())(()=>{Sn(l.value,{[xr.Forwards]:()=>{da(p,as.First,{skipElements:[h.relatedTarget]})},[xr.Backwards]:()=>{da(p,as.Last,{skipElements:[h.relatedTarget]})}})})}let u=F(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=zb(t.containers);Ke(i)instanceof HTMLElement&&p.add(Ke(i));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Gb(p,m)||(u.value?da(Ke(i),Sn(l.value,{[xr.Forwards]:()=>as.Next,[xr.Backwards]:()=>as.Previous})|as.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Ks(h.target)))}return()=>{let h={},p={ref:i,onKeydown:d,onFocusout:f},{features:m,initialFocus:y,containers:w,...v}=t;return Ee(Oe,[!!(m&4)&&Ee(ad,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:sl.Focusable}),Tn({ourProps:p,theirProps:{...e,...v},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Ee(ad,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:sl.Focusable})])}}}),{features:qb});function kB(t){let e=F(Ls.slice());return ot([t],([n],[s])=>{s===!0&&n===!1?uh(()=>{e.value.splice(0)}):s===!1&&n===!0&&(e.value=Ls.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(s=>s!=null&&s.isConnected))!=null?n:null}}function PB({ownerDocument:t},e){let n=kB(e);ke(()=>{Qt(()=>{var s,i;e.value||((s=t.value)==null?void 0:s.activeElement)===((i=t.value)==null?void 0:i.body)&&Ks(n())},{flush:"post"})}),bt(()=>{e.value&&Ks(n())})}function AB({ownerDocument:t,container:e,initialFocus:n},s){let i=F(null),r=F(!1);return ke(()=>r.value=!0),bt(()=>r.value=!1),ke(()=>{ot([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=Ke(e);l&&uh(()=>{var c,u;if(!r.value)return;let d=Ke(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?Ks(d):da(l,as.First|as.NoScroll)===Lb.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),i}function RB({ownerDocument:t,container:e,containers:n,previousActiveElement:s},i){var r;Wb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!i.value)return;let a=zb(n);Ke(e)instanceof HTMLElement&&a.add(Ke(e));let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?Gb(a,c)?(s.value=c,Ks(c)):(o.preventDefault(),o.stopPropagation(),Ks(l)):Ks(s.value)},!0)}function Gb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function OB(t){let e=Wg(t.getSnapshot());return bt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function NB(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...r){let o=e[i].call(n,...r);o&&(n=o,s.forEach(a=>a()))}}}function MB(){let t;return{before({doc:e}){var n;let s=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:e,d:n}){let s=e.documentElement,i=s.clientWidth-s.offsetWidth,r=t-i;n.style(s,"paddingRight",`${r}px`)}}}function LB(){return Fb()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Mo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!s(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let l=a.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(s(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function DB(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function FB(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Bs=NB(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:Mo(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:FB(n)},i=[LB(),MB(),DB()];i.forEach(({before:r})=>r==null?void 0:r(s)),i.forEach(({after:r})=>r==null?void 0:r(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Bs.subscribe(()=>{let t=Bs.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&Bs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Bs.dispatch("TEARDOWN",n)}});function $B(t,e,n){let s=OB(Bs),i=Q(()=>{let r=t.value?s.value.get(t.value):void 0;return r?r.count>0:!1});return ot([t,e],([r,o],[a],l)=>{if(!r||!o)return;Bs.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(Bs.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),i}let Zc=new Map,Sr=new Map;function hg(t,e=F(!0)){Qt(n=>{var s;if(!e.value)return;let i=Ke(t);if(!i)return;n(function(){var o;if(!i)return;let a=(o=Sr.get(i))!=null?o:1;if(a===1?Sr.delete(i):Sr.set(i,a-1),a!==1)return;let l=Zc.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,Zc.delete(i))});let r=(s=Sr.get(i))!=null?s:0;Sr.set(i,r+1),r===0&&(Zc.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function BB({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let s=F(null),i=lr(s);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(Ke(s))||u.contains((l=(a=Ke(s))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:s,MainTreeNode(){return n!=null?null:Ee(ad,{features:sl.Hidden,ref:s})}}}let Kb=Symbol("ForcePortalRootContext");function UB(){return je(Kb,!1)}let pg=Ye({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return ht(Kb,t.force),()=>{let{force:s,...i}=t;return Tn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),Yb=Symbol("StackContext");var ld=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(ld||{});function jB(){return je(Yb,()=>{})}function VB({type:t,enabled:e,element:n,onUpdate:s}){let i=jB();function r(...o){s==null||s(...o),i(...o)}ke(()=>{ot(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),bt(()=>{e.value&&r(1,t,n)}),ht(Yb,r)}let HB=Symbol("DescriptionContext");function WB({slot:t=F({}),name:e="Description",props:n={}}={}){let s=F([]);function i(r){return s.value.push(r),()=>{let o=s.value.indexOf(r);o!==-1&&s.value.splice(o,1)}}return ht(HB,{register:i,slot:t,name:e,props:n}),Q(()=>s.value.length>0?s.value.join(" "):void 0)}function zB(t){let e=lr(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}const cd=new WeakMap;function qB(t){var e;return(e=cd.get(t))!=null?e:0}function mg(t,e){let n=e(qB(t));return n<=0?cd.delete(t):cd.set(t,n),n}let GB=Ye({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=F(null),i=Q(()=>lr(s)),r=UB(),o=je(Jb,null),a=F(r===!0||o==null?zB(s.value):o.resolveTarget());a.value&&mg(a.value,f=>f+1);let l=F(!1);ke(()=>{l.value=!0}),Qt(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=je(ud,null),u=!1,d=di();return ot(s,()=>{if(u||!c)return;let f=Ke(s);f&&(bt(c.register(f),d),u=!0)}),bt(()=>{var f,h;let p=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||mg(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return Ee(tv,{to:a.value},Tn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),ud=Symbol("PortalParentContext");function KB(){let t=je(ud,null),e=F([]);function n(r){return e.value.push(r),t&&t.register(r),()=>s(r)}function s(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let i={register:n,unregister:s,portals:e};return[e,Ye({name:"PortalWrapper",setup(r,{slots:o}){return ht(ud,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let Jb=Symbol("PortalGroupContext"),YB=Ye({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=ui({resolveTarget(){return t.target}});return ht(Jb,s),()=>{let{target:i,...r}=t;return Tn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var JB=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(JB||{});let dd=Symbol("DialogContext");function fh(t){let e=je(dd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fh),n}return e}let qo="DC8F892D-2EBD-447C-A4C8-A03058436FF4",hh=Ye({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:qo},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${Ql()}`,l=F(!1);ke(()=>{l.value=!0});let c=!1,u=Q(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=F(0),f=dh(),h=Q(()=>t.open===qo&&f!==null?(f.value&Mt.Open)===Mt.Open:t.open),p=F(null),m=Q(()=>lr(p));if(i({el:p,$el:p}),!(t.open!==qo||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===qo?void 0:t.open}`);let y=Q(()=>l.value&&h.value?0:1),w=Q(()=>y.value===0),v=Q(()=>d.value>1),g=je(dd,null)!==null,[S,T]=KB(),{resolveContainers:R,mainTreeNodeRef:B,MainTreeNode:x}=BB({portals:S,defaultContainers:[Q(()=>{var me;return(me=ie.panelRef.value)!=null?me:p.value})]}),C=Q(()=>v.value?"parent":"leaf"),k=Q(()=>f!==null?(f.value&Mt.Closing)===Mt.Closing:!1),U=Q(()=>g||k.value?!1:w.value),J=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("body > *"))!=null?ge:[]).find(Xe=>Xe.id==="headlessui-portal-root"?!1:Xe.contains(Ke(B))&&Xe instanceof HTMLElement))!=null?Je:null});hg(J,U);let V=Q(()=>v.value?!0:w.value),ee=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(Xe=>Xe.contains(Ke(B))&&Xe instanceof HTMLElement))!=null?Je:null});hg(ee,V),VB({type:"Dialog",enabled:Q(()=>y.value===0),element:p,onUpdate:(me,ge)=>{if(ge==="Dialog")return Sn(me,{[ld.Add]:()=>d.value+=1,[ld.Remove]:()=>d.value-=1})}});let re=WB({name:"DialogDescription",slot:Q(()=>({open:h.value}))}),se=F(null),ie={titleId:se,panelRef:F(null),dialogState:y,setTitleId(me){se.value!==me&&(se.value=me)},close(){e("close",!1)}};ht(dd,ie);let we=Q(()=>!(!w.value||v.value));SB(R,(me,ge)=>{me.preventDefault(),ie.close(),Ki(()=>ge==null?void 0:ge.focus())},we);let mt=Q(()=>!(v.value||y.value!==0));Wb((o=m.value)==null?void 0:o.defaultView,"keydown",me=>{mt.value&&(me.defaultPrevented||me.key===Hb.Escape&&(me.preventDefault(),me.stopPropagation(),ie.close()))});let Et=Q(()=>!(k.value||y.value!==0||g));return $B(m,Et,me=>{var ge;return{containers:[...(ge=me.containers)!=null?ge:[],R]}}),Qt(me=>{if(y.value!==0)return;let ge=Ke(p);if(!ge)return;let Je=new ResizeObserver(Xe=>{for(let Jn of Xe){let at=Jn.target.getBoundingClientRect();at.x===0&&at.y===0&&at.width===0&&at.height===0&&ie.close()}});Je.observe(ge),me(()=>Je.disconnect())}),()=>{let{open:me,initialFocus:ge,...Je}=t,Xe={...n,ref:p,id:a,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":se.value,"aria-describedby":re.value},Jn={open:y.value===0};return Ee(pg,{force:!0},()=>[Ee(GB,()=>Ee(YB,{target:p.value},()=>Ee(pg,{force:!1},()=>Ee(br,{initialFocus:ge,containers:R,features:w.value?Sn(C.value,{parent:br.features.RestoreFocus,leaf:br.features.All&~br.features.FocusLock}):br.features.None},()=>Ee(T,{},()=>Tn({ourProps:Xe,theirProps:{...Je,...n},slot:Jn,attrs:n,slots:s,visible:y.value===0,features:nl.RenderStrategy|nl.Static,name:"Dialog"})))))),Ee(x)])}}}),ph=Ye({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:s}){var i;let r=(i=t.id)!=null?i:`headlessui-dialog-panel-${Ql()}`,o=fh("DialogPanel");s({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return Tn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),il=Ye({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-title-${Ql()}`,r=fh("DialogTitle");return ke(()=>{r.setTitleId(i),bt(()=>r.setTitleId(null))}),()=>{let{...o}=t;return Tn({ourProps:{id:i},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function XB(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function eu(t,...e){t&&e.length>0&&t.classList.add(...e)}function Go(t,...e){t&&e.length>0&&t.classList.remove(...e)}var fd=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(fd||{});function QB(t,e){let n=Mo();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:i}=getComputedStyle(t),[r,o]=[s,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function gg(t,e,n,s,i,r){let o=Mo(),a=r!==void 0?XB(r):()=>{};return Go(t,...i),eu(t,...e,...n),o.nextFrame(()=>{Go(t,...n),eu(t,...s),o.add(QB(t,l=>(Go(t,...s,...e),eu(t,...i),a(l))))}),o.add(()=>Go(t,...e,...n,...s,...i)),o.add(()=>a("cancelled")),o.dispose}function Rs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let mh=Symbol("TransitionContext");var ZB=(t=>(t.Visible="visible",t.Hidden="hidden",t))(ZB||{});function e2(){return je(mh,null)!==null}function t2(){let t=je(mh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function n2(){let t=je(gh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let gh=Symbol("NestingContext");function Zl(t){return"children"in t?Zl(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Xb(t){let e=F([]),n=F(!1);ke(()=>n.value=!0),bt(()=>n.value=!1);function s(r,o=us.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(Sn(o,{[us.Unmount](){e.value.splice(a,1)},[us.Hidden](){e.value[a].state="hidden"}}),!Zl(e)&&n.value&&(t==null||t()))}function i(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>s(r,us.Unmount)}return{children:e,register:i,unregister:s}}let Qb=nl.RenderStrategy,ci=Ye({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){let r=F(0);function o(){r.value|=Mt.Opening,e("beforeEnter")}function a(){r.value&=~Mt.Opening,e("afterEnter")}function l(){r.value|=Mt.Closing,e("beforeLeave")}function c(){r.value&=~Mt.Closing,e("afterLeave")}if(!e2()&&TB())return()=>Ee(ec,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},s);let u=F(null),d=Q(()=>t.unmount?us.Unmount:us.Hidden);i({el:u,$el:u});let{show:f,appear:h}=t2(),{register:p,unregister:m}=n2(),y=F(f.value?"visible":"hidden"),w={value:!0},v=Ql(),g={value:!1},S=Xb(()=>{!g.value&&y.value!=="hidden"&&(y.value="hidden",m(v),c())});ke(()=>{let V=p(v);bt(V)}),Qt(()=>{if(d.value===us.Hidden&&v){if(f.value&&y.value!=="visible"){y.value="visible";return}Sn(y.value,{hidden:()=>m(v),visible:()=>p(v)})}});let T=Rs(t.enter),R=Rs(t.enterFrom),B=Rs(t.enterTo),x=Rs(t.entered),C=Rs(t.leave),k=Rs(t.leaveFrom),U=Rs(t.leaveTo);ke(()=>{Qt(()=>{if(y.value==="visible"){let V=Ke(u);if(V instanceof Comment&&V.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function J(V){let ee=w.value&&!h.value,re=Ke(u);!re||!(re instanceof HTMLElement)||ee||(g.value=!0,f.value&&o(),f.value||l(),V(f.value?gg(re,T,R,B,x,se=>{g.value=!1,se===fd.Finished&&a()}):gg(re,C,k,U,x,se=>{g.value=!1,se===fd.Finished&&(Zl(S)||(y.value="hidden",m(v),c()))})))}return ke(()=>{ot([f],(V,ee,re)=>{J(re),w.value=!1},{immediate:!0})}),ht(gh,S),CB(Q(()=>Sn(y.value,{visible:Mt.Open,hidden:Mt.Closed})|r.value)),()=>{let{appear:V,show:ee,enter:re,enterFrom:se,enterTo:ie,entered:we,leave:mt,leaveFrom:Et,leaveTo:me,...ge}=t,Je={ref:u},Xe={...ge,...h.value&&f.value&&Lo.isServer?{class:xe([n.class,ge.class,...T,...R])}:{}};return Tn({theirProps:Xe,ourProps:Je,slot:{},slots:s,attrs:n,features:Qb,visible:y.value==="visible",name:"TransitionChild"})}}}),s2=ci,ec=Ye({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let i=dh(),r=Q(()=>t.show===null&&i!==null?(i.value&Mt.Open)===Mt.Open:t.show);Qt(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=F(r.value?"visible":"hidden"),a=Xb(()=>{o.value="hidden"}),l=F(!0),c={show:r,appear:Q(()=>t.appear||!l.value)};return ke(()=>{Qt(()=>{l.value=!1,r.value?o.value="visible":Zl(a)||(o.value="hidden")})}),ht(gh,a),ht(mh,c),()=>{let u=jb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return Tn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Ee(s2,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},s.default)]},attrs:{},features:Qb,visible:o.value==="visible",name:"Transition"})}}});const i2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},r2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},o2={class:"bg-gray-100 px-4 pb-4 pt-4"},a2={class:"items-center justify-center"},l2={class:"mt-3"},c2={class:"bg-gray-100 px-4 py-4 items-center flex flex-col"},u2={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Ji(),n=bn(),s=()=>{n.auth("logout"),e.push("/login")};return(i,r)=>(A(),he(L(ec),{as:"template",show:t.openPopup},{default:te(()=>[$(L(hh),{class:"relative z-10",onClose:t.handleClick},{default:te(()=>[$(L(ci),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>r[1]||(r[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",i2,[E("div",r2,[$(L(ci),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:te(()=>[$(L(ph),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:te(()=>[E("div",o2,[E("div",a2,[E("div",l2,[$(L(il),{as:"h3",class:"text-base text-center"},{default:te(()=>r[2]||(r[2]=[Be("Вы хотите выйти из профиля? ")])),_:1})])])]),E("div",c2,[E("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:s,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},d2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},f2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},h2={class:"bg-gray-100 px-4 pb-4 pt-4"},p2={class:"items-center justify-center"},m2={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},g2={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},v2={class:"mt-3"},y2={key:2,class:"mt-2"},_2={class:"text-sm text-gray-500 break-words text-center"},w2={class:"bg-gray-100 px-4 py-4 items-center flex flex-col"},b2={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=bn(),n=F(!1),s=F(!1),i=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},500)},250)};return(r,o)=>(A(),he(L(ec),{as:"template",show:t.openPopup},{default:te(()=>[$(L(hh),{class:"relative z-10",onClose:t.handleClick},{default:te(()=>[$(L(ci),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>o[1]||(o[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",d2,[E("div",f2,[$(L(ci),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:te(()=>[$(L(ph),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:te(()=>[E("div",h2,[E("div",p2,[L(e).notificationToken?(A(),H("div",g2,[$(L(ly),{class:"size-6 text-green-600","aria-hidden":"true"})])):(A(),H("div",m2,[$(L(ay),{class:"size-6 text-red-600","aria-hidden":"true"})])),E("div",v2,[L(e).notificationToken?(A(),he(L(il),{key:1,as:"h3",class:"text-base text-center"},{default:te(()=>o[3]||(o[3]=[Be("Уведомления разрешены ")])),_:1})):(A(),he(L(il),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:te(()=>o[2]||(o[2]=[Be(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),L(e).notificationToken?(A(),H("div",y2,[E("div",_2,ce(L(e).notificationToken),1)])):Me("",!0)])])]),E("div",w2,[L(e).notificationToken&&!n.value&&!s.value?(A(),H("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i},"Скопировать токен ")):Me("",!0),n.value?(A(),he(Yn,{key:1,"full-screen":!1})):Me("",!0),s.value?(A(),he(L(vC),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):Me("",!0),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},S2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},E2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},T2={class:"bg-gray-100 px-4 pb-4 pt-4"},C2={class:"items-center justify-center relative"},I2={class:"mt-3"},x2={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},k2={class:"text-center text-xs text-red-500"},P2={class:"space-y-1 bg-gray-100",action:"#",method:"POST"},A2={class:"bg-gray-100 px-4 pb-4 pt-2"},R2={class:"mt-2"},O2={class:"bg-gray-100 px-4 pb-4 pt-2"},N2={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=F(""),n=F(""),s=bn(),i=async()=>{if(e.value){if(e.value===s.userInfo.name)return n.value="Имя не изменилось";n.value="",await s.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(A(),he(L(ec),{as:"template",show:t.openPopup},{default:te(()=>[$(L(hh),{class:"relative z-10",onClose:t.handleClick},{default:te(()=>[$(L(ci),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>o[3]||(o[3]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",S2,[E("div",E2,[$(L(ci),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:te(()=>[$(L(ph),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:te(()=>[E("div",T2,[E("div",C2,[E("div",I2,[$(L(il),{as:"h3",class:"text-base font-semibold text-center"},{default:te(()=>o[4]||(o[4]=[Be("Изменить имя ")])),_:1})]),n.value?(A(),H("div",x2,[$(L(Ud),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",k2,ce(n.value),1)])):Me("",!0)])]),E("form",P2,[E("div",A2,[o[5]||(o[5]=E("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),E("div",R2,[jt(E("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"w-full px-3 rounded-md bg-gray-100 py-1.5 text-base outline outline-1 outline-gray-400 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Hs,e.value]])])]),E("div",O2,[L(s).loader?(A(),he(Yn,{key:1,"full-screen":!1})):(A(),H("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await i(),n.value||t.handleClick()})}," Сохранить ")),E("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:o[2]||(o[2]=Ot((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},M2={class:"container mx-auto px-1"},L2={class:"mt-2"},D2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},F2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},$2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},B2={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},U2={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},j2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},V2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},H2={__name:"Profile",setup(t){const e=bn(),n=F(!1),s=F(!1),i=F(!1),r=()=>{n.value=!n.value},o=()=>{s.value=!s.value},a=()=>{i.value=!i.value};return ke(()=>{e.getTokenNotification()}),(l,c)=>(A(),H("section",M2,[$(_n,{title:"Профиль"}),c[3]||(c[3]=E("div",{class:"sm:px-0"},[E("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),E("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),E("div",L2,[E("dl",null,[E("div",D2,[c[0]||(c[0]=E("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),E("dd",F2,ce(L(e).userInfo.name),1),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[$(L(wC),{class:"size-6 text-blue-500","aria-hidden":"true"}),$(N2,{handleClick:a,openPopup:i.value},null,8,["openPopup"])])]),E("div",$2,[c[1]||(c[1]=E("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),L(e).notificationToken?(A(),H("dd",B2,"Уведомления разрешены ")):(A(),H("dd",U2,"Уведомления не разрешены")),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-100 p-4 rounded-full",onClick:r},[L(e).notificationToken?(A(),he(L(ly),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(A(),he(L(ay),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),$(b2,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),E("div",j2,[c[2]||(c[2]=E("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),E("dd",V2,ce(L(e).userInfo.email),1)])])]),E("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md text-white"}," Выйти "),$(u2,{"handle-click":o,"open-popup":s.value},null,8,["open-popup"])]))}},W2={class:"relative container mx-auto px-1"},z2={__name:"Favorites",setup(t){const e=lh();return ke(()=>{e.favorites.length||e.getFavorites()}),(n,s)=>(A(),H("section",W2,[$(_n,{title:"Избранное"}),$(mo,{films:L(e).favorites,"size-image":"w-16","size-block":"min-w-16",favorite:!0},null,8,["films"]),s[0]||(s[0]=E("div",{class:"h-28"},null,-1)),$(Oo)]))}};var q2="firebase",G2="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(q2,G2,"app");const K2=[{path:"/",component:e$,name:"main",meta:{auth:!0}},{path:"/profile",component:H2,name:"profile",meta:{auth:!0}},{path:"/favorites",component:z2,name:"favorites",meta:{auth:!0}},{path:"/login",component:J$,name:"login",meta:{auth:!1}},{path:"/registration",component:aB,name:"registration",meta:{auth:!1}},{path:"/search",component:b$,name:"search",meta:{auth:!0}},{path:"/film/:id",component:YF,name:"item",meta:{auth:!0}},{path:"/premier",component:P$,name:"premier",props:!0,meta:{auth:!0}},{path:"/top",component:N$,name:"top",props:!0,meta:{auth:!0}},{path:"/news",component:U$,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:I$,meta:{auth:!0}}],Zb=_T({history:K0("/"),routes:K2}),Y2=eC(),J2={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};Zb.beforeEach((t,e,n)=>{const s=bn();t.meta.auth&&!s.accessToken?n("/login"):!t.meta.auth&&s.accessToken?n("/"):n()});Cy(J2);m0(GN).use(Zb).use(MT()).use(ZT).use(Y2).use(gC).mount("#app");
