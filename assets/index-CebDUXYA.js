var tS=Object.defineProperty;var nS=(t,e,n)=>e in t?tS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xs=(t,e,n)=>nS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ad(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const De={},Ti=[],Gt=()=>{},sS=()=>!1,el=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ld=t=>t.startsWith("onUpdate:"),pt=Object.assign,cd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},iS=Object.prototype.hasOwnProperty,xe=(t,e)=>iS.call(t,e),ue=Array.isArray,Ci=t=>tl(t)==="[object Map]",mg=t=>tl(t)==="[object Set]",fe=t=>typeof t=="function",Ge=t=>typeof t=="string",Wn=t=>typeof t=="symbol",He=t=>t!==null&&typeof t=="object",gg=t=>(He(t)||fe(t))&&fe(t.then)&&fe(t.catch),vg=Object.prototype.toString,tl=t=>vg.call(t),rS=t=>tl(t).slice(8,-1),yg=t=>tl(t)==="[object Object]",ud=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ir=ad(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},oS=/-(\w)/g,Ht=nl(t=>t.replace(oS,(e,n)=>n?n.toUpperCase():"")),aS=/\B([A-Z])/g,_s=nl(t=>t.replace(aS,"-$1").toLowerCase()),sl=nl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jl=nl(t=>t?`on${sl(t)}`:""),us=(t,e)=>!Object.is(t,e),Ho=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_g=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Jc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let gh;const il=()=>gh||(gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ho(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ge(s)?dS(s):ho(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ge(t)||He(t))return t}const lS=/;(?![^(]*\))/g,cS=/:([^]+)/,uS=/\/\*[^]*?\*\//g;function dS(t){const e={};return t.replace(uS,"").split(lS).forEach(n=>{if(n){const s=n.split(cS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ne(t){let e="";if(Ge(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const s=Ne(t[n]);s&&(e+=s+" ")}else if(He(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const fS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hS=ad(fS);function wg(t){return!!t||t===""}const bg=t=>!!(t&&t.__v_isRef===!0),ae=t=>Ge(t)?t:t==null?"":ue(t)||He(t)&&(t.toString===vg||!fe(t.toString))?bg(t)?ae(t.value):JSON.stringify(t,Sg,2):String(t),Sg=(t,e)=>bg(e)?Sg(t,e.value):Ci(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Xl(s,r)+" =>"]=i,n),{})}:mg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Xl(n))}:Wn(e)?Xl(e):He(e)&&!ue(e)&&!yg(e)?String(e):e,Xl=(t,e="")=>{var n;return Wn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class Eg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){yt=this}off(){yt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Tg(t){return new Eg(t)}function Cg(){return yt}function pS(t,e=!1){yt&&yt.cleanups.push(t)}let Be;const Ql=new WeakSet;class Ig{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ql.has(this)&&(Ql.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vh(this),Pg(this);const e=Be,n=Kt;Be=this,Kt=!0;try{return this.fn()}finally{Ag(this),Be=e,Kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hd(e);this.deps=this.depsTail=void 0,vh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ql.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xc(this)&&this.run()}get dirty(){return Xc(this)}}let xg=0,xr,kr;function kg(t,e=!1){if(t.flags|=8,e){t.next=kr,kr=t;return}t.next=xr,xr=t}function dd(){xg++}function fd(){if(--xg>0)return;if(kr){let e=kr;for(kr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;xr;){let e=xr;for(xr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Pg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ag(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),hd(s),mS(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Xc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Rg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Rg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Vr))return;t.globalVersion=Vr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Xc(t)){t.flags&=-3;return}const n=Be,s=Kt;Be=t,Kt=!0;try{Pg(t);const i=t.fn(t._value);(e.version===0||us(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Be=n,Kt=s,Ag(t),t.flags&=-3}}function hd(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)hd(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function mS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Kt=!0;const Og=[];function ws(){Og.push(Kt),Kt=!1}function bs(){const t=Og.pop();Kt=t===void 0?!0:t}function vh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Be;Be=void 0;try{e()}finally{Be=n}}}let Vr=0;class gS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Be||!Kt||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new gS(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,Ng(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=s)}return n}trigger(e){this.version++,Vr++,this.notify(e)}notify(e){dd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{fd()}}}function Ng(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ng(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const aa=new WeakMap,Us=Symbol(""),Qc=Symbol(""),Hr=Symbol("");function ut(t,e,n){if(Kt&&Be){let s=aa.get(t);s||aa.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new pd),i.map=s,i.key=n),i.track()}}function Pn(t,e,n,s,i,r){const o=aa.get(t);if(!o){Vr++;return}const a=l=>{l&&l.trigger()};if(dd(),e==="clear")o.forEach(a);else{const l=ue(t),c=l&&ud(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===Hr||!Wn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Hr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Us)),Ci(t)&&a(o.get(Qc)));break;case"delete":l||(a(o.get(Us)),Ci(t)&&a(o.get(Qc)));break;case"set":Ci(t)&&a(o.get(Us));break}}fd()}function vS(t,e){const n=aa.get(t);return n&&n.get(e)}function mi(t){const e=Se(t);return e===t?e:(ut(e,"iterate",Hr),Ut(t)?e:e.map(dt))}function rl(t){return ut(t=Se(t),"iterate",Hr),t}const yS={__proto__:null,[Symbol.iterator](){return Zl(this,Symbol.iterator,dt)},concat(...t){return mi(this).concat(...t.map(e=>ue(e)?mi(e):e))},entries(){return Zl(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return En(this,"every",t,e,void 0,arguments)},filter(t,e){return En(this,"filter",t,e,n=>n.map(dt),arguments)},find(t,e){return En(this,"find",t,e,dt,arguments)},findIndex(t,e){return En(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return En(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return En(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return En(this,"forEach",t,e,void 0,arguments)},includes(...t){return ec(this,"includes",t)},indexOf(...t){return ec(this,"indexOf",t)},join(t){return mi(this).join(t)},lastIndexOf(...t){return ec(this,"lastIndexOf",t)},map(t,e){return En(this,"map",t,e,void 0,arguments)},pop(){return lr(this,"pop")},push(...t){return lr(this,"push",t)},reduce(t,...e){return yh(this,"reduce",t,e)},reduceRight(t,...e){return yh(this,"reduceRight",t,e)},shift(){return lr(this,"shift")},some(t,e){return En(this,"some",t,e,void 0,arguments)},splice(...t){return lr(this,"splice",t)},toReversed(){return mi(this).toReversed()},toSorted(t){return mi(this).toSorted(t)},toSpliced(...t){return mi(this).toSpliced(...t)},unshift(...t){return lr(this,"unshift",t)},values(){return Zl(this,"values",dt)}};function Zl(t,e,n){const s=rl(t),i=s[e]();return s!==t&&!Ut(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const _S=Array.prototype;function En(t,e,n,s,i,r){const o=rl(t),a=o!==t&&!Ut(t),l=o[e];if(l!==_S[e]){const d=l.apply(t,r);return a?dt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,dt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function yh(t,e,n,s){const i=rl(t);let r=n;return i!==t&&(Ut(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,dt(a),l,t)}),i[e](r,...s)}function ec(t,e,n){const s=Se(t);ut(s,"iterate",Hr);const i=s[e](...n);return(i===-1||i===!1)&&ol(n[0])?(n[0]=Se(n[0]),s[e](...n)):i}function lr(t,e,n=[]){ws(),dd();const s=Se(t)[e].apply(t,n);return fd(),bs(),s}const wS=ad("__proto__,__v_isRef,__isVue"),Mg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Wn));function bS(t){Wn(t)||(t=String(t));const e=Se(this);return ut(e,"has",t),e.hasOwnProperty(t)}class Lg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?RS:Bg:r?$g:Fg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ue(e);if(!i){let l;if(o&&(l=yS[n]))return l;if(n==="hasOwnProperty")return bS}const a=Reflect.get(e,n,qe(e)?e:s);return(Wn(n)?Mg.has(n):wS(n))||(i||ut(e,"get",n),r)?a:qe(a)?o&&ud(n)?a:a.value:He(a)?i?jg(a):li(a):a}}class Dg extends Lg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=Gs(r);if(!Ut(s)&&!Gs(s)&&(r=Se(r),s=Se(s)),!ue(e)&&qe(r)&&!qe(s))return l?!1:(r.value=s,!0)}const o=ue(e)&&ud(n)?Number(n)<e.length:xe(e,n),a=Reflect.set(e,n,s,qe(e)?e:i);return e===Se(i)&&(o?us(s,r)&&Pn(e,"set",n,s):Pn(e,"add",n,s)),a}deleteProperty(e,n){const s=xe(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Pn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Wn(n)||!Mg.has(n))&&ut(e,"has",n),s}ownKeys(e){return ut(e,"iterate",ue(e)?"length":Us),Reflect.ownKeys(e)}}class SS extends Lg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ES=new Dg,TS=new SS,CS=new Dg(!0);const Zc=t=>t,Ro=t=>Reflect.getPrototypeOf(t);function IS(t,e,n){return function(...s){const i=this.__v_raw,r=Se(i),o=Ci(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Zc:e?eu:dt;return!e&&ut(r,"iterate",l?Qc:Us),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Oo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xS(t,e){const n={get(i){const r=this.__v_raw,o=Se(r),a=Se(i);t||(us(i,a)&&ut(o,"get",i),ut(o,"get",a));const{has:l}=Ro(o),c=e?Zc:t?eu:dt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ut(Se(i),"iterate",Us),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Se(r),a=Se(i);return t||(us(i,a)&&ut(o,"has",i),ut(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Se(a),c=e?Zc:t?eu:dt;return!t&&ut(l,"iterate",Us),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return pt(n,t?{add:Oo("add"),set:Oo("set"),delete:Oo("delete"),clear:Oo("clear")}:{add(i){!e&&!Ut(i)&&!Gs(i)&&(i=Se(i));const r=Se(this);return Ro(r).has.call(r,i)||(r.add(i),Pn(r,"add",i,i)),this},set(i,r){!e&&!Ut(r)&&!Gs(r)&&(r=Se(r));const o=Se(this),{has:a,get:l}=Ro(o);let c=a.call(o,i);c||(i=Se(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?us(r,u)&&Pn(o,"set",i,r):Pn(o,"add",i,r),this},delete(i){const r=Se(this),{has:o,get:a}=Ro(r);let l=o.call(r,i);l||(i=Se(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Pn(r,"delete",i,void 0),c},clear(){const i=Se(this),r=i.size!==0,o=i.clear();return r&&Pn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=IS(i,t,e)}),n}function md(t,e){const n=xS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(xe(n,i)&&i in s?n:s,i,r)}const kS={get:md(!1,!1)},PS={get:md(!1,!0)},AS={get:md(!0,!1)};const Fg=new WeakMap,$g=new WeakMap,Bg=new WeakMap,RS=new WeakMap;function OS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function NS(t){return t.__v_skip||!Object.isExtensible(t)?0:OS(rS(t))}function li(t){return Gs(t)?t:gd(t,!1,ES,kS,Fg)}function Ug(t){return gd(t,!1,CS,PS,$g)}function jg(t){return gd(t,!0,TS,AS,Bg)}function gd(t,e,n,s,i){if(!He(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=NS(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function ds(t){return Gs(t)?ds(t.__v_raw):!!(t&&t.__v_isReactive)}function Gs(t){return!!(t&&t.__v_isReadonly)}function Ut(t){return!!(t&&t.__v_isShallow)}function ol(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function al(t){return!xe(t,"__v_skip")&&Object.isExtensible(t)&&_g(t,"__v_skip",!0),t}const dt=t=>He(t)?li(t):t,eu=t=>He(t)?jg(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function F(t){return Hg(t,!1)}function Vg(t){return Hg(t,!0)}function Hg(t,e){return qe(t)?t:new MS(t,e)}class MS{constructor(e,n){this.dep=new pd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:dt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ut(e)||Gs(e);e=s?e:Se(e),us(e,n)&&(this._rawValue=e,this._value=s?e:dt(e),this.dep.trigger())}}function D(t){return qe(t)?t.value:t}const LS={get:(t,e,n)=>e==="__v_raw"?t:D(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return qe(i)&&!qe(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Wg(t){return ds(t)?t:new Proxy(t,LS)}function DS(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=zg(t,n);return e}class FS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return vS(Se(this._object),this._key)}}class $S{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function BS(t,e,n){return qe(t)?t:fe(t)?new $S(t):He(t)&&arguments.length>1?zg(t,e,n):F(t)}function zg(t,e,n){const s=t[e];return qe(s)?s:new FS(t,e,n)}class US{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new pd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return kg(this,!0),!0}get value(){const e=this.dep.track();return Rg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jS(t,e,n=!1){let s,i;return fe(t)?s=t:(s=t.get,i=t.set),new US(s,i,n)}const No={},la=new WeakMap;let Rs;function VS(t,e=!1,n=Rs){if(n){let s=la.get(n);s||la.set(n,s=[]),s.push(t)}}function HS(t,e,n=De){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:Ut(S)||i===!1||i===0?An(S,1):An(S);let u,d,f,h,p=!1,m=!1;if(qe(t)?(d=()=>t.value,p=Ut(t)):ds(t)?(d=()=>c(t),p=!0):ue(t)?(m=!0,p=t.some(S=>ds(S)||Ut(S)),d=()=>t.map(S=>{if(qe(S))return S.value;if(ds(S))return c(S);if(fe(S))return l?l(S,2):S()})):fe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ws();try{f()}finally{bs()}}const S=Rs;Rs=u;try{return l?l(t,3,[h]):t(h)}finally{Rs=S}}:d=Gt,e&&i){const S=d,T=i===!0?1/0:i;d=()=>An(S(),T)}const y=Cg(),w=()=>{u.stop(),y&&y.active&&cd(y.effects,u)};if(r&&e){const S=e;e=(...T)=>{S(...T),w()}}let v=m?new Array(t.length).fill(No):No;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const T=u.run();if(i||p||(m?T.some((R,$)=>us(R,v[$])):us(T,v))){f&&f();const R=Rs;Rs=u;try{const $=[T,v===No?void 0:m&&v[0]===No?[]:v,h];l?l(e,3,$):e(...$),v=T}finally{Rs=R}}}else u.run()};return a&&a(g),u=new Ig(d),u.scheduler=o?()=>o(g,!1):g,h=S=>VS(S,!1,u),f=u.onStop=()=>{const S=la.get(u);if(S){if(l)l(S,4);else for(const T of S)T();la.delete(u)}},e?s?g(!0):v=u.run():o?o(g.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function An(t,e=1/0,n){if(e<=0||!He(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qe(t))An(t.value,e,n);else if(ue(t))for(let s=0;s<t.length;s++)An(t[s],e,n);else if(mg(t)||Ci(t))t.forEach(s=>{An(s,e,n)});else if(yg(t)){for(const s in t)An(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&An(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function po(t,e,n,s){try{return s?t(...s):t()}catch(i){ll(i,e,n)}}function yn(t,e,n,s){if(fe(t)){const i=po(t,e,n,s);return i&&gg(i)&&i.catch(r=>{ll(r,e,n)}),i}if(ue(t)){const i=[];for(let r=0;r<t.length;r++)i.push(yn(t[r],e,n,s));return i}}function ll(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||De;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){ws(),po(r,null,10,[t,l,c]),bs();return}}WS(t,n,i,s,o)}function WS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const _t=[];let cn=-1;const Ii=[];let Qn=null,vi=0;const qg=Promise.resolve();let ca=null;function Gi(t){const e=ca||qg;return t?e.then(this?t.bind(this):t):e}function zS(t){let e=cn+1,n=_t.length;for(;e<n;){const s=e+n>>>1,i=_t[s],r=Wr(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function vd(t){if(!(t.flags&1)){const e=Wr(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=Wr(n)?_t.push(t):_t.splice(zS(e),0,t),t.flags|=1,Gg()}}function Gg(){ca||(ca=qg.then(Jg))}function Kg(t){ue(t)?Ii.push(...t):Qn&&t.id===-1?Qn.splice(vi+1,0,t):t.flags&1||(Ii.push(t),t.flags|=1),Gg()}function _h(t,e,n=cn+1){for(;n<_t.length;n++){const s=_t[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;_t.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Yg(t){if(Ii.length){const e=[...new Set(Ii)].sort((n,s)=>Wr(n)-Wr(s));if(Ii.length=0,Qn){Qn.push(...e);return}for(Qn=e,vi=0;vi<Qn.length;vi++){const n=Qn[vi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qn=null,vi=0}}const Wr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Jg(t){try{for(cn=0;cn<_t.length;cn++){const e=_t[cn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),po(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;cn<_t.length;cn++){const e=_t[cn];e&&(e.flags&=-2)}cn=-1,_t.length=0,Yg(),ca=null,(_t.length||Ii.length)&&Jg()}}let Qe=null,cl=null;function ua(t){const e=Qe;return Qe=t,cl=t&&t.type.__scopeId||null,e}function qS(t){cl=t}function GS(){cl=null}function ee(t,e=Qe,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Oh(-1);const r=ua(e);let o;try{o=t(...i)}finally{ua(r),s._d&&Oh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ct(t,e){if(Qe===null)return t;const n=hl(Qe),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=De]=e[i];r&&(fe(r)&&(r={mounted:r,updated:r}),r.deep&&An(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ks(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(ws(),yn(l,n,8,[t.el,a,t,e]),bs())}}const Xg=Symbol("_vte"),KS=t=>t.__isTeleport,Pr=t=>t&&(t.disabled||t.disabled===""),wh=t=>t&&(t.defer||t.defer===""),bh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Sh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,tu=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},Qg={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=c,w=Pr(e.props);let{shapeFlag:v,children:g,dynamicChildren:S}=e;if(t==null){const T=e.el=m(""),R=e.anchor=m("");h(T,n,s),h(R,n,s);const $=(C,k)=>{v&16&&(i&&i.isCE&&(i.ce._teleportTarget=C),u(g,C,k,i,r,o,a,l))},x=()=>{const C=e.target=tu(e.props,p),k=ev(C,e,m,h);C&&(o!=="svg"&&bh(C)?o="svg":o!=="mathml"&&Sh(C)&&(o="mathml"),w||($(C,k),Wo(e,!1)))};w&&($(n,R),Wo(e,!0)),wh(e.props)?vt(()=>{x(),e.el.__isMounted=!0},r):x()}else{if(wh(e.props)&&!t.el.__isMounted){vt(()=>{Qg.process(t,e,n,s,i,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,R=e.target=t.target,$=e.targetAnchor=t.targetAnchor,x=Pr(t.props),C=x?n:R,k=x?T:$;if(o==="svg"||bh(R)?o="svg":(o==="mathml"||Sh(R))&&(o="mathml"),S?(f(t.dynamicChildren,S,C,i,r,o,a),Cd(t,e,!0)):l||d(t,e,C,k,i,r,o,a,!1),w)x?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Mo(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=tu(e.props,p);B&&Mo(e,B,null,c,0)}else x&&Mo(e,R,$,c,1);Wo(e,w)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Pr(f);for(let p=0;p<a.length;p++){const m=a[p];s(m,e,n,h,!!m.dynamicChildren)}}},move:Mo,hydrate:YS};function Mo(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||Pr(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&s(a,e,n)}function YS(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=tu(e.props,l);if(f){const h=Pr(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||ev(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}Wo(e,h)}return e.anchor&&o(e.anchor)}const Zg=Qg;function Wo(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function ev(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[Xg]=r,t&&(s(i,t),s(r,t)),r}function yd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,yd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ye(t,e){return fe(t)?pt({name:t.name},e,{setup:t}):t}function JS(){const t=ci();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function tv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function da(t,e,n,s,i=!1){if(ue(t)){t.forEach((p,m)=>da(p,e&&(ue(e)?e[m]:e),n,s,i));return}if(xi(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&da(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?hl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===De?a.refs={}:a.refs,d=a.setupState,f=Se(d),h=d===De?()=>!1:p=>xe(f,p);if(c!=null&&c!==l&&(Ge(c)?(u[c]=null,h(c)&&(d[c]=null)):qe(c)&&(c.value=null)),fe(l))po(l,a,12,[o,u]);else{const p=Ge(l),m=qe(l);if(p||m){const y=()=>{if(t.f){const w=p?h(l)?d[l]:u[l]:l.value;i?ue(w)&&cd(w,r):ue(w)?w.includes(r)||w.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,vt(y,n)):y()}}}il().requestIdleCallback;il().cancelIdleCallback;const xi=t=>!!t.type.__asyncLoader,nv=t=>t.type.__isKeepAlive;function sv(t,e){rv(t,"a",e)}function iv(t,e){rv(t,"da",e)}function rv(t,e,n=it){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ul(e,s,n),n){let i=n.parent;for(;i&&i.parent;)nv(i.parent.vnode)&&XS(s,e,n,i),i=i.parent}}function XS(t,e,n,s){const i=ul(e,t,s,!0);bt(()=>{cd(s[e],i)},n)}function ul(t,e,n=it,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{ws();const a=mo(n),l=yn(e,n,t,o);return a(),bs(),l});return s?i.unshift(r):i.push(r),r}}const zn=t=>(e,n=it)=>{(!Gr||t==="sp")&&ul(t,(...s)=>e(...s),n)},QS=zn("bm"),Pe=zn("m"),_d=zn("bu"),wd=zn("u"),bd=zn("bum"),bt=zn("um"),ZS=zn("sp"),eE=zn("rtg"),tE=zn("rtc");function nE(t,e=it){ul("ec",t,e)}const Sd="components",sE="directives";function Ss(t,e){return Ed(Sd,t,!0,e)||t}const ov=Symbol.for("v-ndc");function zt(t){return Ge(t)?Ed(Sd,t,!1)||t:t||ov}function iE(t){return Ed(sE,t)}function Ed(t,e,n=!0,s=!1){const i=Qe||it;if(i){const r=i.type;if(t===Sd){const a=zE(r,!1);if(a&&(a===e||a===Ht(e)||a===sl(Ht(e))))return r}const o=Eh(i[t]||r[t],e)||Eh(i.appContext[t],e);return!o&&s?r:o}}function Eh(t,e){return t&&(t[e]||t[Ht(e)]||t[sl(Ht(e))])}function Bn(t,e,n,s){let i;const r=n,o=ue(t);if(o||Ge(t)){const a=o&&ds(t);let l=!1;a&&(l=!Ut(t),t=rl(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?dt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(He(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function un(t,e,n={},s,i){if(Qe.ce||Qe.parent&&xi(Qe.parent)&&Qe.parent.ce)return e!=="default"&&(n.name=e),A(),pe(Te,null,[V("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),A();const o=r&&av(r(n)),a=n.key||o&&o.key,l=pe(Te,{key:(a&&!Wn(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function av(t){return t.some(e=>qr(e)?!(e.type===Un||e.type===Te&&!av(e.children)):!0)?t:null}const nu=t=>t?Iv(t)?hl(t):nu(t.parent):null,Ar=pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nu(t.parent),$root:t=>nu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>cv(t),$forceUpdate:t=>t.f||(t.f=()=>{vd(t.update)}),$nextTick:t=>t.n||(t.n=Gi.bind(t.proxy)),$watch:t=>IE.bind(t)}),tc=(t,e)=>t!==De&&!t.__isScriptSetup&&xe(t,e),rE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(tc(s,e))return o[e]=1,s[e];if(i!==De&&xe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&xe(c,e))return o[e]=3,r[e];if(n!==De&&xe(n,e))return o[e]=4,n[e];su&&(o[e]=0)}}const u=Ar[e];let d,f;if(u)return e==="$attrs"&&ut(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==De&&xe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,xe(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return tc(i,e)?(i[e]=n,!0):s!==De&&xe(s,e)?(s[e]=n,!0):xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==De&&xe(t,o)||tc(e,o)||(a=r[0])&&xe(a,o)||xe(s,o)||xe(Ar,o)||xe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Th(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let su=!0;function oE(t){const e=cv(t),n=t.proxy,s=t.ctx;su=!1,e.beforeCreate&&Ch(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:g,unmounted:S,render:T,renderTracked:R,renderTriggered:$,errorCaptured:x,serverPrefetch:C,expose:k,inheritAttrs:B,components:J,directives:H,filters:te}=e;if(c&&aE(c,s,null),o)for(const ie in o){const we=o[ie];fe(we)&&(s[ie]=we.bind(n))}if(i){const ie=i.call(n,n);He(ie)&&(t.data=li(ie))}if(su=!0,r)for(const ie in r){const we=r[ie],mt=fe(we)?we.bind(n,n):fe(we.get)?we.get.bind(n,n):Gt,Et=!fe(we)&&fe(we.set)?we.set.bind(n):Gt,me=Q({get:mt,set:Et});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>me.value,set:ge=>me.value=ge})}if(a)for(const ie in a)lv(a[ie],s,n,ie);if(l){const ie=fe(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(we=>{ht(we,ie[we])})}u&&Ch(u,t,"c");function se(ie,we){ue(we)?we.forEach(mt=>ie(mt.bind(n))):we&&ie(we.bind(n))}if(se(QS,d),se(Pe,f),se(_d,h),se(wd,p),se(sv,m),se(iv,y),se(nE,x),se(tE,R),se(eE,$),se(bd,v),se(bt,S),se(ZS,C),ue(k))if(k.length){const ie=t.exposed||(t.exposed={});k.forEach(we=>{Object.defineProperty(ie,we,{get:()=>n[we],set:mt=>n[we]=mt})})}else t.exposed||(t.exposed={});T&&t.render===Gt&&(t.render=T),B!=null&&(t.inheritAttrs=B),J&&(t.components=J),H&&(t.directives=H),C&&tv(t)}function aE(t,e,n=Gt){ue(t)&&(t=iu(t));for(const s in t){const i=t[s];let r;He(i)?"default"in i?r=Ve(i.from||s,i.default,!0):r=Ve(i.from||s):r=Ve(i),qe(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Ch(t,e,n){yn(ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function lv(t,e,n,s){let i=s.includes(".")?bv(n,s):()=>n[s];if(Ge(t)){const r=e[t];fe(r)&&ot(i,r)}else if(fe(t))ot(i,t.bind(n));else if(He(t))if(ue(t))t.forEach(r=>lv(r,e,n,s));else{const r=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(r)&&ot(i,r,t)}}function cv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>fa(l,c,o,!0)),fa(l,e,o)),He(e)&&r.set(e,l),l}function fa(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&fa(t,r,n,!0),i&&i.forEach(o=>fa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=lE[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lE={data:Ih,props:xh,emits:xh,methods:br,computed:br,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:br,directives:br,watch:uE,provide:Ih,inject:cE};function Ih(t,e){return e?t?function(){return pt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function cE(t,e){return br(iu(t),iu(e))}function iu(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gt(t,e){return t?[...new Set([].concat(t,e))]:e}function br(t,e){return t?pt(Object.create(null),t,e):e}function xh(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:pt(Object.create(null),Th(t),Th(e??{})):e}function uE(t,e){if(!t)return e;if(!e)return t;const n=pt(Object.create(null),t);for(const s in e)n[s]=gt(t[s],e[s]);return n}function uv(){return{app:null,config:{isNativeTag:sS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dE=0;function fE(t,e){return function(s,i=null){fe(s)||(s=pt({},s)),i!=null&&!He(i)&&(i=null);const r=uv(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:dE++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:GE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&fe(u.install)?(o.add(u),u.install(c,...d)):fe(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||V(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,hl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(yn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=js;js=c;try{return u()}finally{js=d}}};return c}}let js=null;function ht(t,e){if(it){let n=it.provides;const s=it.parent&&it.parent.provides;s===n&&(n=it.provides=Object.create(s)),n[t]=e}}function Ve(t,e,n=!1){const s=it||Qe;if(s||js){const i=js?js._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&fe(e)?e.call(s&&s.proxy):e}}function hE(){return!!(it||Qe||js)}const dv={},fv=()=>Object.create(dv),hv=t=>Object.getPrototypeOf(t)===dv;function pE(t,e,n,s=!1){const i={},r=fv();t.propsDefaults=Object.create(null),pv(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Ug(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function mE(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Se(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(dl(t.emitsOptions,f))continue;const h=e[f];if(l)if(xe(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Ht(f);i[p]=ru(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{pv(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!xe(e,d)&&((u=_s(d))===d||!xe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=ru(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!xe(e,d))&&(delete r[d],c=!0)}c&&Pn(t.attrs,"set","")}function pv(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ir(l))continue;const c=e[l];let u;i&&xe(i,u=Ht(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:dl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Se(n),c=a||De;for(let u=0;u<r.length;u++){const d=r[u];n[d]=ru(i,l,d,c[d],t,!xe(c,d))}}return o}function ru(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=xe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=mo(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===_s(n))&&(s=!0))}return s}const gE=new WeakMap;function mv(t,e,n=!1){const s=n?gE:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!fe(t)){const u=d=>{l=!0;const[f,h]=mv(d,e,!0);pt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return He(t)&&s.set(t,Ti),Ti;if(ue(r))for(let u=0;u<r.length;u++){const d=Ht(r[u]);kh(d)&&(o[d]=De)}else if(r)for(const u in r){const d=Ht(u);if(kh(d)){const f=r[u],h=o[d]=ue(f)||fe(f)?{type:f}:pt({},f),p=h.type;let m=!1,y=!0;if(ue(p))for(let w=0;w<p.length;++w){const v=p[w],g=fe(v)&&v.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=fe(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||xe(h,"default"))&&a.push(d)}}const c=[o,a];return He(t)&&s.set(t,c),c}function kh(t){return t[0]!=="$"&&!Ir(t)}const gv=t=>t[0]==="_"||t==="$stable",Td=t=>ue(t)?t.map(fn):[fn(t)],vE=(t,e,n)=>{if(e._n)return e;const s=ee((...i)=>Td(e(...i)),n);return s._c=!1,s},vv=(t,e,n)=>{const s=t._ctx;for(const i in t){if(gv(i))continue;const r=t[i];if(fe(r))e[i]=vE(i,r,s);else if(r!=null){const o=Td(r);e[i]=()=>o}}},yv=(t,e)=>{const n=Td(e);t.slots.default=()=>n},_v=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},yE=(t,e,n)=>{const s=t.slots=fv();if(t.vnode.shapeFlag&32){const i=e._;i?(_v(s,e,n),n&&_g(s,"_",i,!0)):vv(e,s)}else e&&yv(t,e)},_E=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=De;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:_v(i,e,n):(r=!e.$stable,vv(e,i)),o=e}else e&&(yv(t,e),o={default:1});if(r)for(const a in i)!gv(a)&&o[a]==null&&delete i[a]},vt=NE;function wE(t){return bE(t)}function bE(t,e){const n=il();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Gt,insertStaticContent:p}=t,m=(_,b,I,O=null,L=null,M=null,G=void 0,q=null,z=!!b.dynamicChildren)=>{if(_===b)return;_&&!cr(_,b)&&(O=N(_),ge(_,L,M,!0),_=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:U,ref:oe,shapeFlag:Y}=b;switch(U){case fl:y(_,b,I,O);break;case Un:w(_,b,I,O);break;case zo:_==null&&v(b,I,O,G);break;case Te:J(_,b,I,O,L,M,G,q,z);break;default:Y&1?T(_,b,I,O,L,M,G,q,z):Y&6?H(_,b,I,O,L,M,G,q,z):(Y&64||Y&128)&&U.process(_,b,I,O,L,M,G,q,z,Z)}oe!=null&&L&&da(oe,_&&_.ref,M,b||_,!b)},y=(_,b,I,O)=>{if(_==null)s(b.el=a(b.children),I,O);else{const L=b.el=_.el;b.children!==_.children&&c(L,b.children)}},w=(_,b,I,O)=>{_==null?s(b.el=l(b.children||""),I,O):b.el=_.el},v=(_,b,I,O)=>{[_.el,_.anchor]=p(_.children,b,I,O,_.el,_.anchor)},g=({el:_,anchor:b},I,O)=>{let L;for(;_&&_!==b;)L=f(_),s(_,I,O),_=L;s(b,I,O)},S=({el:_,anchor:b})=>{let I;for(;_&&_!==b;)I=f(_),i(_),_=I;i(b)},T=(_,b,I,O,L,M,G,q,z)=>{b.type==="svg"?G="svg":b.type==="math"&&(G="mathml"),_==null?R(b,I,O,L,M,G,q,z):C(_,b,L,M,G,q,z)},R=(_,b,I,O,L,M,G,q)=>{let z,U;const{props:oe,shapeFlag:Y,transition:ne,dirs:de}=_;if(z=_.el=o(_.type,M,oe&&oe.is,oe),Y&8?u(z,_.children):Y&16&&x(_.children,z,null,O,L,nc(_,M),G,q),de&&ks(_,null,O,"created"),$(z,_,_.scopeId,G,O),oe){for(const $e in oe)$e!=="value"&&!Ir($e)&&r(z,$e,null,oe[$e],M,O);"value"in oe&&r(z,"value",null,oe.value,M),(U=oe.onVnodeBeforeMount)&&an(U,O,_)}de&&ks(_,null,O,"beforeMount");const be=SE(L,ne);be&&ne.beforeEnter(z),s(z,b,I),((U=oe&&oe.onVnodeMounted)||be||de)&&vt(()=>{U&&an(U,O,_),be&&ne.enter(z),de&&ks(_,null,O,"mounted")},L)},$=(_,b,I,O,L)=>{if(I&&h(_,I),O)for(let M=0;M<O.length;M++)h(_,O[M]);if(L){let M=L.subTree;if(b===M||Ev(M.type)&&(M.ssContent===b||M.ssFallback===b)){const G=L.vnode;$(_,G,G.scopeId,G.slotScopeIds,L.parent)}}},x=(_,b,I,O,L,M,G,q,z=0)=>{for(let U=z;U<_.length;U++){const oe=_[U]=q?Zn(_[U]):fn(_[U]);m(null,oe,b,I,O,L,M,G,q)}},C=(_,b,I,O,L,M,G)=>{const q=b.el=_.el;let{patchFlag:z,dynamicChildren:U,dirs:oe}=b;z|=_.patchFlag&16;const Y=_.props||De,ne=b.props||De;let de;if(I&&Ps(I,!1),(de=ne.onVnodeBeforeUpdate)&&an(de,I,b,_),oe&&ks(b,_,I,"beforeUpdate"),I&&Ps(I,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(q,""),U?k(_.dynamicChildren,U,q,I,O,nc(b,L),M):G||we(_,b,q,null,I,O,nc(b,L),M,!1),z>0){if(z&16)B(q,Y,ne,I,L);else if(z&2&&Y.class!==ne.class&&r(q,"class",null,ne.class,L),z&4&&r(q,"style",Y.style,ne.style,L),z&8){const be=b.dynamicProps;for(let $e=0;$e<be.length;$e++){const ke=be[$e],Rt=Y[ke],Tt=ne[ke];(Tt!==Rt||ke==="value")&&r(q,ke,Rt,Tt,L,I)}}z&1&&_.children!==b.children&&u(q,b.children)}else!G&&U==null&&B(q,Y,ne,I,L);((de=ne.onVnodeUpdated)||oe)&&vt(()=>{de&&an(de,I,b,_),oe&&ks(b,_,I,"updated")},O)},k=(_,b,I,O,L,M,G)=>{for(let q=0;q<b.length;q++){const z=_[q],U=b[q],oe=z.el&&(z.type===Te||!cr(z,U)||z.shapeFlag&70)?d(z.el):I;m(z,U,oe,null,O,L,M,G,!0)}},B=(_,b,I,O,L)=>{if(b!==I){if(b!==De)for(const M in b)!Ir(M)&&!(M in I)&&r(_,M,b[M],null,L,O);for(const M in I){if(Ir(M))continue;const G=I[M],q=b[M];G!==q&&M!=="value"&&r(_,M,q,G,L,O)}"value"in I&&r(_,"value",b.value,I.value,L)}},J=(_,b,I,O,L,M,G,q,z)=>{const U=b.el=_?_.el:a(""),oe=b.anchor=_?_.anchor:a("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:de}=b;de&&(q=q?q.concat(de):de),_==null?(s(U,I,O),s(oe,I,O),x(b.children||[],I,oe,L,M,G,q,z)):Y>0&&Y&64&&ne&&_.dynamicChildren?(k(_.dynamicChildren,ne,I,L,M,G,q),(b.key!=null||L&&b===L.subTree)&&Cd(_,b,!0)):we(_,b,I,oe,L,M,G,q,z)},H=(_,b,I,O,L,M,G,q,z)=>{b.slotScopeIds=q,_==null?b.shapeFlag&512?L.ctx.activate(b,I,O,G,z):te(b,I,O,L,M,G,z):re(_,b,z)},te=(_,b,I,O,L,M,G)=>{const q=_.component=UE(_,O,L);if(nv(_)&&(q.ctx.renderer=Z),jE(q,!1,G),q.asyncDep){if(L&&L.registerDep(q,se,G),!_.el){const z=q.subTree=V(Un);w(null,z,b,I)}}else se(q,_,b,I,L,M,G)},re=(_,b,I)=>{const O=b.component=_.component;if(RE(_,b,I))if(O.asyncDep&&!O.asyncResolved){ie(O,b,I);return}else O.next=b,O.update();else b.el=_.el,O.vnode=b},se=(_,b,I,O,L,M,G)=>{const q=()=>{if(_.isMounted){let{next:Y,bu:ne,u:de,parent:be,vnode:$e}=_;{const rn=wv(_);if(rn){Y&&(Y.el=$e.el,ie(_,Y,G)),rn.asyncDep.then(()=>{_.isUnmounted||q()});return}}let ke=Y,Rt;Ps(_,!1),Y?(Y.el=$e.el,ie(_,Y,G)):Y=$e,ne&&Ho(ne),(Rt=Y.props&&Y.props.onVnodeBeforeUpdate)&&an(Rt,be,Y,$e),Ps(_,!0);const Tt=Ah(_),sn=_.subTree;_.subTree=Tt,m(sn,Tt,d(sn.el),N(sn),_,L,M),Y.el=Tt.el,ke===null&&OE(_,Tt.el),de&&vt(de,L),(Rt=Y.props&&Y.props.onVnodeUpdated)&&vt(()=>an(Rt,be,Y,$e),L)}else{let Y;const{el:ne,props:de}=b,{bm:be,m:$e,parent:ke,root:Rt,type:Tt}=_,sn=xi(b);Ps(_,!1),be&&Ho(be),!sn&&(Y=de&&de.onVnodeBeforeMount)&&an(Y,ke,b),Ps(_,!0);{Rt.ce&&Rt.ce._injectChildStyle(Tt);const rn=_.subTree=Ah(_);m(null,rn,I,O,_,L,M),b.el=rn.el}if($e&&vt($e,L),!sn&&(Y=de&&de.onVnodeMounted)){const rn=b;vt(()=>an(Y,ke,rn),L)}(b.shapeFlag&256||ke&&xi(ke.vnode)&&ke.vnode.shapeFlag&256)&&_.a&&vt(_.a,L),_.isMounted=!0,b=I=O=null}};_.scope.on();const z=_.effect=new Ig(q);_.scope.off();const U=_.update=z.run.bind(z),oe=_.job=z.runIfDirty.bind(z);oe.i=_,oe.id=_.uid,z.scheduler=()=>vd(oe),Ps(_,!0),U()},ie=(_,b,I)=>{b.component=_;const O=_.vnode.props;_.vnode=b,_.next=null,mE(_,b.props,O,I),_E(_,b.children,I),ws(),_h(_),bs()},we=(_,b,I,O,L,M,G,q,z=!1)=>{const U=_&&_.children,oe=_?_.shapeFlag:0,Y=b.children,{patchFlag:ne,shapeFlag:de}=b;if(ne>0){if(ne&128){Et(U,Y,I,O,L,M,G,q,z);return}else if(ne&256){mt(U,Y,I,O,L,M,G,q,z);return}}de&8?(oe&16&&at(U,L,M),Y!==U&&u(I,Y)):oe&16?de&16?Et(U,Y,I,O,L,M,G,q,z):at(U,L,M,!0):(oe&8&&u(I,""),de&16&&x(Y,I,O,L,M,G,q,z))},mt=(_,b,I,O,L,M,G,q,z)=>{_=_||Ti,b=b||Ti;const U=_.length,oe=b.length,Y=Math.min(U,oe);let ne;for(ne=0;ne<Y;ne++){const de=b[ne]=z?Zn(b[ne]):fn(b[ne]);m(_[ne],de,I,null,L,M,G,q,z)}U>oe?at(_,L,M,!0,!1,Y):x(b,I,O,L,M,G,q,z,Y)},Et=(_,b,I,O,L,M,G,q,z)=>{let U=0;const oe=b.length;let Y=_.length-1,ne=oe-1;for(;U<=Y&&U<=ne;){const de=_[U],be=b[U]=z?Zn(b[U]):fn(b[U]);if(cr(de,be))m(de,be,I,null,L,M,G,q,z);else break;U++}for(;U<=Y&&U<=ne;){const de=_[Y],be=b[ne]=z?Zn(b[ne]):fn(b[ne]);if(cr(de,be))m(de,be,I,null,L,M,G,q,z);else break;Y--,ne--}if(U>Y){if(U<=ne){const de=ne+1,be=de<oe?b[de].el:O;for(;U<=ne;)m(null,b[U]=z?Zn(b[U]):fn(b[U]),I,be,L,M,G,q,z),U++}}else if(U>ne)for(;U<=Y;)ge(_[U],L,M,!0),U++;else{const de=U,be=U,$e=new Map;for(U=be;U<=ne;U++){const Ot=b[U]=z?Zn(b[U]):fn(b[U]);Ot.key!=null&&$e.set(Ot.key,U)}let ke,Rt=0;const Tt=ne-be+1;let sn=!1,rn=0;const ar=new Array(Tt);for(U=0;U<Tt;U++)ar[U]=0;for(U=de;U<=Y;U++){const Ot=_[U];if(Rt>=Tt){ge(Ot,L,M,!0);continue}let on;if(Ot.key!=null)on=$e.get(Ot.key);else for(ke=be;ke<=ne;ke++)if(ar[ke-be]===0&&cr(Ot,b[ke])){on=ke;break}on===void 0?ge(Ot,L,M,!0):(ar[on-be]=U+1,on>=rn?rn=on:sn=!0,m(Ot,b[on],I,null,L,M,G,q,z),Rt++)}const ph=sn?EE(ar):Ti;for(ke=ph.length-1,U=Tt-1;U>=0;U--){const Ot=be+U,on=b[Ot],mh=Ot+1<oe?b[Ot+1].el:O;ar[U]===0?m(null,on,I,mh,L,M,G,q,z):sn&&(ke<0||U!==ph[ke]?me(on,I,mh,2):ke--)}}},me=(_,b,I,O,L=null)=>{const{el:M,type:G,transition:q,children:z,shapeFlag:U}=_;if(U&6){me(_.component.subTree,b,I,O);return}if(U&128){_.suspense.move(b,I,O);return}if(U&64){G.move(_,b,I,Z);return}if(G===Te){s(M,b,I);for(let Y=0;Y<z.length;Y++)me(z[Y],b,I,O);s(_.anchor,b,I);return}if(G===zo){g(_,b,I);return}if(O!==2&&U&1&&q)if(O===0)q.beforeEnter(M),s(M,b,I),vt(()=>q.enter(M),L);else{const{leave:Y,delayLeave:ne,afterLeave:de}=q,be=()=>s(M,b,I),$e=()=>{Y(M,()=>{be(),de&&de()})};ne?ne(M,be,$e):$e()}else s(M,b,I)},ge=(_,b,I,O=!1,L=!1)=>{const{type:M,props:G,ref:q,children:z,dynamicChildren:U,shapeFlag:oe,patchFlag:Y,dirs:ne,cacheIndex:de}=_;if(Y===-2&&(L=!1),q!=null&&da(q,null,I,_,!0),de!=null&&(b.renderCache[de]=void 0),oe&256){b.ctx.deactivate(_);return}const be=oe&1&&ne,$e=!xi(_);let ke;if($e&&(ke=G&&G.onVnodeBeforeUnmount)&&an(ke,b,_),oe&6)Kn(_.component,I,O);else{if(oe&128){_.suspense.unmount(I,O);return}be&&ks(_,null,b,"beforeUnmount"),oe&64?_.type.remove(_,b,I,Z,O):U&&!U.hasOnce&&(M!==Te||Y>0&&Y&64)?at(U,b,I,!1,!0):(M===Te&&Y&384||!L&&oe&16)&&at(z,b,I),O&&Je(_)}($e&&(ke=G&&G.onVnodeUnmounted)||be)&&vt(()=>{ke&&an(ke,b,_),be&&ks(_,null,b,"unmounted")},I)},Je=_=>{const{type:b,el:I,anchor:O,transition:L}=_;if(b===Te){Xe(I,O);return}if(b===zo){S(_);return}const M=()=>{i(I),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(_.shapeFlag&1&&L&&!L.persisted){const{leave:G,delayLeave:q}=L,z=()=>G(I,M);q?q(_.el,M,z):z()}else M()},Xe=(_,b)=>{let I;for(;_!==b;)I=f(_),i(_),_=I;i(b)},Kn=(_,b,I)=>{const{bum:O,scope:L,job:M,subTree:G,um:q,m:z,a:U}=_;Ph(z),Ph(U),O&&Ho(O),L.stop(),M&&(M.flags|=8,ge(G,_,b,I)),q&&vt(q,b),vt(()=>{_.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},at=(_,b,I,O=!1,L=!1,M=0)=>{for(let G=M;G<_.length;G++)ge(_[G],b,I,O,L)},N=_=>{if(_.shapeFlag&6)return N(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=f(_.anchor||_.el),I=b&&b[Xg];return I?f(I):b};let X=!1;const K=(_,b,I)=>{_==null?b._vnode&&ge(b._vnode,null,null,!0):m(b._vnode||null,_,b,null,null,null,I),b._vnode=_,X||(X=!0,_h(),Yg(),X=!1)},Z={p:m,um:ge,m:me,r:Je,mt:te,mc:x,pc:we,pbc:k,n:N,o:t};return{render:K,hydrate:void 0,createApp:fE(K)}}function nc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ps({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function SE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cd(t,e,n=!1){const s=t.children,i=e.children;if(ue(s)&&ue(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Zn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Cd(o,a)),a.type===fl&&(a.el=o.el)}}function EE(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function wv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wv(e)}function Ph(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const TE=Symbol.for("v-scx"),CE=()=>Ve(TE);function Xt(t,e){return Id(t,null,e)}function ot(t,e,n){return Id(t,e,n)}function Id(t,e,n=De){const{immediate:s,deep:i,flush:r,once:o}=n,a=pt({},n),l=e&&s||!e&&r!=="post";let c;if(Gr){if(r==="sync"){const h=CE();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Gt,h.resume=Gt,h.pause=Gt,h}}const u=it;a.call=(h,p,m)=>yn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():vd(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=HS(t,e,a);return Gr&&(c?c.push(f):l&&f()),f}function IE(t,e,n){const s=this.proxy,i=Ge(t)?t.includes(".")?bv(s,t):()=>s[t]:t.bind(s,s);let r;fe(e)?r=e:(r=e.handler,n=e);const o=mo(this),a=Id(i,r.bind(s),n);return o(),a}function bv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const xE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ht(e)}Modifiers`]||t[`${_s(e)}Modifiers`];function kE(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||De;let i=n;const r=e.startsWith("update:"),o=r&&xE(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Ge(u)?u.trim():u)),o.number&&(i=n.map(Jc)));let a,l=s[a=Jl(e)]||s[a=Jl(Ht(e))];!l&&r&&(l=s[a=Jl(_s(e))]),l&&yn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yn(c,t,6,i)}}function Sv(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!fe(t)){const l=c=>{const u=Sv(c,e,!0);u&&(a=!0,pt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(He(t)&&s.set(t,null),null):(ue(r)?r.forEach(l=>o[l]=null):pt(o,r),He(t)&&s.set(t,o),o)}function dl(t,e){return!t||!el(e)?!1:(e=e.slice(2).replace(/Once$/,""),xe(t,e[0].toLowerCase()+e.slice(1))||xe(t,_s(e))||xe(t,e))}function Ah(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=ua(t);let w,v;try{if(n.shapeFlag&4){const S=i||s,T=S;w=fn(c.call(T,S,u,d,h,f,p)),v=a}else{const S=e;w=fn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),v=e.props?a:PE(a)}}catch(S){Rr.length=0,ll(S,t,1),w=V(Un)}let g=w;if(v&&m!==!1){const S=Object.keys(v),{shapeFlag:T}=g;S.length&&T&7&&(r&&S.some(ld)&&(v=AE(v,r)),g=Ks(g,v,!1,!0))}return n.dirs&&(g=Ks(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&yd(g,n.transition),w=g,ua(y),w}const PE=t=>{let e;for(const n in t)(n==="class"||n==="style"||el(n))&&((e||(e={}))[n]=t[n]);return e},AE=(t,e)=>{const n={};for(const s in t)(!ld(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function RE(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Rh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!dl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Rh(s,o,c):!0:!!o;return!1}function Rh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!dl(n,r))return!0}return!1}function OE({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ev=t=>t.__isSuspense;function NE(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Kg(t)}const Te=Symbol.for("v-fgt"),fl=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),zo=Symbol.for("v-stc"),Rr=[];let Dt=null;function A(t=!1){Rr.push(Dt=t?null:[])}function ME(){Rr.pop(),Dt=Rr[Rr.length-1]||null}let zr=1;function Oh(t,e=!1){zr+=t,t<0&&Dt&&e&&(Dt.hasOnce=!0)}function Tv(t){return t.dynamicChildren=zr>0?Dt||Ti:null,ME(),zr>0&&Dt&&Dt.push(t),t}function j(t,e,n,s,i,r){return Tv(E(t,e,n,s,i,r,!0))}function pe(t,e,n,s,i){return Tv(V(t,e,n,s,i,!0))}function qr(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const Cv=({key:t})=>t??null,qo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||qe(t)||fe(t)?{i:Qe,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,s=0,i=null,r=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Cv(e),ref:e&&qo(e),scopeId:cl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qe};return a?(xd(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),zr>0&&!o&&Dt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Dt.push(l),l}const V=LE;function LE(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===ov)&&(t=Un),qr(t)){const a=Ks(t,e,!0);return n&&xd(a,n),zr>0&&!r&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(t)]=a:Dt.push(a)),a.patchFlag=-2,a}if(qE(t)&&(t=t.__vccOpts),e){e=DE(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=Ne(a)),He(l)&&(ol(l)&&!ue(l)&&(l=pt({},l)),e.style=ho(l))}const o=Ge(t)?1:Ev(t)?128:KS(t)?64:He(t)?4:fe(t)?2:0;return E(t,e,n,s,i,o,r,!0)}function DE(t){return t?ol(t)||hv(t)?pt({},t):t:null}function Ks(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?FE(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Cv(c),ref:e&&e.ref?n&&r?ue(r)?r.concat(qo(e)):[r,qo(e)]:qo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ks(t.ssContent),ssFallback:t.ssFallback&&Ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&yd(u,l.clone(u)),u}function Me(t=" ",e=0){return V(fl,null,t,e)}function Le(t="",e=!1){return e?(A(),pe(Un,null,t)):V(Un,null,t)}function fn(t){return t==null||typeof t=="boolean"?V(Un):ue(t)?V(Te,null,t.slice()):qr(t)?Zn(t):V(fl,null,String(t))}function Zn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ks(t)}function xd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),xd(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!hv(e)?e._ctx=Qe:i===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:Qe},n=32):(e=String(e),s&64?(n=16,e=[Me(e)]):n=8);t.children=e,t.shapeFlag|=n}function FE(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ne([e.class,s.class]));else if(i==="style")e.style=ho([e.style,s.style]);else if(el(i)){const r=e[i],o=s[i];o&&r!==o&&!(ue(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function an(t,e,n,s=null){yn(t,e,7,[n,s])}const $E=uv();let BE=0;function UE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||$E,r={uid:BE++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Eg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mv(s,i),emitsOptions:Sv(s,i),emit:null,emitted:null,propsDefaults:De,inheritAttrs:s.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=kE.bind(null,r),t.ce&&t.ce(r),r}let it=null;const ci=()=>it||Qe;let ha,ou;{const t=il(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ha=e("__VUE_INSTANCE_SETTERS__",n=>it=n),ou=e("__VUE_SSR_SETTERS__",n=>Gr=n)}const mo=t=>{const e=it;return ha(t),t.scope.on(),()=>{t.scope.off(),ha(e)}},Nh=()=>{it&&it.scope.off(),ha(null)};function Iv(t){return t.vnode.shapeFlag&4}let Gr=!1;function jE(t,e=!1,n=!1){e&&ou(e);const{props:s,children:i}=t.vnode,r=Iv(t);pE(t,s,r,e),yE(t,i,n);const o=r?VE(t,e):void 0;return e&&ou(!1),o}function VE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,rE);const{setup:s}=n;if(s){ws();const i=t.setupContext=s.length>1?WE(t):null,r=mo(t),o=po(s,t,0,[t.props,i]),a=gg(o);if(bs(),r(),(a||t.sp)&&!xi(t)&&tv(t),a){if(o.then(Nh,Nh),e)return o.then(l=>{Mh(t,l)}).catch(l=>{ll(l,t,0)});t.asyncDep=o}else Mh(t,o)}else xv(t)}function Mh(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:He(e)&&(t.setupState=Wg(e)),xv(t)}function xv(t,e,n){const s=t.type;t.render||(t.render=s.render||Gt);{const i=mo(t);ws();try{oE(t)}finally{bs(),i()}}}const HE={get(t,e){return ut(t,"get",""),t[e]}};function WE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,HE),slots:t.slots,emit:t.emit,expose:e}}function hl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Wg(al(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ar)return Ar[n](t)},has(e,n){return n in e||n in Ar}})):t.proxy}function zE(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function qE(t){return fe(t)&&"__vccOpts"in t}const Q=(t,e)=>jS(t,e,Gr);function Ee(t,e,n){const s=arguments.length;return s===2?He(e)&&!ue(e)?qr(e)?V(t,null,[e]):V(t,e):V(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&qr(n)&&(n=[n]),V(t,e,n))}const GE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let au;const Lh=typeof window<"u"&&window.trustedTypes;if(Lh)try{au=Lh.createPolicy("vue",{createHTML:t=>t})}catch{}const kv=au?t=>au.createHTML(t):t=>t,KE="http://www.w3.org/2000/svg",YE="http://www.w3.org/1998/Math/MathML",In=typeof document<"u"?document:null,Dh=In&&In.createElement("template"),JE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?In.createElementNS(KE,t):e==="mathml"?In.createElementNS(YE,t):n?In.createElement(t,{is:n}):In.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>In.createTextNode(t),createComment:t=>In.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>In.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Dh.innerHTML=kv(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Dh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},XE=Symbol("_vtc");function QE(t,e,n){const s=t[XE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const pa=Symbol("_vod"),Pv=Symbol("_vsh"),Kr={beforeMount(t,{value:e},{transition:n}){t[pa]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ur(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),ur(t,!0),s.enter(t)):s.leave(t,()=>{ur(t,!1)}):ur(t,e))},beforeUnmount(t,{value:e}){ur(t,e)}};function ur(t,e){t.style.display=e?t[pa]:"none",t[Pv]=!e}const Av=Symbol("");function ZE(t){const e=ci();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>ma(r,i))},s=()=>{const i=t(e.proxy);e.ce?ma(e.ce,i):lu(e.subTree,i),n(i)};_d(()=>{Kg(s)}),Pe(()=>{ot(s,Gt,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),bt(()=>i.disconnect())})}function lu(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{lu(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ma(t.el,e);else if(t.type===Te)t.children.forEach(n=>lu(n,e));else if(t.type===zo){let{el:n,anchor:s}=t;for(;n&&(ma(n,e),n!==s);)n=n.nextSibling}}function ma(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[Av]=s}}const e0=/(^|;)\s*display\s*:/;function t0(t,e,n){const s=t.style,i=Ge(n);let r=!1;if(n&&!i){if(e)if(Ge(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Go(s,a,"")}else for(const o in e)n[o]==null&&Go(s,o,"");for(const o in n)o==="display"&&(r=!0),Go(s,o,n[o])}else if(i){if(e!==n){const o=s[Av];o&&(n+=";"+o),s.cssText=n,r=e0.test(n)}}else e&&t.removeAttribute("style");pa in t&&(t[pa]=r?s.display:"",t[Pv]&&(s.display="none"))}const Fh=/\s*!important$/;function Go(t,e,n){if(ue(n))n.forEach(s=>Go(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=n0(t,e);Fh.test(n)?t.setProperty(_s(s),n.replace(Fh,""),"important"):t[s]=n}}const $h=["Webkit","Moz","ms"],sc={};function n0(t,e){const n=sc[e];if(n)return n;let s=Ht(e);if(s!=="filter"&&s in t)return sc[e]=s;s=sl(s);for(let i=0;i<$h.length;i++){const r=$h[i]+s;if(r in t)return sc[e]=r}return e}const Bh="http://www.w3.org/1999/xlink";function Uh(t,e,n,s,i,r=hS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Bh,e.slice(6,e.length)):t.setAttributeNS(Bh,e,n):n==null||r&&!wg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Wn(n)?String(n):n)}function jh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?kv(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=wg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function yi(t,e,n,s){t.addEventListener(e,n,s)}function s0(t,e,n,s){t.removeEventListener(e,n,s)}const Vh=Symbol("_vei");function i0(t,e,n,s,i=null){const r=t[Vh]||(t[Vh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=r0(e);if(s){const c=r[e]=l0(s,i);yi(t,a,c,l)}else o&&(s0(t,a,o,l),r[e]=void 0)}}const Hh=/(?:Once|Passive|Capture)$/;function r0(t){let e;if(Hh.test(t)){e={};let s;for(;s=t.match(Hh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_s(t.slice(2)),e]}let ic=0;const o0=Promise.resolve(),a0=()=>ic||(o0.then(()=>ic=0),ic=Date.now());function l0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;yn(c0(s,n.value),e,5,[s])};return n.value=t,n.attached=a0(),n}function c0(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Wh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,u0=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?QE(t,s,o):e==="style"?t0(t,n,s):el(e)?ld(e)||i0(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):d0(t,e,s,o))?(jh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Uh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(s))?jh(t,Ht(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Uh(t,e,s,o))};function d0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Wh(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Wh(e)&&Ge(n)?!1:e in t}const zh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Ho(e,n):e};function f0(t){t.target.composing=!0}function qh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rc=Symbol("_assign"),Vs={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[rc]=zh(i);const r=s||i.props&&i.props.type==="number";yi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Jc(a)),t[rc](a)}),n&&yi(t,"change",()=>{t.value=t.value.trim()}),e||(yi(t,"compositionstart",f0),yi(t,"compositionend",qh),yi(t,"change",qh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[rc]=zh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Jc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},h0=["ctrl","shift","alt","meta"],p0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>h0.some(n=>t[`${n}Key`]&&!e.includes(n))},Nt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=p0[e[o]];if(a&&a(i,e))return}return t(i,...r)})},m0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Gh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=_s(i.key);if(e.some(o=>o===r||m0[o]===r))return t(i)})},g0=pt({patchProp:u0},JE);let Kh;function v0(){return Kh||(Kh=wE(g0))}const y0=(...t)=>{const e=v0().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=w0(s);if(!i)return;const r=e._component;!fe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,_0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function _0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function w0(t){return Ge(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _i=typeof document<"u";function Rv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function b0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Rv(t.default)}const Ie=Object.assign;function oc(t,e){const n={};for(const s in e){const i=e[s];n[s]=Qt(i)?i.map(t):t(i)}return n}const Or=()=>{},Qt=Array.isArray,Ov=/#/g,S0=/&/g,E0=/\//g,T0=/=/g,C0=/\?/g,Nv=/\+/g,I0=/%5B/g,x0=/%5D/g,Mv=/%5E/g,k0=/%60/g,Lv=/%7B/g,P0=/%7C/g,Dv=/%7D/g,A0=/%20/g;function kd(t){return encodeURI(""+t).replace(P0,"|").replace(I0,"[").replace(x0,"]")}function R0(t){return kd(t).replace(Lv,"{").replace(Dv,"}").replace(Mv,"^")}function cu(t){return kd(t).replace(Nv,"%2B").replace(A0,"+").replace(Ov,"%23").replace(S0,"%26").replace(k0,"`").replace(Lv,"{").replace(Dv,"}").replace(Mv,"^")}function O0(t){return cu(t).replace(T0,"%3D")}function N0(t){return kd(t).replace(Ov,"%23").replace(C0,"%3F")}function M0(t){return t==null?"":N0(t).replace(E0,"%2F")}function Yr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const L0=/\/$/,D0=t=>t.replace(L0,"");function ac(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=U0(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Yr(o)}}function F0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Yh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $0(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Li(e.matched[s],n.matched[i])&&Fv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Li(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!B0(t[n],e[n]))return!1;return!0}function B0(t,e){return Qt(t)?Jh(t,e):Qt(e)?Jh(e,t):t===e}function Jh(t,e){return Qt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function U0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Jr;(function(t){t.pop="pop",t.push="push"})(Jr||(Jr={}));var Nr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Nr||(Nr={}));function j0(t){if(!t)if(_i){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),D0(t)}const V0=/^[^#]+#/;function H0(t,e){return t.replace(V0,"#")+e}function W0(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const pl=()=>({left:window.scrollX,top:window.scrollY});function z0(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=W0(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Xh(t,e){return(history.state?history.state.position-e:-1)+t}const uu=new Map;function q0(t,e){uu.set(t,e)}function G0(t){const e=uu.get(t);return uu.delete(t),e}let K0=()=>location.protocol+"//"+location.host;function $v(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Yh(l,"")}return Yh(n,t)+s+i}function Y0(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=$v(t,location),p=n.value,m=e.value;let y=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else s(h);i.forEach(w=>{w(n.value,p,{delta:y,type:Jr.pop,direction:y?y>0?Nr.forward:Nr.back:Nr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Ie({},f.state,{scroll:pl()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Qh(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?pl():null}}function J0(t){const{history:e,location:n}=window,s={value:$v(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:K0()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ie({},e.state,Qh(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Ie({},i.value,e.state,{forward:l,scroll:pl()});r(u.current,u,!0);const d=Ie({},Qh(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function X0(t){t=j0(t);const e=J0(t),n=Y0(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ie({location:"",base:t,go:s,createHref:H0.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Q0(t){return typeof t=="string"||t&&typeof t=="object"}function Bv(t){return typeof t=="string"||typeof t=="symbol"}const Uv=Symbol("");var Zh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Zh||(Zh={}));function Di(t,e){return Ie(new Error,{type:t,[Uv]:!0},e)}function Tn(t,e){return t instanceof Error&&Uv in t&&(e==null||!!(t.type&e))}const ep="[^/]+?",Z0={sensitive:!1,strict:!1,start:!0,end:!0},eT=/[.+*?^${}()[\]/\\]/g;function tT(t,e){const n=Ie({},Z0,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(eT,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:w}=f;r.push({name:p,repeatable:m,optional:y});const v=w||ep;if(v!==ep){h+=10;try{new RegExp(`(${v})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+S.message)}}let g=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),i+=g,h+=20,y&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,w=p in c?c[p]:"";if(Qt(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Qt(w)?w.join("/"):w;if(!v)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function nT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function jv(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=nT(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(tp(s))return 1;if(tp(i))return-1}return i.length-s.length}function tp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const sT={type:0,value:""},iT=/[a-zA-Z0-9_]/;function rT(t){if(!t)return[[]];if(t==="/")return[[sT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:iT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function oT(t,e,n){const s=tT(rT(t.path),n),i=Ie(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function aT(t,e){const n=[],s=new Map;e=rp({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const p=!h,m=sp(d);m.aliasOf=h&&h.record;const y=rp(e,d),w=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of S)w.push(sp(Ie({},m,{components:h?h.record.components:m.components,path:T,aliasOf:h?h.record:m})))}let v,g;for(const S of w){const{path:T}=S;if(f&&T[0]!=="/"){const R=f.record.path,$=R[R.length-1]==="/"?"":"/";S.path=f.record.path+(T&&$+T)}if(v=oT(S,f,y),h?h.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),p&&d.name&&!ip(v)&&o(d.name)),Vv(v)&&l(v),m.children){const R=m.children;for(let $=0;$<R.length;$++)r(R[$],v,h&&h.children[$])}h=h||v}return g?()=>{o(g)}:Or}function o(d){if(Bv(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=uT(d,n);n.splice(f,0,d),d.record.name&&!ip(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw Di(1,{location:d});y=h.record.name,p=Ie(np(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&np(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?s.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw Di(1,{location:d,currentLocation:f});y=h.record.name,p=Ie({},f.params,d.params),m=h.stringify(p)}const w=[];let v=h;for(;v;)w.unshift(v.record),v=v.parent;return{name:y,path:m,params:p,matched:w,meta:cT(w)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function np(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function sp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:lT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function lT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function ip(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function cT(t){return t.reduce((e,n)=>Ie(e,n.meta),{})}function rp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function uT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;jv(t,e[r])<0?s=r:n=r+1}const i=dT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function dT(t){let e=t;for(;e=e.parent;)if(Vv(e)&&jv(t,e)===0)return e}function Vv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function fT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Nv," "),o=r.indexOf("="),a=Yr(o<0?r:r.slice(0,o)),l=o<0?null:Yr(r.slice(o+1));if(a in e){let c=e[a];Qt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function op(t){let e="";for(let n in t){const s=t[n];if(n=O0(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qt(s)?s.map(r=>r&&cu(r)):[s&&cu(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function hT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Qt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Hv=Symbol(""),ap=Symbol(""),ml=Symbol(""),Pd=Symbol(""),du=Symbol("");function dr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function pT(t,e,n){const s=()=>{t[e].delete(n)};bt(s),iv(s),sv(()=>{t[e].add(n)}),t[e].add(n)}function mT(t){const e=Ve(Hv,{}).value;e&&pT(e,"updateGuards",t)}function es(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Di(4,{from:n,to:e})):f instanceof Error?l(f):Q0(f)?l(Di(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function lc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Rv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(es(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=b0(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&es(h,n,s,o,a,i)()}))}}return r}function lp(t){const e=Ve(ml),n=Ve(Pd),s=Q(()=>{const l=D(t.to);return e.resolve(l)}),i=Q(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Li.bind(null,u));if(f>-1)return f;const h=cp(l[c-2]);return c>1&&cp(u)===h&&d[d.length-1].path!==h?d.findIndex(Li.bind(null,l[c-2])):f}),r=Q(()=>i.value>-1&&_T(n.params,s.value.params)),o=Q(()=>i.value>-1&&i.value===n.matched.length-1&&Fv(n.params,s.value.params));function a(l={}){if(yT(l)){const c=e[D(t.replace)?"replace":"push"](D(t.to)).catch(Or);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Q(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function gT(t){return t.length===1?t[0]:t}const vT=Ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lp,setup(t,{slots:e}){const n=li(lp(t)),{options:s}=Ve(ml),i=Q(()=>({[up(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[up(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&gT(e.default(n));return t.custom?r:Ee("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),go=vT;function yT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function _T(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Qt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function cp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const up=(t,e,n)=>t??e??n,wT=Ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ve(du),i=Q(()=>t.route||s.value),r=Ve(ap,0),o=Q(()=>{let c=D(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Q(()=>i.value.matched[o.value]);ht(ap,Q(()=>o.value+1)),ht(Hv,a),ht(du,i);const l=F();return ot(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Li(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return dp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Ee(f,Ie({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return dp(n.default,{Component:y,route:c})||y}}});function dp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const bT=wT;function ST(t){const e=aT(t.routes,t),n=t.parseQuery||fT,s=t.stringifyQuery||op,i=t.history,r=dr(),o=dr(),a=dr(),l=Vg(Yn);let c=Yn;_i&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=oc.bind(null,N=>""+N),d=oc.bind(null,M0),f=oc.bind(null,Yr);function h(N,X){let K,Z;return Bv(N)?(K=e.getRecordMatcher(N),Z=X):Z=N,e.addRoute(Z,K)}function p(N){const X=e.getRecordMatcher(N);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(N=>N.record)}function y(N){return!!e.getRecordMatcher(N)}function w(N,X){if(X=Ie({},X||l.value),typeof N=="string"){const I=ac(n,N,X.path),O=e.resolve({path:I.path},X),L=i.createHref(I.fullPath);return Ie(I,O,{params:f(O.params),hash:Yr(I.hash),redirectedFrom:void 0,href:L})}let K;if(N.path!=null)K=Ie({},N,{path:ac(n,N.path,X.path).path});else{const I=Ie({},N.params);for(const O in I)I[O]==null&&delete I[O];K=Ie({},N,{params:d(I)}),X.params=d(X.params)}const Z=e.resolve(K,X),Oe=N.hash||"";Z.params=u(f(Z.params));const _=F0(s,Ie({},N,{hash:R0(Oe),path:Z.path})),b=i.createHref(_);return Ie({fullPath:_,hash:Oe,query:s===op?hT(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:b})}function v(N){return typeof N=="string"?ac(n,N,l.value.path):Ie({},N)}function g(N,X){if(c!==N)return Di(8,{from:X,to:N})}function S(N){return $(N)}function T(N){return S(Ie(v(N),{replace:!0}))}function R(N){const X=N.matched[N.matched.length-1];if(X&&X.redirect){const{redirect:K}=X;let Z=typeof K=="function"?K(N):K;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=v(Z):{path:Z},Z.params={}),Ie({query:N.query,hash:N.hash,params:Z.path!=null?{}:N.params},Z)}}function $(N,X){const K=c=w(N),Z=l.value,Oe=N.state,_=N.force,b=N.replace===!0,I=R(K);if(I)return $(Ie(v(I),{state:typeof I=="object"?Ie({},Oe,I.state):Oe,force:_,replace:b}),X||K);const O=K;O.redirectedFrom=X;let L;return!_&&$0(s,Z,K)&&(L=Di(16,{to:O,from:Z}),me(Z,Z,!0,!1)),(L?Promise.resolve(L):k(O,Z)).catch(M=>Tn(M)?Tn(M,2)?M:Et(M):we(M,O,Z)).then(M=>{if(M){if(Tn(M,2))return $(Ie({replace:b},v(M.to),{state:typeof M.to=="object"?Ie({},Oe,M.to.state):Oe,force:_}),X||O)}else M=J(O,Z,!0,b,Oe);return B(O,Z,M),M})}function x(N,X){const K=g(N,X);return K?Promise.reject(K):Promise.resolve()}function C(N){const X=Xe.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(N):N()}function k(N,X){let K;const[Z,Oe,_]=ET(N,X);K=lc(Z.reverse(),"beforeRouteLeave",N,X);for(const I of Z)I.leaveGuards.forEach(O=>{K.push(es(O,N,X))});const b=x.bind(null,N,X);return K.push(b),at(K).then(()=>{K=[];for(const I of r.list())K.push(es(I,N,X));return K.push(b),at(K)}).then(()=>{K=lc(Oe,"beforeRouteUpdate",N,X);for(const I of Oe)I.updateGuards.forEach(O=>{K.push(es(O,N,X))});return K.push(b),at(K)}).then(()=>{K=[];for(const I of _)if(I.beforeEnter)if(Qt(I.beforeEnter))for(const O of I.beforeEnter)K.push(es(O,N,X));else K.push(es(I.beforeEnter,N,X));return K.push(b),at(K)}).then(()=>(N.matched.forEach(I=>I.enterCallbacks={}),K=lc(_,"beforeRouteEnter",N,X,C),K.push(b),at(K))).then(()=>{K=[];for(const I of o.list())K.push(es(I,N,X));return K.push(b),at(K)}).catch(I=>Tn(I,8)?I:Promise.reject(I))}function B(N,X,K){a.list().forEach(Z=>C(()=>Z(N,X,K)))}function J(N,X,K,Z,Oe){const _=g(N,X);if(_)return _;const b=X===Yn,I=_i?history.state:{};K&&(Z||b?i.replace(N.fullPath,Ie({scroll:b&&I&&I.scroll},Oe)):i.push(N.fullPath,Oe)),l.value=N,me(N,X,K,b),Et()}let H;function te(){H||(H=i.listen((N,X,K)=>{if(!Kn.listening)return;const Z=w(N),Oe=R(Z);if(Oe){$(Ie(Oe,{replace:!0,force:!0}),Z).catch(Or);return}c=Z;const _=l.value;_i&&q0(Xh(_.fullPath,K.delta),pl()),k(Z,_).catch(b=>Tn(b,12)?b:Tn(b,2)?($(Ie(v(b.to),{force:!0}),Z).then(I=>{Tn(I,20)&&!K.delta&&K.type===Jr.pop&&i.go(-1,!1)}).catch(Or),Promise.reject()):(K.delta&&i.go(-K.delta,!1),we(b,Z,_))).then(b=>{b=b||J(Z,_,!1),b&&(K.delta&&!Tn(b,8)?i.go(-K.delta,!1):K.type===Jr.pop&&Tn(b,20)&&i.go(-1,!1)),B(Z,_,b)}).catch(Or)}))}let re=dr(),se=dr(),ie;function we(N,X,K){Et(N);const Z=se.list();return Z.length?Z.forEach(Oe=>Oe(N,X,K)):console.error(N),Promise.reject(N)}function mt(){return ie&&l.value!==Yn?Promise.resolve():new Promise((N,X)=>{re.add([N,X])})}function Et(N){return ie||(ie=!N,te(),re.list().forEach(([X,K])=>N?K(N):X()),re.reset()),N}function me(N,X,K,Z){const{scrollBehavior:Oe}=t;if(!_i||!Oe)return Promise.resolve();const _=!K&&G0(Xh(N.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Gi().then(()=>Oe(N,X,_)).then(b=>b&&z0(b)).catch(b=>we(b,N,X))}const ge=N=>i.go(N);let Je;const Xe=new Set,Kn={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:w,options:t,push:S,replace:T,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:mt,install(N){const X=this;N.component("RouterLink",go),N.component("RouterView",bT),N.config.globalProperties.$router=X,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>D(l)}),_i&&!Je&&l.value===Yn&&(Je=!0,S(i.location).catch(Oe=>{}));const K={};for(const Oe in Yn)Object.defineProperty(K,Oe,{get:()=>l.value[Oe],enumerable:!0});N.provide(ml,X),N.provide(Pd,Ug(K)),N.provide(du,l);const Z=N.unmount;Xe.add(N),N.unmount=function(){Xe.delete(N),Xe.size<1&&(c=Yn,H&&H(),H=null,l.value=Yn,Je=!1,ie=!1),Z()}}};function at(N){return N.reduce((X,K)=>X.then(()=>C(K)),Promise.resolve())}return Kn}function ET(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Li(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Li(c,l))||i.push(l))}return[n,s,i]}function Ki(){return Ve(ml)}function TT(t){return Ve(Pd)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const CT=(t,e)=>(n,s)=>{let i=-1;if(s.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(i=a,l):r},e),i>-1)return n[i]},IT=CT((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var xT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:IT});const kT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},PT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},jt=Array.isArray,Ko=t=>typeof t=="function",fp=t=>typeof t=="string",gl=t=>t!==null&&typeof t=="object",AT=Object.prototype.toString,Mr=t=>AT.call(t)==="[object Object]",hp=Symbol("kIsProxy"),RT=Symbol("kProxySources"),Wv=Symbol("kProxyTarget"),wi=Symbol("kResolveContext");function Xr(t){if(jt(t))return t.map(Xr);if(gl(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:Xr(t[n]);return e}return t}const Yo=(t,e,n)=>{const s=[];for(const i of t)i&&e in i&&(s.push(i[e]),n&&n(i));return s},ga=(t,e=[],n,s)=>{if(!n&&!s&&({active:n,sources:s}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],s=s.map(l=>l[a]).filter(Boolean)}if(!n||!s)return;const i=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&gl(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...s),r=Object.keys(n);for(const o of r)i.includes(o)||delete n[o];for(const o of i){let a=!1;for(let d=0;d<s.length;d++){const f=s[d];if(f&&o in f&&f[o]!==void 0){a=Mr(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of s)o in f&&d.push(f[o]);ga(t,[...e,o],n[o],d);continue}!n[o]&&jt(s[0][o])&&(n[o]=[]);const l=[],c=Yo(s,o,d=>l.push(d[wi]));let u=t.resolve(c,l,n[o],o,e);Mr(u)&&(u=Xr(u)),n[o]=u}},zv=(t,e,n,s=[])=>{const i=OT(t,n,s),r=al(new Proxy(e,i));return!s.length&&t.sources&&t.sources.push(r),r},OT=(t,e,n=[])=>({get:(s,i,r)=>{if(i===hp)return!0;if(i===RT)return t.sources;if(i===Wv)return s;if(i===wi)return e;let o=Reflect.get(s,i,r);if(!gl(o))return o;if(!o[hp]){const a=[...n,i];o=zv(t,o,e,a),Reflect.set(s,i,o)}return o},set:(s,i,r)=>{const o=Reflect.set(s,i,r);if(o){const a=jt(s);let l,c=!1,{sources:u,active:d}=t,f=0;for(const y of n){if(u=Yo(u,y),a&&f===n.length-1){l=y;break}jt(d)&&(c=!0),d=d[y],f++}if(c)return ga(t),o;if(Mr(r))return ga(t,n),o;let h,p=[];a?(h=u,p=u.map(y=>y[wi])):h=Yo(u,i,y=>p.push(y[wi]));let m=t.resolve(h,p,d,i,n);Mr(m)&&(m=Xr(m)),a&&l?d[l]=m:d[i]=m}return o},deleteProperty:(s,i)=>{const r=Reflect.deleteProperty(s,i);if(r){const o=jt(s);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&i in d)){let d,f=[];o?(d=l,f=l.map(p=>p[wi])):d=Yo(l,i,p=>f.push(p[wi]));let h=t.resolve(d,f,c,i,n);Mr(h)&&(h=Xr(h)),o&&a?c[a]=h:c[i]=h}else delete c[i]}return r}}),cc={};function NT(t,e,n,s){return"attributesFor"in s?function(i,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(i.isSSR)return{to:"",vnode:Ee(`ssr-${l}`,o)};if(!cc[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),cc[l]={el:f,attrs:[]}}const{el:c,attrs:u}=cc[l];for(const f in o){let h=Jo(i,`${r}(${f})`,o[f],o);jt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,s):"group"in s?function(i,r,o,a){return jt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return va(i,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,s):va(t,e,n,s)}function va(t,e,n,s={},i){const r=["content","json","rawContent"],o=y=>function(w,v){for(const g of w){const S=PT[g];if(g&&S)return S[v]}}([a,s.tag],y);if(jt(n))return n.map(y=>va(t,e,y,s,i)).filter(Boolean).flat();const{tag:a=s.tag||e}=n;let l="",c=!1,u=!1;if(fp(n))l=n;else if(n.children&&jt(n.children))c=!0,l=n.children.map(y=>{const w=va(t,e,y,s,i);return jt(w)?w.map(({vnode:v})=>v):w&&w.vnode});else{let y=0;for(const w of r){if(!l&&n[w]){l=y===1?JSON.stringify(n[w]):n[w],u=y>1;break}y++}}const d=i&&i.fullName||e,f=i&&i.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const y of r)delete h[y]}if(c)l=Jo(t,f,l,n);else{const y=!!o("contentAsAttribute");let{valueAttribute:w}=s;if(!w&&y){const[v]=o("attributes");w=fp(y)?y:v}if(w){const{nameless:v}=s;if(!v){const g=s.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[w]=Jo(t,f,h[w]||l,i),l=""}else l=Jo(t,f,l,n)}const p=i&&i.tagNamespace?`${i.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Ee(p,h,l||void 0);return{to:n.to,vnode:m}}function Jo({metainfo:t,slots:e},n,s,i){const r=e&&e[n];if(!r||!Ko(r))return s;const o={content:s,metainfo:t};if(i&&i.group){const{group:l,data:c}=i;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return s}const MT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",LT=(t=>MT?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function qv(t,e,n){for(const s in e)s in n?gl(t[s])?qv(t[s],e[s],n[s]):e[s]!==n[s]&&(t[s]=e[s]):t[s]=e[s];for(const s in n)e&&s in e||delete t[s]}function Gv(t){if(t||(t=ci()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function vl(t,e){const n=ci()||void 0;if(!e&&n&&(e=Gv(n)),!e)throw new Error("No manager or current instance");ol(t)&&(ot(t,(i,r)=>{qv(s.meta,i,r)}),t=t.value);const s=e.addMeta(t,n);return s}const DT=Ye({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=Gv();if(n)return n.render({slots:e})}});function pp(t,e,n,s){const i=jt(s)?s:[s];t?n.endsWith("Attrs")||i.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):i.forEach((r,o)=>{r.type===Un&&i.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...i)}const FT=(t=!1,e,n)=>$T.create(t,kT,xT);var Bs;let $T=(Bs=class{constructor(e,n,s,i){xs(this,"isSSR",!1);xs(this,"config");xs(this,"target");xs(this,"resolver");xs(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=s,i&&"setup"in i&&Ko(i.setup)&&(this.resolver=i)}install(e){e.component("Metainfo",DT),e.config.globalProperties.$metaManager=this,e.provide(LT,this.target.context.active)}addMeta(e,n){n||(n=ci()||void 0);const s={removed:[]},i={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(i);const o=this.target.addSource(e,i,!0),a=l=>this.unmount(!!l,o,s,n);return n&&bt(a),{meta:o,onRemoved:l=>s.removed.push(l),unmount:a}}unmount(e,n,s,i){if(i){const{$el:r}=i.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,s))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,s)}async reallyUnmount(e,n,s){this.target.delSource(n),!e&&s&&await Promise.all(s.removed.map(i=>i()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:s}=this;if(!s&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const i={};for(const r in n){const o=this.config[r]||{};let a=NT({isSSR:s,metainfo:n,slots:e},r,n[r],o);if(!a)continue;jt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)pp(this.isSSR,i,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];Ko(a)&&pp(this.isSSR,i,o,a({metainfo:n}))}return Object.keys(i).map(r=>Ee(Zg,{to:r},i[r]))}},xs(Bs,"create",(e,n,s)=>{const i=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>ga(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=zv(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[Wv]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>Ko(s)?s(r,o,a,l,c):s.resolve(r,o,a,l,c),li({}));return new Bs(e,n,i,s)}),Bs);const Kv=new Set,kt=new WeakMap,Fi=new WeakMap,Ys=new WeakMap,fu=new WeakMap,BT=new WeakMap,$i=new WeakMap,ya=new WeakMap,Sr=new WeakSet;let ps,Ad=0,Rd=0;const Rn="__aa_tgt",Qr="__aa_del",_a="__aa_new",UT=t=>{const e=qT(t);e&&e.forEach(n=>GT(n))},jT=t=>{t.forEach(e=>{e.target===ps&&HT(),kt.has(e.target)&&ui(e.target)})};function VT(t){const e=fu.get(t);e==null||e.disconnect();let n=kt.get(t),s=0;const i=5;n||(n=Bi(t),kt.set(t,n));const{offsetWidth:r,offsetHeight:o}=ps,l=[n.top-i,r-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&ui(t)},{root:ps,threshold:1,rootMargin:l});c.observe(t),fu.set(t,c)}function ui(t){clearTimeout(ya.get(t));const e=yl(t),n=Zr(e)?500:e.duration;ya.set(t,setTimeout(async()=>{const s=Ys.get(t);try{await(s==null?void 0:s.finished),kt.set(t,Bi(t)),VT(t)}catch{}},n))}function HT(){clearTimeout(ya.get(ps)),ya.set(ps,setTimeout(()=>{Kv.forEach(t=>Qv(t,e=>Yv(()=>ui(e))))},100))}function WT(t){setTimeout(()=>{BT.set(t,setInterval(()=>Yv(ui.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function Yv(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let hu,bi;const zT=typeof window<"u"&&"ResizeObserver"in window;zT&&(ps=document.documentElement,hu=new MutationObserver(UT),bi=new ResizeObserver(jT),window.addEventListener("scroll",()=>{Rd=window.scrollY,Ad=window.scrollX}),bi.observe(ps));function qT(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(uc(i.target),!s.has(i.target)){s.add(i.target);for(let r=0;r<i.target.children.length;r++){const o=i.target.children.item(r);if(o){if(Qr in o)return!1;uc(i.target,o),s.add(o)}}}if(i.removedNodes.length)for(let r=0;r<i.removedNodes.length;r++){const o=i.removedNodes[r];if(Qr in o)return!1;o instanceof Element&&(s.add(o),uc(i.target,o),Fi.set(o,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function uc(t,e){!e&&!(Rn in t)?Object.defineProperty(t,Rn,{value:t}):e&&!(Rn in e)&&Object.defineProperty(e,Rn,{value:t})}function GT(t){var e;const n=t.isConnected,s=kt.has(t);n&&Fi.has(t)&&Fi.delete(t),Ys.has(t)&&((e=Ys.get(t))===null||e===void 0||e.cancel()),_a in t?mp(t):s&&n?YT(t):s&&!n?JT(t):mp(t)}function dn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function KT(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Bi(t){const e=t.getBoundingClientRect(),{x:n,y:s}=KT(t);return{top:e.top+s,left:e.left+n,width:e.width,height:e.height}}function Jv(t,e,n){let s=e.width,i=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=dn(a.paddingTop)+dn(a.paddingBottom)+dn(a.borderTopWidth)+dn(a.borderBottomWidth),u=dn(a.paddingLeft)+dn(a.paddingRight)+dn(a.borderRightWidth)+dn(a.borderLeftWidth);s-=u,r-=u,i-=c,o-=c}return[s,r,i,o].map(Math.round)}function yl(t){return Rn in t&&$i.has(t[Rn])?$i.get(t[Rn]):{duration:250,easing:"ease-in-out"}}function Xv(t){if(Rn in t)return t[Rn]}function Od(t){const e=Xv(t);return e?Sr.has(e):!1}function Qv(t,...e){e.forEach(n=>n(t,$i.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,$i.has(s)))}}function Nd(t){return Array.isArray(t)?t:[t]}function Zr(t){return typeof t=="function"}function YT(t){const e=kt.get(t),n=Bi(t);if(!Od(t))return kt.set(t,n);let s;if(!e)return;const i=yl(t);if(typeof i!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=Jv(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),s=t.animate([d,f],{duration:i.duration,easing:i.easing})}else{const[r]=Nd(i(t,"remain",e,n));s=new Animation(r),s.play()}Ys.set(t,s),kt.set(t,n),s.addEventListener("finish",ui.bind(null,t))}function mp(t){_a in t&&delete t[_a];const e=Bi(t);kt.set(t,e);const n=yl(t);if(!Od(t))return;let s;if(typeof n!="function")s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=Nd(n(t,"add",e));s=new Animation(i),s.play()}Ys.set(t,s),s.addEventListener("finish",ui.bind(null,t))}function gp(t,e){var n;t.remove(),kt.delete(t),Fi.delete(t),Ys.delete(t),(n=fu.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(Qr in t&&delete t[Qr],Object.defineProperty(t,_a,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const s in e)t.style[s]=""},0)}function JT(t){var e;if(!Fi.has(t)||!kt.has(t))return;const[n,s]=Fi.get(t);Object.defineProperty(t,Qr,{value:!0,configurable:!0});const i=window.scrollX,r=window.scrollY;if(s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=Xv(t))===null||e===void 0||e.appendChild(t),!Od(t))return gp(t);const[o,a,l,c]=QT(t),u=yl(t),d=kt.get(t);(i!==Ad||r!==Rd)&&XT(t,i,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!Zr(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=Nd(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}Ys.set(t,f),f.addEventListener("finish",gp.bind(null,t,h))}function XT(t,e,n,s){const i=Ad-e,r=Rd-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(ps).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!Zr(s)){const h=c-l.clientHeight,p=u-l.clientWidth;d+s.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function QT(t){const e=kt.get(t),[n,,s]=Jv(t,e,Bi(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const r=getComputedStyle(i),o=kt.get(i)||Bi(i),a=Math.round(e.top-o.top)-dn(r.borderTopWidth),l=Math.round(e.left-o.left)-dn(r.borderLeftWidth);return[a,l,n,s]}function ZT(t,e={}){return hu&&bi&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!Zr(e)&&!e.disrespectUserMotionPreference||(Sr.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),Qv(t,ui,WT,i=>bi==null?void 0:bi.observe(i)),Zr(e)?$i.set(t,e):$i.set(t,{duration:250,easing:"ease-in-out",...e}),hu.observe(t,{childList:!0}),Kv.add(t))),Object.freeze({parent:t,enable:()=>{Sr.add(t)},disable:()=>{Sr.delete(t)},isEnabled:()=>Sr.has(t)})}const eC={mounted:(t,e)=>{ZT(t,e.value||{})},getSSRProps:()=>({})},tC=eC,nC={install(t){t.directive("auto-animate",tC)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Zv;const _l=t=>Zv=t,ey=Symbol();function pu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Lr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Lr||(Lr={}));function sC(){const t=Tg(!0),e=t.run(()=>F({}));let n=[],s=[];const i=al({install(r){_l(i),i._a=r,r.provide(ey,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ty=()=>{};function vp(t,e,n,s=ty){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Cg()&&pS(i),i}function gi(t,...e){t.slice().forEach(n=>{n(...e)})}const iC=t=>t(),yp=Symbol(),dc=Symbol();function mu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];pu(i)&&pu(s)&&t.hasOwnProperty(n)&&!qe(s)&&!ds(s)?t[n]=mu(i,s):t[n]=s}return t}const rC=Symbol();function oC(t){return!pu(t)||!t.hasOwnProperty(rC)}const{assign:Xn}=Object;function aC(t){return!!(qe(t)&&t.effect)}function lC(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=DS(n.state.value[t]);return Xn(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=al(Q(()=>{_l(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=ny(t,c,e,n,s,!0),l}function ny(t,e,n={},s,i,r){let o;const a=Xn({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),F({});let m;function y(x){let C;c=u=!1,typeof x=="function"?(x(s.state.value[t]),C={type:Lr.patchFunction,storeId:t,events:h}):(mu(s.state.value[t],x),C={type:Lr.patchObject,payload:x,storeId:t,events:h});const k=m=Symbol();Gi().then(()=>{m===k&&(c=!0)}),u=!0,gi(d,C,s.state.value[t])}const w=r?function(){const{state:C}=n,k=C?C():{};this.$patch(B=>{Xn(B,k)})}:ty;function v(){o.stop(),d=[],f=[],s._s.delete(t)}const g=(x,C="")=>{if(yp in x)return x[dc]=C,x;const k=function(){_l(s);const B=Array.from(arguments),J=[],H=[];function te(ie){J.push(ie)}function re(ie){H.push(ie)}gi(f,{args:B,name:k[dc],store:T,after:te,onError:re});let se;try{se=x.apply(this&&this.$id===t?this:T,B)}catch(ie){throw gi(H,ie),ie}return se instanceof Promise?se.then(ie=>(gi(J,ie),ie)).catch(ie=>(gi(H,ie),Promise.reject(ie))):(gi(J,se),se)};return k[yp]=!0,k[dc]=C,k},S={_p:s,$id:t,$onAction:vp.bind(null,f),$patch:y,$reset:w,$subscribe(x,C={}){const k=vp(d,x,C.detached,()=>B()),B=o.run(()=>ot(()=>s.state.value[t],J=>{(C.flush==="sync"?u:c)&&x({storeId:t,type:Lr.direct,events:h},J)},Xn({},l,C)));return k},$dispose:v},T=li(S);s._s.set(t,T);const $=(s._a&&s._a.runWithContext||iC)(()=>s._e.run(()=>(o=Tg()).run(()=>e({action:g}))));for(const x in $){const C=$[x];if(qe(C)&&!aC(C)||ds(C))r||(p&&oC(C)&&(qe(C)?C.value=p[x]:mu(C,p[x])),s.state.value[t][x]=C);else if(typeof C=="function"){const k=g(C,x);$[x]=k,a.actions[x]=C}}return Xn(T,$),Xn(Se(T),$),Object.defineProperty(T,"$state",{get:()=>s.state.value[t],set:x=>{y(C=>{Xn(C,x)})}}),s._p.forEach(x=>{Xn(T,o.run(()=>x({store:T,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function vo(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=hE();return a=a||(c?Ve(ey,null):null),a&&_l(a),a=Zv,a._s.has(s)||(r?ny(s,e,i,a):lC(s,i,a)),a._s.get(s)}return o.$id=s,o}const cC={key:0},uC={key:1},dC={key:2},fC={key:3},hC={key:4},pC={key:5},mC={key:6},gC={key:7},vC={key:8},yC={key:9},sy=Ye({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const s=BS(n,"modelValue"),i=e,r=g=>{g!==s.value&&(g>l.value||g<1||n.disablePagination||(i("update:modelValue",g),i("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=Q(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=Q(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let R=Math.floor(n.maxPagesShown/2),$=Math.ceil(n.maxPagesShown/2)-1;s.value<=R?(g=1,S=n.maxPagesShown):s.value+$>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=s.value-R,S=s.value+$)}let T=Array.from(Array(S+1-g).keys()).map(R=>g+R);return n.dir==="rtl"&&(T=T.reverse()),{totalItems:n.totalItems,currentPage:s.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:T}}),u=Q(()=>n.dir==="rtl"),d=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==l.value:!n.hidePrevNextWhenEnds||s.value!==1),f=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==1:!n.hidePrevNextWhenEnds||s.value!==l.value),h=Q(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=Q(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),y=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),w=Q(()=>s.value!==1),v=Q(()=>s.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(A(),j("ul",{id:"componentContainer",class:Ne(t.paginationContainerClass)},[t.showEndingButtons&&w.value?(A(),j("li",cC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=Nt(T=>r(u.value?l.value:1),["prevent"])),class:Ne([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[un(g.$slots,"first-page-button",{},()=>[Me(ae(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Le("",!0),t.showJumpButtons&&h.value?(A(),j("li",uC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=Nt(T=>r(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ne([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[un(g.$slots,"backward-jump-button",{},()=>[Me(ae(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Le("",!0),!t.hidePrevNext&&d.value?(A(),j("li",dC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+1:s.value-1),onClick:S[2]||(S[2]=Nt(T=>r(u.value?s.value+1:s.value-1),["prevent"])),class:Ne([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[un(g.$slots,"prev-button",{},()=>[Me(ae(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Le("",!0),t.showBreakpointButtons&&m.value?(A(),j("li",fC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=Nt(T=>r(u.value?l.value:1),["prevent"])),class:Ne([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Me(ae(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):Le("",!0),t.showBreakpointButtons&&h.value?(A(),j("li",hC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=Nt(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ne([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[un(g.$slots,"starting-breakpoint-button",{},()=>[Me(ae(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):Le("",!0),(A(!0),j(Te,null,Bn(c.value.pages,(T,R)=>(A(),j("li",{key:R},[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(T),onClick:Nt(()=>r(T),["prevent"]),class:Ne([t.paginateButtonsClass,t.numberButtonsClass,T===s.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[Me(ae(o(T)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(A(),j("li",pC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=Nt(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ne([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[un(g.$slots,"ending-breakpoint-button",{},()=>[Me(ae(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):Le("",!0),t.showBreakpointButtons&&y.value?(A(),j("li",mC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=Nt(T=>r(u.value?1:l.value),["prevent"])),class:Ne([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Me(ae(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):Le("",!0),!t.hidePrevNext&&f.value?(A(),j("li",gC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-1:s.value+1),onClick:S[7]||(S[7]=Nt(T=>r(u.value?s.value-1:s.value+1),["prevent"])),class:Ne([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[un(g.$slots,"next-button",{},()=>[Me(ae(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Le("",!0),t.showJumpButtons&&p.value?(A(),j("li",vC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=Nt(T=>r(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ne([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[un(g.$slots,"forward-jump-button",{},()=>[Me(ae(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Le("",!0),t.showEndingButtons&&v.value?(A(),j("li",yC,[(A(),pe(zt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=Nt(T=>r(u.value?1:l.value),["prevent"])),class:Ne([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[un(g.$slots,"last-page-button",{},()=>[Me(ae(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Le("",!0)],2))}});var _C={install:t=>{t.component("VueAwesomePaginate",sy)}};function iy(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function ry(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Md(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function wC(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function bC(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function Ld(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function oy(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function SC(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function ay(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function EC(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function TC(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function ly(t,e){return A(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var _p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Yi(e)},Yi=function(t){return new Error("Firebase Database ("+cy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new IC;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dy=function(t){const e=uy(t);return Dd.encodeByteArray(e,!0)},wa=function(t){return dy(t).replace(/\./g,"")},ba=function(t){try{return Dd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){return fy(void 0,t)}function fy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kC(n)||(t[n]=fy(t[n],e[n]));return t}function kC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=()=>PC().__FIREBASE_DEFAULTS__,RC=()=>{if(typeof process>"u"||typeof _p>"u")return;const t=_p.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ba(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return AC()||RC()||OC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hy=t=>{var e,n;return(n=(e=Fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NC=t=>{const e=hy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},py=()=>{var t;return(t=Fd())===null||t===void 0?void 0:t.config},my=t=>{var e;return(e=Fd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wa(JSON.stringify(n)),wa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $d(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function LC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FC(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $C(){return cy.NODE_ADMIN===!0}function vy(){try{return typeof indexedDB=="object"}catch{return!1}}function yy(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="FirebaseError";class qn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=BC,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Es.prototype.create)}}class Es{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?UC(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qn(i,a,s)}}function UC(t,e){return t.replace(jC,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const jC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=eo(ba(r[0])||""),n=eo(ba(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},VC=function(t){const e=_y(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HC=function(t){const e=_y(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ui(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Ea(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(wp(r)&&wp(o)){if(!Ea(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function wp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Er(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Tr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function zC(t,e){const n=new qC(t,e);return n.subscribe.bind(n)}class qC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=fc),i.error===void 0&&(i.error=fc),i.complete===void 0&&(i.complete=fc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fc(){}function wl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,W(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bl=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Wt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JC(t){return t===Os?void 0:t}function XC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const ZC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},eI=Re.INFO,tI={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},nI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=tI[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bd{constructor(e){this.name=e,this._logLevel=eI,this._logHandler=nI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const sI=(t,e)=>e.some(n=>t instanceof n);let bp,Sp;function iI(){return bp||(bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rI(){return Sp||(Sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wy=new WeakMap,vu=new WeakMap,by=new WeakMap,hc=new WeakMap,Ud=new WeakMap;function oI(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Dn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wy.set(n,t)}).catch(()=>{}),Ud.set(e,t),e}function aI(t){if(vu.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});vu.set(t,e)}let yu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||by.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lI(t){yu=t(yu)}function cI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(pc(this),e,...n);return by.set(s,e.sort?e.sort():[e]),Dn(s)}:rI().includes(t)?function(...e){return t.apply(pc(this),e),Dn(wy.get(this))}:function(...e){return Dn(t.apply(pc(this),e))}}function uI(t){return typeof t=="function"?cI(t):(t instanceof IDBTransaction&&aI(t),sI(t,iI())?new Proxy(t,yu):t)}function Dn(t){if(t instanceof IDBRequest)return oI(t);if(hc.has(t))return hc.get(t);const e=uI(t);return e!==t&&(hc.set(t,e),Ud.set(e,t)),e}const pc=t=>Ud.get(t);function Xi(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Dn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Dn(o.result),l.oldVersion,l.newVersion,Dn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function ki(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),Dn(n).then(()=>{})}const dI=["get","getKey","getAll","getAllKeys","count"],fI=["put","add","delete","clear"],mc=new Map;function Ep(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mc.get(e))return mc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=fI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||dI.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return mc.set(e,r),r}lI(t=>({...t,get:(e,n,s)=>Ep(e,n)||t.get(e,n,s),has:(e,n)=>!!Ep(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function pI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _u="@firebase/app",Tp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Bd("@firebase/app"),mI="@firebase/app-compat",gI="@firebase/analytics-compat",vI="@firebase/analytics",yI="@firebase/app-check-compat",_I="@firebase/app-check",wI="@firebase/auth",bI="@firebase/auth-compat",SI="@firebase/database",EI="@firebase/data-connect",TI="@firebase/database-compat",CI="@firebase/functions",II="@firebase/functions-compat",xI="@firebase/installations",kI="@firebase/installations-compat",PI="@firebase/messaging",AI="@firebase/messaging-compat",RI="@firebase/performance",OI="@firebase/performance-compat",NI="@firebase/remote-config",MI="@firebase/remote-config-compat",LI="@firebase/storage",DI="@firebase/storage-compat",FI="@firebase/firestore",$I="@firebase/vertexai",BI="@firebase/firestore-compat",UI="firebase",jI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="[DEFAULT]",VI={[_u]:"fire-core",[mI]:"fire-core-compat",[vI]:"fire-analytics",[gI]:"fire-analytics-compat",[_I]:"fire-app-check",[yI]:"fire-app-check-compat",[wI]:"fire-auth",[bI]:"fire-auth-compat",[SI]:"fire-rtdb",[EI]:"fire-data-connect",[TI]:"fire-rtdb-compat",[CI]:"fire-fn",[II]:"fire-fn-compat",[xI]:"fire-iid",[kI]:"fire-iid-compat",[PI]:"fire-fcm",[AI]:"fire-fcm-compat",[RI]:"fire-perf",[OI]:"fire-perf-compat",[NI]:"fire-rc",[MI]:"fire-rc-compat",[LI]:"fire-gcs",[DI]:"fire-gcs-compat",[FI]:"fire-fst",[BI]:"fire-fst-compat",[$I]:"fire-vertex","fire-js":"fire-js",[UI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Map,HI=new Map,bu=new Map;function Cp(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zt(t){const e=t.name;if(bu.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;bu.set(e,t);for(const n of Ta.values())Cp(n,t);for(const n of HI.values())Cp(n,t);return!0}function Qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Es("app","Firebase",WI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=jI;function Sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(n||(n=py()),!n)throw fs.create("no-options");const r=Ta.get(i);if(r){if(Ea(n,r.options)&&Ea(s,r.config))return r;throw fs.create("duplicate-app",{appName:i})}const o=new QC(i);for(const l of bu.values())o.addComponent(l);const a=new zI(n,s,o);return Ta.set(i,a),a}function jd(t=wu){const e=Ta.get(t);if(!e&&t===wu&&py())return Sy();if(!e)throw fs.create("no-app",{appName:t});return e}function Vt(t,e,n){var s;let i=(s=VI[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(a.join(" "));return}Zt(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",GI=1,to="firebase-heartbeat-store";let gc=null;function Ey(){return gc||(gc=Xi(qI,GI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),gc}async function KI(t){try{const n=(await Ey()).transaction(to),s=await n.objectStore(to).get(Ty(t));return await n.done,s}catch(e){if(e instanceof qn)jn.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jn.warn(n.message)}}}async function Ip(t,e){try{const s=(await Ey()).transaction(to,"readwrite");await s.objectStore(to).put(e,Ty(t)),await s.done}catch(n){if(n instanceof qn)jn.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jn.warn(s.message)}}}function Ty(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1024,JI=30*24*60*60*1e3;class XI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=JI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){jn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xp(),{heartbeatsToSend:s,unsentEntries:i}=QI(this._heartbeatsCache.heartbeats),r=wa(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return jn.warn(n),""}}}function xp(){return new Date().toISOString().substring(0,10)}function QI(t,e=YI){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),kp(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vy()?yy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ip(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ip(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kp(t){return wa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){Zt(new Wt("platform-logger",e=>new hI(e),"PRIVATE")),Zt(new Wt("heartbeat",e=>new XI(e),"PRIVATE")),Vt(_u,Tp,t),Vt(_u,Tp,"esm2017"),Vt("fire-js","")}ex("");var Pp={};const Ap="@firebase/database",Rp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy="";function tx(t){Cy=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:eo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nx(e)}}catch{}return new sx},Ls=Iy("localStorage"),ix=Iy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Bd("@firebase/database"),rx=function(){let t=1;return function(){return t++}}(),xy=function(t){const e=KC(t),n=new WC;n.update(e);const s=n.digest();return Dd.encodeByteArray(s)},_o=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_o.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let Dr=null,Op=!0;const ox=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Pi.logLevel=Re.VERBOSE,Dr=Pi.log.bind(Pi)},lt=function(...t){if(Op===!0&&(Op=!1,Dr===null&&ix.get("logging_enabled")===!0&&ox()),Dr){const e=_o.apply(null,t);Dr(e)}},wo=function(t){return function(...e){lt(t,...e)}},Su=function(...t){const e="FIREBASE INTERNAL ERROR: "+_o(...t);Pi.error(e)},Vn=function(...t){const e=`FIREBASE FATAL ERROR: ${_o(...t)}`;throw Pi.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+_o(...t);Pi.warn(e)},ax=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Js="[MIN_NAME]",ms="[MAX_NAME]",di=function(t,e){if(t===e)return 0;if(t===Js||e===ms)return-1;if(e===Js||t===ms)return 1;{const n=Np(t),s=Np(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},cx=function(t,e){return t===e?0:t<e?-1:1},fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Hd=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=rt(e[s]),n+=":",n+=Hd(t[e[s]]);return n+="}",n},ky=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Py=function(t){W(!Vd(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ux=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const hx=new RegExp("^-?(0*)\\d{1,10}$"),px=-2147483648,mx=2147483647,Np=function(t){if(hx.test(t)){const e=Number(t);if(e>=px&&e<=mx)return e}return null},er=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},gx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Xo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="5",Ay="v",Ry="s",Oy="r",Ny="f",My=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ly="ls",Dy="p",Eu="ac",Fy="websocket",$y="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function _x(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Uy(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let s;if(e===Fy)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$y)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);_x(t)&&(n.ns=t.namespace);const i=[];return ct(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.counters_={}}incrementCounter(e,n=1){bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={},yc={};function zd(t){const e=t.toString();return vc[e]||(vc[e]=new wx),vc[e]}function bx(t,e){const n=t.toString();return yc[n]||(yc[n]=e()),yc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&er(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="start",Ex="close",Tx="pLPCommand",Cx="pRTLPCB",jy="id",Vy="pw",Hy="ser",Ix="cb",xx="seg",kx="ts",Px="d",Ax="dframe",Wy=1870,zy=30,Rx=Wy-zy,Ox=25e3,Nx=3e4;class Si{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wo(e),this.stats_=zd(n),this.urlFn=l=>(this.appCheckToken&&(l[Eu]=this.appCheckToken),Uy(n,$y,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Sx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Nx)),lx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qd((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Mp)this.id=a,this.password=l;else if(o===Ex)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Mp]="t",s[Hy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Ix]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ay]=Wd,this.transportSessionId&&(s[Ry]=this.transportSessionId),this.lastSessionId&&(s[Ly]=this.lastSessionId),this.applicationId&&(s[Dy]=this.applicationId),this.appCheckToken&&(s[Eu]=this.appCheckToken),typeof location<"u"&&location.hostname&&My.test(location.hostname)&&(s[Oy]=Ny);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Si.forceAllow_=!0}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){return Si.forceAllow_?!0:!Si.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ux()&&!dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=dy(n),i=ky(s,Rx);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Ax]="t",s[jy]=e,s[Vy]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qd{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rx(),window[Tx+this.uniqueCallbackIdentifier]=e,window[Cx+this.uniqueCallbackIdentifier]=n,this.myIFrame=qd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){lt("frame writing exception"),a.stack&&lt(a.stack),lt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jy]=this.myID,e[Vy]=this.myPW,e[Hy]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zy+s.length<=Wy;){const o=this.pendingSegs.shift();s=s+"&"+xx+i+"="+o.seg+"&"+kx+i+"="+o.ts+"&"+Px+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(Ox)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=16384,Lx=45e3;let Ca=null;typeof MozWebSocket<"u"?Ca=MozWebSocket:typeof WebSocket<"u"&&(Ca=WebSocket);class pn{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wo(this.connId),this.stats_=zd(n),this.connURL=pn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Ay]=Wd,typeof location<"u"&&location.hostname&&My.test(location.hostname)&&(o[Oy]=Ny),n&&(o[Ry]=n),s&&(o[Ly]=s),i&&(o[Eu]=i),r&&(o[Dy]=r),Uy(e,Fy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ls.set("previous_websocket_failure",!0);try{let s;$C(),this.mySock=new Ca(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Ca!==null&&!pn.forceDisallow_}static previouslyFailed(){return Ls.isInMemoryStorage||Ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=eo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=ky(n,Mx);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Lx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static get ALL_TRANSPORTS(){return[Si,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=pn.isAvailable();let s=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[pn];else{const i=this.transports_=[];for(const r of no.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);no.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}no.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=6e4,Fx=5e3,$x=10*1024,Bx=100*1024,_c="t",Lp="d",Ux="s",Dp="r",jx="e",Fp="o",$p="a",Bp="n",Up="p",Vx="h";class Hx{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wo("c:"+this.id+":"),this.transportManager_=new no(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Bx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$x?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_c in e){const n=e[_c];n===$p?this.upgradeIfSecondaryHealthy_():n===Dp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=fr("t",e),s=fr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Up,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$p,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=fr("t",e),s=fr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=fr(_c,e);if(Lp in e){const s=e[Lp];if(n===Vx){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Bp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ux?this.onConnectionShutdown_(s):n===Dp?this.onReset_(s):n===jx?Su("Server Error: "+s):n===Fp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Su("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wd!==s&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Fr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Fx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Up,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Gy{static getInstance(){return new Ia}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$d()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=32,Vp=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Ae("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gs(t){return t.pieces_.length-t.pieceNum_}function je(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function Gd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Wx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function so(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ky(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function ze(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ae)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Ae(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){const n=ve(t),s=ve(e);if(n===null)return e;if(n===s)return It(je(t),je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zx(t,e){const n=so(t,0),s=so(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=di(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function Kd(t,e){if(gs(t)!==gs(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(gs(t)>gs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class qx{constructor(e,n){this.errorPrefix_=n,this.parts_=so(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=bl(this.parts_[s]);Yy(this)}}function Gx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=bl(e),Yy(t)}function Kx(t){const e=t.parts_.pop();t.byteLength_-=bl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Yy(t){if(t.byteLength_>Vp)throw new Error(t.errorPrefix_+"has a key path longer than "+Vp+" bytes ("+t.byteLength_+").");if(t.parts_.length>jp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jp+") or object contains a cycle "+Ns(t))}function Ns(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Gy{static getInstance(){return new Yd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=1e3,Yx=60*5*1e3,Hp=30*1e3,Jx=1.3,Xx=3e4,Qx="server_kill",Wp=3;class Fn extends qy{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Fn.nextPersistentConnectionId_++,this.log_=wo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hr,this.maxReconnectDelay_=Yx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ia.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(rt(r)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new yo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Fn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bn(e,"w")){const s=Ui(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=VC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Su("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Xx&&(this.reconnectDelay_=hr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Jx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Fn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Hx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{wt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Qx)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wt(d),l())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gu(this.interruptReasons_)&&(this.reconnectDelay_=hr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Hd(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Ae(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wp&&(this.reconnectDelay_=Hp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Cy.replace(/\./g,"-")]=1,$d()?e["framework.cordova"]=1:gy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ia.getInstance().currentlyOnline();return gu(this.interruptReasons_)&&e}}Fn.nextPersistentConnectionId_=0;Fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new _e(Js,e),i=new _e(Js,n);return this.compare(s,i)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;class Jy extends Sl{static get __EMPTY_NODE(){return Lo}static set __EMPTY_NODE(e){Lo=e}compare(e,n){return di(e.name,n.name)}isDefinedOn(e){throw Yi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(ms,Lo)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Lo)}toString(){return".key"}}const Hs=new Jy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??nt.RED,this.left=i??xt.EMPTY_NODE,this.right=r??xt.EMPTY_NODE}copy(e,n,s,i,r){return new nt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class Zx{copy(e,n,s,i,r){return this}insert(e,n,s){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Do(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Do(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Do(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Do(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new Zx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){return di(t.name,e.name)}function Jd(t,e){return di(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;function t1(t){Tu=t}const Xy=function(t){return typeof t=="number"?"number:"+Py(t):"string:"+t},Qy=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bn(e,".sv"),"Priority must be a string or number.")}else W(t===Tu||t.isEmpty(),"priority of unexpected type.");W(t===Tu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;class et{static set __childrenNodeConstructor(e){zp=e}static get __childrenNodeConstructor(){return zp}constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Qy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:ve(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(W(s!==".priority"||gs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Py(this.value_):e+=this.value_,this.lazyHash_=xy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=et.VALUE_TYPE_ORDER.indexOf(n),r=et.VALUE_TYPE_ORDER.indexOf(s);return W(i>=0,"Unknown leaf type: "+n),W(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy,e_;function n1(t){Zy=t}function s1(t){e_=t}class i1 extends Sl{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?di(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(ms,new et("[PRIORITY-POST]",e_))}makePost(e,n){const s=Zy(e);return new _e(n,new et("[PRIORITY-POST]",s))}toString(){return".priority"}}const We=new i1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=Math.log(2);class o1{constructor(e){const n=r=>parseInt(Math.log(r)/r1,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xa=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new nt(f,d.node,nt.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new nt(f,d.node,nt.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const y=d-p,w=d;d-=p;const v=i(y+1,w),g=t[y],S=n?n(g):g;h(new nt(S,g.node,m,null,v))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?f(y,nt.BLACK):(f(y,nt.BLACK),f(y,nt.RED))}return u},o=new o1(t.length),a=r(o);return new xt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;const pr={};class On{static get Default(){return W(We,"ChildrenNode.ts has not been loaded"),wc=wc||new On({".priority":pr},{".priority":We}),wc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ui(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return bn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==Hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(_e.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=xa(s,e.getCompare()):a=pr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new On(u,c)}addToIndexes(e,n){const s=Sa(this.indexes_,(i,r)=>{const o=Ui(this.indexSet_,r);if(W(o,"Missing index implementation for "+r),i===pr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),xa(a,o.getCompare())}else return pr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new On(s,this.indexSet_)}removeFromIndexes(e,n){const s=Sa(this.indexes_,i=>{if(i===pr)return i;{const r=n.get(e.name);return r?i.remove(new _e(e.name,r)):i}});return new On(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr;class ce{static get EMPTY_NODE(){return mr||(mr=new ce(new xt(Jd),null,On.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Qy(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mr}updatePriority(e){return this.children_.isEmpty()?this:new ce(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?mr:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new _e(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?mr:this.priorityNode_;return new ce(i,o,r)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{W(ve(e)!==".priority"||gs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(je(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(We,(o,a)=>{n[o]=a.val(e),s++,r&&ce.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xy(this.getPriority().val())+":"),this.forEachChild(We,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xy(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new _e(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bo?-1:0}withIndex(e){if(e===Hs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ce(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(We),i=n.getIterator(We);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Hs?null:this.indexMap_.get(e.toString())}}ce.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a1 extends ce{constructor(){super(new xt(Jd),ce.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ce.EMPTY_NODE}isEmpty(){return!1}}const bo=new a1;Object.defineProperties(_e,{MIN:{value:new _e(Js,ce.EMPTY_NODE)},MAX:{value:new _e(ms,bo)}});Jy.__EMPTY_NODE=ce.EMPTY_NODE;et.__childrenNodeConstructor=ce;t1(bo);s1(bo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=!0;function st(t,e=null){if(t===null)return ce.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,st(e))}if(!(t instanceof Array)&&l1){const n=[];let s=!1;if(ct(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=st(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),n.length===0)return ce.EMPTY_NODE;const r=xa(n,e1,o=>o.name,Jd);if(s){const o=xa(n,We.getCompare());return new ce(r,st(e),new On({".priority":o},{".priority":We}))}else return new ce(r,st(e),On.Default)}else{let n=ce.EMPTY_NODE;return ct(t,(s,i)=>{if(bn(t,s)&&s.substring(0,1)!=="."){const r=st(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(st(e))}}n1(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Sl{constructor(e){super(),this.indexPath_=e,W(!ye(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?di(e.name,n.name):r}makePost(e,n){const s=st(e),i=ce.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(n,i)}maxPost(){const e=ce.EMPTY_NODE.updateChild(this.indexPath_,bo);return new _e(ms,e)}toString(){return so(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Sl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?di(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const s=st(e);return new _e(n,s)}toString(){return".value"}}const t_=new c1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){return{type:"value",snapshotNode:t}}function ji(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function io(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ro(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function u1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(io(n,a)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ji(n,s)):o.trackChildChange(ro(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(We,(i,r)=>{n.hasChild(i)||s.trackChildChange(io(i,r))}),n.isLeafNode()||n.forEachChild(We,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(ro(i,r,o))}else s.trackChildChange(ji(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ce.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.indexedFilter_=new Qd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=oo.getStartPost_(e),this.endPost_=oo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new _e(n,s))||(s=ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ce.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ce.EMPTY_NODE);const r=this;return n.forEachChild(We,(o,a)=>{r.matches(new _e(o,a))||(i=i.updateImmediateChild(o,ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new oo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new _e(n,s))||(s=ce.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ce.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ce.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;W(a.numChildren()===this.limit_,"");const l=new _e(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(ro(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(io(n,d));const m=a.updateImmediateChild(n,ce.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(ji(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(io(c.name,c.node)),r.trackChildChange(ji(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,ce.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Js}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new Zd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function f1(t){return t.loadsAllData()?new Qd(t.getIndex()):t.hasLimit()?new d1(t):new oo(t)}function h1(t,e){const n=t.copy();return n.index_=e,n}function qp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===t_?n="$value":t.index_===Hs?n="$key":(W(t.index_ instanceof Xd,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=rt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+rt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=rt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Gp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends qy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=wo("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=ka.getListenId_(e,s),a={};this.listens_[o]=a;const l=qp(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Ui(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=ka.getListenId_(e,n);delete this.listens_[s]}get(e){const n=qp(e._queryParams),s=e._path.toString(),i=new yo;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ji(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=eo(a.responseText)}catch{wt("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&wt("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.rootNode_=ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return{value:null,children:new Map}}function s_(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ve(e);t.children.has(s)||t.children.set(s,Pa());const i=t.children.get(s);e=je(e),s_(i,e,n)}}function Cu(t,e,n){t.value!==null?n(e,t.value):m1(t,(s,i)=>{const r=new Ae(e.toString()+"/"+s);Cu(i,r,n)})}function m1(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=10*1e3,v1=30*1e3,y1=5*60*1e3;class _1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new g1(e);const s=Kp+(v1-Kp)*Math.random();Fr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;ct(e,(i,r)=>{r>0&&bn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Fr(this.reportStats_.bind(this),Math.floor(Math.random()*2*y1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qt||(qt={}));function ef(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=qt.ACK_USER_WRITE,this.source=ef()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new Aa(Ce(),n,this.revert)}}else return W(ve(this.path)===e,"operationForChild called for unrelated child."),new Aa(je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.source=e,this.path=n,this.type=qt.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new ao(this.source,Ce()):new ao(this.source,je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=qt.OVERWRITE}operationForChild(e){return ye(this.path)?new Xs(this.source,Ce(),this.snap.getImmediateChild(e)):new Xs(this.source,je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=qt.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Xs(this.source,Ce(),n.value):new Vi(this.source,Ce(),n)}else return W(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vi(this.source,je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function b1(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(u1(o.childName,o.snapshotNode))}),gr(t,i,"child_removed",e,s,n),gr(t,i,"child_added",e,s,n),gr(t,i,"child_moved",r,s,n),gr(t,i,"child_changed",e,s,n),gr(t,i,"value",e,s,n),i}function gr(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>E1(t,a,l)),o.forEach(a=>{const l=S1(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function S1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function E1(t,e,n){if(e.childName==null||n.childName==null)throw Yi("Should only compare child_ events.");const s=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e){return{eventCache:t,serverCache:e}}function $r(t,e,n,s){return El(new Qs(e,n,s),t.serverCache)}function i_(t,e,n,s){return El(t.eventCache,new Qs(e,n,s))}function Iu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc;const T1=()=>(bc||(bc=new xt(cx)),bc);class Ue{static fromObject(e){let n=new Ue(null);return ct(e,(s,i)=>{n=n.set(new Ae(s),i)}),n}constructor(e,n=T1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(ye(e))return null;{const s=ve(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(je(e),n);return r!=null?{path:ze(new Ae(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(je(e)):new Ue(null)}}set(e,n){if(ye(e))return new Ue(n,this.children);{const s=ve(e),r=(this.children.get(s)||new Ue(null)).set(je(e),n),o=this.children.insert(s,r);return new Ue(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const i=s.remove(je(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new Ue(null):new Ue(this.value,r)}else return this}}get(e){if(ye(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(je(e)):null}}setTree(e,n){if(ye(e))return n;{const s=ve(e),r=(this.children.get(s)||new Ue(null)).setTree(je(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new Ue(this.value,o)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(ze(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(ye(e))return null;{const r=ve(e),o=this.children.get(r);return o?o.findOnPath_(je(e),ze(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const i=ve(e),r=this.children.get(i);return r?r.foreachOnPath_(je(e),ze(n,i),s):new Ue(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(ze(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.writeTree_=e}static empty(){return new Yt(new Ue(null))}}function Br(t,e,n){if(ye(e))return new Yt(new Ue(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=It(i,e);return r=r.updateChild(o,n),new Yt(t.writeTree_.set(i,r))}else{const i=new Ue(n),r=t.writeTree_.setTree(e,i);return new Yt(r)}}}function xu(t,e,n){let s=t;return ct(n,(i,r)=>{s=Br(s,ze(e,i),r)}),s}function Yp(t,e){if(ye(e))return Yt.empty();{const n=t.writeTree_.setTree(e,new Ue(null));return new Yt(n)}}function ku(t,e){return fi(t,e)!=null}function fi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function Jp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(s,i)=>{e.push(new _e(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new _e(s,i.value))}),e}function hs(t,e){if(ye(e))return t;{const n=fi(t,e);return n!=null?new Yt(new Ue(n)):new Yt(t.writeTree_.subtree(e))}}function Pu(t){return t.writeTree_.isEmpty()}function Hi(t,e){return r_(Ce(),t.writeTree_,e)}function r_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(W(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=r_(ze(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(ze(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e){return c_(e,t)}function C1(t,e,n,s,i){W(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Br(t.visibleWrites,e,n)),t.lastWriteId=s}function I1(t,e,n,s){W(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=xu(t.visibleWrites,e,n),t.lastWriteId=s}function x1(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function k1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&P1(a,s.path)?i=!1:Bt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return A1(t),!0;if(s.snap)t.visibleWrites=Yp(t.visibleWrites,s.path);else{const a=s.children;ct(a,l=>{t.visibleWrites=Yp(t.visibleWrites,ze(s.path,l))})}return!0}else return!1}function P1(t,e){if(t.snap)return Bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bt(ze(t.path,n),e))return!0;return!1}function A1(t){t.visibleWrites=o_(t.allWrites,R1,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function R1(t){return t.visible}function o_(t,e,n){let s=Yt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)Bt(n,o)?(a=It(n,o),s=Br(s,a,r.snap)):Bt(o,n)&&(a=It(o,n),s=Br(s,Ce(),r.snap.getChild(a)));else if(r.children){if(Bt(n,o))a=It(n,o),s=xu(s,a,r.children);else if(Bt(o,n))if(a=It(o,n),ye(a))s=xu(s,Ce(),r.children);else{const l=Ui(r.children,ve(a));if(l){const c=l.getChild(je(a));s=Br(s,Ce(),c)}}}else throw Yi("WriteRecord should have .snap or .children")}}return s}function a_(t,e,n,s,i){if(!s&&!i){const r=fi(t.visibleWrites,e);if(r!=null)return r;{const o=hs(t.visibleWrites,e);if(Pu(o))return n;if(n==null&&!ku(o,Ce()))return null;{const a=n||ce.EMPTY_NODE;return Hi(o,a)}}}else{const r=hs(t.visibleWrites,e);if(!i&&Pu(r))return n;if(!i&&n==null&&!ku(r,Ce()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Bt(c.path,e)||Bt(e,c.path))},a=o_(t.allWrites,o,e),l=n||ce.EMPTY_NODE;return Hi(a,l)}}}function O1(t,e,n){let s=ce.EMPTY_NODE;const i=fi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(We,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=hs(t.visibleWrites,e);return n.forEachChild(We,(o,a)=>{const l=Hi(hs(r,new Ae(o)),a);s=s.updateImmediateChild(o,l)}),Jp(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=hs(t.visibleWrites,e);return Jp(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function N1(t,e,n,s,i){W(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=ze(e,n);if(ku(t.visibleWrites,r))return null;{const o=hs(t.visibleWrites,r);return Pu(o)?i.getChild(n):Hi(o,i.getChild(n))}}function M1(t,e,n,s){const i=ze(e,n),r=fi(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=hs(t.visibleWrites,i);return Hi(o,s.getNode().getImmediateChild(n))}else return null}function L1(t,e){return fi(t.visibleWrites,e)}function D1(t,e,n,s,i,r,o){let a;const l=hs(t.visibleWrites,e),c=fi(l,Ce());if(c!=null)a=c;else if(n!=null)a=Hi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function F1(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}function Ra(t,e,n,s){return a_(t.writeTree,t.treePath,e,n,s)}function rf(t,e){return O1(t.writeTree,t.treePath,e)}function Xp(t,e,n,s){return N1(t.writeTree,t.treePath,e,n,s)}function Oa(t,e){return L1(t.writeTree,ze(t.treePath,e))}function $1(t,e,n,s,i,r){return D1(t.writeTree,t.treePath,e,n,s,i,r)}function of(t,e,n){return M1(t.writeTree,t.treePath,e,n)}function l_(t,e){return c_(ze(t.treePath,e),t.writeTree)}function c_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,ro(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,io(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,ji(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,ro(s,e.snapshotNode,i.oldSnap));else throw Yi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const u_=new U1;class af{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Qs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return of(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zs(this.viewCache_),r=$1(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t){return{filter:t}}function V1(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function H1(t,e,n,s,i){const r=new B1;let o,a;if(n.type===qt.OVERWRITE){const c=n;c.source.fromUser?o=Au(t,e,c.path,c.snap,s,i,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ye(c.path),o=Na(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===qt.MERGE){const c=n;c.source.fromUser?o=z1(t,e,c.path,c.children,s,i,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ru(t,e,c.path,c.children,s,i,a,r))}else if(n.type===qt.ACK_USER_WRITE){const c=n;c.revert?o=K1(t,e,c.path,s,i,r):o=q1(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===qt.LISTEN_COMPLETE)o=G1(t,e,n.path,s,r);else throw Yi("Unknown operation type: "+n.type);const l=r.getChanges();return W1(e,o,l),{viewCache:o,changes:l}}function W1(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Iu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(n_(Iu(e)))}}function d_(t,e,n,s,i,r){const o=e.eventCache;if(Oa(s,n)!=null)return e;{let a,l;if(ye(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zs(e),u=c instanceof ce?c:ce.EMPTY_NODE,d=rf(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Ra(s,Zs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ve(n);if(c===".priority"){W(gs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Xp(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=je(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Xp(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=of(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return $r(e,a,o.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Na(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ye(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=ve(n);if(!l.isCompleteForPath(n)&&gs(n)>1)return e;const p=je(n),y=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,u_,null)}const d=i_(e,c,l.isFullyInitialized()||ye(n),u.filtersNodes()),f=new af(i,d,r);return d_(t,d,n,i,f,a)}function Au(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new af(i,e,r);if(ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=$r(e,c,!0,t.filter.filtersNodes());else{const d=ve(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=$r(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=je(n),h=a.getNode().getImmediateChild(d);let p;if(ye(f))p=s;else{const m=u.getCompleteChild(d);m!=null?Gd(f)===".priority"&&m.getChild(Ky(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=ce.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=$r(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Qp(t,e){return t.eventCache.isCompleteForChild(e)}function z1(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=ze(n,l);Qp(e,ve(u))&&(a=Au(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=ze(n,l);Qp(e,ve(u))||(a=Au(t,a,u,c,i,r,o))}),a}function Zp(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Ru(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ye(n)?c=s:c=new Ue(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=Zp(t,h,f);l=Na(t,l,new Ae(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=Zp(t,p,f);l=Na(t,l,new Ae(d),m,i,r,o,a)}}),l}function q1(t,e,n,s,i,r,o){if(Oa(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Na(t,e,n,l.getNode().getChild(n),i,r,a,o);if(ye(n)){let c=new Ue(null);return l.getNode().forEachChild(Hs,(u,d)=>{c=c.set(new Ae(u),d)}),Ru(t,e,n,c,i,r,a,o)}else return e}else{let c=new Ue(null);return s.foreach((u,d)=>{const f=ze(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Ru(t,e,n,c,i,r,a,o)}}function G1(t,e,n,s,i){const r=e.serverCache,o=i_(e,r.getNode(),r.isFullyInitialized()||ye(n),r.isFiltered());return d_(t,o,n,s,u_,i)}function K1(t,e,n,s,i,r){let o;if(Oa(s,n)!=null)return e;{const a=new af(s,e,i),l=e.eventCache.getNode();let c;if(ye(n)||ve(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ra(s,Zs(e));else{const d=e.serverCache.getNode();W(d instanceof ce,"serverChildren would be complete if leaf node"),u=rf(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ve(n);let d=of(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,je(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ce.EMPTY_NODE,je(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ra(s,Zs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Oa(s,Ce())!=null,$r(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Qd(s.getIndex()),r=f1(s);this.processor_=j1(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ce.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ce.EMPTY_NODE,a.getNode(),null),u=new Qs(l,o.isFullyInitialized(),i.filtersNodes()),d=new Qs(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=El(d,u),this.eventGenerator_=new w1(this.query_)}get query(){return this.query_}}function J1(t){return t.viewCache_.serverCache.getNode()}function X1(t,e){const n=Zs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function em(t){return t.eventRegistrations_.length===0}function Q1(t,e){t.eventRegistrations_.push(e)}function tm(t,e,n){const s=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function nm(t,e,n,s){e.type===qt.MERGE&&e.source.queryId!==null&&(W(Zs(t.viewCache_),"We should always have a full cache before handling merges"),W(Iu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=H1(t.processor_,i,e,n,s);return V1(t.processor_,r.viewCache),W(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,f_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function Z1(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(r,o)=>{s.push(ji(r,o))}),n.isFullyInitialized()&&s.push(n_(n.getNode())),f_(t,s,n.getNode(),e)}function f_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return b1(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;class ek{constructor(){this.views=new Map}}function tk(t){W(!Ma,"__referenceConstructor has already been defined"),Ma=t}function nk(){return W(Ma,"Reference.ts has not been loaded"),Ma}function sk(t){return t.views.size===0}function lf(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return W(r!=null,"SyncTree gave us an op for an invalid query."),nm(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(nm(o,e,n,s));return r}}function ik(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Ra(n,i?s:null),l=!1;a?l=!0:s instanceof ce?(a=rf(n,s),l=!1):(a=ce.EMPTY_NODE,l=!1);const c=El(new Qs(a,l,!1),new Qs(s,i,!1));return new Y1(e,c)}return o}function rk(t,e,n,s,i,r){const o=ik(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Q1(o,n),Z1(o,n)}function ok(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=vs(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(tm(c,n,s)),em(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(tm(l,n,s)),em(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!vs(t)&&r.push(new(nk())(e._repo,e._path)),{removed:r,events:o}}function h_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ai(t,e){let n=null;for(const s of t.views.values())n=n||X1(s,e);return n}function p_(t,e){if(e._queryParams.loadsAllData())return Tl(t);{const s=e._queryIdentifier;return t.views.get(s)}}function m_(t,e){return p_(t,e)!=null}function vs(t){return Tl(t)!=null}function Tl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;function ak(t){W(!La,"__referenceConstructor has already been defined"),La=t}function lk(){return W(La,"Reference.ts has not been loaded"),La}let ck=1;class sm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=F1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function g_(t,e,n,s,i){return C1(t.pendingWriteTree_,e,n,s,i),i?tr(t,new Xs(ef(),e,n)):[]}function uk(t,e,n,s){I1(t.pendingWriteTree_,e,n,s);const i=Ue.fromObject(n);return tr(t,new Vi(ef(),e,i))}function os(t,e,n=!1){const s=x1(t.pendingWriteTree_,e);if(k1(t.pendingWriteTree_,e)){let r=new Ue(null);return s.snap!=null?r=r.set(Ce(),!0):ct(s.children,o=>{r=r.set(new Ae(o),!0)}),tr(t,new Aa(s.path,r,n))}else return[]}function Cl(t,e,n){return tr(t,new Xs(tf(),e,n))}function dk(t,e,n){const s=Ue.fromObject(n);return tr(t,new Vi(tf(),e,s))}function fk(t,e){return tr(t,new ao(tf(),e))}function hk(t,e,n){const s=uf(t,n);if(s){const i=df(s),r=i.path,o=i.queryId,a=It(r,e),l=new ao(nf(o),a);return ff(t,r,l)}else return[]}function Ou(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||m_(o,e))){const l=ok(o,e,n,s);sk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>vs(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=gk(f);for(let p=0;p<h.length;++p){const m=h[p],y=m.query,w=__(t,m);t.listenProvider_.startListening(Ur(y),Da(t,y),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Ur(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Il(f));t.listenProvider_.stopListening(Ur(f),h)}))}vk(t,c)}return a}function pk(t,e,n,s){const i=uf(t,s);if(i!=null){const r=df(i),o=r.path,a=r.queryId,l=It(o,e),c=new Xs(nf(a),l,n);return ff(t,o,c)}else return[]}function mk(t,e,n,s){const i=uf(t,s);if(i){const r=df(i),o=r.path,a=r.queryId,l=It(o,e),c=Ue.fromObject(n),u=new Vi(nf(a),l,c);return ff(t,o,u)}else return[]}function im(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=It(f,i);r=r||Ai(h,p),o=o||vs(h)});let a=t.syncPointTree_.get(i);a?(o=o||vs(a),r=r||Ai(a,Ce())):(a=new ek,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=ce.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=Ai(p,Ce());m&&(r=r.updateImmediateChild(h,m))}));const c=m_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Il(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=yk();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=sf(t.pendingWriteTree_,i);let d=rk(a,e,n,u,r,l);if(!c&&!o&&!s){const f=p_(a,e);d=d.concat(_k(t,e,f))}return d}function cf(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=It(o,e),c=Ai(a,l);if(c)return c});return a_(i,e,r,n,!0)}function tr(t,e){return v_(e,t.syncPointTree_,null,sf(t.pendingWriteTree_,Ce()))}function v_(t,e,n,s){if(ye(t.path))return y_(t,e,n,s);{const i=e.get(Ce());n==null&&i!=null&&(n=Ai(i,Ce()));let r=[];const o=ve(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=l_(s,o);r=r.concat(v_(a,l,c,u))}return i&&(r=r.concat(lf(i,t,s,n))),r}}function y_(t,e,n,s){const i=e.get(Ce());n==null&&i!=null&&(n=Ai(i,Ce()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=l_(s,o),u=t.operationForChild(o);u&&(r=r.concat(y_(u,a,l,c)))}),i&&(r=r.concat(lf(i,t,s,n))),r}function __(t,e){const n=e.query,s=Da(t,n);return{hashFn:()=>(J1(e)||ce.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?hk(t,n._path,s):fk(t,n._path);{const r=fx(i,n);return Ou(t,n,null,r)}}}}function Da(t,e){const n=Il(e);return t.queryToTagMap.get(n)}function Il(t){return t._path.toString()+"$"+t._queryIdentifier}function uf(t,e){return t.tagToQueryMap.get(e)}function df(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function ff(t,e,n){const s=t.syncPointTree_.get(e);W(s,"Missing sync point for query tag that we're tracking");const i=sf(t.pendingWriteTree_,e);return lf(s,n,i,null)}function gk(t){return t.fold((e,n,s)=>{if(n&&vs(n))return[Tl(n)];{let i=[];return n&&(i=h_(n)),ct(s,(r,o)=>{i=i.concat(o)}),i}})}function Ur(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lk())(t._repo,t._path):t}function vk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Il(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function yk(){return ck++}function _k(t,e,n){const s=e._path,i=Da(t,e),r=__(t,n),o=t.listenProvider_.startListening(Ur(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)W(!vs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ye(c)&&u&&vs(u))return[Tl(u).query];{let f=[];return u&&(f=f.concat(h_(u).map(h=>h.query))),ct(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Ur(u),Da(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hf(n)}node(){return this.node_}}class pf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new pf(this.syncTree_,n)}node(){return cf(this.syncTree_,this.path_)}}const wk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rm=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Sk(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},Sk=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&W(!1,"Unexpected increment value: "+s);const i=e.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},w_=function(t,e,n,s){return mf(e,new pf(n,t),s)},b_=function(t,e,n){return mf(t,new hf(e),n)};function mf(t,e,n){const s=t.getPriority().val(),i=rm(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=rm(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new et(a,st(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new et(i))),o.forEachChild(We,(a,l)=>{const c=mf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function vf(t,e){let n=e instanceof Ae?e:new Ae(e),s=t,i=ve(n);for(;i!==null;){const r=Ui(s.node.children,i)||{children:{},childCount:0};s=new gf(i,s,r),n=je(n),i=ve(n)}return s}function nr(t){return t.node.value}function S_(t,e){t.node.value=e,Nu(t)}function E_(t){return t.node.childCount>0}function Ek(t){return nr(t)===void 0&&!E_(t)}function xl(t,e){ct(t.node.children,(n,s)=>{e(new gf(n,t,s))})}function T_(t,e,n,s){n&&e(t),xl(t,i=>{T_(i,e,!0)})}function Tk(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function So(t){return new Ae(t.parent===null?t.name:So(t.parent)+"/"+t.name)}function Nu(t){t.parent!==null&&Ck(t.parent,t.name,t)}function Ck(t,e,n){const s=Ek(n),i=bn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Nu(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Nu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=/[\[\].#$\/\u0000-\u001F\u007F]/,xk=/[\[\].#$\u0000-\u001F\u007F]/,Sc=10*1024*1024,yf=function(t){return typeof t=="string"&&t.length!==0&&!Ik.test(t)},C_=function(t){return typeof t=="string"&&t.length!==0&&!xk.test(t)},kk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),C_(t)},Mu=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vd(t)||t&&typeof t=="object"&&bn(t,".sv")},Pk=function(t,e,n,s){kl(wl(t,"value"),e,n)},kl=function(t,e,n){const s=n instanceof Ae?new qx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ns(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ns(s)+" with contents = "+e.toString());if(Vd(e))throw new Error(t+"contains "+e.toString()+" "+Ns(s));if(typeof e=="string"&&e.length>Sc/3&&bl(e)>Sc)throw new Error(t+"contains a string greater than "+Sc+" utf8 bytes "+Ns(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(ct(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!yf(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ns(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Gx(s,o),kl(t,a,s),Kx(s)}),i&&r)throw new Error(t+' contains ".value" child '+Ns(s)+" in addition to actual children.")}},Ak=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=so(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!yf(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zx);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Bt(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},Rk=function(t,e,n,s){const i=wl(t,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];ct(e,(o,a)=>{const l=new Ae(o);if(kl(i,a,ze(n,l)),Gd(l)===".priority"&&!Mu(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),Ak(i,r)},_f=function(t,e,n,s){if(!C_(n))throw new Error(wl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ok=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_f(t,e,n)},I_=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Nk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kk(n))throw new Error(wl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pl(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!Kd(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function x_(t,e,n){Pl(t,n),k_(t,s=>Kd(s,e))}function en(t,e,n){Pl(t,n),k_(t,s=>Bt(s,e)||Bt(e,s))}function k_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(Lk(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Lk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Dr&&lt("event: "+n.toString()),er(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="repo_interrupt",Fk=25;class $k{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pa(),this.transactionQueueTree_=new gf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bk(t,e,n){if(t.stats_=zd(t.repoInfo_),t.forceRestClient_||gx())t.server_=new ka(t.repoInfo_,(s,i,r,o)=>{om(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>am(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Fn(t.repoInfo_,e,(s,i,r,o)=>{om(t,s,i,r,o)},s=>{am(t,s)},s=>{jk(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=bx(t.repoInfo_,()=>new _1(t.stats_,t.server_)),t.infoData_=new p1,t.infoSyncTree_=new sm({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Cl(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wf(t,"connected",!1),t.serverSyncTree_=new sm({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);en(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Uk(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Al(t){return wk({timestamp:Uk(t)})}function om(t,e,n,s,i){t.dataUpdateCount++;const r=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=Sa(n,c=>st(c));o=mk(t.serverSyncTree_,r,l,i)}else{const l=st(n);o=pk(t.serverSyncTree_,r,l,i)}else if(s){const l=Sa(n,c=>st(c));o=dk(t.serverSyncTree_,r,l)}else{const l=st(n);o=Cl(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Wi(t,r)),en(t.eventQueue_,a,o)}function am(t,e){wf(t,"connected",e),e===!1&&Wk(t)}function jk(t,e){ct(e,(n,s)=>{wf(t,n,s)})}function wf(t,e,n){const s=new Ae("/.info/"+e),i=st(n);t.infoData_.updateSnapshot(s,i);const r=Cl(t.infoSyncTree_,s,i);en(t.eventQueue_,s,r)}function bf(t){return t.nextWriteId_++}function Vk(t,e,n,s,i){Rl(t,"set",{path:e.toString(),value:n,priority:s});const r=Al(t),o=st(n,s),a=cf(t.serverSyncTree_,e),l=b_(o,a,r),c=bf(t),u=g_(t.serverSyncTree_,e,l,c,!0);Pl(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||wt("set at "+e+" failed: "+f);const m=os(t.serverSyncTree_,c,!p);en(t.eventQueue_,e,m),Lu(t,i,f,h)});const d=Ef(t,e);Wi(t,d),en(t.eventQueue_,d,[])}function Hk(t,e,n,s){Rl(t,"update",{path:e.toString(),value:n});let i=!0;const r=Al(t),o={};if(ct(n,(a,l)=>{i=!1,o[a]=w_(ze(e,a),st(l),t.serverSyncTree_,r)}),i)lt("update() called with empty data.  Don't do anything."),Lu(t,s,"ok",void 0);else{const a=bf(t),l=uk(t.serverSyncTree_,e,o,a);Pl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||wt("update at "+e+" failed: "+c);const f=os(t.serverSyncTree_,a,!d),h=f.length>0?Wi(t,e):e;en(t.eventQueue_,h,f),Lu(t,s,c,u)}),ct(n,c=>{const u=Ef(t,ze(e,c));Wi(t,u)}),en(t.eventQueue_,e,[])}}function Wk(t){Rl(t,"onDisconnectEvents");const e=Al(t),n=Pa();Cu(t.onDisconnect_,Ce(),(i,r)=>{const o=w_(i,r,t.serverSyncTree_,e);s_(n,i,o)});let s=[];Cu(n,Ce(),(i,r)=>{s=s.concat(Cl(t.serverSyncTree_,i,r));const o=Ef(t,i);Wi(t,o)}),t.onDisconnect_=Pa(),en(t.eventQueue_,Ce(),s)}function zk(t,e,n){let s;ve(e._path)===".info"?s=im(t.infoSyncTree_,e,n):s=im(t.serverSyncTree_,e,n),x_(t.eventQueue_,e._path,s)}function lm(t,e,n){let s;ve(e._path)===".info"?s=Ou(t.infoSyncTree_,e,n):s=Ou(t.serverSyncTree_,e,n),x_(t.eventQueue_,e._path,s)}function qk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Dk)}function Rl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),lt(n,...e)}function Lu(t,e,n,s){e&&er(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function P_(t,e,n){return cf(t.serverSyncTree_,e,n)||ce.EMPTY_NODE}function Sf(t,e=t.transactionQueueTree_){if(e||Ol(t,e),nr(e)){const n=R_(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Gk(t,So(e),n)}else E_(e)&&xl(e,n=>{Sf(t,n)})}function Gk(t,e,n){const s=n.map(c=>c.currentWriteId),i=P_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];W(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=It(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Rl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(os(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ol(t,vf(t.transactionQueueTree_,e)),Sf(t,t.transactionQueueTree_),en(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)er(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Wi(t,e)}},o)}function Wi(t,e){const n=A_(t,e),s=So(n),i=R_(t,n);return Kk(t,i,s),s}function Kk(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=It(n,l.path);let u=!1,d;if(W(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(os(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Fk)u=!0,d="maxretry",i=i.concat(os(t.serverSyncTree_,l.currentWriteId,!0));else{const f=P_(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){kl("transaction failed: Data returned ",h,l.path);let p=st(h);typeof h=="object"&&h!=null&&bn(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,w=Al(t),v=b_(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=bf(t),o.splice(o.indexOf(y),1),i=i.concat(g_(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(os(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(os(t.serverSyncTree_,l.currentWriteId,!0))}en(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ol(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)er(s[a]);Sf(t,t.transactionQueueTree_)}function A_(t,e){let n,s=t.transactionQueueTree_;for(n=ve(e);n!==null&&nr(s)===void 0;)s=vf(s,n),e=je(e),n=ve(e);return s}function R_(t,e){const n=[];return O_(t,e,n),n.sort((s,i)=>s.order-i.order),n}function O_(t,e,n){const s=nr(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);xl(e,i=>{O_(t,i,n)})}function Ol(t,e){const n=nr(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,S_(e,n.length>0?n:void 0)}xl(e,s=>{Ol(t,s)})}function Ef(t,e){const n=So(A_(t,e)),s=vf(t.transactionQueueTree_,e);return Tk(s,i=>{Ec(t,i)}),Ec(t,s),T_(s,i=>{Ec(t,i)}),n}function Ec(t,e){const n=nr(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(W(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(W(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(os(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?S_(e,void 0):n.length=r+1,en(t.eventQueue_,So(e),i);for(let o=0;o<s.length;o++)er(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Jk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const cm=function(t,e){const n=Xk(t),s=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ax();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new By(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Ae(n.pathString)}},Xk=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Yk(t.substring(u,d)));const f=Jk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class Zk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return ye(this._path)?null:Gd(this._path)}get ref(){return new Ts(this._repo,this._path)}get _queryIdentifier(){const e=Gp(this._queryParams),n=Hd(e);return n==="{}"?"default":n}get _queryObject(){return Gp(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof Nl))return!1;const n=this._repo===e._repo,s=Kd(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Wx(this._path)}}function tP(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function nP(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Hs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Js)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ms)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===We){if(e!=null&&!Mu(e)||n!=null&&!Mu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof Xd||t.getIndex()===t_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ts extends Nl{constructor(e,n){super(e,n,new Zd,!1)}get parent(){const e=Ky(this._path);return e===null?null:new Ts(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fa{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),s=Du(this.ref,e);return new Fa(this._node.getChild(n),s,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Fa(i,Du(this.ref,s),We)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function as(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?Du(t._root,e):t._root}function Du(t,e){return t=Ze(t),ve(t._path)===null?Ok("child","path",e):_f("child","path",e),new Ts(t._repo,ze(t._path,e))}function Fu(t){return I_("remove",t._path),Tf(t,null)}function Tf(t,e){t=Ze(t),I_("set",t._path),Pk("set",e,t._path);const n=new yo;return Vk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sP(t,e){Rk("update",e,t._path);const n=new yo;return Hk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Cf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Qk("value",this,new Fa(e.snapshotNode,new Ts(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Zk(this,e,n):null}matches(e){return e instanceof Cf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function iP(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{lm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new eP(n,r||void 0),a=new Cf(o);return zk(t._repo,t,a),()=>lm(t._repo,t,a)}function N_(t,e,n,s){return iP(t,"value",e,n,s)}class rP{}class oP extends rP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){tP(e,"orderByChild");const n=new Ae(this._path);if(ye(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Xd(n),i=h1(e._queryParams,s);return nP(i),new Nl(e._repo,e._path,i,!0)}}function M_(t){return _f("orderByChild","path",t),new oP(t)}function L_(t,...e){let n=Ze(t);for(const s of e)n=s._apply(n);return n}tk(Ts);ak(Ts);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="FIREBASE_DATABASE_EMULATOR_HOST",$u={};let lP=!1;function cP(t,e,n,s){t.repoInfo_=new By(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function uP(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=cm(r,i),a=o.repoInfo,l;typeof process<"u"&&Pp&&(l=Pp[aP]),l?(r=`http://${l}?ns=${a.namespace}`,o=cm(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new yx(t.name,t.options,e);Nk("Invalid Firebase Database URL",o),ye(o.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=fP(a,t,c,new vx(t.name,n));return new hP(u,t)}function dP(t,e){const n=$u[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qk(t),delete n[t.key]}function fP(t,e,n,s){let i=$u[e.name];i||(i={},$u[e.name]=i);let r=i[t.toURLString()];return r&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new $k(t,lP,n,s),i[t.toURLString()]=r,r}class hP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ts(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}}function If(t=jd(),e){const n=Qi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=NC("database");s&&pP(n,...s)}return n}function pP(t,e,n,s={}){t=Ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Xo(Xo.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:MC(s.mockUserToken,t.app.options.projectId);r=new Xo(o)}cP(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){tx(Zi),Zt(new Wt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return uP(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Vt(Ap,Rp,t),Vt(Ap,Rp,"esm2017")}Fn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mP();function xf(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function D_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gP=D_,F_=new Es("auth","Firebase",D_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Bd("@firebase/auth");function vP(t,...e){$a.logLevel<=Re.WARN&&$a.warn(`Auth (${Zi}): ${t}`,...e)}function Qo(t,...e){$a.logLevel<=Re.ERROR&&$a.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,...e){throw kf(t,...e)}function gn(t,...e){return kf(t,...e)}function $_(t,e,n){const s=Object.assign(Object.assign({},gP()),{[e]:n});return new Es("auth","Firebase",s).create(e,{appName:t.name})}function $n(t){return $_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return F_.create(t,...e)}function le(t,e,...n){if(!t)throw kf(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qo(e),new Error(e)}function Hn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yP(){return um()==="http:"||um()==="https:"}function um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yP()||DC()||"connection"in navigator)?navigator.onLine:!0}function wP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hn(n>e,"Short delay should be less than long delay!"),this.isMobile=$d()||gy()}get(){return _P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t,e){Hn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Eo(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gn(t,e,n,s,i={}){return U_(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=Ji(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return LC()||(c.referrerPolicy="no-referrer"),B_.fetch()(j_(t,t.config.apiHost,n,a),c)})}async function U_(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},bP),e);try{const i=new TP(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Fo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $_(t,u,c);tn(t,u)}}catch(i){if(i instanceof qn)throw i;tn(t,"network-request-failed",{message:String(i)})}}async function To(t,e,n,s,i={}){const r=await Gn(t,e,n,s,i);return"mfaPendingCredential"in r&&tn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function j_(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?Pf(t.config,i):`${t.config.apiScheme}://${i}`}function EP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gn(this.auth,"network-request-failed")),SP.get())})}}function Fo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=gn(t,e,s);return i.customData._tokenResponse=n,i}function dm(t){return t!==void 0&&t.enterprise!==void 0}class CP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IP(t,e){return Gn(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e){return Gn(t,"POST","/v1/accounts:delete",e)}async function V_(t,e){return Gn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kP(t,e=!1){const n=Ze(t),s=await n.getIdToken(e),i=Af(s);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:jr(Tc(i.auth_time)),issuedAtTime:jr(Tc(i.iat)),expirationTime:jr(Tc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Tc(t){return Number(t)*1e3}function Af(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qo("JWT malformed, contained fewer than 3 sections"),null;try{const i=ba(n);return i?JSON.parse(i):(Qo("Failed to decode base64 JWT payload"),null)}catch(i){return Qo("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fm(t){const e=Af(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qn&&PP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function PP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){var e;const n=t.auth,s=await t.getIdToken(),i=await zi(t,V_(n,{idToken:s}));le(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?H_(r.providerUserInfo):[],a=OP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Uu(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function RP(t){const e=Ze(t);await Ba(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OP(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function H_(t){return t.map(e=>{var{providerId:n}=e,s=xf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e){const n=await U_(t,{},async()=>{const s=Ji({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=j_(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B_.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MP(t,e){return Gn(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=fm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await NP(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Ri;return s&&(le(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(le(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Uu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await zi(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kP(this,e)}reload(){return RP(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ba(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject($n(this.auth));const e=await this.getIdToken();return await zi(this,xP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:T,providerData:R,stsTokenManager:$}=n;le(g&&$,e,"internal-error");const x=Ri.fromJSON(this.name,$);le(typeof g=="string",e,"internal-error"),Jn(d,e.name),Jn(f,e.name),le(typeof S=="boolean",e,"internal-error"),le(typeof T=="boolean",e,"internal-error"),Jn(h,e.name),Jn(p,e.name),Jn(m,e.name),Jn(y,e.name),Jn(w,e.name),Jn(v,e.name);const C=new Mn({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:x,createdAt:w,lastLoginAt:v});return R&&Array.isArray(R)&&(C.providerData=R.map(k=>Object.assign({},k))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,n,s=!1){const i=new Ri;i.updateFromServerResponse(n);const r=new Mn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Ba(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];le(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?H_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Ri;a.updateFromIdToken(s);const l=new Mn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Uu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;function Ln(t){Hn(t instanceof Function,"Expected a class definition");let e=hm.get(t);return e?(Hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W_.type="NONE";const pm=W_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e,n){return`firebase:${t}:${e}:${n}`}class Oi{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Zo(this.userKey,i.apiKey,r),this.fullPersistenceKey=Zo("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Oi(Ln(pm),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||Ln(pm);const o=Zo(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Mn._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Oi(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Oi(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J_(e))return"Blackberry";if(X_(e))return"Webos";if(q_(e))return"Safari";if((e.includes("chrome/")||G_(e))&&!e.includes("edge/"))return"Chrome";if(Y_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function z_(t=St()){return/firefox\//i.test(t)}function q_(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G_(t=St()){return/crios\//i.test(t)}function K_(t=St()){return/iemobile/i.test(t)}function Y_(t=St()){return/android/i.test(t)}function J_(t=St()){return/blackberry/i.test(t)}function X_(t=St()){return/webos/i.test(t)}function Rf(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LP(t=St()){var e;return Rf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DP(){return FC()&&document.documentMode===10}function Q_(t=St()){return Rf(t)||Y_(t)||X_(t)||J_(t)||/windows phone/i.test(t)||K_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e=[]){let n;switch(t){case"Browser":n=mm(St());break;case"Worker":n=`${mm(St())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e={}){return Gn(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=6;class UP{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:BP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gm(this),this.idTokenSubscription=new gm(this),this.beforeStateQueue=new FP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Oi.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await V_(this,{idToken:e}),s=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ba(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject($n(this));const n=e?Ze(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $P(this),n=new UP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Es("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await MP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ln(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Oi.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hi(t){return Ze(t)}class gm{constructor(e){this.auth=e,this.observer=null,this.addObserver=zC(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VP(t){Ml=t}function ew(t){return Ml.loadJS(t)}function HP(){return Ml.recaptchaEnterpriseScript}function WP(){return Ml.gapiScript}function zP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qP{constructor(){this.enterprise=new GP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KP="recaptcha-enterprise",tw="NO_RECAPTCHA";class YP{constructor(e){this.type=KP,this.auth=hi(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{IP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new CP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;dm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(tw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qP().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&dm(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HP();l.length!==0&&(l+=a),ew(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function vm(t,e,n,s=!1,i=!1){const r=new YP(t);let o;if(i)o=tw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ju(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await vm(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await vm(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){const n=Qi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Ea(r,e??{}))return i;tn(i,"already-initialized")}return n.initialize({options:e})}function XP(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QP(t,e,n){const s=hi(t);le(s._canInitEmulator,s,"emulator-config-failed"),le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=nw(e),{host:o,port:a}=ZP(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),eA()}function nw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZP(t){const e=nw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:ym(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:ym(o)}}}function ym(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}async function tA(t,e){return Gn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e){return To(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e){return To(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function iA(t,e){return To(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Of{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ju(e,n,"signInWithPassword",nA);case"emailLink":return sA(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ju(e,s,"signUpPassword",tA);case"emailLink":return iA(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t,e){return To(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="http://localhost";class ei extends Of{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=xf(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new ei(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ni(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ni(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:rA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ji(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aA(t){const e=Er(Tr(t)).link,n=e?Er(Tr(e)).deep_link_id:null,s=Er(Tr(t)).deep_link_id;return(s?Er(Tr(s)).link:null)||s||n||e||t}class Nf{constructor(e){var n,s,i,r,o,a;const l=Er(Tr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=oA((i=l.mode)!==null&&i!==void 0?i:null);le(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=aA(e);try{return new Nf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.providerId=sr.PROVIDER_ID}static credential(e,n){return lo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Nf.parseLink(n);return le(s,"argument-error"),lo._fromEmailAndCode(e,s.code,s.tenantId)}}sr.PROVIDER_ID="password";sr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Co{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ei._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Co{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Co{constructor(){super("twitter.com")}static credential(e,n){return ei._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e){return To(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Mn._fromIdTokenResponse(e,s,i),o=_m(s);return new ti({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=_m(s);return new ti({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function _m(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends qn{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Ua.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Ua(e,n,s,i)}}function iw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Ua._fromErrorAndOperation(t,r,e,s):r})}async function cA(t,e,n=!1){const s=await zi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ti._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e,n=!1){const{auth:s}=t;if(hn(s.app))return Promise.reject($n(s));const i="reauthenticate";try{const r=await zi(t,iw(s,i,e,t),n);le(r.idToken,s,"internal-error");const o=Af(r.idToken);le(o,s,"internal-error");const{sub:a}=o;return le(t.uid===a,s,"user-mismatch"),ti._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&tn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(t,e,n=!1){if(hn(t.app))return Promise.reject($n(t));const s="signIn",i=await iw(t,s,e),r=await ti._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function dA(t,e){return rw(hi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(t){const e=hi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fA(t,e,n){if(hn(t.app))return Promise.reject($n(t));const s=hi(t),o=await ju(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ow(t),l}),a=await ti._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function hA(t,e,n){return hn(t.app)?Promise.reject($n(t)):dA(Ze(t),sr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ow(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e){return Gn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ze(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await zi(s,pA(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function mA(t,e,n,s){return Ze(t).onIdTokenChanged(e,n,s)}function gA(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function Mf(t,e,n,s){return Ze(t).onAuthStateChanged(e,n,s)}function vA(t){return Ze(t).signOut()}const ja="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=1e3,_A=10;class lw extends aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);DP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_A):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lw.type="LOCAL";const wA=lw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cw.type="SESSION";const uw=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Ll(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await bA(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ll.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Lf("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function EA(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function TA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IA(){return dw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebaseLocalStorageDb",xA=1,Va="firebaseLocalStorage",hw="fbase_key";class Io{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dl(t,e){return t.transaction([Va],e?"readwrite":"readonly").objectStore(Va)}function kA(){const t=indexedDB.deleteDatabase(fw);return new Io(t).toPromise()}function Vu(){const t=indexedDB.open(fw,xA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Va,{keyPath:hw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Va)?e(s):(s.close(),await kA(),e(await Vu()))})})}async function bm(t,e,n){const s=Dl(t,!0).put({[hw]:e,value:n});return new Io(s).toPromise()}async function PA(t,e){const n=Dl(t,!1).get(e),s=await new Io(n).toPromise();return s===void 0?null:s.value}function Sm(t,e){const n=Dl(t,!0).delete(e);return new Io(n).toPromise()}const AA=800,RA=3;class pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ll._getInstance(IA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TA(),!this.activeServiceWorker)return;this.sender=new SA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vu();return await bm(e,ja,"1"),await Sm(e,ja),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Dl(i,!1).getAll();return new Io(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pw.type="LOCAL";const OA=pw;new Eo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e){return e?Ln(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Of{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MA(t){return rw(t.auth,new Df(t),t.bypassAuthState)}function LA(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),uA(n,new Df(t),t.bypassAuthState)}async function DA(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),cA(n,new Df(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MA;case"linkViaPopup":case"linkViaRedirect":return DA;case"reauthViaPopup":case"reauthViaRedirect":return LA;default:tn(this.auth,"internal-error")}}resolve(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Eo(2e3,1e4);class Ei extends mw{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Hn(this.filter.length===1,"Popup operations only handle one event");const e=Lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FA.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="pendingRedirect",ea=new Map;class BA extends mw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ea.get(this.auth._key());if(!e){try{const s=await UA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ea.set(this.auth._key(),e)}return this.bypassAuthState||ea.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UA(t,e){const n=HA(e),s=VA(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function jA(t,e){ea.set(t._key(),e)}function VA(t){return Ln(t._redirectPersistence)}function HA(t){return Zo($A,t.config.apiKey,t.name)}async function WA(t,e,n=!1){if(hn(t.app))return Promise.reject($n(t));const s=hi(t),i=NA(s,e),o=await new BA(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=10*60*1e3;class qA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!gw(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Em(e))}saveEventToCache(e){this.cachedEventUids.add(Em(e)),this.lastProcessedEventTime=Date.now()}}function Em(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e={}){return Gn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JA=/^https?/;async function XA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KA(t);for(const n of e)try{if(QA(n))return}catch{}tn(t,"unauthorized-domain")}function QA(t){const e=Bu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!JA.test(n))return!1;if(YA.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Eo(3e4,6e4);function Tm(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eR(t){return new Promise((e,n)=>{var s,i,r;function o(){Tm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tm(),n(gn(t,"network-request-failed"))},timeout:ZA.get()})}if(!((i=(s=vn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=vn().gapi)===null||r===void 0)&&r.load)o();else{const a=zP("iframefcb");return vn()[a]=()=>{gapi.load?o():n(gn(t,"network-request-failed"))},ew(`${WP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ta=null,e})}let ta=null;function tR(t){return ta=ta||eR(t),ta}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Eo(5e3,15e3),sR="__/auth/iframe",iR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aR(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pf(e,iR):`https://${t.config.authDomain}/${sR}`,s={apiKey:e.apiKey,appName:t.name,v:Zi},i=oR.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ji(s).slice(1)}`}async function lR(t){const e=await tR(t),n=vn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:aR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=gn(t,"network-request-failed"),a=vn().setTimeout(()=>{r(o)},nR.get());function l(){vn().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,dR=600,fR="_blank",hR="http://localhost";class Cm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(t,e,n,s=uR,i=dR){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cR),{width:s.toString(),height:i.toString(),top:r,left:o}),c=St().toLowerCase();n&&(a=G_(c)?fR:n),z_(c)&&(e=e||hR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(LP(c)&&a!=="_self")return mR(e||"",a),new Cm(null);const d=window.open(e||"",a,u);le(d,t,"popup-blocked");try{d.focus()}catch{}return new Cm(d)}function mR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__/auth/handler",vR="emulator/auth/handler",yR=encodeURIComponent("fac");async function Im(t,e,n,s,i,r){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Zi,eventId:i};if(e instanceof sw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Co){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${yR}=${encodeURIComponent(l)}`:"";return`${_R(t)}?${Ji(a).slice(1)}${c}`}function _R({config:t}){return t.emulator?Pf(t,vR):`https://${t.authDomain}/${gR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=WA,this._overrideRedirectResult=jA}async _openPopup(e,n,s,i){var r;Hn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Im(e,n,s,Bu(),i);return pR(e,o,Lf())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Im(e,n,s,Bu(),i);return EA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Hn(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await lR(e),s=new qA(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cc,{type:Cc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Cc];o!==void 0&&n(!!o),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q_()||q_()||Rf()}}const bR=wR;var xm="@firebase/auth",km="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(t){Zt(new Wt("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z_(t)},c=new jP(s,i,r,l);return XP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zt(new Wt("auth-internal",e=>{const n=hi(e.getProvider("auth").getImmediate());return(s=>new SR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(xm,km,ER(t)),Vt(xm,km,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=5*60,IR=my("authIdTokenMaxAge")||CR;let Pm=null;const xR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IR)return;const i=n==null?void 0:n.token;Pm!==i&&(Pm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qi(t=jd()){const e=Qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JP(t,{popupRedirectResolver:bR,persistence:[OA,wA,uw]}),s=my("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=xR(r.toString());gA(n,o,()=>o(n.currentUser)),mA(n,a=>o(a))}}const i=hy("auth");return i&&QP(n,`http://${i}`),n}function kR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=gn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",kR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");const Ff=vo("searchStore",()=>{const t=F([]),e=F(""),n=F([]),s=If(),i=qi();return{memory:e,memoryFilms:n,lastSearch:t,getLastSearch:()=>{Mf(i,c=>{if(c){console.log(c);const u=L_(as(s,`users/${c.uid}/search`),M_("date"));N_(u,d=>{const f=[];d.forEach(h=>{f.push(h.val())}),t.value=f.reverse(),console.log(t.value)},d=>{console.log(d)})}else console.log("User logged out")})},addToLastSearch:(c,u)=>{const d=new Date().getTime();c.isFavorite=!0,Tf(as(s,"users/"+i.currentUser.uid+"/search/"+u),{nameRu:c.nameRu?c.nameRu:c.nameEn,year:c.year,rating:c.rating,posterUrl:c.posterUrl,id:+u,date:d}).then(()=>console.log("Добавлено")).catch(f=>console.log(f))},removeFromSearch:c=>{Fu(as(s,"users/"+i.currentUser.uid+"/search/"+c)).then(()=>console.log("Удалено")).catch(u=>console.log(u))},removeAllSearch:()=>{Fu(as(s,"users/"+i.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(c=>console.log(c))}}}),PR={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-950 bg-opacity-80"},AR={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},RR={__name:"Header",setup(t){const e=Ff();return(n,s)=>{const i=Ss("RouterLink");return A(),j("header",PR,[E("nav",AR,[V(i,{to:"/",class:"flex flex-col items-center gap-1"},{default:ee(()=>[V(D(SC),{class:"w-6",alt:"home"}),s[1]||(s[1]=E("span",{class:"text-xs"},"Главное",-1))]),_:1}),V(i,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:ee(()=>[V(D(Md),{class:"w-6",alt:"favorites"}),s[2]||(s[2]=E("span",{class:"text-xs"},"Мое",-1))]),_:1}),V(i,{to:"/search",class:"flex flex-col items-center gap-1",onClick:s[0]||(s[0]=r=>{D(e).memory="",D(e).memoryFilms=[]})},{default:ee(()=>[V(D(ay),{class:"w-6",alt:"search"}),s[3]||(s[3]=E("span",{class:"text-xs"},"Поиск",-1))]),_:1}),V(i,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:ee(()=>[V(D(TC),{class:"w-6",alt:"profile"}),s[4]||(s[4]=E("span",{class:"text-xs"},"Профиль",-1))]),_:1})])])}}},vw="@firebase/installations",$f="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=1e4,_w=`w:${$f}`,ww="FIS_v2",OR="https://firebaseinstallations.googleapis.com/v1",NR=60*60*1e3,MR="installations",LR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ni=new Es(MR,LR,DR);function bw(t){return t instanceof qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw({projectId:t}){return`${OR}/projects/${t}/installations`}function Ew(t){return{token:t.token,requestStatus:2,expiresIn:$R(t.expiresIn),creationTime:Date.now()}}async function Tw(t,e){const s=(await e.json()).error;return ni.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Cw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FR(t,{refreshToken:e}){const n=Cw(t);return n.append("Authorization",BR(e)),n}async function Iw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $R(t){return Number(t.replace("s","000"))}function BR(t){return`${ww} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Sw(t),i=Cw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:ww,appId:t.appId,sdkVersion:_w},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Iw(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ew(c.authToken)}}else throw await Tw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=/^[cdef][\w-]{21}$/,Hu="";function HR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WR(t);return VR.test(n)?n:Hu}catch{return Hu}}function WR(t){return jR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;function Pw(t,e){const n=Fl(t);Aw(n,e),zR(n,e)}function Aw(t,e){const n=kw.get(t);if(n)for(const s of n)s(e)}function zR(t,e){const n=qR();n&&n.postMessage({key:t,fid:e}),GR()}let Ds=null;function qR(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=t=>{Aw(t.data.key,t.data.fid)}),Ds}function GR(){kw.size===0&&Ds&&(Ds.close(),Ds=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebase-installations-database",YR=1,si="firebase-installations-store";let Ic=null;function Bf(){return Ic||(Ic=Xi(KR,YR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(si)}}})),Ic}async function Ha(t,e){const n=Fl(t),i=(await Bf()).transaction(si,"readwrite"),r=i.objectStore(si),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Pw(t,e.fid),e}async function Rw(t){const e=Fl(t),s=(await Bf()).transaction(si,"readwrite");await s.objectStore(si).delete(e),await s.done}async function $l(t,e){const n=Fl(t),i=(await Bf()).transaction(si,"readwrite"),r=i.objectStore(si),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Pw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t){let e;const n=await $l(t.appConfig,s=>{const i=JR(s),r=XR(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===Hu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function JR(t){const e=t||{fid:HR(),registrationStatus:0};return Ow(e)}function XR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ni.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=QR(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZR(t)}:{installationEntry:e}}async function QR(t,e){try{const n=await UR(t,e);return Ha(t.appConfig,n)}catch(n){throw bw(n)&&n.customData.serverCode===409?await Rw(t.appConfig):await Ha(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ZR(t){let e=await Am(t.appConfig);for(;e.registrationStatus===1;)await xw(100),e=await Am(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Uf(t);return s||n}return e}function Am(t){return $l(t,e=>{if(!e)throw ni.create("installation-not-found");return Ow(e)})}function Ow(t){return eO(t)?{fid:t.fid,registrationStatus:0}:t}function eO(t){return t.registrationStatus===1&&t.registrationTime+yw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO({appConfig:t,heartbeatServiceProvider:e},n){const s=nO(t,n),i=FR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:_w,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Iw(()=>fetch(s,a));if(l.ok){const c=await l.json();return Ew(c)}else throw await Tw("Generate Auth Token",l)}function nO(t,{fid:e}){return`${Sw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t,e=!1){let n;const s=await $l(t.appConfig,r=>{if(!Nw(r))throw ni.create("not-registered");const o=r.authToken;if(!e&&rO(o))return r;if(o.requestStatus===1)return n=sO(t,e),r;{if(!navigator.onLine)throw ni.create("app-offline");const a=aO(r);return n=iO(t,a),a}});return n?await n:s.authToken}async function sO(t,e){let n=await Rm(t.appConfig);for(;n.authToken.requestStatus===1;)await xw(100),n=await Rm(t.appConfig);const s=n.authToken;return s.requestStatus===0?jf(t,e):s}function Rm(t){return $l(t,e=>{if(!Nw(e))throw ni.create("not-registered");const n=e.authToken;return lO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function iO(t,e){try{const n=await tO(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Ha(t.appConfig,s),n}catch(n){if(bw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Rw(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ha(t.appConfig,s)}throw n}}function Nw(t){return t!==void 0&&t.registrationStatus===2}function rO(t){return t.requestStatus===2&&!oO(t)}function oO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+NR}function aO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function lO(t){return t.requestStatus===1&&t.requestTime+yw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t){const e=t,{installationEntry:n,registrationPromise:s}=await Uf(e);return s?s.catch(console.error):jf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e=!1){const n=t;return await dO(n),(await jf(n,e)).token}async function dO(t){const{registrationPromise:e}=await Uf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){if(!t||!t.options)throw xc("App Configuration");if(!t.name)throw xc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xc(t){return ni.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="installations",hO="installations-internal",pO=t=>{const e=t.getProvider("app").getImmediate(),n=fO(e),s=Qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},mO=t=>{const e=t.getProvider("app").getImmediate(),n=Qi(e,Mw).getImmediate();return{getId:()=>cO(n),getToken:i=>uO(n,i)}};function gO(){Zt(new Wt(Mw,pO,"PUBLIC")),Zt(new Wt(hO,mO,"PRIVATE"))}gO();Vt(vw,$f);Vt(vw,$f,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="/firebase-messaging-sw.js",yO="/firebase-cloud-messaging-push-scope",Lw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_O="https://fcmregistrations.googleapis.com/v1",Dw="google.c.a.c_id",wO="google.c.a.c_l",bO="google.c.a.ts",SO="google.c.a.e",Om=1e4;var Nm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Nm||(Nm={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var co;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(co||(co={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function EO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="fcm_token_details_db",TO=5,Mm="fcm_token_object_Store";async function CO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(kc))return null;let e=null;return(await Xi(kc,TO,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Mm))return;const l=o.objectStore(Mm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:xn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:xn(u.auth),p256dh:xn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:xn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:xn(u.auth),p256dh:xn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:xn(u.vapidKey)}}}}}})).close(),await ki(kc),await ki("fcm_vapid_details_db"),await ki("undefined"),IO(e)?e:null}function IO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-messaging-database",kO=1,uo="firebase-messaging-store";let Pc=null;function Fw(){return Pc||(Pc=Xi(xO,kO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uo)}}})),Pc}async function PO(t){const e=$w(t),s=await(await Fw()).transaction(uo).objectStore(uo).get(e);if(s)return s;{const i=await CO(t.appConfig.senderId);if(i)return await Vf(t,i),i}}async function Vf(t,e){const n=$w(t),i=(await Fw()).transaction(uo,"readwrite");return await i.objectStore(uo).put(e,n),await i.done,e}function $w({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Pt=new Es("messaging","Messaging",AO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(t,e){const n=await Wf(t),s=Bw(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(Hf(t.appConfig),i)).json()}catch(o){throw Pt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Pt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Pt.create("token-subscribe-no-token");return r.token}async function OO(t,e){const n=await Wf(t),s=Bw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${Hf(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Pt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Pt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Pt.create("token-update-no-token");return r.token}async function NO(t,e){const s={method:"DELETE",headers:await Wf(t)};try{const r=await(await fetch(`${Hf(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Pt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Pt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Hf({projectId:t}){return`${_O}/projects/${t}/registrations`}async function Wf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Bw({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==Lw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=7*24*60*60*1e3;async function LO(t){const e=await FO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:xn(e.getKey("auth")),p256dh:xn(e.getKey("p256dh"))},s=await PO(t.firebaseDependencies);if(s){if($O(s.subscriptionOptions,n))return Date.now()>=s.createTime+MO?DO(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await NO(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return Lm(t.firebaseDependencies,n)}else return Lm(t.firebaseDependencies,n)}async function DO(t,e){try{const n=await OO(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Vf(t.firebaseDependencies,s),n}catch(n){throw n}}async function Lm(t,e){const s={token:await RO(t,e),createTime:Date.now(),subscriptionOptions:e};return await Vf(t,s),s.token}async function FO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:EO(e)})}function $O(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return BO(e,t),UO(e,t),jO(e,t),e}function BO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function UO(t,e){e.data&&(t.data=e.data)}function jO(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){return typeof t=="object"&&!!t&&Dw in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){if(!t||!t.options)throw Ac("App Configuration Object");if(!t.name)throw Ac("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Ac(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ac(t){return Pt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WO=class{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=HO(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t){try{t.swRegistration=await navigator.serviceWorker.register(vO,{scope:yO}),t.swRegistration.update().catch(()=>{}),await qO(t.swRegistration)}catch(e){throw Pt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function qO(t){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Om} ms`)),Om),i=t.installing||t.waiting;t.active?(clearTimeout(s),e()):i?i.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){if(!e&&!t.swRegistration&&await zO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Lw)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(t,e){if(!navigator)throw Pt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Pt.create("permission-blocked");return await KO(t,e==null?void 0:e.vapidKey),await GO(t,e==null?void 0:e.serviceWorkerRegistration),LO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e,n){const s=JO(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[Dw],message_name:n[wO],message_time:n[bO],message_device_time:Math.floor(Date.now()/1e3)})}function JO(t){switch(t){case co.NOTIFICATION_CLICKED:return"notification_open";case co.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===co.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Dm(n)):t.onMessageHandler.next(Dm(n)));const s=n.data;VO(s)&&s[SO]==="1"&&await YO(t,n.messageType,s)}const Fm="@firebase/messaging",$m="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=t=>{const e=new WO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>XO(e,n)),e},ZO=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>Uw(e,s)}};function eN(){Zt(new Wt("messaging",QO,"PUBLIC")),Zt(new Wt("messaging-internal",ZO,"PRIVATE")),Vt(Fm,$m),Vt(Fm,$m,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e){if(!navigator)throw Pt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function nN(t,e){return t=Ze(t),Uw(t,e)}function sN(t,e){return t=Ze(t),tN(t,e)}eN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iN="https://fcmregistrations.googleapis.com/v1",Vw="FCM_MSG",rN="google.c.a.c_id",oN=3,aN=1;var Wa;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Wa||(Wa={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var za;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(za||(za={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="fcm_token_details_db",cN=5,Bm="fcm_token_object_Store";async function uN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Rc))return null;let e=null;return(await Xi(Rc,cN,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Bm))return;const l=o.objectStore(Bm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:kn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:kn(u.auth),p256dh:kn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:kn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:kn(u.auth),p256dh:kn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:kn(u.vapidKey)}}}}}})).close(),await ki(Rc),await ki("fcm_vapid_details_db"),await ki("undefined"),dN(e)?e:null}function dN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-messaging-database",hN=1,ii="firebase-messaging-store";let Oc=null;function zf(){return Oc||(Oc=Xi(fN,hN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ii)}}})),Oc}async function qf(t){const e=Kf(t),s=await(await zf()).transaction(ii).objectStore(ii).get(e);if(s)return s;{const i=await uN(t.appConfig.senderId);if(i)return await Gf(t,i),i}}async function Gf(t,e){const n=Kf(t),i=(await zf()).transaction(ii,"readwrite");return await i.objectStore(ii).put(e,n),await i.done,e}async function pN(t){const e=Kf(t),s=(await zf()).transaction(ii,"readwrite");await s.objectStore(ii).delete(e),await s.done}function Kf({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Jt=new Es("messaging","Messaging",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e){const n=await Jf(t),s=Ww(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(Yf(t.appConfig),i)).json()}catch(o){throw Jt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Jt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Jt.create("token-subscribe-no-token");return r.token}async function vN(t,e){const n=await Jf(t),s=Ww(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${Yf(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Jt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Jt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Jt.create("token-update-no-token");return r.token}async function Hw(t,e){const s={method:"DELETE",headers:await Jf(t)};try{const r=await(await fetch(`${Yf(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Jt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Jt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Yf({projectId:t}){return`${iN}/projects/${t}/registrations`}async function Jf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Ww({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==jw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=7*24*60*60*1e3;async function _N(t){const e=await bN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:kn(e.getKey("auth")),p256dh:kn(e.getKey("p256dh"))},s=await qf(t.firebaseDependencies);if(s){if(SN(s.subscriptionOptions,n))return Date.now()>=s.createTime+yN?wN(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await Hw(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return jm(t.firebaseDependencies,n)}else return jm(t.firebaseDependencies,n)}async function Um(t){const e=await qf(t.firebaseDependencies);e&&(await Hw(t.firebaseDependencies,e.token),await pN(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function wN(t,e){try{const n=await vN(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Gf(t.firebaseDependencies,s),n}catch(n){throw n}}async function jm(t,e){const s={token:await gN(t,e),createTime:Date.now(),subscriptionOptions:e};return await Gf(t,s),s.token}async function bN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lN(e)})}function SN(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return TN(e,t),CN(e,t),IN(e,t),e}function TN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function CN(t,e){e.data&&(t.data=e.data)}function IN(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){return typeof t=="object"&&!!t&&rN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){return new Promise(e=>{setTimeout(e,t)})}async function PN(t,e){const n=AN(e,await t.firebaseDependencies.installations.getId());RN(t,n,e.productId)}function AN(t,e){var n,s;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=Wa.DISPLAY_NOTIFICATION.toString():i.message_type=Wa.DATA_MESSAGE.toString(),i.sdk_platform=oN.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=aN.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label),i}function RN(t,e,n){const s={};s.event_time_ms=Math.floor(Date.now()).toString(),s.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(s.compliance_data=ON(n)),t.logEvents.push(s)}function ON(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){var n,s;const{newSubscription:i}=t;if(!i){await Um(e);return}const r=await qf(e.firebaseDependencies);await Um(e),e.vapidKey=(s=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&s!==void 0?s:jw,await _N(e)}async function MN(t,e){const n=FN(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await PN(e,n);const s=await zw();if(BN(s))return UN(s,n);if(n.notification&&await jN(DN(n)),!!e&&e.onBackgroundMessageHandler){const i=EN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function LN(t){var e,n;const s=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[Vw];if(s){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=VN(s);if(!i)return;const r=new URL(i,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await $N(r);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await kN(3e3)),!!a)return s.messageType=za.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,a.postMessage(s)}function DN(t){const e=Object.assign({},t.notification);return e.data={[Vw]:t},e}function FN({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function $N(t){const e=await zw();for(const n of e){const s=new URL(n.url,self.location.href);if(t.host===s.host)return n}return null}function BN(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function UN(t,e){e.isFirebaseMessaging=!0,e.messageType=za.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function zw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function jN(t){var e;const{actions:n}=t,{maxActions:s}=Notification;return n&&s&&n.length>s&&console.warn(`This browser only supports ${s} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function VN(t){var e,n,s;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(s=t.notification)===null||s===void 0?void 0:s.click_action;return i||(xN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){if(!t||!t.options)throw Nc("App Configuration Object");if(!t.name)throw Nc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Nc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Nc(t){return Jt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=HN(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=t=>{const e=new WN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(MN(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(NN(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(LN(n))}),e};function qN(){Zt(new Wt("messaging-sw",zN,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(){return vy()&&await yy()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t=jd()){return GN().then(e=>{if(!e)throw Jt.create("unsupported-browser")},e=>{throw Jt.create("indexed-db-unsupported")}),Qi(Ze(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qN();const _n=vo("auth",()=>{const t=F(""),e=Ki(),n=F(!1),s=F(""),i=F(""),r=F(""),o=F({email:"",userId:"",name:""}),a=async(f,h)=>{const p=qi();switch(f){case"logout":vA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s.value="",i.value="",o.value={email:"",userId:"",name:""},e.push("/login"),console.log("Logout OK")}).catch(m=>console.log(m));break;case"login":try{const{user:m}=await hA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await fA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await wm(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=qi();console.log(f),await wm(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:s,refreshToken:i,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=KN();nN(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),sN(h,p=>{console.log("Message received. ",p)})}}}),Is={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(A(),j("div",{role:"status",class:Ne(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(A(),j("svg",{"aria-hidden":"true",class:Ne(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[E("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),E("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=E("span",{class:"sr-only"},"Loading...",-1))],2))}},YN={class:"mt-2"},JN={__name:"App",setup(t){const e=_n();Ki();const n=Q(()=>e.accessToken);F(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const s=qi(),i=F(!0),r=()=>{Mf(s,o=>{o?(console.log("User logged in"),i.value=!1):(console.log("User logged out"),e.auth("logout"))}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return Pe(()=>{r(),i.value=!1}),(o,a)=>{const l=Ss("RouterView");return A(),j(Te,null,[Ct(V(RR,null,null,512),[[Kr,n.value]]),E("main",YN,[V(l)])],64)}}};function qw(t,e){return function(){return t.apply(e,arguments)}}const{toString:XN}=Object.prototype,{getPrototypeOf:Xf}=Object,Bl=(t=>e=>{const n=XN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nn=t=>(t=t.toLowerCase(),e=>Bl(e)===t),Ul=t=>e=>typeof e===t,{isArray:ir}=Array,fo=Ul("undefined");function QN(t){return t!==null&&!fo(t)&&t.constructor!==null&&!fo(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gw=nn("ArrayBuffer");function ZN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Gw(t.buffer),e}const eM=Ul("string"),Ft=Ul("function"),Kw=Ul("number"),jl=t=>t!==null&&typeof t=="object",tM=t=>t===!0||t===!1,na=t=>{if(Bl(t)!=="object")return!1;const e=Xf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nM=nn("Date"),sM=nn("File"),iM=nn("Blob"),rM=nn("FileList"),oM=t=>jl(t)&&Ft(t.pipe),aM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ft(t.append)&&((e=Bl(t))==="formdata"||e==="object"&&Ft(t.toString)&&t.toString()==="[object FormData]"))},lM=nn("URLSearchParams"),[cM,uM,dM,fM]=["ReadableStream","Request","Response","Headers"].map(nn),hM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),ir(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function Yw(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jw=t=>!fo(t)&&t!==Fs;function Wu(){const{caseless:t}=Jw(this)&&this||{},e={},n=(s,i)=>{const r=t&&Yw(e,i)||i;na(e[r])&&na(s)?e[r]=Wu(e[r],s):na(s)?e[r]=Wu({},s):ir(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&xo(arguments[s],n);return e}const pM=(t,e,n,{allOwnKeys:s}={})=>(xo(e,(i,r)=>{n&&Ft(i)?t[r]=qw(i,n):t[r]=i},{allOwnKeys:s}),t),mM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gM=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vM=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Xf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},_M=t=>{if(!t)return null;if(ir(t))return t;let e=t.length;if(!Kw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Xf(Uint8Array)),bM=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},SM=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},EM=nn("HTMLFormElement"),TM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Vm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),CM=nn("RegExp"),Xw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};xo(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},IM=t=>{Xw(t,(e,n)=>{if(Ft(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Ft(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xM=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return ir(t)?s(t):s(String(t).split(e)),n},kM=()=>{},PM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Mc="abcdefghijklmnopqrstuvwxyz",Hm="0123456789",Qw={DIGIT:Hm,ALPHA:Mc,ALPHA_DIGIT:Mc+Mc.toUpperCase()+Hm},AM=(t=16,e=Qw.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function RM(t){return!!(t&&Ft(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const OM=t=>{const e=new Array(10),n=(s,i)=>{if(jl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const r=ir(s)?[]:{};return xo(s,(o,a)=>{const l=n(o,i+1);!fo(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},NM=nn("AsyncFunction"),MM=t=>t&&(jl(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),Zw=((t,e)=>t?setImmediate:e?((n,s)=>(Fs.addEventListener("message",({source:i,data:r})=>{i===Fs&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Fs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft(Fs.postMessage)),LM=typeof queueMicrotask<"u"?queueMicrotask.bind(Fs):typeof process<"u"&&process.nextTick||Zw,P={isArray:ir,isArrayBuffer:Gw,isBuffer:QN,isFormData:aM,isArrayBufferView:ZN,isString:eM,isNumber:Kw,isBoolean:tM,isObject:jl,isPlainObject:na,isReadableStream:cM,isRequest:uM,isResponse:dM,isHeaders:fM,isUndefined:fo,isDate:nM,isFile:sM,isBlob:iM,isRegExp:CM,isFunction:Ft,isStream:oM,isURLSearchParams:lM,isTypedArray:wM,isFileList:rM,forEach:xo,merge:Wu,extend:pM,trim:hM,stripBOM:mM,inherits:gM,toFlatObject:vM,kindOf:Bl,kindOfTest:nn,endsWith:yM,toArray:_M,forEachEntry:bM,matchAll:SM,isHTMLForm:EM,hasOwnProperty:Vm,hasOwnProp:Vm,reduceDescriptors:Xw,freezeMethods:IM,toObjectSet:xM,toCamelCase:TM,noop:kM,toFiniteNumber:PM,findKey:Yw,global:Fs,isContextDefined:Jw,ALPHABET:Qw,generateString:AM,isSpecCompliantForm:RM,toJSONObject:OM,isAsyncFn:NM,isThenable:MM,setImmediate:Zw,asap:LM};function he(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const eb=he.prototype,tb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tb[t]={value:t}});Object.defineProperties(he,tb);Object.defineProperty(eb,"isAxiosError",{value:!0});he.from=(t,e,n,s,i,r)=>{const o=Object.create(eb);return P.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),he.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const DM=null;function zu(t){return P.isPlainObject(t)||P.isArray(t)}function nb(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Wm(t,e,n){return t?t.concat(e).map(function(i,r){return i=nb(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function FM(t){return P.isArray(t)&&!t.some(zu)}const $M=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Vl(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!P.isUndefined(y[m])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(P.isDate(p))return p.toISOString();if(!l&&P.isBlob(p))throw new he("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(p)||P.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let w=p;if(p&&!y&&typeof p=="object"){if(P.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(P.isArray(p)&&FM(p)||(P.isFileList(p)||P.endsWith(m,"[]"))&&(w=P.toArray(p)))return m=nb(m),w.forEach(function(g,S){!(P.isUndefined(g)||g===null)&&e.append(o===!0?Wm([m],S,r):o===null?m:m+"[]",c(g))}),!1}return zu(p)?!0:(e.append(Wm(y,m,r),c(p)),!1)}const d=[],f=Object.assign($M,{defaultVisitor:u,convertValue:c,isVisitable:zu});function h(p,m){if(!P.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),P.forEach(p,function(w,v){(!(P.isUndefined(w)||w===null)&&i.call(e,w,P.isString(v)?v.trim():v,m,f))===!0&&h(w,m?m.concat(v):[v])}),d.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return h(t),e}function zm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Qf(t,e){this._pairs=[],t&&Vl(t,this,e)}const sb=Qf.prototype;sb.append=function(e,n){this._pairs.push([e,n])};sb.toString=function(e){const n=e?function(s){return e.call(this,s,zm)}:zm;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function BM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ib(t,e,n){if(!e)return t;const s=n&&n.encode||BM;P.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=P.isURLSearchParams(e)?e.toString():new Qf(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class qm{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(s){s!==null&&e(s)})}}const rb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UM=typeof URLSearchParams<"u"?URLSearchParams:Qf,jM=typeof FormData<"u"?FormData:null,VM=typeof Blob<"u"?Blob:null,HM={isBrowser:!0,classes:{URLSearchParams:UM,FormData:jM,Blob:VM},protocols:["http","https","file","blob","url","data"]},Zf=typeof window<"u"&&typeof document<"u",qu=typeof navigator=="object"&&navigator||void 0,WM=Zf&&(!qu||["ReactNative","NativeScript","NS"].indexOf(qu.product)<0),zM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qM=Zf&&window.location.href||"http://localhost",GM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zf,hasStandardBrowserEnv:WM,hasStandardBrowserWebWorkerEnv:zM,navigator:qu,origin:qM},Symbol.toStringTag,{value:"Module"})),ft={...GM,...HM};function KM(t,e){return Vl(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,r){return ft.isNode&&P.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function YM(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JM(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function ob(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&P.isArray(i[o])&&(i[o]=JM(i[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(s,i)=>{e(YM(s),i,n,0)}),n}return null}function XM(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const ko={transitional:rb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=P.isObject(e);if(r&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return i?JSON.stringify(ob(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return KM(e,this.formSerializer).toString();if((a=P.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),XM(e)):e}],transformResponse:[function(e){const n=this.transitional||ko.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{ko.headers[t]={}});const QM=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZM=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&QM[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Gm=Symbol("internals");function vr(t){return t&&String(t).trim().toLowerCase()}function sa(t){return t===!1||t==null?t:P.isArray(t)?t.map(sa):String(t)}function eL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const tL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lc(t,e,n,s,i){if(P.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!P.isString(e)){if(P.isString(s))return e.indexOf(s)!==-1;if(P.isRegExp(s))return s.test(e)}}function nL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function sL(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}class At{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=vr(l);if(!u)throw new Error("header name must be a non-empty string");const d=P.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=sa(a))}const o=(a,l)=>P.forEach(a,(c,u)=>r(c,u,l));if(P.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(P.isString(e)&&(e=e.trim())&&!tL(e))o(ZM(e),n);else if(P.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(n,e,s);return this}get(e,n){if(e=vr(e),e){const s=P.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return eL(i);if(P.isFunction(n))return n.call(this,i,s);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vr(e),e){const s=P.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Lc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=vr(o),o){const a=P.findKey(s,o);a&&(!n||Lc(s,s[a],a,n))&&(delete s[a],i=!0)}}return P.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||Lc(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return P.forEach(this,(i,r)=>{const o=P.findKey(s,r);if(o){n[o]=sa(i),delete n[r];return}const a=e?nL(r):String(r).trim();a!==r&&delete n[r],n[a]=sa(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&P.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Gm]=this[Gm]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=vr(o);s[a]||(sL(i,o),s[a]=!0)}return P.isArray(e)?e.forEach(r):r(e),this}}At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(At.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});P.freezeMethods(At);function Dc(t,e){const n=this||ko,s=e||n,i=At.from(s.headers);let r=s.data;return P.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function ab(t){return!!(t&&t.__CANCEL__)}function rr(t,e,n){he.call(this,t??"canceled",he.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(rr,he,{__CANCEL__:!0});function lb(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rL(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function oL(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const qa=(t,e,n=3)=>{let s=0;const i=rL(50,250);return oL(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Km=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Ym=t=>(...e)=>P.asap(()=>t(...e)),aL=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,lL=ft.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];P.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),P.isString(s)&&o.push("path="+s),P.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cb(t,e){return t&&!cL(e)?uL(t,e):e}const Jm=t=>t instanceof At?{...t}:t;function ri(t,e){e=e||{};const n={};function s(c,u,d,f){return P.isPlainObject(c)&&P.isPlainObject(u)?P.merge.call({caseless:f},c,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function i(c,u,d,f){if(P.isUndefined(u)){if(!P.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function r(c,u){if(!P.isUndefined(u))return s(void 0,u)}function o(c,u){if(P.isUndefined(u)){if(!P.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(Jm(c),Jm(u),d,!0)};return P.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);P.isUndefined(f)&&d!==a||(n[u]=f)}),n}const ub=t=>{const e=ri({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=At.from(o),e.url=ib(cb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ft.hasStandardBrowserEnv&&(s&&P.isFunction(s)&&(s=s(e)),s||s!==!1&&aL(e.url))){const c=i&&r&&lL.read(r);c&&o.set(i,c)}return e},dL=typeof XMLHttpRequest<"u",fL=dL&&function(t){return new Promise(function(n,s){const i=ub(t);let r=i.data;const o=At.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const g=At.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};lb(function($){n($),m()},function($){s($),m()},T),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(s(new he("Request aborted",he.ECONNABORTED,t,y)),y=null)},y.onerror=function(){s(new he("Network Error",he.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||rb;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new he(S,T.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&P.forEach(o.toJSON(),function(S,T){y.setRequestHeader(T,S)}),P.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=qa(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=qa(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=g=>{y&&(s(!g||g.type?new rr(null,t,y):g),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=iL(i.url);if(v&&ft.protocols.indexOf(v)===-1){s(new he("Unsupported protocol "+v+":",he.ERR_BAD_REQUEST,t));return}y.send(r||null)})},hL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof he?u:new rr(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new he(`timeout ${e} of ms exceeded`,he.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>P.asap(a),l}},pL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},mL=async function*(t,e){for await(const n of gL(t))yield*pL(n,e)},gL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Xm=(t,e,n,s)=>{const i=mL(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Hl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",db=Hl&&typeof ReadableStream=="function",vL=Hl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yL=db&&fb(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Qm=64*1024,Gu=db&&fb(()=>P.isReadableStream(new Response("").body)),Ga={stream:Gu&&(t=>t.body)};Hl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ga[e]&&(Ga[e]=P.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new he(`Response type '${e}' is not supported`,he.ERR_NOT_SUPPORT,s)})})})(new Response);const _L=async t=>{if(t==null)return 0;if(P.isBlob(t))return t.size;if(P.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(P.isArrayBufferView(t)||P.isArrayBuffer(t))return t.byteLength;if(P.isURLSearchParams(t)&&(t=t+""),P.isString(t))return(await vL(t)).byteLength},wL=async(t,e)=>{const n=P.toFiniteNumber(t.getContentLength());return n??_L(e)},bL=Hl&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=ub(t);c=c?(c+"").toLowerCase():"text";let h=hL([i,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&yL&&n!=="get"&&n!=="head"&&(y=await wL(u,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(P.isFormData(s)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){const[$,x]=Km(y,qa(Ym(l)));s=Xm(T.body,Qm,$,x)}}P.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?d:void 0});let v=await fetch(p);const g=Gu&&(c==="stream"||c==="response");if(Gu&&(a||g&&m)){const T={};["status","statusText","headers"].forEach(C=>{T[C]=v[C]});const R=P.toFiniteNumber(v.headers.get("content-length")),[$,x]=a&&Km(R,qa(Ym(a),!0))||[];v=new Response(Xm(v.body,Qm,$,()=>{x&&x(),m&&m()}),T)}c=c||"text";let S=await Ga[P.findKey(Ga,c)||"text"](v,t);return!g&&m&&m(),await new Promise((T,R)=>{lb(T,R,{data:S,headers:At.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,t,p),{cause:w.cause||w}):he.from(w,w&&w.code,t,p)}}),Ku={http:DM,xhr:fL,fetch:bL};P.forEach(Ku,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Zm=t=>`- ${t}`,SL=t=>P.isFunction(t)||t===null||t===!1,hb={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let o;if(s=n,!SL(n)&&(s=Ku[(o=String(n)).toLowerCase()],s===void 0))throw new he(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+r]=s}if(!s){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(Zm).join(`
`):" "+Zm(r[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ku};function Fc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rr(null,t)}function eg(t){return Fc(t),t.headers=At.from(t.headers),t.data=Dc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hb.getAdapter(t.adapter||ko.adapter)(t).then(function(s){return Fc(t),s.data=Dc.call(t,t.transformResponse,s),s.headers=At.from(s.headers),s},function(s){return ab(s)||(Fc(t),s&&s.response&&(s.response.data=Dc.call(t,t.transformResponse,s.response),s.response.headers=At.from(s.response.headers))),Promise.reject(s)})}const pb="1.7.9",Wl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const tg={};Wl.transitional=function(e,n,s){function i(r,o){return"[Axios v"+pb+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new he(i(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!tg[o]&&(tg[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};Wl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function EL(t,e,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new he("option "+r+" must be "+l,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+r,he.ERR_BAD_OPTION)}}const ia={assertOptions:EL,validators:Wl},ln=ia.validators;class Ws{constructor(e){this.defaults=e,this.interceptors={request:new qm,response:new qm}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ri(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&ia.assertOptions(s,{silentJSONParsing:ln.transitional(ln.boolean),forcedJSONParsing:ln.transitional(ln.boolean),clarifyTimeoutError:ln.transitional(ln.boolean)},!1),i!=null&&(P.isFunction(i)?n.paramsSerializer={serialize:i}:ia.assertOptions(i,{encode:ln.function,serialize:ln.function},!0)),ia.assertOptions(n,{baseUrl:ln.spelling("baseURL"),withXsrfToken:ln.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&P.merge(r.common,r[n.method]);r&&P.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=At.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[eg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=eg.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=ri(this.defaults,e);const n=cb(e.baseURL,e.url);return ib(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){Ws.prototype[e]=function(n,s){return this.request(ri(s||{},{method:e,url:n,data:(s||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(ri(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ws.prototype[e]=n(),Ws.prototype[e+"Form"]=n(!0)});class eh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new rr(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eh(function(i){e=i}),cancel:e}}}function TL(t){return function(n){return t.apply(null,n)}}function CL(t){return P.isObject(t)&&t.isAxiosError===!0}const Yu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yu).forEach(([t,e])=>{Yu[e]=t});function mb(t){const e=new Ws(t),n=qw(Ws.prototype.request,e);return P.extend(n,Ws.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return mb(ri(t,i))},n}const Fe=mb(ko);Fe.Axios=Ws;Fe.CanceledError=rr;Fe.CancelToken=eh;Fe.isCancel=ab;Fe.VERSION=pb;Fe.toFormData=Vl;Fe.AxiosError=he;Fe.Cancel=Fe.CanceledError;Fe.all=function(e){return Promise.all(e)};Fe.spread=TL;Fe.isAxiosError=CL;Fe.mergeConfig=ri;Fe.AxiosHeaders=At;Fe.formToJSON=t=>ob(P.isHTMLForm(t)?new FormData(t):t);Fe.getAdapter=hb.getAdapter;Fe.HttpStatusCode=Yu;Fe.default=Fe;const gb="/right_arrow.svg",th={__name:"BackLink",setup(t){const e=Ki(),n=()=>e.go(-1);return(s,i)=>(A(),j("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},i[0]||(i[0]=[E("img",{src:gb,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function ng(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function nh(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:ng(e[n])&&ng(t[n])&&Object.keys(e[n]).length>0&&nh(t[n],e[n])})}const vb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function pi(){const t=typeof document<"u"?document:{};return nh(t,vb),t}const IL={document:vb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function $t(){const t=typeof window<"u"?window:{};return nh(t,IL),t}function xL(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function kL(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ju(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function zs(){return Date.now()}function PL(t){const e=$t();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function AL(t,e){e===void 0&&(e="x");const n=$t();let s,i,r;const o=PL(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function $o(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function RL(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Mt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!RL(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&($o(t[a])&&$o(s[a])?s[a].__swiper__?t[a]=s[a]:Mt(t[a],s[a]):!$o(t[a])&&$o(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Mt(t[a],s[a])):t[a]=s[a])}}}return t}function Bo(t,e,n){t.style.setProperty(e,n)}function yb(t){let{swiper:e,targetPosition:n,side:s}=t;const i=$t(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function mn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function OL(t,e){var s,i;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((s=r.shadowRoot)==null?void 0:s.children)||[],...((i=r.assignedElements)==null?void 0:i.call(r))||[])}}function NL(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=OL(t,e))),n}function Ka(t){try{console.warn(t);return}catch{}}function Ya(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:xL(e)),n}function ML(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function LL(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function ls(t,e){return $t().getComputedStyle(t,null).getPropertyValue(e)}function Ja(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function _b(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function $c(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Xu(t,e,n){const s=$t();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function tt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function wb(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=mn(t.el,`.${s[i]}`)[0];r||(r=Ya("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function DL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const y=e.params.navigation;p=tt(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...y.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=wb(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),y=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:y}),m=tt(m),y=tt(y);const w=(v,g)=>{v&&v.addEventListener("click",g==="next"?c:l),!e.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};m.forEach(v=>w(v,"next")),y.forEach(v=>w(v,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=tt(p),m=tt(m);const y=(w,v)=>{w.removeEventListener("click",v==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>y(w,"next")),m.forEach(w=>y(w,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=tt(p),m=tt(m),e.enabled){a();return}[...p,...m].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:y,prevEl:w}=e.navigation;y=tt(y),w=tt(w);const v=m.target;let g=w.includes(v)||y.includes(v);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(T=>y.includes(T)||w.includes(T)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let S;y.length?S=y[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...y,...w].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function yr(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function FL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(v,g){const{bulletActiveClass:S}=e.params.pagination;v&&(v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${S}-${g}`),v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${S}-${g}-${g}`)))}function u(v,g,S){if(v=v%S,g=g%S,g===v+1)return"next";if(g===v-1)return"previous"}function d(v){const g=v.target.closest(yr(e.params.pagination.bulletClass));if(!g)return;v.preventDefault();const S=Ja(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=u(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const v=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=tt(S);let T,R;const $=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,x=e.params.loop?Math.ceil($/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(R=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,R=e.previousSnapIndex):(R=e.previousIndex||0,T=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let k,B,J;if(g.dynamicBullets&&(o=Xu(C[0],e.isHorizontal()?"width":"height"),S.forEach(H=>{H.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&R!==void 0&&(a+=T-(R||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),k=Math.max(T-a,0),B=k+(Math.min(C.length,g.dynamicMainBullets)-1),J=(B+k)/2),C.forEach(H=>{const te=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${g.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();H.classList.remove(...te)}),S.length>1)C.forEach(H=>{const te=Ja(H);te===T?H.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&H.setAttribute("part","bullet"),g.dynamicBullets&&(te>=k&&te<=B&&H.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),te===k&&c(H,"prev"),te===B&&c(H,"next"))});else{const H=C[T];if(H&&H.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&C.forEach((te,re)=>{te.setAttribute("part",re===T?"bullet-active":"bullet")}),g.dynamicBullets){const te=C[k],re=C[B];for(let se=k;se<=B;se+=1)C[se]&&C[se].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(te,"prev"),c(re,"next")}}if(g.dynamicBullets){const H=Math.min(C.length,g.dynamicMainBullets+4),te=(o*H-o)/2-J*o,re=v?"right":"left";C.forEach(se=>{se.style[e.isHorizontal()?re:"top"]=`${te}px`})}}S.forEach((C,k)=>{if(g.type==="fraction"&&(C.querySelectorAll(yr(g.currentClass)).forEach(B=>{B.textContent=g.formatFractionCurrent(T+1)}),C.querySelectorAll(yr(g.totalClass)).forEach(B=>{B.textContent=g.formatFractionTotal(x)})),g.type==="progressbar"){let B;g.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const J=(T+1)/x;let H=1,te=1;B==="horizontal"?H=J:te=J,C.querySelectorAll(yr(g.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${H}) scaleY(${te})`,re.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(C.innerHTML=g.renderCustom(e,T+1,x),k===0&&i("paginationRender",C)):(k===0&&i("paginationRender",C),i("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const v=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=tt(S);let T="";if(v.type==="bullets"){let R=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&R>g&&(R=g);for(let $=0;$<R;$+=1)v.renderBullet?T+=v.renderBullet.call(e,$,v.bulletClass):T+=`<${v.bulletElement} ${e.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?T=v.renderFraction.call(e,v.currentClass,v.totalClass):T=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?T=v.renderProgressbar.call(e,v.progressbarFillClass):T=`<span class="${v.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(R=>{v.type!=="custom"&&(R.innerHTML=T||""),v.type==="bullets"&&e.pagination.bullets.push(...R.querySelectorAll(yr(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=wb(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const v=e.params.pagination;if(!v.el)return;let g;typeof v.el=="string"&&e.isElement&&(g=e.el.querySelector(v.el)),!g&&typeof v.el=="string"&&(g=[...document.querySelectorAll(v.el)]),g||(g=v.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(v.el)],g.length>1&&(g=g.find(S=>_b(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=tt(g),g.forEach(S=>{v.type==="bullets"&&v.clickable&&S.classList.add(...(v.clickableClass||"").split(" ")),S.classList.add(v.modifierClass+v.type),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.classList.add(v.progressbarOppositeClass),v.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(v.lockClass)}))}function m(){const v=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=tt(g),g.forEach(S=>{S.classList.remove(v.hiddenClass),S.classList.remove(v.modifierClass+v.type),S.classList.remove(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(S.classList.remove(...(v.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...v.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const v=e.params.pagination;let{el:g}=e.pagination;g=tt(g),g.forEach(S=>{S.classList.remove(v.horizontalClass,v.verticalClass),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?w():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(v,g)=>{const S=g.target,T=tt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const R=T[0].classList.contains(e.params.pagination.hiddenClass);i(R===!0?"paginationShow":"paginationHide"),T.forEach($=>$.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:w,render:h,update:f,init:p,destroy:m})}function bb(t){let{swiper:e,extendParams:n,emit:s,once:i}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:zs()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,y=zs()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const x=p.velocities.pop(),C=p.velocities.pop(),k=x.position-C.position,B=x.time-C.time;e.velocity=k/B,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(B>150||zs()-x.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const v=e.velocity*w;let g=e.translate+v;f&&(g=-g);let S=!1,T;const R=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let $;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-R&&(g=e.maxTranslate()-R),T=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&($=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>R&&(g=e.minTranslate()+R),T=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&($=!0);else if(u.freeMode.sticky){let x;for(let C=0;C<h.length;C+=1)if(h[C]>-g){x=C;break}Math.abs(h[x]-g)<Math.abs(h[x-1]-g)||e.swipeDirection==="next"?g=h[x]:g=h[x-1],g=-g}if($&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-g-e.translate)/e.velocity):w=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const x=Math.abs((f?-g:g)-e.translate),C=e.slidesSizesGrid[e.activeIndex];x<C?w=u.speed:x<2*C?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(T),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,$c(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(s("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),$c(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,$c(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&s("_freeModeNoMomentumRelease");(!u.freeMode.momentum||y>=u.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Bc;function $L(){const t=$t(),e=pi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Sb(){return Bc||(Bc=$L()),Bc}let Uc;function BL(t){let{userAgent:e}=t===void 0?{}:t;const n=Sb(),s=$t(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Eb(t){return t===void 0&&(t={}),Uc||(Uc=BL(t)),Uc}let jc;function UL(){const t=$t(),e=Eb();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function jL(){return jc||(jc=UL()),jc}function VL(t){let{swiper:e,on:n,emit:s}=t;const i=$t();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(y=>{let{contentBoxSize:w,contentRect:v,target:g}=y;g&&g!==e.el||(p=v?v.width:(w[0]||w).inlineSize,m=v?v.height:(w[0]||w).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function HL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=$t(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=_b(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var WL={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function zL(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ls(s,"padding-left")||0,10)-parseInt(ls(s,"padding-right")||0,10),n=n-parseInt(ls(s,"padding-top")||0,10)-parseInt(ls(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function qL(){const t=this;function e(k,B){return parseFloat(k.getPropertyValue(t.getDirectionLabel(B))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=mn(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,v=t.slidesGrid.length;let g=n.spaceBetween,S=-m,T=0,R=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(k=>{o?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Bo(s,"--swiper-centered-offset-before",""),Bo(s,"--swiper-centered-offset-after",""));const $=n.grid&&n.grid.rows>1&&t.grid;$?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let x;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<d;k+=1){x=0;let B;if(u[k]&&(B=u[k]),$&&t.grid.updateSlide(k,B,u),!(u[k]&&ls(B,"display")==="none")){if(n.slidesPerView==="auto"){C&&(u[k].style[t.getDirectionLabel("width")]="");const J=getComputedStyle(B),H=B.style.transform,te=B.style.webkitTransform;if(H&&(B.style.transform="none"),te&&(B.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?Xu(B,"width"):Xu(B,"height");else{const re=e(J,"width"),se=e(J,"padding-left"),ie=e(J,"padding-right"),we=e(J,"margin-left"),mt=e(J,"margin-right"),Et=J.getPropertyValue("box-sizing");if(Et&&Et==="border-box")x=re+we+mt;else{const{clientWidth:me,offsetWidth:ge}=B;x=re+se+ie+we+mt+(ge-me)}}H&&(B.style.transform=H),te&&(B.style.webkitTransform=te),n.roundLengths&&(x=Math.floor(x))}else x=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),u[k]&&(u[k].style[t.getDirectionLabel("width")]=`${x}px`);u[k]&&(u[k].swiperSlideSize=x),p.push(x),n.centeredSlides?(S=S+x/2+T/2+g,T===0&&k!==0&&(S=S-r/2-g),k===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),R%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+x+g),t.virtualSize+=x+g,T=x,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),$&&t.grid.updateWrapperSize(x,f),!n.centeredSlides){const k=[];for(let B=0;B<f.length;B+=1){let J=f[B];n.roundLengths&&(J=Math.floor(J)),f[B]<=t.virtualSize-r&&k.push(J)}f=k,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const k=p[0]+g;if(n.slidesPerGroup>1){const B=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),J=k*n.slidesPerGroup;for(let H=0;H<B;H+=1)f.push(f[f.length-1]+J)}for(let B=0;B<t.virtual.slidesBefore+t.virtual.slidesAfter;B+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+k),h.push(h[h.length-1]+k),t.virtualSize+=k}if(f.length===0&&(f=[0]),g!==0){const k=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((B,J)=>!n.cssMode||n.loop?!0:J!==u.length-1).forEach(B=>{B.style[k]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const B=k>r?k-r:0;f=f.map(J=>J<=0?-m:J>B?B+y:J)}if(n.centerInsufficientSlides){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const B=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+B<r){const J=(r-k-B)/2;f.forEach((H,te)=>{f[te]=H-J}),h.forEach((H,te)=>{h[te]=H+J})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Bo(s,"--swiper-centered-offset-before",`${-f[0]}px`),Bo(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const k=-t.snapGrid[0],B=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(J=>J+k),t.slidesGrid=t.slidesGrid.map(J=>J+B)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,B=t.el.classList.contains(k);d<=n.maxBackfaceHiddenSlides?B||t.el.classList.add(k):B&&t.el.classList.remove(k)}}function GL(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function KL(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const sg=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function YL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),sg(c,y,n.slideVisibleClass),sg(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function JL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Vc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function XL(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>mn(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=LL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=ML(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Vc(d,d===l,n.slideActiveClass),Vc(d,d===u,n.slideNextClass),Vc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ra=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Hc=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Qu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Hc(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&Hc(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&Hc(t,o)};function QL(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function ZL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=QL(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&Qu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function eD(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var tD={updateSize:zL,updateSlides:qL,updateAutoHeight:GL,updateSlidesOffset:KL,updateSlidesProgress:YL,updateProgress:JL,updateSlidesClasses:XL,updateActiveIndex:ZL,updateClickedSlide:eD};function nD(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=AL(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function sD(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function iD(){return-this.snapGrid[0]}function rD(){return-this.snapGrid[this.snapGrid.length-1]}function oD(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return yb({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var aD={getTranslate:nD,setTranslate:sD,minTranslate:iD,maxTranslate:rD,translateTo:oD};function lD(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Tb(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function cD(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Tb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function uD(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Tb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var dD={setTransition:lD,transitionStart:cD,transitionEnd:uD};function fD(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const w=-l[y];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const R=-Math.floor(w*100),$=Math.floor(c[T]*100),x=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?R>=$&&R<x-(x-$)/2?o=T:R>=$&&R<x&&(o=T+1):R>=$&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let v;o>d?v="next":o<d?v="prev":v="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&i)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(a.cssMode){const T=r.isHorizontal(),R=f?w:-w;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[T?"scrollLeft":"scrollTop"]=R})):h[T?"scrollLeft":"scrollTop"]=R,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return yb({swiper:r,targetPosition:R,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:R,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,v),e===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(R){!r||r.destroyed||R.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function hD(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function pD(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function mD(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const h=f(d),p=r.map(w=>f(w));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let w;r.forEach((v,g)=>{h>=v&&(w=g)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let y=0;if(typeof m<"u"&&(y=o.indexOf(m),y<0&&(y=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&s.isBeginning){const w=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(w,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,e,n)}),!0;return s.slideTo(y,t,e,n)}function gD(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function vD(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function yD(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(mn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),Ju(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(mn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),Ju(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var _D={slideTo:fD,slideToLoop:hD,slideNext:pD,slidePrev:mD,slideReset:gD,slideToClosest:vD,slideToClickedSlide:yD};function wD(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{mn(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?Ya("swiper-slide",[n.slideBlankClass]):Ya("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else Ka("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Ka("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function bD(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const y=h.slidesPerGroupAuto?m:h.slidesPerGroup;let w=y;w%y!==0&&(w+=y-w%y),w+=h.loopAdditionalSlides,l.loopedSlides=w;const v=l.grid&&h.grid&&h.grid.rows>1;c.length<m+w?Ka("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&h.grid.fill==="row"&&Ka("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(H=>H.classList.contains(h.slideActiveClass))):T=r;const R=s==="next"||!s,$=s==="prev"||!s;let x=0,C=0;const k=v?Math.ceil(c.length/h.grid.rows):c.length,J=(v?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(J<w){x=Math.max(w-J,y);for(let H=0;H<w-J;H+=1){const te=H-Math.floor(H/k)*k;if(v){const re=k-te-1;for(let se=c.length-1;se>=0;se-=1)c[se].column===re&&g.push(se)}else g.push(k-te-1)}}else if(J+m>k-w){C=Math.max(J-(k-w*2),y);for(let H=0;H<C;H+=1){const te=H-Math.floor(H/k)*k;v?c.forEach((re,se)=>{re.column===te&&S.push(se)}):S.push(te)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),$&&g.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.prepend(c[H]),c[H].swiperLoopMoveDOM=!1}),R&&S.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.append(c[H]),c[H].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():v&&(g.length>0&&$||S.length>0&&R)&&l.slides.forEach((H,te)=>{l.grid.updateSlide(te,H,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&$){if(typeof e>"u"){const H=l.slidesGrid[T],re=l.slidesGrid[T+x]-H;a?l.setTranslate(l.translate-re):(l.slideTo(T+Math.ceil(x),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else if(i){const H=v?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+H,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&R)if(typeof e>"u"){const H=l.slidesGrid[T],re=l.slidesGrid[T-C]-H;a?l.setTranslate(l.translate-re):(l.slideTo(T-C,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else{const H=v?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-H,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const H={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(te=>{!te.destroyed&&te.params.loop&&te.loopFix({...H,slideTo:te.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...H,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function SD(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var ED={loopCreate:wD,loopFix:bD,loopDestroy:SD};function TD(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CD(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var ID={setGrabCursor:TD,unsetGrabCursor:CD};function xD(t,e){e===void 0&&(e=this);function n(s){if(!s||s===pi()||s===$t())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function ig(t,e,n){const s=$t(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function kD(t){const e=this,n=pi();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){ig(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!NL(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?xD(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!ig(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=zs(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const y=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function PD(t){const e=pi(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=zs());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const w=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(w&&v&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&y!==n.touchesDirection&&w&&v&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let g=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(w&&v&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**S))):p<0&&(w&&v&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function AD(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(T=>T.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=zs(),f=d-n.touchStartTime;if(e.allowClick){const T=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(T&&T[0]||s.target,T),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=zs(),Ju(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,y=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+R]<"u"?(p||h>=c[T]&&h<c[T+R])&&(m=T,y=c[T+R]-c[T]):(p||h>=c[T])&&(m=T,y=c[c.length-1]-c[c.length-2])}let w=null,v=null;o.rewind&&(e.isBeginning?v=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(h-c[m])/y,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):v!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(v):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+S),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:m))}}function rg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function RD(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function OD(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function ND(t){const e=this;ra(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function MD(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Cb=(t,e)=>{const n=pi(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",rg,!0):t[c]("observerUpdate",rg,!0),i[l]("load",t.onLoad,{capture:!0}))};function LD(){const t=this,{params:e}=t;t.onTouchStart=kD.bind(t),t.onTouchMove=PD.bind(t),t.onTouchEnd=AD.bind(t),t.onDocumentTouchStart=MD.bind(t),e.cssMode&&(t.onScroll=OD.bind(t)),t.onClick=RD.bind(t),t.onLoad=ND.bind(t),Cb(t,"on")}function DD(){Cb(this,"off")}var FD={attachEvents:LD,detachEvents:DD};const og=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $D(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=pi(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=og(t,s),h=og(t,d),p=t.params.grabCursor,m=d.grabCursor,y=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof d[R]>"u")return;const $=s[R]&&s[R].enabled,x=d[R]&&d[R].enabled;$&&!x&&t[R].disable(),!$&&x&&t[R].enable()});const w=d.direction&&d.direction!==s.direction,v=s.loop&&(d.slidesPerView!==s.slidesPerView||w),g=s.loop;w&&n&&t.changeDirection(),Mt(t.params,d);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!S?t.disable():!y&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&T?(t.loopCreate(e),t.updateSlides()):g&&!T&&t.loopDestroy()),t.emit("breakpoint",d)}function BD(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=$t(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var UD={setBreakpoint:$D,getBreakpoint:BD};function jD(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function VD(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=jD(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function HD(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var WD={addClasses:VD,removeClasses:HD};function zD(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var qD={checkOverflow:zD},Zu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function GD(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){Mt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Mt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Mt(e,s)}}const Wc={eventsEmitter:WL,update:tD,translate:aD,transition:dD,slide:_D,loop:ED,grabCursor:ID,events:FD,breakpoints:UD,checkOverflow:qD,classes:WD},zc={};let sh=class Cn{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Mt({},n),e&&!n.el&&(n.el=e);const o=pi();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Mt({},n,{el:d});u.push(new Cn(f))}),u}const a=this;a.__swiper__=!0,a.support=Sb(),a.device=Eb({userAgent:n.userAgent}),a.browser=jL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:GD(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Mt({},Zu,l);return a.params=Mt({},c,zc,n),a.originalParams=Mt({},a.params),a.passedParams=Mt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=mn(n,`.${s.slideClass}, swiper-slide`),r=Ja(i[0]);return Ja(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=mn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ra(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):mn(s,i())[0];return!o&&n.params.createElements&&(o=Ya("div",n.params.wrapperClass),s.append(o),mn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||ls(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||ls(s,"direction")==="rtl"),wrongRTL:ls(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?ra(n,r):r.addEventListener("load",o=>{ra(n,o.target)})}),Qu(n),n.initialized=!0,Qu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),kL(s)),s.destroyed=!0),null}static extendDefaults(e){Mt(zc,e)}static get extendedDefaults(){return zc}static get defaults(){return Zu}static installModule(e){Cn.prototype.__modules__||(Cn.prototype.__modules__=[]);const n=Cn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Cn.installModule(n)),Cn):(Cn.installModule(e),Cn)}};Object.keys(Wc).forEach(t=>{Object.keys(Wc[t]).forEach(e=>{sh.prototype[e]=Wc[t][e]})});sh.use([VL,HL]);const Ib=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function oi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Mi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:oi(e[s])&&oi(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Mi(t[s],e[s]):t[s]=e[s]})}function xb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function kb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Pb(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Ab(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function KD(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function YD(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let y,w,v,g,S,T,R,$;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(v=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const x=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?T=!0:!u.loop&&s.loop?R=!0:$=!0),c.forEach(C=>{if(oi(u[C])&&oi(s[C]))Object.assign(u[C],s[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in s[C]&&!s[C].enabled&&x(C);else{const k=s[C];(k===!0||k===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?k===!1&&x(C):u[C]=s[C]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&($=!0),y&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(T||$)&&e.loopDestroy(),(R||$)&&e.loopCreate(),e.update()}function ag(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};Mi(n,Zu),n._emitClasses=!0,n.init=!1;const r={},o=Ib.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?oi(t[l])?(n[l]={},i[l]={},Mi(n[l],t[l]),Mi(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function JD(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;xb(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),kb(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Pb(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function XD(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return Ib.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(oi(t[l])&&oi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const QD=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function qc(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function ZD(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return Ee(u.type,{...u.props},u.children);if(u.componentOptions)return Ee(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const ih={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=F("swiper"),a=F(null),l=F(!1),c=F(!1),u=F(null),d=F(null),f=F(null),h={value:[]},p={value:[]},m=F(null),y=F(null),w=F(null),v=F(null),{params:g,passedParams:S}=ag(t);qc(n,h,p),f.value=S,p.value=h.value;const T=()=>{qc(n,h,p),l.value=!0};g.onAny=function(x){for(var C=arguments.length,k=new Array(C>1?C-1:0),B=1;B<C;B++)k[B-1]=arguments[B];s(x,...k)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(x,C){o.value=C}});const R={...g};if(delete R.wrapperClass,d.value=new sh(R),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const x={cache:!1,slides:h.value,renderExternal:C=>{a.value=C},renderExternalUpdate:!1};Mi(d.value.params.virtual,x),Mi(d.value.originalParams.virtual,x)}wd(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:x}=ag(t),C=XD(x,f.value,h.value,p.value,k=>k.props&&k.props.key);f.value=x,(C.length||l.value)&&d.value&&!d.value.destroyed&&YD({swiper:d.value,slides:h.value,passedParams:x,changedParams:C,nextEl:m.value,prevEl:y.value,scrollbarEl:v.value,paginationEl:w.value}),l.value=!1}),ht("swiper",d),ot(a,()=>{Gi(()=>{QD(d.value)})}),Pe(()=>{u.value&&(JD({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:w.value,scrollbarEl:v.value,swiper:d.value},g),s("swiper",d.value))}),bd(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function $(x){return g.virtual?ZD(d,x,a.value):(x.forEach((C,k)=>{C.props||(C.props={}),C.props.swiperRef=d,C.props.swiperSlideIndex=k}),x)}return()=>{const{slides:x,slots:C}=qc(n,h,p);return Ee(i,{ref:u,class:Ab(o.value)},[C["container-start"],Ee(r,{class:KD(g.wrapperClass)},[C["wrapper-start"],$(x),C["wrapper-end"]]),xb(t)&&[Ee("div",{ref:y,class:"swiper-button-prev"}),Ee("div",{ref:m,class:"swiper-button-next"})],Pb(t)&&Ee("div",{ref:v,class:"swiper-scrollbar"}),kb(t)&&Ee("div",{ref:w,class:"swiper-pagination"}),C["container-end"]])}}},rh={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=F(null),o=F("swiper-slide"),a=F(!1);function l(d,f,h){f===r.value&&(o.value=h)}Pe(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),_d(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),wd(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),bd(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=Q(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));ht("swiperSlide",c);const u=()=>{a.value=!0};return()=>Ee(t.tag,{class:Ab(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Ee("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})])}},eF={class:"relative"},tF=["src","alt"],nF={class:"text-xs mb-1"},Rb={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(A(),j("div",eF,[V(D(go),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:ee(()=>[E("div",{class:Ne(["mb-1 image bg-contain",t.size])},[E("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,tF)],2),E("h3",nF,ae(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},Ob={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[bb];return(n,s)=>(A(),pe(D(ih),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(A(!0),j(Te,null,Bn(t.films,i=>(A(),pe(D(rh),{key:i.kinopoiskId?i.kinopoiskId:i.filmId,class:"flex-1"},{default:ee(()=>[V(Rb,{film:i},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},zl={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,s)=>(A(),j("div",{class:"fixed bottom-20 right-7 inline-block bg-gray-900 bg-opacity-50 p-2 rounded-md z-50 mb-1 cursor-pointer",onClick:e},s[0]||(s[0]=[E("img",{src:gb,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},sF={class:"flex justify-between mb-3 pt-0.5"},iF={class:"text-lg"},ys={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(A(),j("div",sF,[E("h2",iF,ae(t.title),1),t.showAll?(A(),pe(D(go),{key:0,to:{name:t.link},class:"text-orange-600 flex gap-1.5 pt-1"},{default:ee(()=>n[0]||(n[0]=[E("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):Le("",!0)]))}},rF={class:"w-20 h-20 rounded-full flex items-center overflow-hidden mb-1"},oF=["src","alt"],aF={class:"text-xs mb-1"},lF={key:0,class:"text-xs mb-1 text-gray-500"},cF={key:1,class:"text-xs mb-1 text-gray-500"},uF={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>(A(),j("div",null,[E("div",rF,[E("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,oF)]),E("h3",aF,ae(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(A(),j("h3",lF,"Режиссер")):Le("",!0),t.staffItem.description?(A(),j("h3",cF,ae(t.staffItem.description),1)):Le("",!0)]))}},dF={__name:"StaffList",props:{staffList:Array},setup(t){const e=[bb];return(n,s)=>(A(),pe(D(ih),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(A(!0),j(Te,null,Bn(t.staffList.slice(0,10),i=>(A(),pe(D(rh),{key:i.staffId,class:"flex-1"},{default:ee(()=>[V(uF,{staffItem:i},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},oh=vo("favoritesStore",()=>{const t=F([]),e=If(),n=qi();return{favorites:t,getFavorites:()=>{Mf(n,o=>{if(o){console.log(o);const a=L_(as(e,`users/${o.uid}/favorites`),M_("date"));N_(a,l=>{const c=[];l.forEach(u=>{c.push(u.val())}),t.value=c.reverse(),console.log(t.value)},l=>{console.log(l)})}else console.log("User logged out")})},addToFavorites:(o,a)=>{const l=new Date().getTime();o.isFavorite=!0,Tf(as(e,"users/"+n.currentUser.uid+"/favorites/"+a),{nameRu:o.nameRu?o.nameRu:o.nameOriginal,genres:o.genres,year:o.year,posterUrl:o.posterUrl,id:+a,isFavorite:!0,isWatched:!1,date:l}).then(()=>console.log("Добавлено")).catch(c=>console.log(c))},removeFromFavorites:(o,a)=>{o&&(o.isFavorite=!1),Fu(as(e,"users/"+n.currentUser.uid+"/favorites/"+a)).then(()=>console.log("Удалено")).catch(l=>console.log(l))}}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fF=t=>typeof t<"u";function hF(t){return JSON.parse(JSON.stringify(t))}function pF(t,e,n,s={}){var i,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=s,h=ci(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const y=g=>a?typeof a=="function"?a(g):hF(g):g,w=()=>fF(t[e])?y(t[e]):d,v=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=w(),S=F(g);let T=!1;return ot(()=>t[e],R=>{T||(T=!0,S.value=y(R),Gi(()=>T=!1))}),ot(S,R=>{!T&&(R!==t[e]||u)&&v(R)},{deep:u}),S}else return Q({get(){return w()},set(g){v(g)}})}const mF=t=>(qS("data-v-8a63990a"),t=t(),GS(),t),gF=mF(()=>E("div",{class:"swipe-modal-drag-handle"},null,-1)),vF=Ye({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){ZE(x=>({ef0a5750:D(a)}));const n=t,s=e,i=F(null),r=F(null),o=pF(n,"modelValue",s),a=F("-100%"),l=F(!1),c=F(0),u=F(0),d=F("close"),f=Q(()=>{var x;return n.snapPoint?n.snapPoint==="auto"?`calc(${((x=r.value)==null?void 0:x.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:x,touchEvent:C,eventType:k})=>{k==="mouse"?c.value=x.y:c.value=C.touches[0].clientY,l.value=!0},p=({mouseEvent:x,touchEvent:C,eventType:k})=>{var B,J;if(l.value&&(k==="mouse"?u.value=c.value-x.y:u.value=c.value-C.touches[0].clientY,!(u.value>0&&d.value==="full"||(((B=i.value)==null?void 0:B.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(J=i.value)==null||J.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var x;if(l.value=!1,(x=i.value)==null||x.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?w():n.isPersistent?y():o.value=!1;case"snap":return n.isPersistent?y():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?v():y();default:return}}return y()},y=()=>{if(!i.value)return;const x=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";i.value.animate([{bottom:a.value},{bottom:x()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=x()}},w=()=>{i.value&&n.snapPoint&&(i.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},v=()=>{i.value&&(i.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=x=>{if(n.isBackdrop&&x.target===x.currentTarget){if(n.isPersistent)return y();o.value=!1}},S=x=>{x.stopPropagation()},T=()=>{var x;i.value&&(n.isBackdrop?i.value.showModal():i.value.show(),(x=i.value)==null||x.style.setProperty("visibility","visible"),i.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&$("hidden")})},R=()=>{i.value&&(i.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var x,C,k;a.value="-100%",d.value="close",l.value=!1,(x=i.value)==null||x.close(),(C=i.value)==null||C.style.setProperty("display","initial"),(k=i.value)==null||k.style.setProperty("visibility","hidden"),$("reset")})},$=x=>{if(x==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let C=window,k,B,J;document.defaultView?(C=document.defaultView,k=C.scrollX,B=C.scrollY):(J=document.documentElement,k=J.scrollLeft,B=J.scrollTop),document.documentElement.style.overflow=x,document.documentElement.style.overscrollBehaviorY=x==="auto"?"auto":"none",C.scrollTo(k,B)};return ot(()=>o.value,x=>{x?T():R()}),ot(()=>n.isScrollLock,x=>{$(x?"hidden":"auto")}),Pe(()=>{i.value&&(o.value||(i.value.style.setProperty("display","initial"),i.value.style.setProperty("visibility","hidden")))}),(x,C)=>(A(),j("dialog",{ref_key:"modalRef",ref:i,class:"swipe-modal modal-style",onClick:g},[E("div",{tabindex:"-1",class:"swipe-modal-content",onClick:S},[E("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:C[0]||(C[0]=k=>h({mouseEvent:k,eventType:"mouse"})),onMousemove:C[1]||(C[1]=k=>p({mouseEvent:k,eventType:"mouse"})),onMouseup:m,onTouchstart:C[2]||(C[2]=k=>h({touchEvent:k,eventType:"touch"})),onTouchmove:C[3]||(C[3]=k=>p({touchEvent:k,eventType:"touch"})),onTouchend:m},[x.isDragHandle?un(x.$slots,"drag-handle",{key:0},()=>[gF],!0):Le("",!0)],32),E("div",{ref_key:"panelRef",ref:r,class:"panel"},[un(x.$slots,"default",{},void 0,!0)],512)])],512))}}),yF=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Nb=yF(vF,[["__scopeId","data-v-8a63990a"]]),_F={class:"px-2 pb-8 text-sm text-white"},wF=Ye({__name:"Swiper",props:{openText:{type:String,required:!0},shortDescription:{type:String,required:!1},description:{type:String,required:!1}},setup(t){const e=F(!1);return(n,s)=>(A(),j(Te,null,[E("p",{class:"text-orange-600 text-sm text-end",onClick:s[0]||(s[0]=i=>e.value=!0)},ae(t.openText),1),V(D(Nb),{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=i=>e.value=i),snapPoint:"auto",isScrollLock:!0},{default:ee(()=>[E("div",_F,ae(t.description),1)]),_:1},8,["modelValue"])],64))}}),ql=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},bF=ql(wF,[["__scopeId","data-v-5e5c2098"]]),SF={key:1,class:"bg-black"},EF={class:"flex justify-center fixed -z-10 -mt-96 pt-5"},TF=["src","alt"],CF={class:"container mt-96 mx-auto pb-4 relative"},IF={class:"fixed z-50 top-4 left-4"},xF={class:"flex flex-col gap-2 w-full justify-between"},kF={class:"text-xl mb-2 text-center"},PF={class:"w-full flex items-end justify-around p-2"},AF={key:0,class:"text-sm"},RF={key:1,class:"text-sm"},OF={key:2,class:"text-slate-300 text-sm"},NF={key:3,class:"text-yellow-500 text-sm font-semibold"},MF={key:4,class:"text-orange-500 text-sm font-semibold"},LF={key:5,class:"text-white text-sm font-semibold"},DF={class:"self-center"},FF={class:"text-slate-400 text-sm text-center mb-2"},$F={class:"text-slate-400 mb-1 text-sm text-center"},BF={class:"flex items-center justify-around bg-gradient-to-r from-gray-900 via-orange-800 to-fray-400 bg-opacity-10 mx-1 rounded-sm"},UF=["href"],jF={class:"container p-2"},VF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},HF={class:"py-4"},WF={class:"text-sm font-bold mb-2"},zF={class:"flex flex-col items-center justify-center bg-slate-600 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},qF={key:0,class:"text-md text-slate-600 font-bold"},GF={class:"text-sm text-center mb-2"},KF=["href"],YF={key:0,class:"container p-2"},JF={__name:"Item",setup(t){const e=oh(),n=F(!0),i=TT().params.id,r=F({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),o=F([]),a=F([]),l=F(!1),c=async h=>{const{data:p}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${h}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}}),m=e.favorites.find(y=>y.id===+h);console.log(m),m?r.value={...p,isFavorite:!0}:r.value={...p,isFavorite:!1},console.log(r.value)},u=async h=>{const{data:p}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${h}/similars`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});o.value=p.items},d=async h=>{const{data:p}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${h}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});a.value=p},f=h=>{n.value=!0,c(h),u(h),d(h),n.value=!1};return Pe(()=>{e.getFavorites(),f(i)}),mT((h,p)=>{h.params.id!==p.params.id&&(f(h.params.id),l.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),vl({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(h,p)=>{const m=Ss("metainfo");return A(),j(Te,null,[V(m,null,{title:ee(()=>[Me(ae(r.value.nameRu),1)]),meta:ee(()=>[Me(ae(r.value.shortDescription?r.value.shortDescription:r.value.description),1)]),_:1}),n.value?(A(),pe(Is,{key:0,"full-screen":!0})):(A(),j("main",SF,[E("div",EF,[E("img",{class:"w-1/2",src:r.value.posterUrl,alt:r.value.nameRu?r.value.nameRu:r.value.nameOriginal},null,8,TF)]),E("section",CF,[p[2]||(p[2]=E("div",{class:"absolute -top-20 bg-gradient-to-t from-black to-transparent w-full h-20 z-30"},null,-1)),E("div",IF,[V(th)]),E("div",xF,[E("h1",kF,ae(r.value.nameRu?r.value.nameRu:r.value.nameOriginal),1),E("div",PF,[r.value.startYear?(A(),j("div",AF,ae(r.value.startYear)+"-"+ae(r.value.endYear?r.value.endYear:"н.в."),1)):(A(),j("div",RF,ae(r.value.year),1)),r.value.filmLength?(A(),j("div",OF,ae(r.value.filmLength)+" мин. ",1)):Le("",!0),r.value.has3D?(A(),j("div",NF," 3D ")):(A(),j("div",MF," 2D ")),r.value.ratingAgeLimits?(A(),j("div",LF,ae(r.value.ratingAgeLimits.split("age")[1])+"+ ",1)):Le("",!0)]),E("div",DF,[E("div",FF,[E("p",{class:Ne([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-700":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-300":"text-red-500":"text-slate-300","mb-1 font-bold text-xl"])},ae(r.value.ratingKinopoisk?r.value.ratingKinopoisk:"нет рейтинга"),3),Me(" "+ae(r.value.genres.reduce((y,w)=>y+" "+w.genre,""))+" ",1),E("p",$F,ae(r.value.countries.reduce((y,w)=>y+" "+w.country,"")),1)])]),E("div",BF,[E("div",{class:"p-2 flex flex-col items-center justify-center",onClick:p[0]||(p[0]=y=>r.value.isFavorite?D(e).removeFromFavorites(r.value,D(i)):D(e).addToFavorites(r.value,D(i)))},[V(D(Md),{class:Ne(["w-6",r.value.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),p[1]||(p[1]=E("span",{class:"text-xs text-center"},[Me("Буду "),E("br"),Me("смотреть")],-1))]),E("a",{href:r.value.webUrl,class:"my-2 text-sm rounded-full bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,UF)])])]),E("section",jF,[V(ys,{title:"Актеры и съемочная группа"}),V(dF,{"staff-list":a.value},null,8,["staff-list"])]),E("section",null,[E("div",VF,[E("div",HF,[E("p",WF,ae(r.value.shortDescription),1),r.value.shortDescription?(A(),pe(bF,{key:0,"open-text":"Подробнее","short-description":r.value.shortDescription,description:r.value.description},null,8,["short-description","description"])):Le("",!0)]),p[3]||(p[3]=E("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),E("div",zF,[r.value.ratingKinopoisk?(A(),j("span",{key:1,class:Ne([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ae(r.value.ratingKinopoisk),3)):(A(),j("span",qF,"нет рейтинга")),E("div",GF," Оценок: "+ae(r.value.ratingKinopoiskVoteCount),1),E("a",{href:r.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400"},"Оценить",8,KF)])])]),o.value.length?(A(),j("section",YF,[V(ys,{title:"Похожие"}),V(Ob,{films:o.value},null,8,["films"])])):Le("",!0),V(zl),p[4]||(p[4]=E("div",{class:"h-28 bg-black"},null,-1))]))],64)}}},XF=vo("newsStore",()=>{const t=F([]),e=F(localStorage.getItem("currentPage")?+localStorage.getItem("currentPage"):1),n=async()=>{const{data:i}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v1/media_posts?page=${e.value}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});i.totalPages!==e.value?(e.value=i.totalPages,localStorage.setItem("currentPage",e.value),await s()):t.value=i.items},s=async()=>{const{data:i}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v1/media_posts?page=${e.value}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});t.value=i.items};return{newsData:t,getNews:n}}),QF={class:"absolute bottom-4 left-4 text-xs w-1/2"},ZF=["href"],e$={__name:"NewsItem",setup(t){const e=[FL,DL],n=XF(),s=F([{kinopoiskId:4008963,imageUrl:"https://avatars.mds.yandex.net/get-kinopoisk-post-thumb/1348084/b32d2b292f0654e1a9e80aac5437a33a/orig",title:"Вышла «окончательная версия» порнопеплума «Калигула». Как она сделана и почему нам не понравилась",description:"На Blu-ray выходит «окончательная версия» (The Ultimate Cut) «Калигулы» Тинто Брасса. Вспоминаем историю создания кровавого порнопеплума и подробно рассказываем про его редукс, максимально близкий к исходному сценарию Гора Видала. ",url:"https://www.kinopoisk.ru/api/webview/post/4008963",publishedAt:"2024-01-15T13:56:48"}]);return Pe(async()=>{n.newsData.length||await n.getNews(),s.value=n.newsData}),(i,r)=>(A(),pe(D(ih),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-8"},{default:ee(()=>[(A(!0),j(Te,null,Bn(s.value,o=>(A(),pe(D(rh),{key:o.kinopoiskId},{default:ee(()=>[E("div",{class:"overflow-hidden bg-cover h-48 w-full",style:ho(`background-image: url(${o.imageUrl})`)},[r[0]||(r[0]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-20"},null,-1)),E("h2",QF,ae(o.title),1),E("a",{href:o.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md"},"Подробнее",8,ZF)],4)]),_:2},1024))),128))]),_:1}))}},Mb=vo("premiersStore",()=>{const t=F([]),e=F(!0);return{premiers:t,getPremiers:async()=>{e.value=!0;const s={year:new Date().getFullYear(),month:new Date().getMonth()+1},i={1:"january",2:"february",3:"march",4:"april",5:"may",6:"june",7:"july",8:"august",9:"september",10:"october",11:"november",12:"december"},{data:r}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=${s.year}&month=${i[s.month]}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});t.value=r.items,e.value=!1},loader:e}}),t$={key:1,class:"container mx-auto px-1"},n$={__name:"MainPage",setup(t){const e=_n(),n=Mb(),s=F([]),i=()=>{Notification.requestPermission().then(r=>{r==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),_n().notificationToken="")})};return Pe(async()=>{n.premiers.length||await n.getPremiers(),s.value=n.premiers,e.getTokenNotification(),i()}),vl({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(r,o)=>{const a=Ss("metainfo");return A(),j(Te,null,[V(a,null,{title:ee(()=>o[0]||(o[0]=[])),_:1}),D(n).loader?(A(),pe(Is,{key:0,"full-screen":!0})):(A(),j("section",t$,[V(ys,{title:"Последние новости","show-all":!0,link:"news"}),V(e$),V(ys,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),V(Ob,{films:s.value.slice(0,20)},null,8,["films"]),o[1]||(o[1]=E("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},s$={class:"relative py-0.5 px-3"},i$={class:"mb-1 image bg-contain min-w-12"},r$=["src","alt"],o$={class:"pr-8"},a$={class:"text-xs mb-1"},lg={__name:"SearchItem",props:{film:Object,remove:Boolean},setup(t){const e=Ff();return(n,s)=>(A(),j("div",s$,[V(D(go),{to:{name:"item",params:{id:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-1 mr-8",onClick:s[0]||(s[0]=i=>t.remove?null:D(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:ee(()=>[E("div",i$,[E("img",{class:"mb-1 h-full w-12",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,r$)]),E("div",o$,[E("h3",a$,ae(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),Ct(E("h4",{class:"text-xs text-slate-400 mb-1"},ae(t.film.year),513),[[Kr,t.film.year&&t.film.year!=="null"]])])]),_:1},8,["to"]),E("div",{class:Ne([t.film.rating?t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-3 text-white w-6 text-center rounded-sm"])},ae(t.film.rating&&t.film.rating!=="null"?t.film.rating:""),3),Ct(V(D(ly),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-2",alt:"close",onClick:s[1]||(s[1]=i=>D(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[Kr,t.remove]])]))}},l$={class:"container mx-auto px-1"},c$=["defaultvalue","placeholder"],u$={key:0},d$={class:"pt-2 bg-gray-900 bg-opacity-50"},f$={key:1},h$={key:1,class:"bg-gray-900 bg-opacity-50"},p$={key:0},m$={class:"flex items-end justify-between py-3 px-3"},g$={__name:"Search",setup(t){const e=Ff(),n=F(!1),s=async o=>{n.value=!1;const{data:a}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${o.trim()}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});a.films.length===0?n.value=!0:(e.memoryFilms=a.films,n.value=!1)},i=()=>{e.memory.length>2&&s(e.memory),e.memory.length<2&&(e.memoryFilms=[])},r=F(!1);return Pe(()=>{e.getLastSearch()}),vl({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(o,a)=>{const l=Ss("metainfo"),c=iE("auto-animate");return A(),j(Te,null,[V(l,null,{title:ee(()=>a[5]||(a[5]=[])),_:1}),E("section",l$,[E("div",{class:Ne(["relative w-full",{shake:r.value}])},[V(D(ay),{class:"absolute w-5 text-gray-400 top-1/2 -translate-y-1/2 left-3",alt:"search"}),Ct(V(D(ly),{onClick:a[0]||(a[0]=()=>{D(e).memory="",D(e).memoryFilms=[],n.value=!1}),class:"absolute w-5 text-gray-400 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[Kr,D(e).memory.length>0]]),Ct(E("input",{defaultvalue:D(e).memory,placeholder:r.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 bg-gray-900 bg-opacity-50 py-2 pr-10 outline-none flex items-center text-sm",type:"text","onUpdate:modelValue":a[1]||(a[1]=u=>D(e).memory=u),onKeydown:[Gh(i,["enter"]),a[2]||(a[2]=Gh(u=>{D(e).memoryFilms=[],n.value=!1},["backspace"]))]},null,40,c$),[[Vs,D(e).memory]]),Ct(E("button",{class:"absolute right-20 top-1/2 -translate-y-1/2 mr-1",onClick:a[3]||(a[3]=u=>o.searchValue="")},null,512),[[Kr,D(e).memory.length>0]])],2),D(e).memory.length>0?(A(),j("div",u$,[n.value?(A(),j("div",f$,a[6]||(a[6]=[E("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(A(!0),j(Te,{key:0},Bn(D(e).memoryFilms,u=>Ct((A(),j("div",d$,[V(lg,{film:u},null,8,["film"])])),[[c]])),256))])):(A(),j("div",h$,[D(e).lastSearch.length>0?(A(),j("div",p$,[E("div",m$,[a[7]||(a[7]=E("h4",{class:"text-sm text-gray-400"},"Вы недавно искали",-1)),E("span",{class:"text-xs text-gray-400",onClick:a[4]||(a[4]=(...u)=>D(e).removeAllSearch&&D(e).removeAllSearch(...u))},"Очистить")]),(A(!0),j(Te,null,Bn(D(e).lastSearch.slice(0,7),u=>Ct((A(),j("div",null,[V(lg,{film:u,remove:!0},null,8,["film"])])),[[c]])),256))])):Le("",!0)])),a[8]||(a[8]=E("div",{class:"h-28 bg-black"},null,-1))])],64)}}},v$=ql(g$,[["__scopeId","data-v-299f1c39"]]),y$="/404-error.png",_$={},w$={class:"w-full h-screen flex justify-center items-center"};function b$(t,e){return A(),j("div",w$,e[0]||(e[0]=[E("img",{src:y$,alt:"404",class:"w-2/5"},null,-1)]))}const S$=ql(_$,[["render",b$]]),E$={key:1,class:"relative container mx-auto p-1"},T$={class:"flex gap-2 mb-4"},C$={class:"grid-cols-2 grid gap-1"},I$={__name:"Premier",setup(t){const e=Mb(),n=F(!0);return Pe(()=>{e.premiers.length||e.getPremiers(),n.value=!1}),(s,i)=>n.value?(A(),pe(Is,{key:0})):(A(),j("section",E$,[E("div",T$,[V(th),V(ys,{title:"Премьеры этого месяца"})]),E("div",C$,[(A(!0),j(Te,null,Bn(D(e).premiers,r=>(A(),pe(Rb,{film:r,key:r.kinopoiskId?r.kinopoiskId:r.filmId,size:"w-full h-72"},null,8,["film"]))),128))]),i[0]||(i[0]=E("div",{class:"h-20"},null,-1)),V(zl)]))}},x$={key:1,class:"relative container mx-auto p-1"},k$={class:"flex gap-2 mb-4"},P$={class:"grid-cols-1 grid gap-2"},A$={class:"absolute bottom-4 left-4 text-xs w-1/2"},R$=["href"],O$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-900 bg-opacity-50 p-2 rounded-md z-50"},N$={__name:"News",setup(t){const e=async a=>{await o(a),window.scrollTo({top:0,behavior:"smooth"})},n=F(1),s=F([]),i=F(!0),r=F(0),o=async a=>{i.value=!0;const{data:l}=await Fe.get(`https://kinopoiskapiunofficial.tech/api/v1/media_posts?page=${a}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});s.value=l.items,i.value=!1,r.value=l.total};return Pe(async()=>{await o(n.value)}),vl({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(a,l)=>{const c=Ss("metainfo");return A(),j(Te,null,[V(c,null,{title:ee(()=>l[1]||(l[1]=[])),_:1}),i.value?(A(),pe(Is,{key:0,"full-screen":!0})):(A(),j("section",x$,[E("div",k$,[V(th),V(ys,{title:"Новости"})]),E("div",P$,[(A(!0),j(Te,null,Bn(s.value,u=>(A(),j("div",{key:u.kinopoiskId},[E("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:ho(`background-image: url(${u.imageUrl})`)},[l[2]||(l[2]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),E("h2",A$,ae(u.title),1),E("a",{href:u.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md"},"Подробнее",8,R$)],4)]))),128))]),V(zl),l[3]||(l[3]=E("div",{class:"h-32"},null,-1))])),E("div",O$,[V(D(sy),{"total-items":r.value,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),onClick:e},null,8,["total-items","modelValue"])])],64)}}},Lb="/img/icons/192x192.png",M$={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},L$={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},D$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},F$={class:"text-center text-xs text-red-500"},$$={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},B$={class:"space-y-6",action:"#",method:"POST"},U$={class:"mt-2"},j$={class:"mt-2"},V$={class:"mt-10 text-center text-sm/6 text-gray-400"},H$=Ye({__name:"Login",setup(t){const e=Ki(),n=_n(),s=F(""),i=F(""),r=async o=>{o.preventDefault(),n.error="",s.value&&i.value?(await n.auth("login",{email:s.value,password:i.value}),await e.push("/")):n.error="Заполните все поля"};return Pe(()=>{n.error="",s.value="",i.value=""}),(o,a)=>{const l=Ss("RouterLink");return A(),j("div",M$,[E("div",L$,[a[2]||(a[2]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Lb,alt:"Filmoteka"},null,-1)),a[3]||(a[3]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),D(n).error?(A(),j("div",D$,[V(D(Ld),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",F$,ae(D(n).error),1)])):Le("",!0)]),E("div",$$,[E("form",B$,[E("div",null,[a[4]||(a[4]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",U$,[Ct(E("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":a[0]||(a[0]=c=>s.value=c),class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Vs,s.value]])])]),E("div",null,[a[5]||(a[5]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль"),E("div",{class:"text-sm"},[E("a",{href:"#",class:"text-orange-600 hover:text-orange-500"},"Забыли пароль?")])],-1)),E("div",j$,[Ct(E("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>i.value=c),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Vs,i.value]])])]),E("div",null,[D(n).loader?(A(),pe(Is,{key:1,"full-screen":!1})):(A(),j("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),E("p",V$,[a[7]||(a[7]=Me(" Нет аккаунта? "+ae(" ")+" ")),V(l,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>a[6]||(a[6]=[Me("Зарегистрироваться ")])),_:1})])])])}}}),W$={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},z$={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},q$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},G$={class:"text-center text-xs text-red-500"},K$={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},Y$={class:"space-y-6",action:"#",method:"POST"},J$={class:"mt-2"},X$={class:"mt-2"},Q$={class:"mt-2"},Z$={class:"mt-10 text-center text-sm text-gray-400"},eB=Ye({__name:"Registration",setup(t){const e=_n(),n=F(""),s=F(""),i=F(""),r=Ki(),o=async()=>{e.error="",s.value&&i.value&&n.value?(await e.auth("registration",{email:s.value,password:i.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return Pe(()=>{e.error="",s.value="",i.value="",n.value=""}),(a,l)=>{const c=Ss("RouterLink");return A(),j("div",W$,[E("div",z$,[l[3]||(l[3]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Lb,alt:"Your Company"},null,-1)),l[4]||(l[4]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),D(e).error?(A(),j("div",q$,[V(D(Ld),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",G$,ae(D(e).error),1)])):Le("",!0)]),E("div",K$,[E("form",Y$,[E("div",null,[l[5]||(l[5]=E("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),E("div",J$,[Ct(E("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Vs,n.value]])])]),E("div",null,[l[6]||(l[6]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",X$,[Ct(E("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Vs,s.value]])])]),E("div",null,[l[7]||(l[7]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),E("div",Q$,[Ct(E("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6 autofill:bg-gray-900"},null,512),[[Vs,i.value]])])]),E("div",null,[D(e).loader?(A(),pe(Is,{key:1,"full-screen":!1})):(A(),j("button",{key:0,type:"submit",onClick:Nt(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),E("p",Z$,[l[9]||(l[9]=Me(" Есть аккаунт? "+ae(" ")+" ")),V(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>l[8]||(l[8]=[Me("Войти")])),_:1})])])])}}});function ah(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Po(){let t=[],e={addEventListener(n,s,i,r){return n.addEventListener(s,i,r),e.add(()=>n.removeEventListener(s,i,r))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let s=setTimeout(...n);e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return ah(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let r=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:r})})},group(n){let s=Po();return n(s),this.add(()=>s.dispose())},add(n){return t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}var cg;let tB=Symbol("headlessui.useid"),nB=0;const Gl=(cg=JS)!=null?cg:function(){return Ve(tB,()=>`${++nB}`)()};function Ke(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function wn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,wn),s}var sB=Object.defineProperty,iB=(t,e,n)=>e in t?sB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ug=(t,e,n)=>(iB(t,typeof e!="symbol"?e+"":e,n),n);let rB=class{constructor(){ug(this,"current",this.detect()),ug(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Ao=new rB;function or(t){if(Ao.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ke(t);if(e)return e.ownerDocument}return document}let ed=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var rs=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(rs||{}),Db=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Db||{}),oB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(oB||{});function aB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ed)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Fb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Fb||{});function lB(t,e=0){var n;return t===((n=or(t))==null?void 0:n.body)?!1:wn(e,{0(){return t.matches(ed)},1(){let s=t;for(;s!==null;){if(s.matches(ed))return!0;s=s.parentElement}return!1}})}var cB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(cB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qs(t){t==null||t.focus({preventScroll:!0})}let uB=["textarea","input"].join(",");function dB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,uB))!=null?n:!1}function fB(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),r=e(s);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function oa(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?fB(t):t:aB(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),s=s??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&dB(h)&&h.select(),2}function $b(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function hB(){return/Android/gi.test(window.navigator.userAgent)}function pB(){return $b()||hB()}function Uo(t,e,n){Ao.isServer||Xt(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function Bb(t,e,n){Ao.isServer||Xt(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}function mB(t,e,n=Q(()=>!0)){function s(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Ke(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!lB(a,Fb.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let i=F(null);Uo("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Uo("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Uo("click",r=>{pB()||i.value&&(s(r,()=>i.value),i.value=null)},!0),Uo("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),Bb("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Xa=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Xa||{}),cs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(cs||{});function Sn({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=jb(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return Gc(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return wn(l,{0(){return null},1(){return Gc({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Gc(a)}function Gc({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...l}=Vb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),u={};if(s){let d=!1,f=[];for(let[h,p]of Object.entries(s))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=Ub(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!gB(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,y,w)=>w.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=jb((o=d.props)!=null?o:{},l,u),p=Ks(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Ee(a,Object.assign({},l,u),{default:()=>c})}function Ub(t){return t.flatMap(e=>e.type===Te?Ub(e.children):[e])}function jb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function Vb(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function gB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var Qa=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Qa||{});let td=Ye({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var s;let{features:i,...r}=t,o={"aria-hidden":(i&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Sn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Hb=Symbol("Context");var Lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Lt||{});function vB(){return lh()!==null}function lh(){return Ve(Hb,null)}function yB(t){ht(Hb,t)}var Wb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Wb||{});function _B(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ms=[];_B(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ms[0]!==e.target&&(Ms.unshift(e.target),Ms=Ms.filter(n=>n!=null&&n.isConnected),Ms.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function zb(t,e,n,s){Ao.isServer||Xt(i=>{t=t??window,t.addEventListener(e,n,s),i(()=>t.removeEventListener(e,n,s))})}var Cr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Cr||{});function wB(){let t=F(0);return Bb("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function qb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let s=Ke(n);s instanceof HTMLElement&&e.add(s)}return e}var Gb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Gb||{});let _r=Object.assign(Ye({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:F(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let i=F(null);s({el:i,$el:i});let r=Q(()=>or(i)),o=F(!1);Pe(()=>o.value=!0),bt(()=>o.value=!1),SB({ownerDocument:r},Q(()=>o.value&&!!(t.features&16)));let a=EB({ownerDocument:r,container:i,initialFocus:Q(()=>t.initialFocus)},Q(()=>o.value&&!!(t.features&2)));TB({ownerDocument:r,container:i,containers:t.containers,previousActiveElement:a},Q(()=>o.value&&!!(t.features&8)));let l=wB();function c(h){let p=Ke(i);p&&(m=>m())(()=>{wn(l.value,{[Cr.Forwards]:()=>{oa(p,rs.First,{skipElements:[h.relatedTarget]})},[Cr.Backwards]:()=>{oa(p,rs.Last,{skipElements:[h.relatedTarget]})}})})}let u=F(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=qb(t.containers);Ke(i)instanceof HTMLElement&&p.add(Ke(i));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Kb(p,m)||(u.value?oa(Ke(i),wn(l.value,{[Cr.Forwards]:()=>rs.Next,[Cr.Backwards]:()=>rs.Previous})|rs.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&qs(h.target)))}return()=>{let h={},p={ref:i,onKeydown:d,onFocusout:f},{features:m,initialFocus:y,containers:w,...v}=t;return Ee(Te,[!!(m&4)&&Ee(td,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Qa.Focusable}),Sn({ourProps:p,theirProps:{...e,...v},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Ee(td,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Qa.Focusable})])}}}),{features:Gb});function bB(t){let e=F(Ms.slice());return ot([t],([n],[s])=>{s===!0&&n===!1?ah(()=>{e.value.splice(0)}):s===!1&&n===!0&&(e.value=Ms.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(s=>s!=null&&s.isConnected))!=null?n:null}}function SB({ownerDocument:t},e){let n=bB(e);Pe(()=>{Xt(()=>{var s,i;e.value||((s=t.value)==null?void 0:s.activeElement)===((i=t.value)==null?void 0:i.body)&&qs(n())},{flush:"post"})}),bt(()=>{e.value&&qs(n())})}function EB({ownerDocument:t,container:e,initialFocus:n},s){let i=F(null),r=F(!1);return Pe(()=>r.value=!0),bt(()=>r.value=!1),Pe(()=>{ot([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=Ke(e);l&&ah(()=>{var c,u;if(!r.value)return;let d=Ke(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?qs(d):oa(l,rs.First|rs.NoScroll)===Db.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),i}function TB({ownerDocument:t,container:e,containers:n,previousActiveElement:s},i){var r;zb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!i.value)return;let a=qb(n);Ke(e)instanceof HTMLElement&&a.add(Ke(e));let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?Kb(a,c)?(s.value=c,qs(c)):(o.preventDefault(),o.stopPropagation(),qs(l)):qs(s.value)},!0)}function Kb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function CB(t){let e=Vg(t.getSnapshot());return bt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function IB(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...r){let o=e[i].call(n,...r);o&&(n=o,s.forEach(a=>a()))}}}function xB(){let t;return{before({doc:e}){var n;let s=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:e,d:n}){let s=e.documentElement,i=s.clientWidth-s.offsetWidth,r=t-i;n.style(s,"paddingRight",`${r}px`)}}}function kB(){return $b()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Po();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!s(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let l=a.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(s(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function PB(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function AB(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let $s=IB(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:Po(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:AB(n)},i=[kB(),xB(),PB()];i.forEach(({before:r})=>r==null?void 0:r(s)),i.forEach(({after:r})=>r==null?void 0:r(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});$s.subscribe(()=>{let t=$s.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&$s.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$s.dispatch("TEARDOWN",n)}});function RB(t,e,n){let s=CB($s),i=Q(()=>{let r=t.value?s.value.get(t.value):void 0;return r?r.count>0:!1});return ot([t,e],([r,o],[a],l)=>{if(!r||!o)return;$s.dispatch("PUSH",r,n);let c=!1;l(()=>{c||($s.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),i}let Kc=new Map,wr=new Map;function dg(t,e=F(!0)){Xt(n=>{var s;if(!e.value)return;let i=Ke(t);if(!i)return;n(function(){var o;if(!i)return;let a=(o=wr.get(i))!=null?o:1;if(a===1?wr.delete(i):wr.set(i,a-1),a!==1)return;let l=Kc.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,Kc.delete(i))});let r=(s=wr.get(i))!=null?s:0;wr.set(i,r+1),r===0&&(Kc.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function OB({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let s=F(null),i=or(s);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(Ke(s))||u.contains((l=(a=Ke(s))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:s,MainTreeNode(){return n!=null?null:Ee(td,{features:Qa.Hidden,ref:s})}}}let Yb=Symbol("ForcePortalRootContext");function NB(){return Ve(Yb,!1)}let fg=Ye({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return ht(Yb,t.force),()=>{let{force:s,...i}=t;return Sn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),Jb=Symbol("StackContext");var nd=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(nd||{});function MB(){return Ve(Jb,()=>{})}function LB({type:t,enabled:e,element:n,onUpdate:s}){let i=MB();function r(...o){s==null||s(...o),i(...o)}Pe(()=>{ot(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),bt(()=>{e.value&&r(1,t,n)}),ht(Jb,r)}let DB=Symbol("DescriptionContext");function FB({slot:t=F({}),name:e="Description",props:n={}}={}){let s=F([]);function i(r){return s.value.push(r),()=>{let o=s.value.indexOf(r);o!==-1&&s.value.splice(o,1)}}return ht(DB,{register:i,slot:t,name:e,props:n}),Q(()=>s.value.length>0?s.value.join(" "):void 0)}function $B(t){let e=or(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}const sd=new WeakMap;function BB(t){var e;return(e=sd.get(t))!=null?e:0}function hg(t,e){let n=e(BB(t));return n<=0?sd.delete(t):sd.set(t,n),n}let UB=Ye({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=F(null),i=Q(()=>or(s)),r=NB(),o=Ve(Xb,null),a=F(r===!0||o==null?$B(s.value):o.resolveTarget());a.value&&hg(a.value,f=>f+1);let l=F(!1);Pe(()=>{l.value=!0}),Xt(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=Ve(id,null),u=!1,d=ci();return ot(s,()=>{if(u||!c)return;let f=Ke(s);f&&(bt(c.register(f),d),u=!0)}),bt(()=>{var f,h;let p=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||hg(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return Ee(Zg,{to:a.value},Sn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),id=Symbol("PortalParentContext");function jB(){let t=Ve(id,null),e=F([]);function n(r){return e.value.push(r),t&&t.register(r),()=>s(r)}function s(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let i={register:n,unregister:s,portals:e};return[e,Ye({name:"PortalWrapper",setup(r,{slots:o}){return ht(id,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let Xb=Symbol("PortalGroupContext"),VB=Ye({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=li({resolveTarget(){return t.target}});return ht(Xb,s),()=>{let{target:i,...r}=t;return Sn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var HB=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(HB||{});let rd=Symbol("DialogContext");function ch(t){let e=Ve(rd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ch),n}return e}let jo="DC8F892D-2EBD-447C-A4C8-A03058436FF4",uh=Ye({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:jo},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${Gl()}`,l=F(!1);Pe(()=>{l.value=!0});let c=!1,u=Q(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=F(0),f=lh(),h=Q(()=>t.open===jo&&f!==null?(f.value&Lt.Open)===Lt.Open:t.open),p=F(null),m=Q(()=>or(p));if(i({el:p,$el:p}),!(t.open!==jo||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===jo?void 0:t.open}`);let y=Q(()=>l.value&&h.value?0:1),w=Q(()=>y.value===0),v=Q(()=>d.value>1),g=Ve(rd,null)!==null,[S,T]=jB(),{resolveContainers:R,mainTreeNodeRef:$,MainTreeNode:x}=OB({portals:S,defaultContainers:[Q(()=>{var me;return(me=ie.panelRef.value)!=null?me:p.value})]}),C=Q(()=>v.value?"parent":"leaf"),k=Q(()=>f!==null?(f.value&Lt.Closing)===Lt.Closing:!1),B=Q(()=>g||k.value?!1:w.value),J=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("body > *"))!=null?ge:[]).find(Xe=>Xe.id==="headlessui-portal-root"?!1:Xe.contains(Ke($))&&Xe instanceof HTMLElement))!=null?Je:null});dg(J,B);let H=Q(()=>v.value?!0:w.value),te=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(Xe=>Xe.contains(Ke($))&&Xe instanceof HTMLElement))!=null?Je:null});dg(te,H),LB({type:"Dialog",enabled:Q(()=>y.value===0),element:p,onUpdate:(me,ge)=>{if(ge==="Dialog")return wn(me,{[nd.Add]:()=>d.value+=1,[nd.Remove]:()=>d.value-=1})}});let re=FB({name:"DialogDescription",slot:Q(()=>({open:h.value}))}),se=F(null),ie={titleId:se,panelRef:F(null),dialogState:y,setTitleId(me){se.value!==me&&(se.value=me)},close(){e("close",!1)}};ht(rd,ie);let we=Q(()=>!(!w.value||v.value));mB(R,(me,ge)=>{me.preventDefault(),ie.close(),Gi(()=>ge==null?void 0:ge.focus())},we);let mt=Q(()=>!(v.value||y.value!==0));zb((o=m.value)==null?void 0:o.defaultView,"keydown",me=>{mt.value&&(me.defaultPrevented||me.key===Wb.Escape&&(me.preventDefault(),me.stopPropagation(),ie.close()))});let Et=Q(()=>!(k.value||y.value!==0||g));return RB(m,Et,me=>{var ge;return{containers:[...(ge=me.containers)!=null?ge:[],R]}}),Xt(me=>{if(y.value!==0)return;let ge=Ke(p);if(!ge)return;let Je=new ResizeObserver(Xe=>{for(let Kn of Xe){let at=Kn.target.getBoundingClientRect();at.x===0&&at.y===0&&at.width===0&&at.height===0&&ie.close()}});Je.observe(ge),me(()=>Je.disconnect())}),()=>{let{open:me,initialFocus:ge,...Je}=t,Xe={...n,ref:p,id:a,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":se.value,"aria-describedby":re.value},Kn={open:y.value===0};return Ee(fg,{force:!0},()=>[Ee(UB,()=>Ee(VB,{target:p.value},()=>Ee(fg,{force:!1},()=>Ee(_r,{initialFocus:ge,containers:R,features:w.value?wn(C.value,{parent:_r.features.RestoreFocus,leaf:_r.features.All&~_r.features.FocusLock}):_r.features.None},()=>Ee(T,{},()=>Sn({ourProps:Xe,theirProps:{...Je,...n},slot:Kn,attrs:n,slots:s,visible:y.value===0,features:Xa.RenderStrategy|Xa.Static,name:"Dialog"})))))),Ee(x)])}}}),dh=Ye({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:s}){var i;let r=(i=t.id)!=null?i:`headlessui-dialog-panel-${Gl()}`,o=ch("DialogPanel");s({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return Sn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),Za=Ye({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-title-${Gl()}`,r=ch("DialogTitle");return Pe(()=>{r.setTitleId(i),bt(()=>r.setTitleId(null))}),()=>{let{...o}=t;return Sn({ourProps:{id:i},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function WB(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Yc(t,...e){t&&e.length>0&&t.classList.add(...e)}function Vo(t,...e){t&&e.length>0&&t.classList.remove(...e)}var od=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(od||{});function zB(t,e){let n=Po();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:i}=getComputedStyle(t),[r,o]=[s,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function pg(t,e,n,s,i,r){let o=Po(),a=r!==void 0?WB(r):()=>{};return Vo(t,...i),Yc(t,...e,...n),o.nextFrame(()=>{Vo(t,...n),Yc(t,...s),o.add(zB(t,l=>(Vo(t,...s,...e),Yc(t,...i),a(l))))}),o.add(()=>Vo(t,...e,...n,...s,...i)),o.add(()=>a("cancelled")),o.dispose}function As(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let fh=Symbol("TransitionContext");var qB=(t=>(t.Visible="visible",t.Hidden="hidden",t))(qB||{});function GB(){return Ve(fh,null)!==null}function KB(){let t=Ve(fh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function YB(){let t=Ve(hh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let hh=Symbol("NestingContext");function Kl(t){return"children"in t?Kl(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Qb(t){let e=F([]),n=F(!1);Pe(()=>n.value=!0),bt(()=>n.value=!1);function s(r,o=cs.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(wn(o,{[cs.Unmount](){e.value.splice(a,1)},[cs.Hidden](){e.value[a].state="hidden"}}),!Kl(e)&&n.value&&(t==null||t()))}function i(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>s(r,cs.Unmount)}return{children:e,register:i,unregister:s}}let Zb=Xa.RenderStrategy,ai=Ye({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){let r=F(0);function o(){r.value|=Lt.Opening,e("beforeEnter")}function a(){r.value&=~Lt.Opening,e("afterEnter")}function l(){r.value|=Lt.Closing,e("beforeLeave")}function c(){r.value&=~Lt.Closing,e("afterLeave")}if(!GB()&&vB())return()=>Ee(Yl,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},s);let u=F(null),d=Q(()=>t.unmount?cs.Unmount:cs.Hidden);i({el:u,$el:u});let{show:f,appear:h}=KB(),{register:p,unregister:m}=YB(),y=F(f.value?"visible":"hidden"),w={value:!0},v=Gl(),g={value:!1},S=Qb(()=>{!g.value&&y.value!=="hidden"&&(y.value="hidden",m(v),c())});Pe(()=>{let H=p(v);bt(H)}),Xt(()=>{if(d.value===cs.Hidden&&v){if(f.value&&y.value!=="visible"){y.value="visible";return}wn(y.value,{hidden:()=>m(v),visible:()=>p(v)})}});let T=As(t.enter),R=As(t.enterFrom),$=As(t.enterTo),x=As(t.entered),C=As(t.leave),k=As(t.leaveFrom),B=As(t.leaveTo);Pe(()=>{Xt(()=>{if(y.value==="visible"){let H=Ke(u);if(H instanceof Comment&&H.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function J(H){let te=w.value&&!h.value,re=Ke(u);!re||!(re instanceof HTMLElement)||te||(g.value=!0,f.value&&o(),f.value||l(),H(f.value?pg(re,T,R,$,x,se=>{g.value=!1,se===od.Finished&&a()}):pg(re,C,k,B,x,se=>{g.value=!1,se===od.Finished&&(Kl(S)||(y.value="hidden",m(v),c()))})))}return Pe(()=>{ot([f],(H,te,re)=>{J(re),w.value=!1},{immediate:!0})}),ht(hh,S),yB(Q(()=>wn(y.value,{visible:Lt.Open,hidden:Lt.Closed})|r.value)),()=>{let{appear:H,show:te,enter:re,enterFrom:se,enterTo:ie,entered:we,leave:mt,leaveFrom:Et,leaveTo:me,...ge}=t,Je={ref:u},Xe={...ge,...h.value&&f.value&&Ao.isServer?{class:Ne([n.class,ge.class,...T,...R])}:{}};return Sn({theirProps:Xe,ourProps:Je,slot:{},slots:s,attrs:n,features:Zb,visible:y.value==="visible",name:"TransitionChild"})}}}),JB=ai,Yl=Ye({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let i=lh(),r=Q(()=>t.show===null&&i!==null?(i.value&Lt.Open)===Lt.Open:t.show);Xt(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=F(r.value?"visible":"hidden"),a=Qb(()=>{o.value="hidden"}),l=F(!0),c={show:r,appear:Q(()=>t.appear||!l.value)};return Pe(()=>{Xt(()=>{l.value=!1,r.value?o.value="visible":Kl(a)||(o.value="hidden")})}),ht(hh,a),ht(fh,c),()=>{let u=Vb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return Sn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Ee(JB,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},s.default)]},attrs:{},features:Zb,visible:o.value==="visible",name:"Transition"})}}});const XB={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},QB={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},ZB={class:"bg-gray-900 px-4 pb-4 pt-4"},e2={class:"items-center justify-center"},t2={class:"mt-3"},n2={class:"bg-gray-900 px-4 py-4 items-center flex flex-col"},s2={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Ki(),n=_n(),s=()=>{n.auth("logout"),e.push("/login")};return(i,r)=>(A(),pe(D(Yl),{as:"template",show:t.openPopup},{default:ee(()=>[V(D(uh),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[V(D(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>r[1]||(r[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",XB,[E("div",QB,[V(D(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[V(D(dh),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",ZB,[E("div",e2,[E("div",t2,[V(D(Za),{as:"h3",class:"text-base text-center"},{default:ee(()=>r[2]||(r[2]=[Me("Вы хотите выйти из профиля? ")])),_:1})])])]),E("div",n2,[E("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:s,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},i2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},r2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},o2={class:"bg-gray-900 px-4 pb-4 pt-4"},a2={class:"items-center justify-center"},l2={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-800 sm:size-10"},c2={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-800 sm:size-10"},u2={class:"mt-3"},d2={key:2,class:"mt-2"},f2={class:"text-sm text-gray-500 break-words text-center"},h2={class:"bg-gray-900 px-4 py-4 items-center flex flex-col"},p2={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=_n(),n=F(!1),s=F(!1),i=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},500)},250)};return(r,o)=>(A(),pe(D(Yl),{as:"template",show:t.openPopup},{default:ee(()=>[V(D(uh),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[V(D(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[1]||(o[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",i2,[E("div",r2,[V(D(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[V(D(dh),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",o2,[E("div",a2,[D(e).notificationToken?(A(),j("div",c2,[V(D(ry),{class:"size-6 text-green-600","aria-hidden":"true"})])):(A(),j("div",l2,[V(D(iy),{class:"size-6 text-red-600","aria-hidden":"true"})])),E("div",u2,[D(e).notificationToken?(A(),pe(D(Za),{key:1,as:"h3",class:"text-base text-center"},{default:ee(()=>o[3]||(o[3]=[Me("Уведомления разрешены ")])),_:1})):(A(),pe(D(Za),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[2]||(o[2]=[Me(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),D(e).notificationToken?(A(),j("div",d2,[E("div",f2,ae(D(e).notificationToken),1)])):Le("",!0)])])]),E("div",h2,[D(e).notificationToken&&!n.value&&!s.value?(A(),j("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i},"Скопировать токен ")):Le("",!0),n.value?(A(),pe(Is,{key:1,"full-screen":!1})):Le("",!0),s.value?(A(),pe(D(wC),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):Le("",!0),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},m2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},g2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},v2={class:"bg-gray-900 px-4 pb-4 pt-4"},y2={class:"items-center justify-center relative"},_2={class:"mt-3"},w2={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},b2={class:"text-center text-xs text-red-500"},S2={class:"space-y-1 bg-gray-900",action:"#",method:"POST"},E2={class:"bg-gray-900 px-4 pb-4 pt-2"},T2={class:"mt-2"},C2={class:"bg-gray-900 px-4 pb-4 pt-2 items-center flex flex-col"},I2={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=F(""),n=F(""),s=_n(),i=async()=>{if(e.value){if(e.value===s.userInfo.name)return n.value="Имя не изменилось";n.value="",await s.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(A(),pe(D(Yl),{as:"template",show:t.openPopup},{default:ee(()=>[V(D(uh),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[V(D(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[3]||(o[3]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",m2,[E("div",g2,[V(D(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[V(D(dh),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",v2,[E("div",y2,[E("div",_2,[V(D(Za),{as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[4]||(o[4]=[Me("Изменить имя ")])),_:1})]),n.value?(A(),j("div",w2,[V(D(Ld),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",b2,ae(n.value),1)])):Le("",!0)])]),E("form",S2,[E("div",E2,[o[5]||(o[5]=E("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),E("div",T2,[Ct(E("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"w-full px-3 rounded-md bg-gray-900 py-1.5 text-base outline outline-1 outline-white -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Vs,e.value]])])]),E("div",C2,[D(s).loader?(A(),pe(Is,{key:1,"full-screen":!1})):(A(),j("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await i(),n.value||t.handleClick()})}," Сохранить ")),E("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 hover:text-gray-900 sm:w-auto",onClick:o[2]||(o[2]=Nt((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},x2={class:"container mx-auto px-1"},k2={class:"mt-2"},P2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},A2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},R2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},O2={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},N2={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},M2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},L2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},D2={__name:"Profile",setup(t){const e=_n(),n=F(!1),s=F(!1),i=F(!1),r=()=>{n.value=!n.value},o=()=>{s.value=!s.value},a=()=>{i.value=!i.value};return Pe(()=>{e.getTokenNotification()}),(l,c)=>(A(),j("section",x2,[V(ys,{title:"Профиль"}),c[3]||(c[3]=E("div",{class:"sm:px-0"},[E("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),E("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),E("div",k2,[E("dl",null,[E("div",P2,[c[0]||(c[0]=E("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),E("dd",A2,ae(D(e).userInfo.name),1),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[V(D(EC),{class:"size-6 text-blue-500","aria-hidden":"true"}),V(I2,{handleClick:a,openPopup:i.value},null,8,["openPopup"])])]),E("div",R2,[c[1]||(c[1]=E("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),D(e).notificationToken?(A(),j("dd",O2,"Уведомления разрешены ")):(A(),j("dd",N2,"Уведомления не разрешены")),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-900 p-4 rounded-full",onClick:r},[D(e).notificationToken?(A(),pe(D(ry),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(A(),pe(D(iy),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),V(p2,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),E("div",M2,[c[2]||(c[2]=E("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),E("dd",L2,ae(D(e).userInfo.email),1)])])]),E("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md"}," Выйти "),V(s2,{"handle-click":o,"open-popup":s.value},null,8,["open-popup"])]))}},F2={class:"flex items-center gap-8 mb-8 relative"},$2={class:"flex items-start justify-around gap-4 w-full"},B2=Ye({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=oh(),n=qi(),s=If(),i=F(!1),r=o=>{t.film.isWatched=!o,sP(as(s,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(A(),j(Te,null,[E("div",{onClick:a[0]||(a[0]=l=>i.value=!0)},[V(D(bC),{class:"w-4 text-white",alt:"favorites"})]),V(D(Nb),{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=l=>i.value=l),snapPoint:"auto",isScrollLock:!0},{default:ee(()=>[E("div",F2,[E("div",$2,[E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[V(D(oy),{class:Ne(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=E("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>D(e).removeFromFavorites(null,t.film.id))},[V(D(Md),{class:Ne(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=E("span",{class:"text-xs text-center text-white"},[Me("Удалить из"),E("br"),Me("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),U2=ql(B2,[["__scopeId","data-v-eb7b8f87"]]),j2={class:"relative flex gap-2"},V2={class:"mb-1 w-14"},H2=["src","alt"],W2={class:"pr-8 flex flex-col w-full"},z2={class:"text-xs mb-1"},q2={class:"flex items-center gap-1"},G2={key:0,class:"text-xs text-slate-400 mb-1"},K2={__name:"FavoriteItem",props:{film:Object,size:{type:String,default:"w-64 h-96",required:!1}},setup(t){return(e,n)=>(A(),j("div",j2,[V(D(go),{to:{name:"item",params:{id:t.film.id}}},{default:ee(()=>[E("div",V2,[E("img",{src:t.film.posterUrl,alt:t.film.nameRu},null,8,H2)])]),_:1},8,["to"]),E("div",W2,[E("h3",z2,ae(t.film.nameRu),1),E("div",q2,[V(D(oy),{class:Ne(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),t.film.year&&t.film.genres.length?(A(),j("p",G2,ae(t.film.year)+", "+ae(t.film.genres[0].genre),1)):Le("",!0)])]),V(U2,{film:t.film},null,8,["film"])]))}},Y2={class:"relative container mx-auto px-1"},J2={class:"grid-cols-1 grid gap-1"},X2={__name:"Favorites",setup(t){const e=oh();return Pe(()=>{e.favorites.length||e.getFavorites()}),(n,s)=>(A(),j("section",Y2,[V(ys,{title:"Избранное"}),E("div",J2,[(A(!0),j(Te,null,Bn(D(e).favorites,i=>(A(),pe(K2,{film:i,key:i.id,size:"w-full h-72"},null,8,["film"]))),128))]),s[0]||(s[0]=E("div",{class:"h-20"},null,-1)),V(zl)]))}};var Q2="firebase",Z2="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt(Q2,Z2,"app");const eU=[{path:"/",component:n$,name:"main",meta:{auth:!0}},{path:"/profile",component:D2,name:"profile",meta:{auth:!0}},{path:"/favorites",component:X2,name:"favorites",meta:{auth:!0}},{path:"/login",component:H$,name:"login",meta:{auth:!1}},{path:"/registration",component:eB,name:"registration",meta:{auth:!1}},{path:"/search",component:v$,name:"search",meta:{auth:!0}},{path:"/film/:id",component:JF,name:"item",meta:{auth:!0}},{path:"/premier",component:I$,name:"premier",props:!0,meta:{auth:!0}},{path:"/news",component:N$,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:S$,meta:{auth:!0}}],eS=ST({history:X0("/"),routes:eU}),tU=sC(),nU={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};eS.beforeEach((t,e,n)=>{const s=_n();t.meta.auth&&!s.accessToken?n("/login"):!t.meta.auth&&s.accessToken?n("/"):n()});Sy(nU);y0(JN).use(eS).use(FT()).use(nC).use(tU).use(_C).mount("#app");
