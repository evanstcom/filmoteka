var Lb=Object.defineProperty;var Db=(t,e,n)=>e in t?Lb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Is=(t,e,n)=>Db(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Xu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ne={},Si=[],mn=()=>{},Fb=()=>!1,qa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zu=t=>t.startsWith("onUpdate:"),rt=Object.assign,ed=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bb=Object.prototype.hasOwnProperty,Ie=(t,e)=>Bb.call(t,e),le=Array.isArray,Ei=t=>Ga(t)==="[object Map]",Zm=t=>Ga(t)==="[object Set]",he=t=>typeof t=="function",We=t=>typeof t=="string",Hn=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",eg=t=>(Ue(t)||he(t))&&he(t.then)&&he(t.catch),tg=Object.prototype.toString,Ga=t=>tg.call(t),$b=t=>Ga(t).slice(8,-1),ng=t=>Ga(t)==="[object Object]",td=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,br=Xu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ka=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ub=/-(\w)/g,Vt=Ka(t=>t.replace(Ub,(e,n)=>n?n.toUpperCase():"")),jb=/\B([A-Z])/g,_s=Ka(t=>t.replace(jb,"-$1").toLowerCase()),Ya=Ka(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hl=Ka(t=>t?`on${Ya(t)}`:""),ds=(t,e)=>!Object.is(t,e),Bo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},sg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Wc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Hb=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let Qf;const Ja=()=>Qf||(Qf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ao(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=We(s)?qb(s):ao(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(We(t)||Ue(t))return t}const Vb=/;(?![^(]*\))/g,Wb=/:([^]+)/,zb=/\/\*[^]*?\*\//g;function qb(t){const e={};return t.replace(zb,"").split(Vb).forEach(n=>{if(n){const s=n.split(Wb);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ze(t){let e="";if(We(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const s=ze(t[n]);s&&(e+=s+" ")}else if(Ue(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Gb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kb=Xu(Gb);function ig(t){return!!t||t===""}const rg=t=>!!(t&&t.__v_isRef===!0),ae=t=>We(t)?t:t==null?"":le(t)||Ue(t)&&(t.toString===tg||!he(t.toString))?rg(t)?ae(t.value):JSON.stringify(t,og,2):String(t),og=(t,e)=>rg(e)?og(t,e.value):Ei(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Vl(s,r)+" =>"]=i,n),{})}:Zm(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Vl(n))}:Hn(e)?Vl(e):Ue(e)&&!le(e)&&!ng(e)?String(e):e,Vl=(t,e="")=>{var n;return Hn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class ag{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){yt=this}off(){yt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function lg(t){return new ag(t)}function cg(){return yt}function Yb(t,e=!1){yt&&yt.cleanups.push(t)}let Fe;const Wl=new WeakSet;class ug{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Wl.has(this)&&(Wl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xf(this),hg(this);const e=Fe,n=Gt;Fe=this,Gt=!0;try{return this.fn()}finally{pg(this),Fe=e,Gt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)id(e);this.deps=this.depsTail=void 0,Xf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Wl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zc(this)&&this.run()}get dirty(){return zc(this)}}let dg=0,Sr,Er;function fg(t,e=!1){if(t.flags|=8,e){t.next=Er,Er=t;return}t.next=Sr,Sr=t}function nd(){dg++}function sd(){if(--dg>0)return;if(Er){let e=Er;for(Er=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Sr;){let e=Sr;for(Sr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function hg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),id(s),Jb(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function zc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(mg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function mg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fr))return;t.globalVersion=Fr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!zc(t)){t.flags&=-3;return}const n=Fe,s=Gt;Fe=t,Gt=!0;try{hg(t);const i=t.fn(t._value);(e.version===0||ds(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Fe=n,Gt=s,pg(t),t.flags&=-3}}function id(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)id(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Jb(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Gt=!0;const gg=[];function ws(){gg.push(Gt),Gt=!1}function bs(){const t=gg.pop();Gt=t===void 0?!0:t}function Xf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let Fr=0;class Qb{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Gt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new Qb(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,vg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=s)}return n}trigger(e){this.version++,Fr++,this.notify(e)}notify(e){nd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{sd()}}}function vg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)vg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const na=new WeakMap,Hs=Symbol(""),qc=Symbol(""),Br=Symbol("");function ut(t,e,n){if(Gt&&Fe){let s=na.get(t);s||na.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new rd),i.map=s,i.key=n),i.track()}}function Pn(t,e,n,s,i,r){const o=na.get(t);if(!o){Fr++;return}const a=l=>{l&&l.trigger()};if(nd(),e==="clear")o.forEach(a);else{const l=le(t),c=l&&td(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===Br||!Hn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Br)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Hs)),Ei(t)&&a(o.get(qc)));break;case"delete":l||(a(o.get(Hs)),Ei(t)&&a(o.get(qc)));break;case"set":Ei(t)&&a(o.get(Hs));break}}sd()}function Xb(t,e){const n=na.get(t);return n&&n.get(e)}function pi(t){const e=Se(t);return e===t?e:(ut(e,"iterate",Br),Ut(t)?e:e.map(dt))}function Qa(t){return ut(t=Se(t),"iterate",Br),t}const Zb={__proto__:null,[Symbol.iterator](){return zl(this,Symbol.iterator,dt)},concat(...t){return pi(this).concat(...t.map(e=>le(e)?pi(e):e))},entries(){return zl(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return Sn(this,"every",t,e,void 0,arguments)},filter(t,e){return Sn(this,"filter",t,e,n=>n.map(dt),arguments)},find(t,e){return Sn(this,"find",t,e,dt,arguments)},findIndex(t,e){return Sn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Sn(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return Sn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Sn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ql(this,"includes",t)},indexOf(...t){return ql(this,"indexOf",t)},join(t){return pi(this).join(t)},lastIndexOf(...t){return ql(this,"lastIndexOf",t)},map(t,e){return Sn(this,"map",t,e,void 0,arguments)},pop(){return ir(this,"pop")},push(...t){return ir(this,"push",t)},reduce(t,...e){return Zf(this,"reduce",t,e)},reduceRight(t,...e){return Zf(this,"reduceRight",t,e)},shift(){return ir(this,"shift")},some(t,e){return Sn(this,"some",t,e,void 0,arguments)},splice(...t){return ir(this,"splice",t)},toReversed(){return pi(this).toReversed()},toSorted(t){return pi(this).toSorted(t)},toSpliced(...t){return pi(this).toSpliced(...t)},unshift(...t){return ir(this,"unshift",t)},values(){return zl(this,"values",dt)}};function zl(t,e,n){const s=Qa(t),i=s[e]();return s!==t&&!Ut(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const eS=Array.prototype;function Sn(t,e,n,s,i,r){const o=Qa(t),a=o!==t&&!Ut(t),l=o[e];if(l!==eS[e]){const d=l.apply(t,r);return a?dt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,dt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Zf(t,e,n,s){const i=Qa(t);let r=n;return i!==t&&(Ut(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,dt(a),l,t)}),i[e](r,...s)}function ql(t,e,n){const s=Se(t);ut(s,"iterate",Br);const i=s[e](...n);return(i===-1||i===!1)&&Xa(n[0])?(n[0]=Se(n[0]),s[e](...n)):i}function ir(t,e,n=[]){ws(),nd();const s=Se(t)[e].apply(t,n);return sd(),bs(),s}const tS=Xu("__proto__,__v_isRef,__isVue"),yg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hn));function nS(t){Hn(t)||(t=String(t));const e=Se(this);return ut(e,"has",t),e.hasOwnProperty(t)}class _g{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?fS:Eg:r?Sg:bg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=le(e);if(!i){let l;if(o&&(l=Zb[n]))return l;if(n==="hasOwnProperty")return nS}const a=Reflect.get(e,n,Ge(e)?e:s);return(Hn(n)?yg.has(n):tS(n))||(i||ut(e,"get",n),r)?a:Ge(a)?o&&td(n)?a:a.value:Ue(a)?i?Cg(a):li(a):a}}class wg extends _g{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=Ys(r);if(!Ut(s)&&!Ys(s)&&(r=Se(r),s=Se(s)),!le(e)&&Ge(r)&&!Ge(s))return l?!1:(r.value=s,!0)}const o=le(e)&&td(n)?Number(n)<e.length:Ie(e,n),a=Reflect.set(e,n,s,Ge(e)?e:i);return e===Se(i)&&(o?ds(s,r)&&Pn(e,"set",n,s):Pn(e,"add",n,s)),a}deleteProperty(e,n){const s=Ie(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Pn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Hn(n)||!yg.has(n))&&ut(e,"has",n),s}ownKeys(e){return ut(e,"iterate",le(e)?"length":Hs),Reflect.ownKeys(e)}}class sS extends _g{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const iS=new wg,rS=new sS,oS=new wg(!0);const Gc=t=>t,Co=t=>Reflect.getPrototypeOf(t);function aS(t,e,n){return function(...s){const i=this.__v_raw,r=Se(i),o=Ei(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Gc:e?Kc:dt;return!e&&ut(r,"iterate",l?qc:Hs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Io(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function lS(t,e){const n={get(i){const r=this.__v_raw,o=Se(r),a=Se(i);t||(ds(i,a)&&ut(o,"get",i),ut(o,"get",a));const{has:l}=Co(o),c=e?Gc:t?Kc:dt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ut(Se(i),"iterate",Hs),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Se(r),a=Se(i);return t||(ds(i,a)&&ut(o,"has",i),ut(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Se(a),c=e?Gc:t?Kc:dt;return!t&&ut(l,"iterate",Hs),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return rt(n,t?{add:Io("add"),set:Io("set"),delete:Io("delete"),clear:Io("clear")}:{add(i){!e&&!Ut(i)&&!Ys(i)&&(i=Se(i));const r=Se(this);return Co(r).has.call(r,i)||(r.add(i),Pn(r,"add",i,i)),this},set(i,r){!e&&!Ut(r)&&!Ys(r)&&(r=Se(r));const o=Se(this),{has:a,get:l}=Co(o);let c=a.call(o,i);c||(i=Se(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?ds(r,u)&&Pn(o,"set",i,r):Pn(o,"add",i,r),this},delete(i){const r=Se(this),{has:o,get:a}=Co(r);let l=o.call(r,i);l||(i=Se(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Pn(r,"delete",i,void 0),c},clear(){const i=Se(this),r=i.size!==0,o=i.clear();return r&&Pn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=aS(i,t,e)}),n}function od(t,e){const n=lS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Ie(n,i)&&i in s?n:s,i,r)}const cS={get:od(!1,!1)},uS={get:od(!1,!0)},dS={get:od(!0,!1)};const bg=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,fS=new WeakMap;function hS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pS(t){return t.__v_skip||!Object.isExtensible(t)?0:hS($b(t))}function li(t){return Ys(t)?t:ad(t,!1,iS,cS,bg)}function Tg(t){return ad(t,!1,oS,uS,Sg)}function Cg(t){return ad(t,!0,rS,dS,Eg)}function ad(t,e,n,s,i){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=pS(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function fs(t){return Ys(t)?fs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ys(t){return!!(t&&t.__v_isReadonly)}function Ut(t){return!!(t&&t.__v_isShallow)}function Xa(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Za(t){return!Ie(t,"__v_skip")&&Object.isExtensible(t)&&sg(t,"__v_skip",!0),t}const dt=t=>Ue(t)?li(t):t,Kc=t=>Ue(t)?Cg(t):t;function Ge(t){return t?t.__v_isRef===!0:!1}function j(t){return xg(t,!1)}function Ig(t){return xg(t,!0)}function xg(t,e){return Ge(t)?t:new mS(t,e)}class mS{constructor(e,n){this.dep=new rd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:dt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ut(e)||Ys(e);e=s?e:Se(e),ds(e,n)&&(this._rawValue=e,this._value=s?e:dt(e),this.dep.trigger())}}function G(t){return Ge(t)?t.value:t}const gS={get:(t,e,n)=>e==="__v_raw"?t:G(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ge(i)&&!Ge(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function kg(t){return fs(t)?t:new Proxy(t,gS)}function vS(t){const e=le(t)?new Array(t.length):{};for(const n in t)e[n]=Pg(t,n);return e}class yS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Xb(Se(this._object),this._key)}}class _S{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function wS(t,e,n){return Ge(t)?t:he(t)?new _S(t):Ue(t)&&arguments.length>1?Pg(t,e,n):j(t)}function Pg(t,e,n){const s=t[e];return Ge(s)?s:new yS(t,e,n)}class bS{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new rd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return fg(this,!0),!0}get value(){const e=this.dep.track();return mg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function SS(t,e,n=!1){let s,i;return he(t)?s=t:(s=t.get,i=t.set),new bS(s,i,n)}const xo={},sa=new WeakMap;let Os;function ES(t,e=!1,n=Os){if(n){let s=sa.get(n);s||sa.set(n,s=[]),s.push(t)}}function TS(t,e,n=Ne){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:Ut(S)||i===!1||i===0?An(S,1):An(S);let u,d,f,h,p=!1,m=!1;if(Ge(t)?(d=()=>t.value,p=Ut(t)):fs(t)?(d=()=>c(t),p=!0):le(t)?(m=!0,p=t.some(S=>fs(S)||Ut(S)),d=()=>t.map(S=>{if(Ge(S))return S.value;if(fs(S))return c(S);if(he(S))return l?l(S,2):S()})):he(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ws();try{f()}finally{bs()}}const S=Os;Os=u;try{return l?l(t,3,[h]):t(h)}finally{Os=S}}:d=mn,e&&i){const S=d,E=i===!0?1/0:i;d=()=>An(S(),E)}const y=cg(),w=()=>{u.stop(),y&&y.active&&ed(y.effects,u)};if(r&&e){const S=e;e=(...E)=>{S(...E),w()}}let v=m?new Array(t.length).fill(xo):xo;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const E=u.run();if(i||p||(m?E.some((R,$)=>ds(R,v[$])):ds(E,v))){f&&f();const R=Os;Os=u;try{const $=[E,v===xo?void 0:m&&v[0]===xo?[]:v,h];l?l(e,3,$):e(...$),v=E}finally{Os=R}}}else u.run()};return a&&a(g),u=new ug(d),u.scheduler=o?()=>o(g,!1):g,h=S=>ES(S,!1,u),f=u.onStop=()=>{const S=sa.get(u);if(S){if(l)l(S,4);else for(const E of S)E();sa.delete(u)}},e?s?g(!0):v=u.run():o?o(g.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function An(t,e=1/0,n){if(e<=0||!Ue(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ge(t))An(t.value,e,n);else if(le(t))for(let s=0;s<t.length;s++)An(t[s],e,n);else if(Zm(t)||Ei(t))t.forEach(s=>{An(s,e,n)});else if(ng(t)){for(const s in t)An(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&An(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lo(t,e,n,s){try{return s?t(...s):t()}catch(i){el(i,e,n)}}function Jt(t,e,n,s){if(he(t)){const i=lo(t,e,n,s);return i&&eg(i)&&i.catch(r=>{el(r,e,n)}),i}if(le(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Jt(t[r],e,n,s));return i}}function el(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ne;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){ws(),lo(r,null,10,[t,l,c]),bs();return}}CS(t,n,i,s,o)}function CS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const _t=[];let un=-1;const Ti=[];let Zn=null,gi=0;const Ag=Promise.resolve();let ia=null;function ji(t){const e=ia||Ag;return t?e.then(this?t.bind(this):t):e}function IS(t){let e=un+1,n=_t.length;for(;e<n;){const s=e+n>>>1,i=_t[s],r=$r(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function ld(t){if(!(t.flags&1)){const e=$r(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=$r(n)?_t.push(t):_t.splice(IS(e),0,t),t.flags|=1,Rg()}}function Rg(){ia||(ia=Ag.then(Ng))}function xS(t){le(t)?Ti.push(...t):Zn&&t.id===-1?Zn.splice(gi+1,0,t):t.flags&1||(Ti.push(t),t.flags|=1),Rg()}function eh(t,e,n=un+1){for(;n<_t.length;n++){const s=_t[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;_t.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Og(t){if(Ti.length){const e=[...new Set(Ti)].sort((n,s)=>$r(n)-$r(s));if(Ti.length=0,Zn){Zn.push(...e);return}for(Zn=e,gi=0;gi<Zn.length;gi++){const n=Zn[gi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zn=null,gi=0}}const $r=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ng(t){try{for(un=0;un<_t.length;un++){const e=_t[un];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),lo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;un<_t.length;un++){const e=_t[un];e&&(e.flags&=-2)}un=-1,_t.length=0,Og(),ia=null,(_t.length||Ti.length)&&Ng()}}let Qe=null,Mg=null;function ra(t){const e=Qe;return Qe=t,Mg=t&&t.type.__scopeId||null,e}function ie(t,e=Qe,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&ph(-1);const r=ra(e);let o;try{o=t(...i)}finally{ra(r),s._d&&ph(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function gn(t,e){if(Qe===null)return t;const n=ol(Qe),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Ne]=e[i];r&&(he(r)&&(r={mounted:r,updated:r}),r.deep&&An(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function xs(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(ws(),Jt(l,n,8,[t.el,a,t,e]),bs())}}const Lg=Symbol("_vte"),Dg=t=>t.__isTeleport,Tr=t=>t&&(t.disabled||t.disabled===""),th=t=>t&&(t.defer||t.defer===""),nh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,sh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Yc=(t,e)=>{const n=t&&t.to;return We(n)?e?e(n):null:n},Fg={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=c,w=Tr(e.props);let{shapeFlag:v,children:g,dynamicChildren:S}=e;if(t==null){const E=e.el=m(""),R=e.anchor=m("");h(E,n,s),h(R,n,s);const $=(T,x)=>{v&16&&(i&&i.isCE&&(i.ce._teleportTarget=T),u(g,T,x,i,r,o,a,l))},A=()=>{const T=e.target=Yc(e.props,p),x=$g(T,e,m,h);T&&(o!=="svg"&&nh(T)?o="svg":o!=="mathml"&&sh(T)&&(o="mathml"),w||($(T,x),$o(e,!1)))};w&&($(n,R),$o(e,!0)),th(e.props)?vt(()=>{A(),e.el.__isMounted=!0},r):A()}else{if(th(e.props)&&!t.el.__isMounted){vt(()=>{Fg.process(t,e,n,s,i,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,R=e.target=t.target,$=e.targetAnchor=t.targetAnchor,A=Tr(t.props),T=A?n:R,x=A?E:$;if(o==="svg"||nh(R)?o="svg":(o==="mathml"||sh(R))&&(o="mathml"),S?(f(t.dynamicChildren,S,T,i,r,o,a),hd(t,e,!0)):l||d(t,e,T,x,i,r,o,a,!1),w)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ko(e,n,E,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=Yc(e.props,p);B&&ko(e,B,null,c,0)}else A&&ko(e,R,$,c,1);$o(e,w)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Tr(f);for(let p=0;p<a.length;p++){const m=a[p];s(m,e,n,h,!!m.dynamicChildren)}}},move:ko,hydrate:kS};function ko(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||Tr(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&s(a,e,n)}function kS(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=Yc(e.props,l);if(f){const h=Tr(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||$g(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}$o(e,h)}return e.anchor&&o(e.anchor)}const Bg=Fg;function $o(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function $g(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[Lg]=r,t&&(s(i,t),s(r,t)),r}const es=Symbol("_leaveCb"),Po=Symbol("_enterCb");function PS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Re(()=>{t.isMounted=!0}),sl(()=>{t.isUnmounting=!0}),t}const Bt=[Function,Array],Ug={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bt,onEnter:Bt,onAfterEnter:Bt,onEnterCancelled:Bt,onBeforeLeave:Bt,onLeave:Bt,onAfterLeave:Bt,onLeaveCancelled:Bt,onBeforeAppear:Bt,onAppear:Bt,onAfterAppear:Bt,onAppearCancelled:Bt},jg=t=>{const e=t.subTree;return e.component?jg(e.component):e},AS={name:"BaseTransition",props:Ug,setup(t,{slots:e}){const n=Hi(),s=PS();return()=>{const i=e.default&&Wg(e.default(),!0);if(!i||!i.length)return;const r=Hg(i),o=Se(t),{mode:a}=o;if(s.isLeaving)return Gl(r);const l=ih(r);if(!l)return Gl(r);let c=Jc(l,o,s,n,d=>c=d);l.type!==ft&&Ur(l,c);let u=n.subTree&&ih(n.subTree);if(u&&u.type!==ft&&!Ls(l,u)&&jg(n).type!==ft){let d=Jc(u,o,s,n);if(Ur(u,d),a==="out-in"&&l.type!==ft)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},Gl(r);a==="in-out"&&l.type!==ft?d.delayLeave=(f,h,p)=>{const m=Vg(s,u);m[String(u.key)]=u,f[es]=()=>{h(),f[es]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function Hg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ft){e=n;break}}return e}const RS=AS;function Vg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Jc(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:w,onAfterAppear:v,onAppearCancelled:g}=e,S=String(t.key),E=Vg(n,t),R=(T,x)=>{T&&Jt(T,s,9,x)},$=(T,x)=>{const B=x[1];R(T,x),le(T)?T.every(O=>O.length<=1)&&B():T.length<=1&&B()},A={mode:o,persisted:a,beforeEnter(T){let x=l;if(!n.isMounted)if(r)x=y||l;else return;T[es]&&T[es](!0);const B=E[S];B&&Ls(t,B)&&B.el[es]&&B.el[es](),R(x,[T])},enter(T){let x=c,B=u,O=d;if(!n.isMounted)if(r)x=w||c,B=v||u,O=g||d;else return;let D=!1;const Q=T[Po]=ee=>{D||(D=!0,ee?R(O,[T]):R(B,[T]),A.delayedLeave&&A.delayedLeave(),T[Po]=void 0)};x?$(x,[T,Q]):Q()},leave(T,x){const B=String(t.key);if(T[Po]&&T[Po](!0),n.isUnmounting)return x();R(f,[T]);let O=!1;const D=T[es]=Q=>{O||(O=!0,x(),Q?R(m,[T]):R(p,[T]),T[es]=void 0,E[B]===t&&delete E[B])};E[B]=t,h?$(h,[T,D]):D()},clone(T){const x=Jc(T,e,n,s,i);return i&&i(x),x}};return A}function Gl(t){if(tl(t))return t=Bn(t),t.children=null,t}function ih(t){if(!tl(t))return Dg(t.type)&&t.children?Hg(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&he(n.default))return n.default()}}function Ur(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ur(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Wg(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Me?(o.patchFlag&128&&i++,s=s.concat(Wg(o.children,e,a))):(e||o.type!==ft)&&s.push(a!=null?Bn(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ct(t,e){return he(t)?rt({name:t.name},e,{setup:t}):t}function OS(){const t=Hi();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function zg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function oa(t,e,n,s,i=!1){if(le(t)){t.forEach((p,m)=>oa(p,e&&(le(e)?e[m]:e),n,s,i));return}if(Ci(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&oa(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?ol(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ne?a.refs={}:a.refs,d=a.setupState,f=Se(d),h=d===Ne?()=>!1:p=>Ie(f,p);if(c!=null&&c!==l&&(We(c)?(u[c]=null,h(c)&&(d[c]=null)):Ge(c)&&(c.value=null)),he(l))lo(l,a,12,[o,u]);else{const p=We(l),m=Ge(l);if(p||m){const y=()=>{if(t.f){const w=p?h(l)?d[l]:u[l]:l.value;i?le(w)&&ed(w,r):le(w)?w.includes(r)||w.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,vt(y,n)):y()}}}Ja().requestIdleCallback;Ja().cancelIdleCallback;const Ci=t=>!!t.type.__asyncLoader,tl=t=>t.type.__isKeepAlive;function qg(t,e){Kg(t,"a",e)}function Gg(t,e){Kg(t,"da",e)}function Kg(t,e,n=st){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(nl(e,s,n),n){let i=n.parent;for(;i&&i.parent;)tl(i.parent.vnode)&&NS(s,e,n,i),i=i.parent}}function NS(t,e,n,s){const i=nl(e,t,s,!0);kt(()=>{ed(s[e],i)},n)}function nl(t,e,n=st,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{ws();const a=co(n),l=Jt(e,n,t,o);return a(),bs(),l});return s?i.unshift(r):i.push(r),r}}const Vn=t=>(e,n=st)=>{(!Vr||t==="sp")&&nl(t,(...s)=>e(...s),n)},MS=Vn("bm"),Re=Vn("m"),Yg=Vn("bu"),cd=Vn("u"),sl=Vn("bum"),kt=Vn("um"),LS=Vn("sp"),DS=Vn("rtg"),FS=Vn("rtc");function BS(t,e=st){nl("ec",t,e)}const ud="components",$S="directives";function Ss(t,e){return dd(ud,t,!0,e)||t}const Jg=Symbol.for("v-ndc");function zt(t){return We(t)?dd(ud,t,!1)||t:t||Jg}function US(t){return dd($S,t)}function dd(t,e,n=!0,s=!1){const i=Qe||st;if(i){const r=i.type;if(t===ud){const a=xE(r,!1);if(a&&(a===e||a===Vt(e)||a===Ya(Vt(e))))return r}const o=rh(i[t]||r[t],e)||rh(i.appContext[t],e);return!o&&s?r:o}}function rh(t,e){return t&&(t[e]||t[Vt(e)]||t[Ya(Vt(e))])}function ci(t,e,n,s){let i;const r=n,o=le(t);if(o||We(t)){const a=o&&fs(t);let l=!1;a&&(l=!Ut(t),t=Qa(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?dt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ue(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function Kn(t,e,n={},s,i){if(Qe.ce||Qe.parent&&Ci(Qe.parent)&&Qe.parent.ce)return e!=="default"&&(n.name=e),P(),de(Me,null,[z("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),P();const o=r&&Qg(r(n)),a=n.key||o&&o.key,l=de(Me,{key:(a&&!Hn(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Qg(t){return t.some(e=>Hr(e)?!(e.type===ft||e.type===Me&&!Qg(e.children)):!0)?t:null}const Qc=t=>t?gv(t)?ol(t):Qc(t.parent):null,Cr=rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qc(t.parent),$root:t=>Qc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zg(t),$forceUpdate:t=>t.f||(t.f=()=>{ld(t.update)}),$nextTick:t=>t.n||(t.n=ji.bind(t.proxy)),$watch:t=>lE.bind(t)}),Kl=(t,e)=>t!==Ne&&!t.__isScriptSetup&&Ie(t,e),jS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Kl(s,e))return o[e]=1,s[e];if(i!==Ne&&Ie(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Ie(c,e))return o[e]=3,r[e];if(n!==Ne&&Ie(n,e))return o[e]=4,n[e];Xc&&(o[e]=0)}}const u=Cr[e];let d,f;if(u)return e==="$attrs"&&ut(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ne&&Ie(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ie(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Kl(i,e)?(i[e]=n,!0):s!==Ne&&Ie(s,e)?(s[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Ne&&Ie(t,o)||Kl(e,o)||(a=r[0])&&Ie(a,o)||Ie(s,o)||Ie(Cr,o)||Ie(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oh(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Xc=!0;function HS(t){const e=Zg(t),n=t.proxy,s=t.ctx;Xc=!1,e.beforeCreate&&ah(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:g,unmounted:S,render:E,renderTracked:R,renderTriggered:$,errorCaptured:A,serverPrefetch:T,expose:x,inheritAttrs:B,components:O,directives:D,filters:Q}=e;if(c&&VS(c,s,null),o)for(const re in o){const we=o[re];he(we)&&(s[re]=we.bind(n))}if(i){const re=i.call(n,n);Ue(re)&&(t.data=li(re))}if(Xc=!0,r)for(const re in r){const we=r[re],mt=he(we)?we.bind(n,n):he(we.get)?we.get.bind(n,n):mn,St=!he(we)&&he(we.set)?we.set.bind(n):mn,me=te({get:mt,set:St});Object.defineProperty(s,re,{enumerable:!0,configurable:!0,get:()=>me.value,set:ge=>me.value=ge})}if(a)for(const re in a)Xg(a[re],s,n,re);if(l){const re=he(l)?l.call(n):l;Reflect.ownKeys(re).forEach(we=>{pt(we,re[we])})}u&&ah(u,t,"c");function ne(re,we){le(we)?we.forEach(mt=>re(mt.bind(n))):we&&re(we.bind(n))}if(ne(MS,d),ne(Re,f),ne(Yg,h),ne(cd,p),ne(qg,m),ne(Gg,y),ne(BS,A),ne(FS,R),ne(DS,$),ne(sl,v),ne(kt,S),ne(LS,T),le(x))if(x.length){const re=t.exposed||(t.exposed={});x.forEach(we=>{Object.defineProperty(re,we,{get:()=>n[we],set:mt=>n[we]=mt})})}else t.exposed||(t.exposed={});E&&t.render===mn&&(t.render=E),B!=null&&(t.inheritAttrs=B),O&&(t.components=O),D&&(t.directives=D),T&&zg(t)}function VS(t,e,n=mn){le(t)&&(t=Zc(t));for(const s in t){const i=t[s];let r;Ue(i)?"default"in i?r=je(i.from||s,i.default,!0):r=je(i.from||s):r=je(i),Ge(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function ah(t,e,n){Jt(le(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Xg(t,e,n,s){let i=s.includes(".")?dv(n,s):()=>n[s];if(We(t)){const r=e[t];he(r)&&Lt(i,r)}else if(he(t))Lt(i,t.bind(n));else if(Ue(t))if(le(t))t.forEach(r=>Xg(r,e,n,s));else{const r=he(t.handler)?t.handler.bind(n):e[t.handler];he(r)&&Lt(i,r,t)}}function Zg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>aa(l,c,o,!0)),aa(l,e,o)),Ue(e)&&r.set(e,l),l}function aa(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&aa(t,r,n,!0),i&&i.forEach(o=>aa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=WS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const WS={data:lh,props:ch,emits:ch,methods:vr,computed:vr,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:vr,directives:vr,watch:qS,provide:lh,inject:zS};function lh(t,e){return e?t?function(){return rt(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function zS(t,e){return vr(Zc(t),Zc(e))}function Zc(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gt(t,e){return t?[...new Set([].concat(t,e))]:e}function vr(t,e){return t?rt(Object.create(null),t,e):e}function ch(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:rt(Object.create(null),oh(t),oh(e??{})):e}function qS(t,e){if(!t)return e;if(!e)return t;const n=rt(Object.create(null),t);for(const s in e)n[s]=gt(t[s],e[s]);return n}function ev(){return{app:null,config:{isNativeTag:Fb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GS=0;function KS(t,e){return function(s,i=null){he(s)||(s=rt({},s)),i!=null&&!Ue(i)&&(i=null);const r=ev(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:GS++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:PE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&he(u.install)?(o.add(u),u.install(c,...d)):he(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||z(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,ol(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Jt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Vs;Vs=c;try{return u()}finally{Vs=d}}};return c}}let Vs=null;function pt(t,e){if(st){let n=st.provides;const s=st.parent&&st.parent.provides;s===n&&(n=st.provides=Object.create(s)),n[t]=e}}function je(t,e,n=!1){const s=st||Qe;if(s||Vs){const i=Vs?Vs._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&he(e)?e.call(s&&s.proxy):e}}function YS(){return!!(st||Qe||Vs)}const tv={},nv=()=>Object.create(tv),sv=t=>Object.getPrototypeOf(t)===tv;function JS(t,e,n,s=!1){const i={},r=nv();t.propsDefaults=Object.create(null),iv(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Tg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function QS(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Se(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(il(t.emitsOptions,f))continue;const h=e[f];if(l)if(Ie(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Vt(f);i[p]=eu(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{iv(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!Ie(e,d)&&((u=_s(d))===d||!Ie(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=eu(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Ie(e,d))&&(delete r[d],c=!0)}c&&Pn(t.attrs,"set","")}function iv(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(br(l))continue;const c=e[l];let u;i&&Ie(i,u=Vt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:il(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Se(n),c=a||Ne;for(let u=0;u<r.length;u++){const d=r[u];n[d]=eu(i,l,d,c[d],t,!Ie(c,d))}}return o}function eu(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Ie(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=co(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===_s(n))&&(s=!0))}return s}const XS=new WeakMap;function rv(t,e,n=!1){const s=n?XS:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!he(t)){const u=d=>{l=!0;const[f,h]=rv(d,e,!0);rt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ue(t)&&s.set(t,Si),Si;if(le(r))for(let u=0;u<r.length;u++){const d=Vt(r[u]);uh(d)&&(o[d]=Ne)}else if(r)for(const u in r){const d=Vt(u);if(uh(d)){const f=r[u],h=o[d]=le(f)||he(f)?{type:f}:rt({},f),p=h.type;let m=!1,y=!0;if(le(p))for(let w=0;w<p.length;++w){const v=p[w],g=he(v)&&v.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=he(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||Ie(h,"default"))&&a.push(d)}}const c=[o,a];return Ue(t)&&s.set(t,c),c}function uh(t){return t[0]!=="$"&&!br(t)}const ov=t=>t[0]==="_"||t==="$stable",fd=t=>le(t)?t.map(dn):[dn(t)],ZS=(t,e,n)=>{if(e._n)return e;const s=ie((...i)=>fd(e(...i)),n);return s._c=!1,s},av=(t,e,n)=>{const s=t._ctx;for(const i in t){if(ov(i))continue;const r=t[i];if(he(r))e[i]=ZS(i,r,s);else if(r!=null){const o=fd(r);e[i]=()=>o}}},lv=(t,e)=>{const n=fd(e);t.slots.default=()=>n},cv=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},eE=(t,e,n)=>{const s=t.slots=nv();if(t.vnode.shapeFlag&32){const i=e._;i?(cv(s,e,n),n&&sg(s,"_",i,!0)):av(e,s)}else e&&lv(t,e)},tE=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Ne;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:cv(i,e,n):(r=!e.$stable,av(e,i)),o=e}else e&&(lv(t,e),o={default:1});if(r)for(const a in i)!ov(a)&&o[a]==null&&delete i[a]},vt=mE;function nE(t){return sE(t)}function sE(t,e){const n=Ja();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=mn,insertStaticContent:p}=t,m=(_,b,I,N=null,F=null,L=null,K=void 0,q=null,W=!!b.dynamicChildren)=>{if(_===b)return;_&&!Ls(_,b)&&(N=M(_),ge(_,F,L,!0),_=null),b.patchFlag===-2&&(W=!1,b.dynamicChildren=null);const{type:U,ref:oe,shapeFlag:J}=b;switch(U){case rl:y(_,b,I,N);break;case ft:w(_,b,I,N);break;case Jl:_==null&&v(b,I,N,K);break;case Me:O(_,b,I,N,F,L,K,q,W);break;default:J&1?E(_,b,I,N,F,L,K,q,W):J&6?D(_,b,I,N,F,L,K,q,W):(J&64||J&128)&&U.process(_,b,I,N,F,L,K,q,W,Z)}oe!=null&&F&&oa(oe,_&&_.ref,L,b||_,!b)},y=(_,b,I,N)=>{if(_==null)s(b.el=a(b.children),I,N);else{const F=b.el=_.el;b.children!==_.children&&c(F,b.children)}},w=(_,b,I,N)=>{_==null?s(b.el=l(b.children||""),I,N):b.el=_.el},v=(_,b,I,N)=>{[_.el,_.anchor]=p(_.children,b,I,N,_.el,_.anchor)},g=({el:_,anchor:b},I,N)=>{let F;for(;_&&_!==b;)F=f(_),s(_,I,N),_=F;s(b,I,N)},S=({el:_,anchor:b})=>{let I;for(;_&&_!==b;)I=f(_),i(_),_=I;i(b)},E=(_,b,I,N,F,L,K,q,W)=>{b.type==="svg"?K="svg":b.type==="math"&&(K="mathml"),_==null?R(b,I,N,F,L,K,q,W):T(_,b,F,L,K,q,W)},R=(_,b,I,N,F,L,K,q)=>{let W,U;const{props:oe,shapeFlag:J,transition:se,dirs:fe}=_;if(W=_.el=o(_.type,L,oe&&oe.is,oe),J&8?u(W,_.children):J&16&&A(_.children,W,null,N,F,Yl(_,L),K,q),fe&&xs(_,null,N,"created"),$(W,_,_.scopeId,K,N),oe){for(const De in oe)De!=="value"&&!br(De)&&r(W,De,null,oe[De],L,N);"value"in oe&&r(W,"value",null,oe.value,L),(U=oe.onVnodeBeforeMount)&&ln(U,N,_)}fe&&xs(_,null,N,"beforeMount");const be=iE(F,se);be&&se.beforeEnter(W),s(W,b,I),((U=oe&&oe.onVnodeMounted)||be||fe)&&vt(()=>{U&&ln(U,N,_),be&&se.enter(W),fe&&xs(_,null,N,"mounted")},F)},$=(_,b,I,N,F)=>{if(I&&h(_,I),N)for(let L=0;L<N.length;L++)h(_,N[L]);if(F){let L=F.subTree;if(b===L||hv(L.type)&&(L.ssContent===b||L.ssFallback===b)){const K=F.vnode;$(_,K,K.scopeId,K.slotScopeIds,F.parent)}}},A=(_,b,I,N,F,L,K,q,W=0)=>{for(let U=W;U<_.length;U++){const oe=_[U]=q?ts(_[U]):dn(_[U]);m(null,oe,b,I,N,F,L,K,q)}},T=(_,b,I,N,F,L,K)=>{const q=b.el=_.el;let{patchFlag:W,dynamicChildren:U,dirs:oe}=b;W|=_.patchFlag&16;const J=_.props||Ne,se=b.props||Ne;let fe;if(I&&ks(I,!1),(fe=se.onVnodeBeforeUpdate)&&ln(fe,I,b,_),oe&&xs(b,_,I,"beforeUpdate"),I&&ks(I,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&u(q,""),U?x(_.dynamicChildren,U,q,I,N,Yl(b,F),L):K||we(_,b,q,null,I,N,Yl(b,F),L,!1),W>0){if(W&16)B(q,J,se,I,F);else if(W&2&&J.class!==se.class&&r(q,"class",null,se.class,F),W&4&&r(q,"style",J.style,se.style,F),W&8){const be=b.dynamicProps;for(let De=0;De<be.length;De++){const ke=be[De],Pt=J[ke],Et=se[ke];(Et!==Pt||ke==="value")&&r(q,ke,Pt,Et,F,I)}}W&1&&_.children!==b.children&&u(q,b.children)}else!K&&U==null&&B(q,J,se,I,F);((fe=se.onVnodeUpdated)||oe)&&vt(()=>{fe&&ln(fe,I,b,_),oe&&xs(b,_,I,"updated")},N)},x=(_,b,I,N,F,L,K)=>{for(let q=0;q<b.length;q++){const W=_[q],U=b[q],oe=W.el&&(W.type===Me||!Ls(W,U)||W.shapeFlag&70)?d(W.el):I;m(W,U,oe,null,N,F,L,K,!0)}},B=(_,b,I,N,F)=>{if(b!==I){if(b!==Ne)for(const L in b)!br(L)&&!(L in I)&&r(_,L,b[L],null,F,N);for(const L in I){if(br(L))continue;const K=I[L],q=b[L];K!==q&&L!=="value"&&r(_,L,q,K,F,N)}"value"in I&&r(_,"value",b.value,I.value,F)}},O=(_,b,I,N,F,L,K,q,W)=>{const U=b.el=_?_.el:a(""),oe=b.anchor=_?_.anchor:a("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:fe}=b;fe&&(q=q?q.concat(fe):fe),_==null?(s(U,I,N),s(oe,I,N),A(b.children||[],I,oe,F,L,K,q,W)):J>0&&J&64&&se&&_.dynamicChildren?(x(_.dynamicChildren,se,I,F,L,K,q),(b.key!=null||F&&b===F.subTree)&&hd(_,b,!0)):we(_,b,I,oe,F,L,K,q,W)},D=(_,b,I,N,F,L,K,q,W)=>{b.slotScopeIds=q,_==null?b.shapeFlag&512?F.ctx.activate(b,I,N,K,W):Q(b,I,N,F,L,K,W):ee(_,b,W)},Q=(_,b,I,N,F,L,K)=>{const q=_.component=SE(_,N,F);if(tl(_)&&(q.ctx.renderer=Z),EE(q,!1,K),q.asyncDep){if(F&&F.registerDep(q,ne,K),!_.el){const W=q.subTree=z(ft);w(null,W,b,I)}}else ne(q,_,b,I,F,L,K)},ee=(_,b,I)=>{const N=b.component=_.component;if(hE(_,b,I))if(N.asyncDep&&!N.asyncResolved){re(N,b,I);return}else N.next=b,N.update();else b.el=_.el,N.vnode=b},ne=(_,b,I,N,F,L,K)=>{const q=()=>{if(_.isMounted){let{next:J,bu:se,u:fe,parent:be,vnode:De}=_;{const on=uv(_);if(on){J&&(J.el=De.el,re(_,J,K)),on.asyncDep.then(()=>{_.isUnmounted||q()});return}}let ke=J,Pt;ks(_,!1),J?(J.el=De.el,re(_,J,K)):J=De,se&&Bo(se),(Pt=J.props&&J.props.onVnodeBeforeUpdate)&&ln(Pt,be,J,De),ks(_,!0);const Et=fh(_),rn=_.subTree;_.subTree=Et,m(rn,Et,d(rn.el),M(rn),_,F,L),J.el=Et.el,ke===null&&pE(_,Et.el),fe&&vt(fe,F),(Pt=J.props&&J.props.onVnodeUpdated)&&vt(()=>ln(Pt,be,J,De),F)}else{let J;const{el:se,props:fe}=b,{bm:be,m:De,parent:ke,root:Pt,type:Et}=_,rn=Ci(b);ks(_,!1),be&&Bo(be),!rn&&(J=fe&&fe.onVnodeBeforeMount)&&ln(J,ke,b),ks(_,!0);{Pt.ce&&Pt.ce._injectChildStyle(Et);const on=_.subTree=fh(_);m(null,on,I,N,_,F,L),b.el=on.el}if(De&&vt(De,F),!rn&&(J=fe&&fe.onVnodeMounted)){const on=b;vt(()=>ln(J,ke,on),F)}(b.shapeFlag&256||ke&&Ci(ke.vnode)&&ke.vnode.shapeFlag&256)&&_.a&&vt(_.a,F),_.isMounted=!0,b=I=N=null}};_.scope.on();const W=_.effect=new ug(q);_.scope.off();const U=_.update=W.run.bind(W),oe=_.job=W.runIfDirty.bind(W);oe.i=_,oe.id=_.uid,W.scheduler=()=>ld(oe),ks(_,!0),U()},re=(_,b,I)=>{b.component=_;const N=_.vnode.props;_.vnode=b,_.next=null,QS(_,b.props,N,I),tE(_,b.children,I),ws(),eh(_),bs()},we=(_,b,I,N,F,L,K,q,W=!1)=>{const U=_&&_.children,oe=_?_.shapeFlag:0,J=b.children,{patchFlag:se,shapeFlag:fe}=b;if(se>0){if(se&128){St(U,J,I,N,F,L,K,q,W);return}else if(se&256){mt(U,J,I,N,F,L,K,q,W);return}}fe&8?(oe&16&&ot(U,F,L),J!==U&&u(I,J)):oe&16?fe&16?St(U,J,I,N,F,L,K,q,W):ot(U,F,L,!0):(oe&8&&u(I,""),fe&16&&A(J,I,N,F,L,K,q,W))},mt=(_,b,I,N,F,L,K,q,W)=>{_=_||Si,b=b||Si;const U=_.length,oe=b.length,J=Math.min(U,oe);let se;for(se=0;se<J;se++){const fe=b[se]=W?ts(b[se]):dn(b[se]);m(_[se],fe,I,null,F,L,K,q,W)}U>oe?ot(_,F,L,!0,!1,J):A(b,I,N,F,L,K,q,W,J)},St=(_,b,I,N,F,L,K,q,W)=>{let U=0;const oe=b.length;let J=_.length-1,se=oe-1;for(;U<=J&&U<=se;){const fe=_[U],be=b[U]=W?ts(b[U]):dn(b[U]);if(Ls(fe,be))m(fe,be,I,null,F,L,K,q,W);else break;U++}for(;U<=J&&U<=se;){const fe=_[J],be=b[se]=W?ts(b[se]):dn(b[se]);if(Ls(fe,be))m(fe,be,I,null,F,L,K,q,W);else break;J--,se--}if(U>J){if(U<=se){const fe=se+1,be=fe<oe?b[fe].el:N;for(;U<=se;)m(null,b[U]=W?ts(b[U]):dn(b[U]),I,be,F,L,K,q,W),U++}}else if(U>se)for(;U<=J;)ge(_[U],F,L,!0),U++;else{const fe=U,be=U,De=new Map;for(U=be;U<=se;U++){const At=b[U]=W?ts(b[U]):dn(b[U]);At.key!=null&&De.set(At.key,U)}let ke,Pt=0;const Et=se-be+1;let rn=!1,on=0;const sr=new Array(Et);for(U=0;U<Et;U++)sr[U]=0;for(U=fe;U<=J;U++){const At=_[U];if(Pt>=Et){ge(At,F,L,!0);continue}let an;if(At.key!=null)an=De.get(At.key);else for(ke=be;ke<=se;ke++)if(sr[ke-be]===0&&Ls(At,b[ke])){an=ke;break}an===void 0?ge(At,F,L,!0):(sr[an-be]=U+1,an>=on?on=an:rn=!0,m(At,b[an],I,null,F,L,K,q,W),Pt++)}const Yf=rn?rE(sr):Si;for(ke=Yf.length-1,U=Et-1;U>=0;U--){const At=be+U,an=b[At],Jf=At+1<oe?b[At+1].el:N;sr[U]===0?m(null,an,I,Jf,F,L,K,q,W):rn&&(ke<0||U!==Yf[ke]?me(an,I,Jf,2):ke--)}}},me=(_,b,I,N,F=null)=>{const{el:L,type:K,transition:q,children:W,shapeFlag:U}=_;if(U&6){me(_.component.subTree,b,I,N);return}if(U&128){_.suspense.move(b,I,N);return}if(U&64){K.move(_,b,I,Z);return}if(K===Me){s(L,b,I);for(let J=0;J<W.length;J++)me(W[J],b,I,N);s(_.anchor,b,I);return}if(K===Jl){g(_,b,I);return}if(N!==2&&U&1&&q)if(N===0)q.beforeEnter(L),s(L,b,I),vt(()=>q.enter(L),F);else{const{leave:J,delayLeave:se,afterLeave:fe}=q,be=()=>s(L,b,I),De=()=>{J(L,()=>{be(),fe&&fe()})};se?se(L,be,De):De()}else s(L,b,I)},ge=(_,b,I,N=!1,F=!1)=>{const{type:L,props:K,ref:q,children:W,dynamicChildren:U,shapeFlag:oe,patchFlag:J,dirs:se,cacheIndex:fe}=_;if(J===-2&&(F=!1),q!=null&&oa(q,null,I,_,!0),fe!=null&&(b.renderCache[fe]=void 0),oe&256){b.ctx.deactivate(_);return}const be=oe&1&&se,De=!Ci(_);let ke;if(De&&(ke=K&&K.onVnodeBeforeUnmount)&&ln(ke,b,_),oe&6)Gn(_.component,I,N);else{if(oe&128){_.suspense.unmount(I,N);return}be&&xs(_,null,b,"beforeUnmount"),oe&64?_.type.remove(_,b,I,Z,N):U&&!U.hasOnce&&(L!==Me||J>0&&J&64)?ot(U,b,I,!1,!0):(L===Me&&J&384||!F&&oe&16)&&ot(W,b,I),N&&Ye(_)}(De&&(ke=K&&K.onVnodeUnmounted)||be)&&vt(()=>{ke&&ln(ke,b,_),be&&xs(_,null,b,"unmounted")},I)},Ye=_=>{const{type:b,el:I,anchor:N,transition:F}=_;if(b===Me){Je(I,N);return}if(b===Jl){S(_);return}const L=()=>{i(I),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:K,delayLeave:q}=F,W=()=>K(I,L);q?q(_.el,L,W):W()}else L()},Je=(_,b)=>{let I;for(;_!==b;)I=f(_),i(_),_=I;i(b)},Gn=(_,b,I)=>{const{bum:N,scope:F,job:L,subTree:K,um:q,m:W,a:U}=_;dh(W),dh(U),N&&Bo(N),F.stop(),L&&(L.flags|=8,ge(K,_,b,I)),q&&vt(q,b),vt(()=>{_.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},ot=(_,b,I,N=!1,F=!1,L=0)=>{for(let K=L;K<_.length;K++)ge(_[K],b,I,N,F)},M=_=>{if(_.shapeFlag&6)return M(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=f(_.anchor||_.el),I=b&&b[Lg];return I?f(I):b};let X=!1;const Y=(_,b,I)=>{_==null?b._vnode&&ge(b._vnode,null,null,!0):m(b._vnode||null,_,b,null,null,null,I),b._vnode=_,X||(X=!0,eh(),Og(),X=!1)},Z={p:m,um:ge,m:me,r:Ye,mt:Q,mc:A,pc:we,pbc:x,n:M,o:t};return{render:Y,hydrate:void 0,createApp:KS(Y)}}function Yl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ks({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function iE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function hd(t,e,n=!1){const s=t.children,i=e.children;if(le(s)&&le(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=ts(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&hd(o,a)),a.type===rl&&(a.el=o.el)}}function rE(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function uv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:uv(e)}function dh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const oE=Symbol.for("v-scx"),aE=()=>je(oE);function Qt(t,e){return pd(t,null,e)}function Lt(t,e,n){return pd(t,e,n)}function pd(t,e,n=Ne){const{immediate:s,deep:i,flush:r,once:o}=n,a=rt({},n),l=e&&s||!e&&r!=="post";let c;if(Vr){if(r==="sync"){const h=aE();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=mn,h.resume=mn,h.pause=mn,h}}const u=st;a.call=(h,p,m)=>Jt(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():ld(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=TS(t,e,a);return Vr&&(c?c.push(f):l&&f()),f}function lE(t,e,n){const s=this.proxy,i=We(t)?t.includes(".")?dv(s,t):()=>s[t]:t.bind(s,s);let r;he(e)?r=e:(r=e.handler,n=e);const o=co(this),a=pd(i,r.bind(s),n);return o(),a}function dv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const cE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Vt(e)}Modifiers`]||t[`${_s(e)}Modifiers`];function uE(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ne;let i=n;const r=e.startsWith("update:"),o=r&&cE(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>We(u)?u.trim():u)),o.number&&(i=n.map(Wc)));let a,l=s[a=Hl(e)]||s[a=Hl(Vt(e))];!l&&r&&(l=s[a=Hl(_s(e))]),l&&Jt(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Jt(c,t,6,i)}}function fv(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!he(t)){const l=c=>{const u=fv(c,e,!0);u&&(a=!0,rt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ue(t)&&s.set(t,null),null):(le(r)?r.forEach(l=>o[l]=null):rt(o,r),Ue(t)&&s.set(t,o),o)}function il(t,e){return!t||!qa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,_s(e))||Ie(t,e))}function fh(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=ra(t);let w,v;try{if(n.shapeFlag&4){const S=i||s,E=S;w=dn(c.call(E,S,u,d,h,f,p)),v=a}else{const S=e;w=dn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),v=e.props?a:dE(a)}}catch(S){Ir.length=0,el(S,t,1),w=z(ft)}let g=w;if(v&&m!==!1){const S=Object.keys(v),{shapeFlag:E}=g;S.length&&E&7&&(r&&S.some(Zu)&&(v=fE(v,r)),g=Bn(g,v,!1,!0))}return n.dirs&&(g=Bn(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Ur(g,n.transition),w=g,ra(y),w}const dE=t=>{let e;for(const n in t)(n==="class"||n==="style"||qa(n))&&((e||(e={}))[n]=t[n]);return e},fE=(t,e)=>{const n={};for(const s in t)(!Zu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function hE(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?hh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!il(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?hh(s,o,c):!0:!!o;return!1}function hh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!il(n,r))return!0}return!1}function pE({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const hv=t=>t.__isSuspense;function mE(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):xS(t)}const Me=Symbol.for("v-fgt"),rl=Symbol.for("v-txt"),ft=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),Ir=[];let Mt=null;function P(t=!1){Ir.push(Mt=t?null:[])}function gE(){Ir.pop(),Mt=Ir[Ir.length-1]||null}let jr=1;function ph(t,e=!1){jr+=t,t<0&&Mt&&e&&(Mt.hasOnce=!0)}function pv(t){return t.dynamicChildren=jr>0?Mt||Si:null,gE(),jr>0&&Mt&&Mt.push(t),t}function V(t,e,n,s,i,r){return pv(C(t,e,n,s,i,r,!0))}function de(t,e,n,s,i){return pv(z(t,e,n,s,i,!0))}function Hr(t){return t?t.__v_isVNode===!0:!1}function Ls(t,e){return t.type===e.type&&t.key===e.key}const mv=({key:t})=>t??null,Uo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||Ge(t)||he(t)?{i:Qe,r:t,k:e,f:!!n}:t:null);function C(t,e=null,n=null,s=0,i=null,r=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mv(e),ref:e&&Uo(e),scopeId:Mg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qe};return a?(md(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=We(n)?8:16),jr>0&&!o&&Mt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Mt.push(l),l}const z=vE;function vE(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Jg)&&(t=ft),Hr(t)){const a=Bn(t,e,!0);return n&&md(a,n),jr>0&&!r&&Mt&&(a.shapeFlag&6?Mt[Mt.indexOf(t)]=a:Mt.push(a)),a.patchFlag=-2,a}if(kE(t)&&(t=t.__vccOpts),e){e=yE(e);let{class:a,style:l}=e;a&&!We(a)&&(e.class=ze(a)),Ue(l)&&(Xa(l)&&!le(l)&&(l=rt({},l)),e.style=ao(l))}const o=We(t)?1:hv(t)?128:Dg(t)?64:Ue(t)?4:he(t)?2:0;return C(t,e,n,s,i,o,r,!0)}function yE(t){return t?Xa(t)||sv(t)?rt({},t):t:null}function Bn(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?_E(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&mv(c),ref:e&&e.ref?n&&r?le(r)?r.concat(Uo(e)):[r,Uo(e)]:Uo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bn(t.ssContent),ssFallback:t.ssFallback&&Bn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ur(u,l.clone(u)),u}function He(t=" ",e=0){return z(rl,null,t,e)}function xe(t="",e=!1){return e?(P(),de(ft,null,t)):z(ft,null,t)}function dn(t){return t==null||typeof t=="boolean"?z(ft):le(t)?z(Me,null,t.slice()):Hr(t)?ts(t):z(rl,null,String(t))}function ts(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bn(t)}function md(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),md(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!sv(e)?e._ctx=Qe:i===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:Qe},n=32):(e=String(e),s&64?(n=16,e=[He(e)]):n=8);t.children=e,t.shapeFlag|=n}function _E(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=ze([e.class,s.class]));else if(i==="style")e.style=ao([e.style,s.style]);else if(qa(i)){const r=e[i],o=s[i];o&&r!==o&&!(le(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ln(t,e,n,s=null){Jt(t,e,7,[n,s])}const wE=ev();let bE=0;function SE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||wE,r={uid:bE++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ag(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rv(s,i),emitsOptions:fv(s,i),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:s.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=uE.bind(null,r),t.ce&&t.ce(r),r}let st=null;const Hi=()=>st||Qe;let la,tu;{const t=Ja(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};la=e("__VUE_INSTANCE_SETTERS__",n=>st=n),tu=e("__VUE_SSR_SETTERS__",n=>Vr=n)}const co=t=>{const e=st;return la(t),t.scope.on(),()=>{t.scope.off(),la(e)}},mh=()=>{st&&st.scope.off(),la(null)};function gv(t){return t.vnode.shapeFlag&4}let Vr=!1;function EE(t,e=!1,n=!1){e&&tu(e);const{props:s,children:i}=t.vnode,r=gv(t);JS(t,s,r,e),eE(t,i,n);const o=r?TE(t,e):void 0;return e&&tu(!1),o}function TE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jS);const{setup:s}=n;if(s){ws();const i=t.setupContext=s.length>1?IE(t):null,r=co(t),o=lo(s,t,0,[t.props,i]),a=eg(o);if(bs(),r(),(a||t.sp)&&!Ci(t)&&zg(t),a){if(o.then(mh,mh),e)return o.then(l=>{gh(t,l)}).catch(l=>{el(l,t,0)});t.asyncDep=o}else gh(t,o)}else vv(t)}function gh(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=kg(e)),vv(t)}function vv(t,e,n){const s=t.type;t.render||(t.render=s.render||mn);{const i=co(t);ws();try{HS(t)}finally{bs(),i()}}}const CE={get(t,e){return ut(t,"get",""),t[e]}};function IE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,CE),slots:t.slots,emit:t.emit,expose:e}}function ol(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(kg(Za(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Cr)return Cr[n](t)},has(e,n){return n in e||n in Cr}})):t.proxy}function xE(t,e=!0){return he(t)?t.displayName||t.name:t.name||e&&t.__name}function kE(t){return he(t)&&"__vccOpts"in t}const te=(t,e)=>SS(t,e,Vr);function Ee(t,e,n){const s=arguments.length;return s===2?Ue(e)&&!le(e)?Hr(e)?z(t,null,[e]):z(t,e):z(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Hr(n)&&(n=[n]),z(t,e,n))}const PE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nu;const vh=typeof window<"u"&&window.trustedTypes;if(vh)try{nu=vh.createPolicy("vue",{createHTML:t=>t})}catch{}const yv=nu?t=>nu.createHTML(t):t=>t,AE="http://www.w3.org/2000/svg",RE="http://www.w3.org/1998/Math/MathML",In=typeof document<"u"?document:null,yh=In&&In.createElement("template"),OE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?In.createElementNS(AE,t):e==="mathml"?In.createElementNS(RE,t):n?In.createElement(t,{is:n}):In.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>In.createTextNode(t),createComment:t=>In.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>In.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{yh.innerHTML=yv(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=yh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Yn="transition",rr="animation",Wr=Symbol("_vtc"),_v={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},NE=rt({},Ug,_v),ME=t=>(t.displayName="Transition",t.props=NE,t),LE=ME((t,{slots:e})=>Ee(RS,DE(t),e)),Ps=(t,e=[])=>{le(t)?t.forEach(n=>n(...e)):t&&t(...e)},_h=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function DE(t){const e={};for(const O in t)O in _v||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=FE(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:w,onEnter:v,onEnterCancelled:g,onLeave:S,onLeaveCancelled:E,onBeforeAppear:R=w,onAppear:$=v,onAppearCancelled:A=g}=e,T=(O,D,Q,ee)=>{O._enterCancelled=ee,As(O,D?u:a),As(O,D?c:o),Q&&Q()},x=(O,D)=>{O._isLeaving=!1,As(O,d),As(O,h),As(O,f),D&&D()},B=O=>(D,Q)=>{const ee=O?$:v,ne=()=>T(D,O,Q);Ps(ee,[D,ne]),wh(()=>{As(D,O?l:r),En(D,O?u:a),_h(ee)||bh(D,s,m,ne)})};return rt(e,{onBeforeEnter(O){Ps(w,[O]),En(O,r),En(O,o)},onBeforeAppear(O){Ps(R,[O]),En(O,l),En(O,c)},onEnter:B(!1),onAppear:B(!0),onLeave(O,D){O._isLeaving=!0;const Q=()=>x(O,D);En(O,d),O._enterCancelled?(En(O,f),Th()):(Th(),En(O,f)),wh(()=>{O._isLeaving&&(As(O,d),En(O,h),_h(S)||bh(O,s,y,Q))}),Ps(S,[O,Q])},onEnterCancelled(O){T(O,!1,void 0,!0),Ps(g,[O])},onAppearCancelled(O){T(O,!0,void 0,!0),Ps(A,[O])},onLeaveCancelled(O){x(O),Ps(E,[O])}})}function FE(t){if(t==null)return null;if(Ue(t))return[Ql(t.enter),Ql(t.leave)];{const e=Ql(t);return[e,e]}}function Ql(t){return Hb(t)}function En(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Wr]||(t[Wr]=new Set)).add(e)}function As(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Wr];n&&(n.delete(e),n.size||(t[Wr]=void 0))}function wh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let BE=0;function bh(t,e,n,s){const i=t._endId=++BE,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=$E(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function $E(t,e){const n=window.getComputedStyle(t),s=p=>(n[p]||"").split(", "),i=s(`${Yn}Delay`),r=s(`${Yn}Duration`),o=Sh(i,r),a=s(`${rr}Delay`),l=s(`${rr}Duration`),c=Sh(a,l);let u=null,d=0,f=0;e===Yn?o>0&&(u=Yn,d=o,f=r.length):e===rr?c>0&&(u=rr,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Yn:rr:null,f=u?u===Yn?r.length:l.length:0);const h=u===Yn&&/\b(transform|all)(,|$)/.test(s(`${Yn}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Sh(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Eh(n)+Eh(t[s])))}function Eh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Th(){return document.body.offsetHeight}function UE(t,e,n){const s=t[Wr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ca=Symbol("_vod"),wv=Symbol("_vsh"),bv={beforeMount(t,{value:e},{transition:n}){t[ca]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):or(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),or(t,!0),s.enter(t)):s.leave(t,()=>{or(t,!1)}):or(t,e))},beforeUnmount(t,{value:e}){or(t,e)}};function or(t,e){t.style.display=e?t[ca]:"none",t[wv]=!e}const jE=Symbol(""),HE=/(^|;)\s*display\s*:/;function VE(t,e,n){const s=t.style,i=We(n);let r=!1;if(n&&!i){if(e)if(We(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&jo(s,a,"")}else for(const o in e)n[o]==null&&jo(s,o,"");for(const o in n)o==="display"&&(r=!0),jo(s,o,n[o])}else if(i){if(e!==n){const o=s[jE];o&&(n+=";"+o),s.cssText=n,r=HE.test(n)}}else e&&t.removeAttribute("style");ca in t&&(t[ca]=r?s.display:"",t[wv]&&(s.display="none"))}const Ch=/\s*!important$/;function jo(t,e,n){if(le(n))n.forEach(s=>jo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=WE(t,e);Ch.test(n)?t.setProperty(_s(s),n.replace(Ch,""),"important"):t[s]=n}}const Ih=["Webkit","Moz","ms"],Xl={};function WE(t,e){const n=Xl[e];if(n)return n;let s=Vt(e);if(s!=="filter"&&s in t)return Xl[e]=s;s=Ya(s);for(let i=0;i<Ih.length;i++){const r=Ih[i]+s;if(r in t)return Xl[e]=r}return e}const xh="http://www.w3.org/1999/xlink";function kh(t,e,n,s,i,r=Kb(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(xh,e.slice(6,e.length)):t.setAttributeNS(xh,e,n):n==null||r&&!ig(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Hn(n)?String(n):n)}function Ph(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?yv(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=ig(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function vi(t,e,n,s){t.addEventListener(e,n,s)}function zE(t,e,n,s){t.removeEventListener(e,n,s)}const Ah=Symbol("_vei");function qE(t,e,n,s,i=null){const r=t[Ah]||(t[Ah]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=GE(e);if(s){const c=r[e]=JE(s,i);vi(t,a,c,l)}else o&&(zE(t,a,o,l),r[e]=void 0)}}const Rh=/(?:Once|Passive|Capture)$/;function GE(t){let e;if(Rh.test(t)){e={};let s;for(;s=t.match(Rh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_s(t.slice(2)),e]}let Zl=0;const KE=Promise.resolve(),YE=()=>Zl||(KE.then(()=>Zl=0),Zl=Date.now());function JE(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Jt(QE(s,n.value),e,5,[s])};return n.value=t,n.attached=YE(),n}function QE(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Oh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,XE=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?UE(t,s,o):e==="style"?VE(t,n,s):qa(e)?Zu(e)||qE(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ZE(t,e,s,o))?(Ph(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!We(s))?Ph(t,Vt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),kh(t,e,s,o))};function ZE(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Oh(e)&&he(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Oh(e)&&We(n)?!1:e in t}const Nh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?n=>Bo(e,n):e};function eT(t){t.target.composing=!0}function Mh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ec=Symbol("_assign"),Ws={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ec]=Nh(i);const r=s||i.props&&i.props.type==="number";vi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Wc(a)),t[ec](a)}),n&&vi(t,"change",()=>{t.value=t.value.trim()}),e||(vi(t,"compositionstart",eT),vi(t,"compositionend",Mh),vi(t,"change",Mh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[ec]=Nh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Wc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},tT=["ctrl","shift","alt","meta"],nT={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>tT.some(n=>t[`${n}Key`]&&!e.includes(n))},Rt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=nT[e[o]];if(a&&a(i,e))return}return t(i,...r)})},sT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},iT=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=_s(i.key);if(e.some(o=>o===r||sT[o]===r))return t(i)})},rT=rt({patchProp:XE},OE);let Lh;function oT(){return Lh||(Lh=nE(rT))}const aT=(...t)=>{const e=oT().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=cT(s);if(!i)return;const r=e._component;!he(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,lT(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function lT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cT(t){return We(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const yi=typeof document<"u";function Sv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function uT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Sv(t.default)}const Ce=Object.assign;function tc(t,e){const n={};for(const s in e){const i=e[s];n[s]=Xt(i)?i.map(t):t(i)}return n}const xr=()=>{},Xt=Array.isArray,Ev=/#/g,dT=/&/g,fT=/\//g,hT=/=/g,pT=/\?/g,Tv=/\+/g,mT=/%5B/g,gT=/%5D/g,Cv=/%5E/g,vT=/%60/g,Iv=/%7B/g,yT=/%7C/g,xv=/%7D/g,_T=/%20/g;function gd(t){return encodeURI(""+t).replace(yT,"|").replace(mT,"[").replace(gT,"]")}function wT(t){return gd(t).replace(Iv,"{").replace(xv,"}").replace(Cv,"^")}function su(t){return gd(t).replace(Tv,"%2B").replace(_T,"+").replace(Ev,"%23").replace(dT,"%26").replace(vT,"`").replace(Iv,"{").replace(xv,"}").replace(Cv,"^")}function bT(t){return su(t).replace(hT,"%3D")}function ST(t){return gd(t).replace(Ev,"%23").replace(pT,"%3F")}function ET(t){return t==null?"":ST(t).replace(fT,"%2F")}function zr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const TT=/\/$/,CT=t=>t.replace(TT,"");function nc(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=PT(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:zr(o)}}function IT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Dh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function xT(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Ni(e.matched[s],n.matched[i])&&kv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!kT(t[n],e[n]))return!1;return!0}function kT(t,e){return Xt(t)?Fh(t,e):Xt(e)?Fh(e,t):t===e}function Fh(t,e){return Xt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function PT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qr;(function(t){t.pop="pop",t.push="push"})(qr||(qr={}));var kr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(kr||(kr={}));function AT(t){if(!t)if(yi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),CT(t)}const RT=/^[^#]+#/;function OT(t,e){return t.replace(RT,"#")+e}function NT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const al=()=>({left:window.scrollX,top:window.scrollY});function MT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=NT(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Bh(t,e){return(history.state?history.state.position-e:-1)+t}const iu=new Map;function LT(t,e){iu.set(t,e)}function DT(t){const e=iu.get(t);return iu.delete(t),e}let FT=()=>location.protocol+"//"+location.host;function Pv(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Dh(l,"")}return Dh(n,t)+s+i}function BT(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=Pv(t,location),p=n.value,m=e.value;let y=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else s(h);i.forEach(w=>{w(n.value,p,{delta:y,type:qr.pop,direction:y?y>0?kr.forward:kr.back:kr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Ce({},f.state,{scroll:al()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function $h(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?al():null}}function $T(t){const{history:e,location:n}=window,s={value:Pv(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:FT()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ce({},e.state,$h(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Ce({},i.value,e.state,{forward:l,scroll:al()});r(u.current,u,!0);const d=Ce({},$h(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function UT(t){t=AT(t);const e=$T(t),n=BT(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ce({location:"",base:t,go:s,createHref:OT.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function jT(t){return typeof t=="string"||t&&typeof t=="object"}function Av(t){return typeof t=="string"||typeof t=="symbol"}const Rv=Symbol("");var Uh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Uh||(Uh={}));function Mi(t,e){return Ce(new Error,{type:t,[Rv]:!0},e)}function Tn(t,e){return t instanceof Error&&Rv in t&&(e==null||!!(t.type&e))}const jh="[^/]+?",HT={sensitive:!1,strict:!1,start:!0,end:!0},VT=/[.+*?^${}()[\]/\\]/g;function WT(t,e){const n=Ce({},HT,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(VT,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:w}=f;r.push({name:p,repeatable:m,optional:y});const v=w||jh;if(v!==jh){h+=10;try{new RegExp(`(${v})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+S.message)}}let g=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),i+=g,h+=20,y&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,w=p in c?c[p]:"";if(Xt(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Xt(w)?w.join("/"):w;if(!v)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function zT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ov(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=zT(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Hh(s))return 1;if(Hh(i))return-1}return i.length-s.length}function Hh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const qT={type:0,value:""},GT=/[a-zA-Z0-9_]/;function KT(t){if(!t)return[[]];if(t==="/")return[[qT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:GT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function YT(t,e,n){const s=WT(KT(t.path),n),i=Ce(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function JT(t,e){const n=[],s=new Map;e=qh({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const p=!h,m=Wh(d);m.aliasOf=h&&h.record;const y=qh(e,d),w=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of S)w.push(Wh(Ce({},m,{components:h?h.record.components:m.components,path:E,aliasOf:h?h.record:m})))}let v,g;for(const S of w){const{path:E}=S;if(f&&E[0]!=="/"){const R=f.record.path,$=R[R.length-1]==="/"?"":"/";S.path=f.record.path+(E&&$+E)}if(v=YT(S,f,y),h?h.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),p&&d.name&&!zh(v)&&o(d.name)),Nv(v)&&l(v),m.children){const R=m.children;for(let $=0;$<R.length;$++)r(R[$],v,h&&h.children[$])}h=h||v}return g?()=>{o(g)}:xr}function o(d){if(Av(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=ZT(d,n);n.splice(f,0,d),d.record.name&&!zh(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw Mi(1,{location:d});y=h.record.name,p=Ce(Vh(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&Vh(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?s.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw Mi(1,{location:d,currentLocation:f});y=h.record.name,p=Ce({},f.params,d.params),m=h.stringify(p)}const w=[];let v=h;for(;v;)w.unshift(v.record),v=v.parent;return{name:y,path:m,params:p,matched:w,meta:XT(w)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Vh(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Wh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:QT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function QT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function zh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function XT(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function qh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function ZT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;Ov(t,e[r])<0?s=r:n=r+1}const i=e0(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function e0(t){let e=t;for(;e=e.parent;)if(Nv(e)&&Ov(t,e)===0)return e}function Nv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function t0(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Tv," "),o=r.indexOf("="),a=zr(o<0?r:r.slice(0,o)),l=o<0?null:zr(r.slice(o+1));if(a in e){let c=e[a];Xt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Gh(t){let e="";for(let n in t){const s=t[n];if(n=bT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Xt(s)?s.map(r=>r&&su(r)):[s&&su(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function n0(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Xt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Mv=Symbol(""),Kh=Symbol(""),ll=Symbol(""),vd=Symbol(""),ru=Symbol("");function ar(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function s0(t,e,n){const s=()=>{t[e].delete(n)};kt(s),Gg(s),qg(()=>{t[e].add(n)}),t[e].add(n)}function i0(t){const e=je(Mv,{}).value;e&&s0(e,"updateGuards",t)}function ns(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Mi(4,{from:n,to:e})):f instanceof Error?l(f):jT(f)?l(Mi(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function sc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Sv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ns(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=uT(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ns(h,n,s,o,a,i)()}))}}return r}function Yh(t){const e=je(ll),n=je(vd),s=te(()=>{const l=G(t.to);return e.resolve(l)}),i=te(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Ni.bind(null,u));if(f>-1)return f;const h=Jh(l[c-2]);return c>1&&Jh(u)===h&&d[d.length-1].path!==h?d.findIndex(Ni.bind(null,l[c-2])):f}),r=te(()=>i.value>-1&&l0(n.params,s.value.params)),o=te(()=>i.value>-1&&i.value===n.matched.length-1&&kv(n.params,s.value.params));function a(l={}){if(a0(l)){const c=e[G(t.replace)?"replace":"push"](G(t.to)).catch(xr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:te(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function r0(t){return t.length===1?t[0]:t}const o0=ct({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Yh,setup(t,{slots:e}){const n=li(Yh(t)),{options:s}=je(ll),i=te(()=>({[Qh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Qh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&r0(e.default(n));return t.custom?r:Ee("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),cl=o0;function a0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function l0(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Xt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Jh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qh=(t,e,n)=>t??e??n,c0=ct({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=je(ru),i=te(()=>t.route||s.value),r=je(Kh,0),o=te(()=>{let c=G(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=te(()=>i.value.matched[o.value]);pt(Kh,te(()=>o.value+1)),pt(Mv,a),pt(ru,i);const l=j();return Lt(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ni(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Xh(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Ee(f,Ce({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Xh(n.default,{Component:y,route:c})||y}}});function Xh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const u0=c0;function d0(t){const e=JT(t.routes,t),n=t.parseQuery||t0,s=t.stringifyQuery||Gh,i=t.history,r=ar(),o=ar(),a=ar(),l=Ig(Jn);let c=Jn;yi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=tc.bind(null,M=>""+M),d=tc.bind(null,ET),f=tc.bind(null,zr);function h(M,X){let Y,Z;return Av(M)?(Y=e.getRecordMatcher(M),Z=X):Z=M,e.addRoute(Z,Y)}function p(M){const X=e.getRecordMatcher(M);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(M=>M.record)}function y(M){return!!e.getRecordMatcher(M)}function w(M,X){if(X=Ce({},X||l.value),typeof M=="string"){const I=nc(n,M,X.path),N=e.resolve({path:I.path},X),F=i.createHref(I.fullPath);return Ce(I,N,{params:f(N.params),hash:zr(I.hash),redirectedFrom:void 0,href:F})}let Y;if(M.path!=null)Y=Ce({},M,{path:nc(n,M.path,X.path).path});else{const I=Ce({},M.params);for(const N in I)I[N]==null&&delete I[N];Y=Ce({},M,{params:d(I)}),X.params=d(X.params)}const Z=e.resolve(Y,X),Oe=M.hash||"";Z.params=u(f(Z.params));const _=IT(s,Ce({},M,{hash:wT(Oe),path:Z.path})),b=i.createHref(_);return Ce({fullPath:_,hash:Oe,query:s===Gh?n0(M.query):M.query||{}},Z,{redirectedFrom:void 0,href:b})}function v(M){return typeof M=="string"?nc(n,M,l.value.path):Ce({},M)}function g(M,X){if(c!==M)return Mi(8,{from:X,to:M})}function S(M){return $(M)}function E(M){return S(Ce(v(M),{replace:!0}))}function R(M){const X=M.matched[M.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let Z=typeof Y=="function"?Y(M):Y;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=v(Z):{path:Z},Z.params={}),Ce({query:M.query,hash:M.hash,params:Z.path!=null?{}:M.params},Z)}}function $(M,X){const Y=c=w(M),Z=l.value,Oe=M.state,_=M.force,b=M.replace===!0,I=R(Y);if(I)return $(Ce(v(I),{state:typeof I=="object"?Ce({},Oe,I.state):Oe,force:_,replace:b}),X||Y);const N=Y;N.redirectedFrom=X;let F;return!_&&xT(s,Z,Y)&&(F=Mi(16,{to:N,from:Z}),me(Z,Z,!0,!1)),(F?Promise.resolve(F):x(N,Z)).catch(L=>Tn(L)?Tn(L,2)?L:St(L):we(L,N,Z)).then(L=>{if(L){if(Tn(L,2))return $(Ce({replace:b},v(L.to),{state:typeof L.to=="object"?Ce({},Oe,L.to.state):Oe,force:_}),X||N)}else L=O(N,Z,!0,b,Oe);return B(N,Z,L),L})}function A(M,X){const Y=g(M,X);return Y?Promise.reject(Y):Promise.resolve()}function T(M){const X=Je.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(M):M()}function x(M,X){let Y;const[Z,Oe,_]=f0(M,X);Y=sc(Z.reverse(),"beforeRouteLeave",M,X);for(const I of Z)I.leaveGuards.forEach(N=>{Y.push(ns(N,M,X))});const b=A.bind(null,M,X);return Y.push(b),ot(Y).then(()=>{Y=[];for(const I of r.list())Y.push(ns(I,M,X));return Y.push(b),ot(Y)}).then(()=>{Y=sc(Oe,"beforeRouteUpdate",M,X);for(const I of Oe)I.updateGuards.forEach(N=>{Y.push(ns(N,M,X))});return Y.push(b),ot(Y)}).then(()=>{Y=[];for(const I of _)if(I.beforeEnter)if(Xt(I.beforeEnter))for(const N of I.beforeEnter)Y.push(ns(N,M,X));else Y.push(ns(I.beforeEnter,M,X));return Y.push(b),ot(Y)}).then(()=>(M.matched.forEach(I=>I.enterCallbacks={}),Y=sc(_,"beforeRouteEnter",M,X,T),Y.push(b),ot(Y))).then(()=>{Y=[];for(const I of o.list())Y.push(ns(I,M,X));return Y.push(b),ot(Y)}).catch(I=>Tn(I,8)?I:Promise.reject(I))}function B(M,X,Y){a.list().forEach(Z=>T(()=>Z(M,X,Y)))}function O(M,X,Y,Z,Oe){const _=g(M,X);if(_)return _;const b=X===Jn,I=yi?history.state:{};Y&&(Z||b?i.replace(M.fullPath,Ce({scroll:b&&I&&I.scroll},Oe)):i.push(M.fullPath,Oe)),l.value=M,me(M,X,Y,b),St()}let D;function Q(){D||(D=i.listen((M,X,Y)=>{if(!Gn.listening)return;const Z=w(M),Oe=R(Z);if(Oe){$(Ce(Oe,{replace:!0,force:!0}),Z).catch(xr);return}c=Z;const _=l.value;yi&&LT(Bh(_.fullPath,Y.delta),al()),x(Z,_).catch(b=>Tn(b,12)?b:Tn(b,2)?($(Ce(v(b.to),{force:!0}),Z).then(I=>{Tn(I,20)&&!Y.delta&&Y.type===qr.pop&&i.go(-1,!1)}).catch(xr),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),we(b,Z,_))).then(b=>{b=b||O(Z,_,!1),b&&(Y.delta&&!Tn(b,8)?i.go(-Y.delta,!1):Y.type===qr.pop&&Tn(b,20)&&i.go(-1,!1)),B(Z,_,b)}).catch(xr)}))}let ee=ar(),ne=ar(),re;function we(M,X,Y){St(M);const Z=ne.list();return Z.length?Z.forEach(Oe=>Oe(M,X,Y)):console.error(M),Promise.reject(M)}function mt(){return re&&l.value!==Jn?Promise.resolve():new Promise((M,X)=>{ee.add([M,X])})}function St(M){return re||(re=!M,Q(),ee.list().forEach(([X,Y])=>M?Y(M):X()),ee.reset()),M}function me(M,X,Y,Z){const{scrollBehavior:Oe}=t;if(!yi||!Oe)return Promise.resolve();const _=!Y&&DT(Bh(M.fullPath,0))||(Z||!Y)&&history.state&&history.state.scroll||null;return ji().then(()=>Oe(M,X,_)).then(b=>b&&MT(b)).catch(b=>we(b,M,X))}const ge=M=>i.go(M);let Ye;const Je=new Set,Gn={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:w,options:t,push:S,replace:E,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ne.add,isReady:mt,install(M){const X=this;M.component("RouterLink",cl),M.component("RouterView",u0),M.config.globalProperties.$router=X,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>G(l)}),yi&&!Ye&&l.value===Jn&&(Ye=!0,S(i.location).catch(Oe=>{}));const Y={};for(const Oe in Jn)Object.defineProperty(Y,Oe,{get:()=>l.value[Oe],enumerable:!0});M.provide(ll,X),M.provide(vd,Tg(Y)),M.provide(ru,l);const Z=M.unmount;Je.add(M),M.unmount=function(){Je.delete(M),Je.size<1&&(c=Jn,D&&D(),D=null,l.value=Jn,Ye=!1,re=!1),Z()}}};function ot(M){return M.reduce((X,Y)=>X.then(()=>T(Y)),Promise.resolve())}return Gn}function f0(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ni(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ni(c,l))||i.push(l))}return[n,s,i]}function Vi(){return je(ll)}function h0(t){return je(vd)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const p0=(t,e)=>(n,s)=>{let i=-1;if(s.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(i=a,l):r},e),i>-1)return n[i]},m0=p0((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var g0=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:m0});const v0={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},y0={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},jt=Array.isArray,Ho=t=>typeof t=="function",Zh=t=>typeof t=="string",ul=t=>t!==null&&typeof t=="object",_0=Object.prototype.toString,Pr=t=>_0.call(t)==="[object Object]",ep=Symbol("kIsProxy"),w0=Symbol("kProxySources"),Lv=Symbol("kProxyTarget"),_i=Symbol("kResolveContext");function Gr(t){if(jt(t))return t.map(Gr);if(ul(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:Gr(t[n]);return e}return t}const Vo=(t,e,n)=>{const s=[];for(const i of t)i&&e in i&&(s.push(i[e]),n&&n(i));return s},ua=(t,e=[],n,s)=>{if(!n&&!s&&({active:n,sources:s}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],s=s.map(l=>l[a]).filter(Boolean)}if(!n||!s)return;const i=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&ul(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...s),r=Object.keys(n);for(const o of r)i.includes(o)||delete n[o];for(const o of i){let a=!1;for(let d=0;d<s.length;d++){const f=s[d];if(f&&o in f&&f[o]!==void 0){a=Pr(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of s)o in f&&d.push(f[o]);ua(t,[...e,o],n[o],d);continue}!n[o]&&jt(s[0][o])&&(n[o]=[]);const l=[],c=Vo(s,o,d=>l.push(d[_i]));let u=t.resolve(c,l,n[o],o,e);Pr(u)&&(u=Gr(u)),n[o]=u}},Dv=(t,e,n,s=[])=>{const i=b0(t,n,s),r=Za(new Proxy(e,i));return!s.length&&t.sources&&t.sources.push(r),r},b0=(t,e,n=[])=>({get:(s,i,r)=>{if(i===ep)return!0;if(i===w0)return t.sources;if(i===Lv)return s;if(i===_i)return e;let o=Reflect.get(s,i,r);if(!ul(o))return o;if(!o[ep]){const a=[...n,i];o=Dv(t,o,e,a),Reflect.set(s,i,o)}return o},set:(s,i,r)=>{const o=Reflect.set(s,i,r);if(o){const a=jt(s);let l,c=!1,{sources:u,active:d}=t,f=0;for(const y of n){if(u=Vo(u,y),a&&f===n.length-1){l=y;break}jt(d)&&(c=!0),d=d[y],f++}if(c)return ua(t),o;if(Pr(r))return ua(t,n),o;let h,p=[];a?(h=u,p=u.map(y=>y[_i])):h=Vo(u,i,y=>p.push(y[_i]));let m=t.resolve(h,p,d,i,n);Pr(m)&&(m=Gr(m)),a&&l?d[l]=m:d[i]=m}return o},deleteProperty:(s,i)=>{const r=Reflect.deleteProperty(s,i);if(r){const o=jt(s);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&i in d)){let d,f=[];o?(d=l,f=l.map(p=>p[_i])):d=Vo(l,i,p=>f.push(p[_i]));let h=t.resolve(d,f,c,i,n);Pr(h)&&(h=Gr(h)),o&&a?c[a]=h:c[i]=h}else delete c[i]}return r}}),ic={};function S0(t,e,n,s){return"attributesFor"in s?function(i,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(i.isSSR)return{to:"",vnode:Ee(`ssr-${l}`,o)};if(!ic[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),ic[l]={el:f,attrs:[]}}const{el:c,attrs:u}=ic[l];for(const f in o){let h=Wo(i,`${r}(${f})`,o[f],o);jt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,s):"group"in s?function(i,r,o,a){return jt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return da(i,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,s):da(t,e,n,s)}function da(t,e,n,s={},i){const r=["content","json","rawContent"],o=y=>function(w,v){for(const g of w){const S=y0[g];if(g&&S)return S[v]}}([a,s.tag],y);if(jt(n))return n.map(y=>da(t,e,y,s,i)).filter(Boolean).flat();const{tag:a=s.tag||e}=n;let l="",c=!1,u=!1;if(Zh(n))l=n;else if(n.children&&jt(n.children))c=!0,l=n.children.map(y=>{const w=da(t,e,y,s,i);return jt(w)?w.map(({vnode:v})=>v):w&&w.vnode});else{let y=0;for(const w of r){if(!l&&n[w]){l=y===1?JSON.stringify(n[w]):n[w],u=y>1;break}y++}}const d=i&&i.fullName||e,f=i&&i.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const y of r)delete h[y]}if(c)l=Wo(t,f,l,n);else{const y=!!o("contentAsAttribute");let{valueAttribute:w}=s;if(!w&&y){const[v]=o("attributes");w=Zh(y)?y:v}if(w){const{nameless:v}=s;if(!v){const g=s.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[w]=Wo(t,f,h[w]||l,i),l=""}else l=Wo(t,f,l,n)}const p=i&&i.tagNamespace?`${i.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Ee(p,h,l||void 0);return{to:n.to,vnode:m}}function Wo({metainfo:t,slots:e},n,s,i){const r=e&&e[n];if(!r||!Ho(r))return s;const o={content:s,metainfo:t};if(i&&i.group){const{group:l,data:c}=i;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return s}const E0=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",T0=(t=>E0?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function Fv(t,e,n){for(const s in e)s in n?ul(t[s])?Fv(t[s],e[s],n[s]):e[s]!==n[s]&&(t[s]=e[s]):t[s]=e[s];for(const s in n)e&&s in e||delete t[s]}function Bv(t){if(t||(t=Hi()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function dl(t,e){const n=Hi()||void 0;if(!e&&n&&(e=Bv(n)),!e)throw new Error("No manager or current instance");Xa(t)&&(Lt(t,(i,r)=>{Fv(s.meta,i,r)}),t=t.value);const s=e.addMeta(t,n);return s}const C0=ct({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=Bv();if(n)return n.render({slots:e})}});function tp(t,e,n,s){const i=jt(s)?s:[s];t?n.endsWith("Attrs")||i.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):i.forEach((r,o)=>{r.type===ft&&i.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...i)}const I0=(t=!1,e,n)=>x0.create(t,v0,g0);var js;let x0=(js=class{constructor(e,n,s,i){Is(this,"isSSR",!1);Is(this,"config");Is(this,"target");Is(this,"resolver");Is(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=s,i&&"setup"in i&&Ho(i.setup)&&(this.resolver=i)}install(e){e.component("Metainfo",C0),e.config.globalProperties.$metaManager=this,e.provide(T0,this.target.context.active)}addMeta(e,n){n||(n=Hi()||void 0);const s={removed:[]},i={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(i);const o=this.target.addSource(e,i,!0),a=l=>this.unmount(!!l,o,s,n);return n&&kt(a),{meta:o,onRemoved:l=>s.removed.push(l),unmount:a}}unmount(e,n,s,i){if(i){const{$el:r}=i.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,s))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,s)}async reallyUnmount(e,n,s){this.target.delSource(n),!e&&s&&await Promise.all(s.removed.map(i=>i()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:s}=this;if(!s&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const i={};for(const r in n){const o=this.config[r]||{};let a=S0({isSSR:s,metainfo:n,slots:e},r,n[r],o);if(!a)continue;jt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)tp(this.isSSR,i,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];Ho(a)&&tp(this.isSSR,i,o,a({metainfo:n}))}return Object.keys(i).map(r=>Ee(Bg,{to:r},i[r]))}},Is(js,"create",(e,n,s)=>{const i=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>ua(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=Dv(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[Lv]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>Ho(s)?s(r,o,a,l,c):s.resolve(r,o,a,l,c),li({}));return new js(e,n,i,s)}),js);/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let $v;const fl=t=>$v=t,Uv=Symbol();function ou(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ar;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ar||(Ar={}));function k0(){const t=lg(!0),e=t.run(()=>j({}));let n=[],s=[];const i=Za({install(r){fl(i),i._a=r,r.provide(Uv,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const jv=()=>{};function np(t,e,n,s=jv){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&cg()&&Yb(i),i}function mi(t,...e){t.slice().forEach(n=>{n(...e)})}const P0=t=>t(),sp=Symbol(),rc=Symbol();function au(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];ou(i)&&ou(s)&&t.hasOwnProperty(n)&&!Ge(s)&&!fs(s)?t[n]=au(i,s):t[n]=s}return t}const A0=Symbol();function R0(t){return!ou(t)||!t.hasOwnProperty(A0)}const{assign:Xn}=Object;function O0(t){return!!(Ge(t)&&t.effect)}function N0(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=vS(n.state.value[t]);return Xn(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Za(te(()=>{fl(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=Hv(t,c,e,n,s,!0),l}function Hv(t,e,n={},s,i,r){let o;const a=Xn({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),j({});let m;function y(A){let T;c=u=!1,typeof A=="function"?(A(s.state.value[t]),T={type:Ar.patchFunction,storeId:t,events:h}):(au(s.state.value[t],A),T={type:Ar.patchObject,payload:A,storeId:t,events:h});const x=m=Symbol();ji().then(()=>{m===x&&(c=!0)}),u=!0,mi(d,T,s.state.value[t])}const w=r?function(){const{state:T}=n,x=T?T():{};this.$patch(B=>{Xn(B,x)})}:jv;function v(){o.stop(),d=[],f=[],s._s.delete(t)}const g=(A,T="")=>{if(sp in A)return A[rc]=T,A;const x=function(){fl(s);const B=Array.from(arguments),O=[],D=[];function Q(re){O.push(re)}function ee(re){D.push(re)}mi(f,{args:B,name:x[rc],store:E,after:Q,onError:ee});let ne;try{ne=A.apply(this&&this.$id===t?this:E,B)}catch(re){throw mi(D,re),re}return ne instanceof Promise?ne.then(re=>(mi(O,re),re)).catch(re=>(mi(D,re),Promise.reject(re))):(mi(O,ne),ne)};return x[sp]=!0,x[rc]=T,x},S={_p:s,$id:t,$onAction:np.bind(null,f),$patch:y,$reset:w,$subscribe(A,T={}){const x=np(d,A,T.detached,()=>B()),B=o.run(()=>Lt(()=>s.state.value[t],O=>{(T.flush==="sync"?u:c)&&A({storeId:t,type:Ar.direct,events:h},O)},Xn({},l,T)));return x},$dispose:v},E=li(S);s._s.set(t,E);const $=(s._a&&s._a.runWithContext||P0)(()=>s._e.run(()=>(o=lg()).run(()=>e({action:g}))));for(const A in $){const T=$[A];if(Ge(T)&&!O0(T)||fs(T))r||(p&&R0(T)&&(Ge(T)?T.value=p[A]:au(T,p[A])),s.state.value[t][A]=T);else if(typeof T=="function"){const x=g(T,A);$[A]=x,a.actions[A]=T}}return Xn(E,$),Xn(Se(E),$),Object.defineProperty(E,"$state",{get:()=>s.state.value[t],set:A=>{y(T=>{Xn(T,A)})}}),s._p.forEach(A=>{Xn(E,o.run(()=>A({store:E,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(E.$state,p),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function yd(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=YS();return a=a||(c?je(Uv,null):null),a&&fl(a),a=$v,a._s.has(s)||(r?Hv(s,e,i,a):N0(s,i,a)),a._s.get(s)}return o.$id=s,o}const M0={key:0},L0={key:1},D0={key:2},F0={key:3},B0={key:4},$0={key:5},U0={key:6},j0={key:7},H0={key:8},V0={key:9},Vv=ct({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const s=wS(n,"modelValue"),i=e,r=g=>{g!==s.value&&(g>l.value||g<1||n.disablePagination||(i("update:modelValue",g),i("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=te(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=te(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let R=Math.floor(n.maxPagesShown/2),$=Math.ceil(n.maxPagesShown/2)-1;s.value<=R?(g=1,S=n.maxPagesShown):s.value+$>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=s.value-R,S=s.value+$)}let E=Array.from(Array(S+1-g).keys()).map(R=>g+R);return n.dir==="rtl"&&(E=E.reverse()),{totalItems:n.totalItems,currentPage:s.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:E}}),u=te(()=>n.dir==="rtl"),d=te(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==l.value:!n.hidePrevNextWhenEnds||s.value!==1),f=te(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==1:!n.hidePrevNextWhenEnds||s.value!==l.value),h=te(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=te(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=te(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),y=te(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),w=te(()=>s.value!==1),v=te(()=>s.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(P(),V("ul",{id:"componentContainer",class:ze(t.paginationContainerClass)},[t.showEndingButtons&&w.value?(P(),V("li",M0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=Rt(E=>r(u.value?l.value:1),["prevent"])),class:ze([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ie(()=>[Kn(g.$slots,"first-page-button",{},()=>[He(ae(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):xe("",!0),t.showJumpButtons&&h.value?(P(),V("li",L0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=Rt(E=>r(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:ze([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ie(()=>[Kn(g.$slots,"backward-jump-button",{},()=>[He(ae(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):xe("",!0),!t.hidePrevNext&&d.value?(P(),V("li",D0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+1:s.value-1),onClick:S[2]||(S[2]=Rt(E=>r(u.value?s.value+1:s.value-1),["prevent"])),class:ze([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:ie(()=>[Kn(g.$slots,"prev-button",{},()=>[He(ae(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):xe("",!0),t.showBreakpointButtons&&m.value?(P(),V("li",F0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=Rt(E=>r(u.value?l.value:1),["prevent"])),class:ze([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:ie(()=>[He(ae(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):xe("",!0),t.showBreakpointButtons&&h.value?(P(),V("li",B0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=Rt(E=>r(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:ze([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ie(()=>[Kn(g.$slots,"starting-breakpoint-button",{},()=>[He(ae(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):xe("",!0),(P(!0),V(Me,null,ci(c.value.pages,(E,R)=>(P(),V("li",{key:R},[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(E),onClick:Rt(()=>r(E),["prevent"]),class:ze([t.paginateButtonsClass,t.numberButtonsClass,E===s.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ie(()=>[He(ae(o(E)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(P(),V("li",$0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=Rt(E=>r(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:ze([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ie(()=>[Kn(g.$slots,"ending-breakpoint-button",{},()=>[He(ae(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):xe("",!0),t.showBreakpointButtons&&y.value?(P(),V("li",U0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=Rt(E=>r(u.value?1:l.value),["prevent"])),class:ze([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:ie(()=>[He(ae(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):xe("",!0),!t.hidePrevNext&&f.value?(P(),V("li",j0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-1:s.value+1),onClick:S[7]||(S[7]=Rt(E=>r(u.value?s.value-1:s.value+1),["prevent"])),class:ze([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:ie(()=>[Kn(g.$slots,"next-button",{},()=>[He(ae(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):xe("",!0),t.showJumpButtons&&p.value?(P(),V("li",H0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=Rt(E=>r(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:ze([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ie(()=>[Kn(g.$slots,"forward-jump-button",{},()=>[He(ae(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):xe("",!0),t.showEndingButtons&&v.value?(P(),V("li",V0,[(P(),de(zt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=Rt(E=>r(u.value?1:l.value),["prevent"])),class:ze([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ie(()=>[Kn(g.$slots,"last-page-button",{},()=>[He(ae(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):xe("",!0)],2))}});var W0={install:t=>{t.component("VueAwesomePaginate",Vv)}};function Wv(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function zv(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function _d(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function wd(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function z0(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function q0(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function G0(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function K0(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function qv(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Y0(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function J0(t,e){return P(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const Q0={class:"fixed bottom-0 z-50 mx-auto flex items-center justify-center py-8 h-14 w-full mb-4"},X0={class:"flex justify-around items-center bg-opacity-50 container bg-gray-900 p-4 w-48 gap-4 rounded-2xl relative"},Z0={__name:"Header",setup(t){return(e,n)=>{const s=Ss("RouterLink");return P(),V("header",Q0,[z(s,{to:"/favorites",class:"absolute left-4 bg-opacity-50 bg-gray-900 p-4 rounded-full"},{default:ie(()=>[z(G(z0),{class:"w-6",alt:"favorites"})]),_:1}),C("nav",X0,[z(s,{to:"/"},{default:ie(()=>[z(G(q0),{class:"w-6",alt:"home"})]),_:1}),z(s,{to:"/search"},{default:ie(()=>[z(G(G0),{class:"w-6",alt:"search"})]),_:1}),n[0]||(n[0]=C("div",{class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-0.5 h-7 bg-orange-600"},null,-1))]),z(s,{to:"/profile",class:"absolute right-4 bg-opacity-50 bg-gray-900 p-4 rounded-full"},{default:ie(()=>[z(G(J0),{class:"w-6",alt:"profile"})]),_:1})])}}};var ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t,e){if(!t)throw Wi(e)},Wi=function(t){return new Error("Firebase Database ("+Gv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},bd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new tC;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yv=function(t){const e=Kv(t);return bd.encodeByteArray(e,!0)},fa=function(t){return Yv(t).replace(/\./g,"")},ha=function(t){try{return bd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){return Jv(void 0,t)}function Jv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sC(n)||(t[n]=Jv(t[n],e[n]));return t}function sC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=()=>iC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof ip>"u")return;const t=ip.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ha(t[1]);return e&&JSON.parse(e)},Sd=()=>{try{return rC()||oC()||aC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qv=t=>{var e,n;return(n=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lC=t=>{const e=Qv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Xv=()=>{var t;return(t=Sd())===null||t===void 0?void 0:t.config},Zv=t=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ed(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function uC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ey(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hC(){return Gv.NODE_ADMIN===!0}function ty(){try{return typeof indexedDB=="object"}catch{return!1}}function ny(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="FirebaseError";class Wn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pC,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Es.prototype.create)}}class Es{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?mC(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wn(i,a,s)}}function mC(t,e){return t.replace(gC,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const gC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return JSON.parse(t)}function it(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Kr(ha(r[0])||""),n=Kr(ha(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},vC=function(t){const e=sy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yC=function(t){const e=sy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Li(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pa(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function ma(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(rp(r)&&rp(o)){if(!ma(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function rp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function _r(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function wC(t,e){const n=new bC(t,e);return n.subscribe.bind(n)}class bC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=oc),i.error===void 0&&(i.error=oc),i.complete===void 0&&(i.complete=oc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oc(){}function hl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,H(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pl=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class Wt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new uo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IC(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(t){return t===Ns?void 0:t}function IC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const kC={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},PC=Ae.INFO,AC={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},RC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=AC[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const OC=(t,e)=>e.some(n=>t instanceof n);let op,ap;function NC(){return op||(op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MC(){return ap||(ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,cu=new WeakMap,ry=new WeakMap,ac=new WeakMap,Cd=new WeakMap;function LC(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ln(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iy.set(n,t)}).catch(()=>{}),Cd.set(e,t),e}function DC(t){if(cu.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});cu.set(t,e)}let uu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ry.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FC(t){uu=t(uu)}function BC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(lc(this),e,...n);return ry.set(s,e.sort?e.sort():[e]),Ln(s)}:MC().includes(t)?function(...e){return t.apply(lc(this),e),Ln(iy.get(this))}:function(...e){return Ln(t.apply(lc(this),e))}}function $C(t){return typeof t=="function"?BC(t):(t instanceof IDBTransaction&&DC(t),OC(t,NC())?new Proxy(t,uu):t)}function Ln(t){if(t instanceof IDBRequest)return LC(t);if(ac.has(t))return ac.get(t);const e=$C(t);return e!==t&&(ac.set(t,e),Cd.set(e,t)),e}const lc=t=>Cd.get(t);function qi(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Ln(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Ln(o.result),l.oldVersion,l.newVersion,Ln(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Ii(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),Ln(n).then(()=>{})}const UC=["get","getKey","getAll","getAllKeys","count"],jC=["put","add","delete","clear"],cc=new Map;function lp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cc.get(e))return cc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=jC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||UC.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return cc.set(e,r),r}FC(t=>({...t,get:(e,n,s)=>lp(e,n)||t.get(e,n,s),has:(e,n)=>!!lp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const du="@firebase/app",cp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Td("@firebase/app"),WC="@firebase/app-compat",zC="@firebase/analytics-compat",qC="@firebase/analytics",GC="@firebase/app-check-compat",KC="@firebase/app-check",YC="@firebase/auth",JC="@firebase/auth-compat",QC="@firebase/database",XC="@firebase/data-connect",ZC="@firebase/database-compat",eI="@firebase/functions",tI="@firebase/functions-compat",nI="@firebase/installations",sI="@firebase/installations-compat",iI="@firebase/messaging",rI="@firebase/messaging-compat",oI="@firebase/performance",aI="@firebase/performance-compat",lI="@firebase/remote-config",cI="@firebase/remote-config-compat",uI="@firebase/storage",dI="@firebase/storage-compat",fI="@firebase/firestore",hI="@firebase/vertexai",pI="@firebase/firestore-compat",mI="firebase",gI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="[DEFAULT]",vI={[du]:"fire-core",[WC]:"fire-core-compat",[qC]:"fire-analytics",[zC]:"fire-analytics-compat",[KC]:"fire-app-check",[GC]:"fire-app-check-compat",[YC]:"fire-auth",[JC]:"fire-auth-compat",[QC]:"fire-rtdb",[XC]:"fire-data-connect",[ZC]:"fire-rtdb-compat",[eI]:"fire-fn",[tI]:"fire-fn-compat",[nI]:"fire-iid",[sI]:"fire-iid-compat",[iI]:"fire-fcm",[rI]:"fire-fcm-compat",[oI]:"fire-perf",[aI]:"fire-perf-compat",[lI]:"fire-rc",[cI]:"fire-rc-compat",[uI]:"fire-gcs",[dI]:"fire-gcs-compat",[fI]:"fire-fst",[pI]:"fire-fst-compat",[hI]:"fire-vertex","fire-js":"fire-js",[mI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Map,yI=new Map,hu=new Map;function up(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zt(t){const e=t.name;if(hu.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;hu.set(e,t);for(const n of ga.values())up(n,t);for(const n of yI.values())up(n,t);return!0}function Gi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Es("app","Firebase",_I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=gI;function oy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw hs.create("bad-app-name",{appName:String(i)});if(n||(n=Xv()),!n)throw hs.create("no-options");const r=ga.get(i);if(r){if(ma(n,r.options)&&ma(s,r.config))return r;throw hs.create("duplicate-app",{appName:i})}const o=new xC(i);for(const l of hu.values())o.addComponent(l);const a=new wI(n,s,o);return ga.set(i,a),a}function Id(t=fu){const e=ga.get(t);if(!e&&t===fu&&Xv())return oy();if(!e)throw hs.create("no-app",{appName:t});return e}function Ht(t,e,n){var s;let i=(s=vI[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(a.join(" "));return}Zt(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-heartbeat-database",SI=1,Yr="firebase-heartbeat-store";let uc=null;function ay(){return uc||(uc=qi(bI,SI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yr)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),uc}async function EI(t){try{const n=(await ay()).transaction(Yr),s=await n.objectStore(Yr).get(ly(t));return await n.done,s}catch(e){if(e instanceof Wn)$n.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function dp(t,e){try{const s=(await ay()).transaction(Yr,"readwrite");await s.objectStore(Yr).put(e,ly(t)),await s.done}catch(n){if(n instanceof Wn)$n.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(s.message)}}}function ly(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1024,CI=30*24*60*60*1e3;class II{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=CI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){$n.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fp(),{heartbeatsToSend:s,unsentEntries:i}=xI(this._heartbeatsCache.heartbeats),r=fa(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return $n.warn(n),""}}}function fp(){return new Date().toISOString().substring(0,10)}function xI(t,e=TI){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),hp(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ty()?ny().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hp(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){Zt(new Wt("platform-logger",e=>new HC(e),"PRIVATE")),Zt(new Wt("heartbeat",e=>new II(e),"PRIVATE")),Ht(du,cp,t),Ht(du,cp,"esm2017"),Ht("fire-js","")}PI("");function xd(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function cy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=cy,uy=new Es("auth","Firebase",cy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Td("@firebase/auth");function RI(t,...e){va.logLevel<=Ae.WARN&&va.warn(`Auth (${Ki}): ${t}`,...e)}function zo(t,...e){va.logLevel<=Ae.ERROR&&va.error(`Auth (${Ki}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,...e){throw kd(t,...e)}function vn(t,...e){return kd(t,...e)}function dy(t,e,n){const s=Object.assign(Object.assign({},AI()),{[e]:n});return new Es("auth","Firebase",s).create(e,{appName:t.name})}function Dn(t){return dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kd(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return uy.create(t,...e)}function ce(t,e,...n){if(!t)throw kd(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zo(e),new Error(e)}function Un(t,e){t||Rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OI(){return pp()==="http:"||pp()==="https:"}function pp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OI()||dC()||"connection"in navigator)?navigator.onLine:!0}function MI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Un(n>e,"Short delay should be less than long delay!"),this.isMobile=Ed()||ey()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t,e){Un(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new fo(3e4,6e4);function Ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zn(t,e,n,s,i={}){return hy(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=zi(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return uC()||(c.referrerPolicy="no-referrer"),fy.fetch()(py(t,t.config.apiHost,n,a),c)})}async function hy(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},LI),e);try{const i=new BI(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Ao(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ao(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ao(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ao(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dy(t,u,c);en(t,u)}}catch(i){if(i instanceof Wn)throw i;en(t,"network-request-failed",{message:String(i)})}}async function ho(t,e,n,s,i={}){const r=await zn(t,e,n,s,i);return"mfaPendingCredential"in r&&en(t,"multi-factor-auth-required",{_serverResponse:r}),r}function py(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?Pd(t.config,i):`${t.config.apiScheme}://${i}`}function FI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vn(this.auth,"network-request-failed")),DI.get())})}}function Ao(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=vn(t,e,s);return i.customData._tokenResponse=n,i}function mp(t){return t!==void 0&&t.enterprise!==void 0}class $I{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UI(t,e){return zn(t,"GET","/v2/recaptchaConfig",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e){return zn(t,"POST","/v1/accounts:delete",e)}async function my(t,e){return zn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HI(t,e=!1){const n=Xe(t),s=await n.getIdToken(e),i=Ad(s);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Rr(dc(i.auth_time)),issuedAtTime:Rr(dc(i.iat)),expirationTime:Rr(dc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function dc(t){return Number(t)*1e3}function Ad(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zo("JWT malformed, contained fewer than 3 sections"),null;try{const i=ha(n);return i?JSON.parse(i):(zo("Failed to decode base64 JWT payload"),null)}catch(i){return zo("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gp(t){const e=Ad(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wn&&VI(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function VI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rr(this.lastLoginAt),this.creationTime=Rr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Di(t,my(n,{idToken:s}));ce(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?gy(r.providerUserInfo):[],a=qI(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new mu(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function zI(t){const e=Xe(t);await ya(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qI(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function gy(t){return t.map(e=>{var{providerId:n}=e,s=xd(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e){const n=await hy(t,{},async()=>{const s=zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=py(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fy.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KI(t,e){return zn(t,"POST","/v2/accounts:revokeToken",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=gp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await GI(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new xi;return s&&(ce(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ce(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return Rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=xd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new mu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Di(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HI(this,e)}reload(){return zI(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ya(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Dn(this.auth));const e=await this.getIdToken();return await Di(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:E,providerData:R,stsTokenManager:$}=n;ce(g&&$,e,"internal-error");const A=xi.fromJSON(this.name,$);ce(typeof g=="string",e,"internal-error"),Qn(d,e.name),Qn(f,e.name),ce(typeof S=="boolean",e,"internal-error"),ce(typeof E=="boolean",e,"internal-error"),Qn(h,e.name),Qn(p,e.name),Qn(m,e.name),Qn(y,e.name),Qn(w,e.name),Qn(v,e.name);const T=new On({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:w,lastLoginAt:v});return R&&Array.isArray(R)&&(T.providerData=R.map(x=>Object.assign({},x))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,s=!1){const i=new xi;i.updateFromServerResponse(n);const r=new On({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await ya(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?gy(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new xi;a.updateFromIdToken(s);const l=new On({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map;function Nn(t){Un(t instanceof Function,"Expected a class definition");let e=vp.get(t);return e?(Un(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vy.type="NONE";const yp=vy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e,n){return`firebase:${t}:${e}:${n}`}class ki{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=qo(this.userKey,i.apiKey,r),this.fullPersistenceKey=qo("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?On._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ki(Nn(yp),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||Nn(yp);const o=qo(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=On._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new ki(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new ki(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(by(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ey(e))return"Blackberry";if(Ty(e))return"Webos";if(_y(e))return"Safari";if((e.includes("chrome/")||wy(e))&&!e.includes("edge/"))return"Chrome";if(Sy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function yy(t=bt()){return/firefox\//i.test(t)}function _y(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wy(t=bt()){return/crios\//i.test(t)}function by(t=bt()){return/iemobile/i.test(t)}function Sy(t=bt()){return/android/i.test(t)}function Ey(t=bt()){return/blackberry/i.test(t)}function Ty(t=bt()){return/webos/i.test(t)}function Rd(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YI(t=bt()){var e;return Rd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JI(){return fC()&&document.documentMode===10}function Cy(t=bt()){return Rd(t)||Sy(t)||Ty(t)||Ey(t)||/windows phone/i.test(t)||by(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e=[]){let n;switch(t){case"Browser":n=_p(bt());break;case"Worker":n=`${_p(bt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t,e={}){return zn(t,"GET","/v2/passwordPolicy",Ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=6;class ex{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZI,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wp(this),this.idTokenSubscription=new wp(this),this.beforeStateQueue=new QI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await ki.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await my(this,{idToken:e}),s=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ya(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(Dn(this));const n=e?Xe(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XI(this),n=new ex(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Es("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nn(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ki.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ui(t){return Xe(t)}class wp{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nx(t){ml=t}function xy(t){return ml.loadJS(t)}function sx(){return ml.recaptchaEnterpriseScript}function ix(){return ml.gapiScript}function rx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ox{constructor(){this.enterprise=new ax}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ax{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lx="recaptcha-enterprise",ky="NO_RECAPTCHA";class cx{constructor(e){this.type=lx,this.auth=ui(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{UI(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new $I(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;mp(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(ky)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ox().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&mp(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sx();l.length!==0&&(l+=a),xy(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bp(t,e,n,s=!1,i=!1){const r=new cx(t);let o;if(i)o=ky;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function gu(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bp(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bp(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e){const n=Gi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(ma(r,e??{}))return i;en(i,"already-initialized")}return n.initialize({options:e})}function dx(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Nn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function fx(t,e,n){const s=ui(t);ce(s._canInitEmulator,s,"emulator-config-failed"),ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=Py(e),{host:o,port:a}=hx(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),px()}function Py(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hx(t){const e=Py(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Sp(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Sp(o)}}}function Sp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function px(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}async function mx(t,e){return zn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e){return ho(t,"POST","/v1/accounts:signInWithPassword",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}async function yx(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Od{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jr(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jr(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gu(e,n,"signInWithPassword",gx);case"emailLink":return vx(e,{email:this._email,oobCode:this._password});default:en(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gu(e,s,"signUpPassword",mx);case"emailLink":return yx(e,{idToken:n,email:this._email,oobCode:this._password});default:en(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t,e){return ho(t,"POST","/v1/accounts:signInWithIdp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="http://localhost";class Js extends Od{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):en("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=xd(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Js(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Pi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pi(e,n)}buildRequest(){const e={requestUri:_x,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bx(t){const e=yr(_r(t)).link,n=e?yr(_r(e)).deep_link_id:null,s=yr(_r(t)).deep_link_id;return(s?yr(_r(s)).link:null)||s||n||e||t}class Nd{constructor(e){var n,s,i,r,o,a;const l=yr(_r(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=wx((i=l.mode)!==null&&i!==void 0?i:null);ce(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=bx(e);try{return new Nd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.providerId=Yi.PROVIDER_ID}static credential(e,n){return Jr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Nd.parseLink(n);return ce(s,"argument-error"),Jr._fromEmailAndCode(e,s.code,s.tenantId)}}Yi.PROVIDER_ID="password";Yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends po{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends po{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends po{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends po{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e){return ho(t,"POST","/v1/accounts:signUp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await On._fromIdTokenResponse(e,s,i),o=Ep(s);return new Qs({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Ep(s);return new Qs({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Ep(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Wn{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,_a.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new _a(e,n,s,i)}}function Ry(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?_a._fromErrorAndOperation(t,r,e,s):r})}async function Ex(t,e,n=!1){const s=await Di(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e,n=!1){const{auth:s}=t;if(fn(s.app))return Promise.reject(Dn(s));const i="reauthenticate";try{const r=await Di(t,Ry(s,i,e,t),n);ce(r.idToken,s,"internal-error");const o=Ad(r.idToken);ce(o,s,"internal-error");const{sub:a}=o;return ce(t.uid===a,s,"user-mismatch"),Qs._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&en(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t,e,n=!1){if(fn(t.app))return Promise.reject(Dn(t));const s="signIn",i=await Ry(t,s,e),r=await Qs._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function Cx(t,e){return Oy(ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ix(t,e,n){if(fn(t.app))return Promise.reject(Dn(t));const s=ui(t),o=await gu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ny(t),l}),a=await Qs._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function xx(t,e,n){return fn(t.app)?Promise.reject(Dn(t)):Cx(Xe(t),Yi.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ny(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e){return zn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Xe(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Di(s,kx(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Px(t,e,n,s){return Xe(t).onIdTokenChanged(e,n,s)}function Ax(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function Rx(t,e,n,s){return Xe(t).onAuthStateChanged(e,n,s)}function Ox(t){return Xe(t).signOut()}const wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=1e3,Mx=10;class Ly extends My{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);JI()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Mx):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ly.type="LOCAL";const Lx=Ly;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends My{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dy.type="SESSION";const Fy=Dy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new gl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await Dx(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Md("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function Bx(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function $x(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ux(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jx(){return By()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="firebaseLocalStorageDb",Hx=1,ba="firebaseLocalStorage",Uy="fbase_key";class mo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vl(t,e){return t.transaction([ba],e?"readwrite":"readonly").objectStore(ba)}function Vx(){const t=indexedDB.deleteDatabase($y);return new mo(t).toPromise()}function vu(){const t=indexedDB.open($y,Hx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ba,{keyPath:Uy})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ba)?e(s):(s.close(),await Vx(),e(await vu()))})})}async function Cp(t,e,n){const s=vl(t,!0).put({[Uy]:e,value:n});return new mo(s).toPromise()}async function Wx(t,e){const n=vl(t,!1).get(e),s=await new mo(n).toPromise();return s===void 0?null:s.value}function Ip(t,e){const n=vl(t,!0).delete(e);return new mo(n).toPromise()}const zx=800,qx=3;class jy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return By()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gl._getInstance(jx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $x(),!this.activeServiceWorker)return;this.sender=new Fx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ux()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vu();return await Cp(e,wa,"1"),await Ip(e,wa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cp(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Wx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ip(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=vl(i,!1).getAll();return new mo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jy.type="LOCAL";const Gx=jy;new fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){return e?Nn(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Od{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yx(t){return Oy(t.auth,new Ld(t),t.bypassAuthState)}function Jx(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Tx(n,new Ld(t),t.bypassAuthState)}async function Qx(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Ex(n,new Ld(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yx;case"linkViaPopup":case"linkViaRedirect":return Qx;case"reauthViaPopup":case"reauthViaRedirect":return Jx;default:en(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new fo(2e3,1e4);class wi extends Hy{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=Md();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xx.get())};e()}}wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="pendingRedirect",Go=new Map;class e1 extends Hy{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Go.get(this.auth._key());if(!e){try{const s=await t1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Go.set(this.auth._key(),e)}return this.bypassAuthState||Go.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t1(t,e){const n=i1(e),s=s1(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function n1(t,e){Go.set(t._key(),e)}function s1(t){return Nn(t._redirectPersistence)}function i1(t){return qo(Zx,t.config.apiKey,t.name)}async function r1(t,e,n=!1){if(fn(t.app))return Promise.reject(Dn(t));const s=ui(t),i=Kx(s,e),o=await new e1(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=10*60*1e3;class a1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Vy(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o1&&this.cachedEventUids.clear(),this.cachedEventUids.has(xp(e))}saveEventToCache(e){this.cachedEventUids.add(xp(e)),this.lastProcessedEventTime=Date.now()}}function xp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t,e={}){return zn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d1=/^https?/;async function f1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c1(t);for(const n of e)try{if(h1(n))return}catch{}en(t,"unauthorized-domain")}function h1(t){const e=pu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!d1.test(n))return!1;if(u1.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new fo(3e4,6e4);function kp(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m1(t){return new Promise((e,n)=>{var s,i,r;function o(){kp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kp(),n(vn(t,"network-request-failed"))},timeout:p1.get()})}if(!((i=(s=yn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=yn().gapi)===null||r===void 0)&&r.load)o();else{const a=rx("iframefcb");return yn()[a]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},xy(`${ix()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ko=null,e})}let Ko=null;function g1(t){return Ko=Ko||m1(t),Ko}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new fo(5e3,15e3),y1="__/auth/iframe",_1="emulator/auth/iframe",w1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S1(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pd(e,_1):`https://${t.config.authDomain}/${y1}`,s={apiKey:e.apiKey,appName:t.name,v:Ki},i=b1.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${zi(s).slice(1)}`}async function E1(t){const e=await g1(t),n=yn().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:S1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w1,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=yn().setTimeout(()=>{r(o)},v1.get());function l(){yn().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C1=500,I1=600,x1="_blank",k1="http://localhost";class Pp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P1(t,e,n,s=C1,i=I1){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},T1),{width:s.toString(),height:i.toString(),top:r,left:o}),c=bt().toLowerCase();n&&(a=wy(c)?x1:n),yy(c)&&(e=e||k1,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(YI(c)&&a!=="_self")return A1(e||"",a),new Pp(null);const d=window.open(e||"",a,u);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new Pp(d)}function A1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__/auth/handler",O1="emulator/auth/handler",N1=encodeURIComponent("fac");async function Ap(t,e,n,s,i,r){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ki,eventId:i};if(e instanceof Ay){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof po){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${N1}=${encodeURIComponent(l)}`:"";return`${M1(t)}?${zi(a).slice(1)}${c}`}function M1({config:t}){return t.emulator?Pd(t,O1):`https://${t.authDomain}/${R1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="webStorageSupport";class L1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fy,this._completeRedirectFn=r1,this._overrideRedirectResult=n1}async _openPopup(e,n,s,i){var r;Un((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Ap(e,n,s,pu(),i);return P1(e,o,Md())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Ap(e,n,s,pu(),i);return Bx(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Un(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await E1(e),s=new a1(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fc,{type:fc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[fc];o!==void 0&&n(!!o),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cy()||_y()||Rd()}}const D1=L1;var Rp="@firebase/auth",Op="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $1(t){Zt(new Wt("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iy(t)},c=new tx(s,i,r,l);return dx(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zt(new Wt("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(s=>new F1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(Rp,Op,B1(t)),Ht(Rp,Op,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=5*60,j1=Zv("authIdTokenMaxAge")||U1;let Np=null;const H1=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>j1)return;const i=n==null?void 0:n.token;Np!==i&&(Np=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qr(t=Id()){const e=Gi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ux(t,{popupRedirectResolver:D1,persistence:[Gx,Lx,Fy]}),s=Zv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=H1(r.toString());Ax(n,o,()=>o(n.currentUser)),Px(n,a=>o(a))}}const i=Qv("auth");return i&&fx(n,`http://${i}`),n}function V1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nx({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=vn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",V1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$1("Browser");const Wy="@firebase/installations",Dd="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=1e4,qy=`w:${Dd}`,Gy="FIS_v2",W1="https://firebaseinstallations.googleapis.com/v1",z1=60*60*1e3,q1="installations",G1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new Es(q1,G1,K1);function Ky(t){return t instanceof Wn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy({projectId:t}){return`${W1}/projects/${t}/installations`}function Jy(t){return{token:t.token,requestStatus:2,expiresIn:J1(t.expiresIn),creationTime:Date.now()}}async function Qy(t,e){const s=(await e.json()).error;return Xs.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Xy({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Y1(t,{refreshToken:e}){const n=Xy(t);return n.append("Authorization",Q1(e)),n}async function Zy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function J1(t){return Number(t.replace("s","000"))}function Q1(t){return`${Gy} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Yy(t),i=Xy(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Gy,appId:t.appId,sdkVersion:qy},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Zy(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Jy(c.authToken)}}else throw await Qy("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=/^[cdef][\w-]{21}$/,yu="";function tk(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nk(t);return ek.test(n)?n:yu}catch{return yu}}function nk(t){return Z1(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map;function n_(t,e){const n=yl(t);s_(n,e),sk(n,e)}function s_(t,e){const n=t_.get(t);if(n)for(const s of n)s(e)}function sk(t,e){const n=ik();n&&n.postMessage({key:t,fid:e}),rk()}let Fs=null;function ik(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=t=>{s_(t.data.key,t.data.fid)}),Fs}function rk(){t_.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebase-installations-database",ak=1,Zs="firebase-installations-store";let hc=null;function Fd(){return hc||(hc=qi(ok,ak,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zs)}}})),hc}async function Sa(t,e){const n=yl(t),i=(await Fd()).transaction(Zs,"readwrite"),r=i.objectStore(Zs),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&n_(t,e.fid),e}async function i_(t){const e=yl(t),s=(await Fd()).transaction(Zs,"readwrite");await s.objectStore(Zs).delete(e),await s.done}async function _l(t,e){const n=yl(t),i=(await Fd()).transaction(Zs,"readwrite"),r=i.objectStore(Zs),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&n_(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t){let e;const n=await _l(t.appConfig,s=>{const i=lk(s),r=ck(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===yu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lk(t){const e=t||{fid:tk(),registrationStatus:0};return r_(e)}function ck(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=uk(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dk(t)}:{installationEntry:e}}async function uk(t,e){try{const n=await X1(t,e);return Sa(t.appConfig,n)}catch(n){throw Ky(n)&&n.customData.serverCode===409?await i_(t.appConfig):await Sa(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dk(t){let e=await Mp(t.appConfig);for(;e.registrationStatus===1;)await e_(100),e=await Mp(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Bd(t);return s||n}return e}function Mp(t){return _l(t,e=>{if(!e)throw Xs.create("installation-not-found");return r_(e)})}function r_(t){return fk(t)?{fid:t.fid,registrationStatus:0}:t}function fk(t){return t.registrationStatus===1&&t.registrationTime+zy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk({appConfig:t,heartbeatServiceProvider:e},n){const s=pk(t,n),i=Y1(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:qy,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Zy(()=>fetch(s,a));if(l.ok){const c=await l.json();return Jy(c)}else throw await Qy("Generate Auth Token",l)}function pk(t,{fid:e}){return`${Yy(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t,e=!1){let n;const s=await _l(t.appConfig,r=>{if(!o_(r))throw Xs.create("not-registered");const o=r.authToken;if(!e&&vk(o))return r;if(o.requestStatus===1)return n=mk(t,e),r;{if(!navigator.onLine)throw Xs.create("app-offline");const a=_k(r);return n=gk(t,a),a}});return n?await n:s.authToken}async function mk(t,e){let n=await Lp(t.appConfig);for(;n.authToken.requestStatus===1;)await e_(100),n=await Lp(t.appConfig);const s=n.authToken;return s.requestStatus===0?$d(t,e):s}function Lp(t){return _l(t,e=>{if(!o_(e))throw Xs.create("not-registered");const n=e.authToken;return wk(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gk(t,e){try{const n=await hk(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Sa(t.appConfig,s),n}catch(n){if(Ky(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await i_(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sa(t.appConfig,s)}throw n}}function o_(t){return t!==void 0&&t.registrationStatus===2}function vk(t){return t.requestStatus===2&&!yk(t)}function yk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+z1}function _k(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wk(t){return t.requestStatus===1&&t.requestTime+zy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t){const e=t,{installationEntry:n,registrationPromise:s}=await Bd(e);return s?s.catch(console.error):$d(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e=!1){const n=t;return await Ek(n),(await $d(n,e)).token}async function Ek(t){const{registrationPromise:e}=await Bd(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){if(!t||!t.options)throw pc("App Configuration");if(!t.name)throw pc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pc(t){return Xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="installations",Ck="installations-internal",Ik=t=>{const e=t.getProvider("app").getImmediate(),n=Tk(e),s=Gi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},xk=t=>{const e=t.getProvider("app").getImmediate(),n=Gi(e,a_).getImmediate();return{getId:()=>bk(n),getToken:i=>Sk(n,i)}};function kk(){Zt(new Wt(a_,Ik,"PUBLIC")),Zt(new Wt(Ck,xk,"PRIVATE"))}kk();Ht(Wy,Dd);Ht(Wy,Dd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="/firebase-messaging-sw.js",Ak="/firebase-cloud-messaging-push-scope",l_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rk="https://fcmregistrations.googleapis.com/v1",c_="google.c.a.c_id",Ok="google.c.a.c_l",Nk="google.c.a.ts",Mk="google.c.a.e",Dp=1e4;var Fp;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Fp||(Fp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Xr;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Xr||(Xr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Lk(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="fcm_token_details_db",Dk=5,Bp="fcm_token_object_Store";async function Fk(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(mc))return null;let e=null;return(await qi(mc,Dk,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Bp))return;const l=o.objectStore(Bp),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:xn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:xn(u.auth),p256dh:xn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:xn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:xn(u.auth),p256dh:xn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:xn(u.vapidKey)}}}}}})).close(),await Ii(mc),await Ii("fcm_vapid_details_db"),await Ii("undefined"),Bk(e)?e:null}function Bk(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firebase-messaging-database",Uk=1,Zr="firebase-messaging-store";let gc=null;function u_(){return gc||(gc=qi($k,Uk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zr)}}})),gc}async function jk(t){const e=d_(t),s=await(await u_()).transaction(Zr).objectStore(Zr).get(e);if(s)return s;{const i=await Fk(t.appConfig.senderId);if(i)return await Ud(t,i),i}}async function Ud(t,e){const n=d_(t),i=(await u_()).transaction(Zr,"readwrite");return await i.objectStore(Zr).put(e,n),await i.done,e}function d_({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},It=new Es("messaging","Messaging",Hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t,e){const n=await Hd(t),s=f_(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(jd(t.appConfig),i)).json()}catch(o){throw It.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw It.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw It.create("token-subscribe-no-token");return r.token}async function Wk(t,e){const n=await Hd(t),s=f_(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${jd(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw It.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw It.create("token-update-failed",{errorInfo:o})}if(!r.token)throw It.create("token-update-no-token");return r.token}async function zk(t,e){const s={method:"DELETE",headers:await Hd(t)};try{const r=await(await fetch(`${jd(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw It.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw It.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function jd({projectId:t}){return`${Rk}/projects/${t}/registrations`}async function Hd({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function f_({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==l_&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=7*24*60*60*1e3;async function Gk(t){const e=await Yk(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:xn(e.getKey("auth")),p256dh:xn(e.getKey("p256dh"))},s=await jk(t.firebaseDependencies);if(s){if(Jk(s.subscriptionOptions,n))return Date.now()>=s.createTime+qk?Kk(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await zk(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return $p(t.firebaseDependencies,n)}else return $p(t.firebaseDependencies,n)}async function Kk(t,e){try{const n=await Wk(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Ud(t.firebaseDependencies,s),n}catch(n){throw n}}async function $p(t,e){const s={token:await Vk(t,e),createTime:Date.now(),subscriptionOptions:e};return await Ud(t,s),s.token}async function Yk(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Lk(e)})}function Jk(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Qk(e,t),Xk(e,t),Zk(e,t),e}function Qk(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function Xk(t,e){e.data&&(t.data=e.data)}function Zk(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){return typeof t=="object"&&!!t&&c_ in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){if(!t||!t.options)throw vc("App Configuration Object");if(!t.name)throw vc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw vc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function vc(t){return It.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nP=class{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=tP(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t){try{t.swRegistration=await navigator.serviceWorker.register(Pk,{scope:Ak}),t.swRegistration.update().catch(()=>{}),await iP(t.swRegistration)}catch(e){throw It.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function iP(t){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Dp} ms`)),Dp),i=t.installing||t.waiting;t.active?(clearTimeout(s),e()):i?i.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e){if(!e&&!t.swRegistration&&await sP(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=l_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h_(t,e){if(!navigator)throw It.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw It.create("permission-blocked");return await oP(t,e==null?void 0:e.vapidKey),await rP(t,e==null?void 0:e.serviceWorkerRegistration),Gk(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e,n){const s=lP(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[c_],message_name:n[Ok],message_time:n[Nk],message_device_time:Math.floor(Date.now()/1e3)})}function lP(t){switch(t){case Xr.NOTIFICATION_CLICKED:return"notification_open";case Xr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Xr.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Up(n)):t.onMessageHandler.next(Up(n)));const s=n.data;eP(s)&&s[Mk]==="1"&&await aP(t,n.messageType,s)}const jp="@firebase/messaging",Hp="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=t=>{const e=new nP(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>cP(e,n)),e},dP=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>h_(e,s)}};function fP(){Zt(new Wt("messaging",uP,"PUBLIC")),Zt(new Wt("messaging-internal",dP,"PRIVATE")),Ht(jp,Hp),Ht(jp,Hp,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){if(!navigator)throw It.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function pP(t,e){return t=Xe(t),h_(t,e)}function mP(t,e){return t=Xe(t),hP(t,e)}fP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gP="https://fcmregistrations.googleapis.com/v1",m_="FCM_MSG",vP="google.c.a.c_id",yP=3,_P=1;var Ea;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ea||(Ea={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ta;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wP(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="fcm_token_details_db",bP=5,Vp="fcm_token_object_Store";async function SP(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(yc))return null;let e=null;return(await qi(yc,bP,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Vp))return;const l=o.objectStore(Vp),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:kn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:kn(u.auth),p256dh:kn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:kn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:kn(u.auth),p256dh:kn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:kn(u.vapidKey)}}}}}})).close(),await Ii(yc),await Ii("fcm_vapid_details_db"),await Ii("undefined"),EP(e)?e:null}function EP(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebase-messaging-database",CP=1,ei="firebase-messaging-store";let _c=null;function Vd(){return _c||(_c=qi(TP,CP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ei)}}})),_c}async function Wd(t){const e=qd(t),s=await(await Vd()).transaction(ei).objectStore(ei).get(e);if(s)return s;{const i=await SP(t.appConfig.senderId);if(i)return await zd(t,i),i}}async function zd(t,e){const n=qd(t),i=(await Vd()).transaction(ei,"readwrite");return await i.objectStore(ei).put(e,n),await i.done,e}async function IP(t){const e=qd(t),s=(await Vd()).transaction(ei,"readwrite");await s.objectStore(ei).delete(e),await s.done}function qd({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kt=new Es("messaging","Messaging",xP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(t,e){const n=await Kd(t),s=v_(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(Gd(t.appConfig),i)).json()}catch(o){throw Kt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Kt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Kt.create("token-subscribe-no-token");return r.token}async function PP(t,e){const n=await Kd(t),s=v_(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${Gd(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Kt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Kt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Kt.create("token-update-no-token");return r.token}async function g_(t,e){const s={method:"DELETE",headers:await Kd(t)};try{const r=await(await fetch(`${Gd(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Kt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Kt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Gd({projectId:t}){return`${gP}/projects/${t}/registrations`}async function Kd({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function v_({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==p_&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=7*24*60*60*1e3;async function RP(t){const e=await NP(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:kn(e.getKey("auth")),p256dh:kn(e.getKey("p256dh"))},s=await Wd(t.firebaseDependencies);if(s){if(MP(s.subscriptionOptions,n))return Date.now()>=s.createTime+AP?OP(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await g_(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return zp(t.firebaseDependencies,n)}else return zp(t.firebaseDependencies,n)}async function Wp(t){const e=await Wd(t.firebaseDependencies);e&&(await g_(t.firebaseDependencies,e.token),await IP(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function OP(t,e){try{const n=await PP(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await zd(t.firebaseDependencies,s),n}catch(n){throw n}}async function zp(t,e){const s={token:await kP(t,e),createTime:Date.now(),subscriptionOptions:e};return await zd(t,s),s.token}async function NP(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wP(e)})}function MP(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return DP(e,t),FP(e,t),BP(e,t),e}function DP(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function FP(t,e){e.data&&(t.data=e.data)}function BP(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){return typeof t=="object"&&!!t&&vP in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){return new Promise(e=>{setTimeout(e,t)})}async function jP(t,e){const n=HP(e,await t.firebaseDependencies.installations.getId());VP(t,n,e.productId)}function HP(t,e){var n,s;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=Ea.DISPLAY_NOTIFICATION.toString():i.message_type=Ea.DATA_MESSAGE.toString(),i.sdk_platform=yP.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=_P.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label),i}function VP(t,e,n){const s={};s.event_time_ms=Math.floor(Date.now()).toString(),s.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(s.compliance_data=WP(n)),t.logEvents.push(s)}function WP(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){var n,s;const{newSubscription:i}=t;if(!i){await Wp(e);return}const r=await Wd(e.firebaseDependencies);await Wp(e),e.vapidKey=(s=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&s!==void 0?s:p_,await RP(e)}async function qP(t,e){const n=YP(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await jP(e,n);const s=await y_();if(QP(s))return XP(s,n);if(n.notification&&await ZP(KP(n)),!!e&&e.onBackgroundMessageHandler){const i=LP(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function GP(t){var e,n;const s=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[m_];if(s){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=eA(s);if(!i)return;const r=new URL(i,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await JP(r);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await UP(3e3)),!!a)return s.messageType=Ta.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,a.postMessage(s)}function KP(t){const e=Object.assign({},t.notification);return e.data={[m_]:t},e}function YP({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function JP(t){const e=await y_();for(const n of e){const s=new URL(n.url,self.location.href);if(t.host===s.host)return n}return null}function QP(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function XP(t,e){e.isFirebaseMessaging=!0,e.messageType=Ta.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function y_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ZP(t){var e;const{actions:n}=t,{maxActions:s}=Notification;return n&&s&&n.length>s&&console.warn(`This browser only supports ${s} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function eA(t){var e,n,s;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(s=t.notification)===null||s===void 0?void 0:s.click_action;return i||($P(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){if(!t||!t.options)throw wc("App Configuration Object");if(!t.name)throw wc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw wc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function wc(t){return Kt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=tA(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=t=>{const e=new nA(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(qP(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(zP(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(GP(n))}),e};function iA(){Zt(new Wt("messaging-sw",sA,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(){return ty()&&await ny()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t=Id()){return rA().then(e=>{if(!e)throw Kt.create("unsupported-browser")},e=>{throw Kt.create("indexed-db-unsupported")}),Gi(Xe(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */iA();const tn=yd("auth",()=>{const t=j(""),e=Vi(),n=j(!1),s=j(""),i=j(""),r=j(""),o=j({email:"",userId:"",name:""}),a=async(f,h)=>{const p=Qr();switch(f){case"logout":Ox(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s.value="",i.value="",o.value={email:"",userId:"",name:""},e.push("/login"),console.log("Logout OK")}).catch(m=>console.log(m));break;case"login":try{const{user:m}=await xx(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await Ix(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Tp(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=Qr();console.log(f),await Tp(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:s,refreshToken:i,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=oA();pP(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),mP(h,p=>{console.log("Message received. ",p)})}}}),qn={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(P(),V("div",{role:"status",class:ze(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(P(),V("svg",{"aria-hidden":"true",class:ze(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[C("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),C("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=C("span",{class:"sr-only"},"Loading...",-1))],2))}},aA={key:2,class:"mt-2"},lA={__name:"App",setup(t){const e=tn();Vi();const n=te(()=>e.accessToken);j(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const s=Qr(),i=j(!0),r=()=>{Rx(s,u=>{u?(console.log("User logged in"),i.value=!1):(console.log("User logged out"),e.auth("logout"),i.value=!1)}),e.getTokenNotification();const o=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken"),l=localStorage.getItem("notificationToken"),c=localStorage.getItem("user");o&&(e.accessToken=o),l&&(e.notificationToken=l),a&&(e.refreshToken=a),c&&(e.userInfo=JSON.parse(c))};return Re(()=>{r()}),(o,a)=>{const l=Ss("RouterView");return P(),V(Me,null,[i.value?(P(),de(qn,{key:0,"full-screen":!0})):xe("",!0),n.value&&!i.value?(P(),de(Z0,{key:1})):xe("",!0),i.value?xe("",!0):(P(),V("main",aA,[z(l)]))],64)}}};function __(t,e){return function(){return t.apply(e,arguments)}}const{toString:cA}=Object.prototype,{getPrototypeOf:Yd}=Object,wl=(t=>e=>{const n=cA.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sn=t=>(t=t.toLowerCase(),e=>wl(e)===t),bl=t=>e=>typeof e===t,{isArray:Ji}=Array,eo=bl("undefined");function uA(t){return t!==null&&!eo(t)&&t.constructor!==null&&!eo(t.constructor)&&Dt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const w_=sn("ArrayBuffer");function dA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&w_(t.buffer),e}const fA=bl("string"),Dt=bl("function"),b_=bl("number"),Sl=t=>t!==null&&typeof t=="object",hA=t=>t===!0||t===!1,Yo=t=>{if(wl(t)!=="object")return!1;const e=Yd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pA=sn("Date"),mA=sn("File"),gA=sn("Blob"),vA=sn("FileList"),yA=t=>Sl(t)&&Dt(t.pipe),_A=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dt(t.append)&&((e=wl(t))==="formdata"||e==="object"&&Dt(t.toString)&&t.toString()==="[object FormData]"))},wA=sn("URLSearchParams"),[bA,SA,EA,TA]=["ReadableStream","Request","Response","Headers"].map(sn),CA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function go(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Ji(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function S_(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E_=t=>!eo(t)&&t!==Bs;function _u(){const{caseless:t}=E_(this)&&this||{},e={},n=(s,i)=>{const r=t&&S_(e,i)||i;Yo(e[r])&&Yo(s)?e[r]=_u(e[r],s):Yo(s)?e[r]=_u({},s):Ji(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&go(arguments[s],n);return e}const IA=(t,e,n,{allOwnKeys:s}={})=>(go(e,(i,r)=>{n&&Dt(i)?t[r]=__(i,n):t[r]=i},{allOwnKeys:s}),t),xA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kA=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PA=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Yd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},AA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},RA=t=>{if(!t)return null;if(Ji(t))return t;let e=t.length;if(!b_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},OA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yd(Uint8Array)),NA=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},MA=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},LA=sn("HTMLFormElement"),DA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),qp=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),FA=sn("RegExp"),T_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};go(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},BA=t=>{T_(t,(e,n)=>{if(Dt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Dt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$A=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return Ji(t)?s(t):s(String(t).split(e)),n},UA=()=>{},jA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,bc="abcdefghijklmnopqrstuvwxyz",Gp="0123456789",C_={DIGIT:Gp,ALPHA:bc,ALPHA_DIGIT:bc+bc.toUpperCase()+Gp},HA=(t=16,e=C_.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function VA(t){return!!(t&&Dt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const WA=t=>{const e=new Array(10),n=(s,i)=>{if(Sl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const r=Ji(s)?[]:{};return go(s,(o,a)=>{const l=n(o,i+1);!eo(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},zA=sn("AsyncFunction"),qA=t=>t&&(Sl(t)||Dt(t))&&Dt(t.then)&&Dt(t.catch),I_=((t,e)=>t?setImmediate:e?((n,s)=>(Bs.addEventListener("message",({source:i,data:r})=>{i===Bs&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Bs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Dt(Bs.postMessage)),GA=typeof queueMicrotask<"u"?queueMicrotask.bind(Bs):typeof process<"u"&&process.nextTick||I_,k={isArray:Ji,isArrayBuffer:w_,isBuffer:uA,isFormData:_A,isArrayBufferView:dA,isString:fA,isNumber:b_,isBoolean:hA,isObject:Sl,isPlainObject:Yo,isReadableStream:bA,isRequest:SA,isResponse:EA,isHeaders:TA,isUndefined:eo,isDate:pA,isFile:mA,isBlob:gA,isRegExp:FA,isFunction:Dt,isStream:yA,isURLSearchParams:wA,isTypedArray:OA,isFileList:vA,forEach:go,merge:_u,extend:IA,trim:CA,stripBOM:xA,inherits:kA,toFlatObject:PA,kindOf:wl,kindOfTest:sn,endsWith:AA,toArray:RA,forEachEntry:NA,matchAll:MA,isHTMLForm:LA,hasOwnProperty:qp,hasOwnProp:qp,reduceDescriptors:T_,freezeMethods:BA,toObjectSet:$A,toCamelCase:DA,noop:UA,toFiniteNumber:jA,findKey:S_,global:Bs,isContextDefined:E_,ALPHABET:C_,generateString:HA,isSpecCompliantForm:VA,toJSONObject:WA,isAsyncFn:zA,isThenable:qA,setImmediate:I_,asap:GA};function pe(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}k.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const x_=pe.prototype,k_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{k_[t]={value:t}});Object.defineProperties(pe,k_);Object.defineProperty(x_,"isAxiosError",{value:!0});pe.from=(t,e,n,s,i,r)=>{const o=Object.create(x_);return k.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),pe.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const KA=null;function wu(t){return k.isPlainObject(t)||k.isArray(t)}function P_(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function Kp(t,e,n){return t?t.concat(e).map(function(i,r){return i=P_(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function YA(t){return k.isArray(t)&&!t.some(wu)}const JA=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function El(t,e,n){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!k.isUndefined(y[m])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(k.isDate(p))return p.toISOString();if(!l&&k.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(p)||k.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let w=p;if(p&&!y&&typeof p=="object"){if(k.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(k.isArray(p)&&YA(p)||(k.isFileList(p)||k.endsWith(m,"[]"))&&(w=k.toArray(p)))return m=P_(m),w.forEach(function(g,S){!(k.isUndefined(g)||g===null)&&e.append(o===!0?Kp([m],S,r):o===null?m:m+"[]",c(g))}),!1}return wu(p)?!0:(e.append(Kp(y,m,r),c(p)),!1)}const d=[],f=Object.assign(JA,{defaultVisitor:u,convertValue:c,isVisitable:wu});function h(p,m){if(!k.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),k.forEach(p,function(w,v){(!(k.isUndefined(w)||w===null)&&i.call(e,w,k.isString(v)?v.trim():v,m,f))===!0&&h(w,m?m.concat(v):[v])}),d.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Yp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Jd(t,e){this._pairs=[],t&&El(t,this,e)}const A_=Jd.prototype;A_.append=function(e,n){this._pairs.push([e,n])};A_.toString=function(e){const n=e?function(s){return e.call(this,s,Yp)}:Yp;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function R_(t,e,n){if(!e)return t;const s=n&&n.encode||QA;k.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=k.isURLSearchParams(e)?e.toString():new Jd(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Jp{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(s){s!==null&&e(s)})}}const O_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XA=typeof URLSearchParams<"u"?URLSearchParams:Jd,ZA=typeof FormData<"u"?FormData:null,eR=typeof Blob<"u"?Blob:null,tR={isBrowser:!0,classes:{URLSearchParams:XA,FormData:ZA,Blob:eR},protocols:["http","https","file","blob","url","data"]},Qd=typeof window<"u"&&typeof document<"u",bu=typeof navigator=="object"&&navigator||void 0,nR=Qd&&(!bu||["ReactNative","NativeScript","NS"].indexOf(bu.product)<0),sR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iR=Qd&&window.location.href||"http://localhost",rR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qd,hasStandardBrowserEnv:nR,hasStandardBrowserWebWorkerEnv:sR,navigator:bu,origin:iR},Symbol.toStringTag,{value:"Module"})),ht={...rR,...tR};function oR(t,e){return El(t,new ht.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,r){return ht.isNode&&k.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function aR(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lR(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function N_(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&k.isArray(i)?i.length:o,l?(k.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!k.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&k.isArray(i[o])&&(i[o]=lR(i[o])),!a)}if(k.isFormData(t)&&k.isFunction(t.entries)){const n={};return k.forEachEntry(t,(s,i)=>{e(aR(s),i,n,0)}),n}return null}function cR(t,e,n){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const vo={transitional:O_,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=k.isObject(e);if(r&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return i?JSON.stringify(N_(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return oR(e,this.formSerializer).toString();if((a=k.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return El(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),cR(e)):e}],transformResponse:[function(e){const n=this.transitional||vo.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{vo.headers[t]={}});const uR=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dR=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&uR[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Qp=Symbol("internals");function lr(t){return t&&String(t).trim().toLowerCase()}function Jo(t){return t===!1||t==null?t:k.isArray(t)?t.map(Jo):String(t)}function fR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const hR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sc(t,e,n,s,i){if(k.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!k.isString(e)){if(k.isString(s))return e.indexOf(s)!==-1;if(k.isRegExp(s))return s.test(e)}}function pR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function mR(t,e){const n=k.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}class xt{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=lr(l);if(!u)throw new Error("header name must be a non-empty string");const d=k.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Jo(a))}const o=(a,l)=>k.forEach(a,(c,u)=>r(c,u,l));if(k.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(k.isString(e)&&(e=e.trim())&&!hR(e))o(dR(e),n);else if(k.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(n,e,s);return this}get(e,n){if(e=lr(e),e){const s=k.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return fR(i);if(k.isFunction(n))return n.call(this,i,s);if(k.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=lr(e),e){const s=k.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Sc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=lr(o),o){const a=k.findKey(s,o);a&&(!n||Sc(s,s[a],a,n))&&(delete s[a],i=!0)}}return k.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||Sc(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return k.forEach(this,(i,r)=>{const o=k.findKey(s,r);if(o){n[o]=Jo(i),delete n[r];return}const a=e?pR(r):String(r).trim();a!==r&&delete n[r],n[a]=Jo(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return k.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&k.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Qp]=this[Qp]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=lr(o);s[a]||(mR(i,o),s[a]=!0)}return k.isArray(e)?e.forEach(r):r(e),this}}xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(xt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});k.freezeMethods(xt);function Ec(t,e){const n=this||vo,s=e||n,i=xt.from(s.headers);let r=s.data;return k.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function M_(t){return!!(t&&t.__CANCEL__)}function Qi(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}k.inherits(Qi,pe,{__CANCEL__:!0});function L_(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vR(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function yR(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const Ca=(t,e,n=3)=>{let s=0;const i=vR(50,250);return yR(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Xp=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Zp=t=>(...e)=>k.asap(()=>t(...e)),_R=ht.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ht.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,wR=ht.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(s)&&o.push("path="+s),k.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function SR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function D_(t,e){return t&&!bR(e)?SR(t,e):e}const em=t=>t instanceof xt?{...t}:t;function ti(t,e){e=e||{};const n={};function s(c,u,d,f){return k.isPlainObject(c)&&k.isPlainObject(u)?k.merge.call({caseless:f},c,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function i(c,u,d,f){if(k.isUndefined(u)){if(!k.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function r(c,u){if(!k.isUndefined(u))return s(void 0,u)}function o(c,u){if(k.isUndefined(u)){if(!k.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(em(c),em(u),d,!0)};return k.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);k.isUndefined(f)&&d!==a||(n[u]=f)}),n}const F_=t=>{const e=ti({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=xt.from(o),e.url=R_(D_(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(k.isFormData(n)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ht.hasStandardBrowserEnv&&(s&&k.isFunction(s)&&(s=s(e)),s||s!==!1&&_R(e.url))){const c=i&&r&&wR.read(r);c&&o.set(i,c)}return e},ER=typeof XMLHttpRequest<"u",TR=ER&&function(t){return new Promise(function(n,s){const i=F_(t);let r=i.data;const o=xt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const g=xt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};L_(function($){n($),m()},function($){s($),m()},E),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(s(new pe("Request aborted",pe.ECONNABORTED,t,y)),y=null)},y.onerror=function(){s(new pe("Network Error",pe.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||O_;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new pe(S,E.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&k.forEach(o.toJSON(),function(S,E){y.setRequestHeader(E,S)}),k.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=Ca(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Ca(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=g=>{y&&(s(!g||g.type?new Qi(null,t,y):g),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=gR(i.url);if(v&&ht.protocols.indexOf(v)===-1){s(new pe("Unsupported protocol "+v+":",pe.ERR_BAD_REQUEST,t));return}y.send(r||null)})},CR=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof pe?u:new Qi(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>k.asap(a),l}},IR=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},xR=async function*(t,e){for await(const n of kR(t))yield*IR(n,e)},kR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},tm=(t,e,n,s)=>{const i=xR(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Tl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B_=Tl&&typeof ReadableStream=="function",PR=Tl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},AR=B_&&$_(()=>{let t=!1;const e=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),nm=64*1024,Su=B_&&$_(()=>k.isReadableStream(new Response("").body)),Ia={stream:Su&&(t=>t.body)};Tl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ia[e]&&(Ia[e]=k.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new pe(`Response type '${e}' is not supported`,pe.ERR_NOT_SUPPORT,s)})})})(new Response);const RR=async t=>{if(t==null)return 0;if(k.isBlob(t))return t.size;if(k.isSpecCompliantForm(t))return(await new Request(ht.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(k.isArrayBufferView(t)||k.isArrayBuffer(t))return t.byteLength;if(k.isURLSearchParams(t)&&(t=t+""),k.isString(t))return(await PR(t)).byteLength},OR=async(t,e)=>{const n=k.toFiniteNumber(t.getContentLength());return n??RR(e)},NR=Tl&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=F_(t);c=c?(c+"").toLowerCase():"text";let h=CR([i,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&AR&&n!=="get"&&n!=="head"&&(y=await OR(u,s))!==0){let E=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(k.isFormData(s)&&(R=E.headers.get("content-type"))&&u.setContentType(R),E.body){const[$,A]=Xp(y,Ca(Zp(l)));s=tm(E.body,nm,$,A)}}k.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?d:void 0});let v=await fetch(p);const g=Su&&(c==="stream"||c==="response");if(Su&&(a||g&&m)){const E={};["status","statusText","headers"].forEach(T=>{E[T]=v[T]});const R=k.toFiniteNumber(v.headers.get("content-length")),[$,A]=a&&Xp(R,Ca(Zp(a),!0))||[];v=new Response(tm(v.body,nm,$,()=>{A&&A(),m&&m()}),E)}c=c||"text";let S=await Ia[k.findKey(Ia,c)||"text"](v,t);return!g&&m&&m(),await new Promise((E,R)=>{L_(E,R,{data:S,headers:xt.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,t,p),{cause:w.cause||w}):pe.from(w,w&&w.code,t,p)}}),Eu={http:KA,xhr:TR,fetch:NR};k.forEach(Eu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sm=t=>`- ${t}`,MR=t=>k.isFunction(t)||t===null||t===!1,U_={getAdapter:t=>{t=k.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let o;if(s=n,!MR(n)&&(s=Eu[(o=String(n)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+r]=s}if(!s){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(sm).join(`
`):" "+sm(r[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Eu};function Tc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qi(null,t)}function im(t){return Tc(t),t.headers=xt.from(t.headers),t.data=Ec.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),U_.getAdapter(t.adapter||vo.adapter)(t).then(function(s){return Tc(t),s.data=Ec.call(t,t.transformResponse,s),s.headers=xt.from(s.headers),s},function(s){return M_(s)||(Tc(t),s&&s.response&&(s.response.data=Ec.call(t,t.transformResponse,s.response),s.response.headers=xt.from(s.response.headers))),Promise.reject(s)})}const j_="1.7.9",Cl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const rm={};Cl.transitional=function(e,n,s){function i(r,o){return"[Axios v"+j_+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new pe(i(o," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!rm[o]&&(rm[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};Cl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function LR(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new pe("option "+r+" must be "+l,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+r,pe.ERR_BAD_OPTION)}}const Qo={assertOptions:LR,validators:Cl},cn=Qo.validators;class zs{constructor(e){this.defaults=e,this.interceptors={request:new Jp,response:new Jp}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ti(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&Qo.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),i!=null&&(k.isFunction(i)?n.paramsSerializer={serialize:i}:Qo.assertOptions(i,{encode:cn.function,serialize:cn.function},!0)),Qo.assertOptions(n,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&k.merge(r.common,r[n.method]);r&&k.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=xt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[im.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=im.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=ti(this.defaults,e);const n=D_(e.baseURL,e.url);return R_(n,e.params,e.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(e){zs.prototype[e]=function(n,s){return this.request(ti(s||{},{method:e,url:n,data:(s||{}).data}))}});k.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(ti(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}zs.prototype[e]=n(),zs.prototype[e+"Form"]=n(!0)});class Xd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new Qi(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Xd(function(i){e=i}),cancel:e}}}function DR(t){return function(n){return t.apply(null,n)}}function FR(t){return k.isObject(t)&&t.isAxiosError===!0}const Tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tu).forEach(([t,e])=>{Tu[e]=t});function H_(t){const e=new zs(t),n=__(zs.prototype.request,e);return k.extend(n,zs.prototype,e,{allOwnKeys:!0}),k.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return H_(ti(t,i))},n}const Le=H_(vo);Le.Axios=zs;Le.CanceledError=Qi;Le.CancelToken=Xd;Le.isCancel=M_;Le.VERSION=j_;Le.toFormData=El;Le.AxiosError=pe;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=DR;Le.isAxiosError=FR;Le.mergeConfig=ti;Le.AxiosHeaders=xt;Le.formToJSON=t=>N_(k.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=U_.getAdapter;Le.HttpStatusCode=Tu;Le.default=Le;const Zd="/right_arrow.svg",yo={__name:"BackLink",setup(t){const e=Vi(),n=()=>e.go(-1);return(s,i)=>(P(),V("div",{onClick:n,class:"cursor-pointer h-8 inline-block bg-gray-900 bg-opacity-50 p-2 rounded-md"},i[0]||(i[0]=[C("img",{src:Zd,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function om(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ef(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:om(e[n])&&om(t[n])&&Object.keys(e[n]).length>0&&ef(t[n],e[n])})}const V_={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function di(){const t=typeof document<"u"?document:{};return ef(t,V_),t}const BR={document:V_,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ft(){const t=typeof window<"u"?window:{};return ef(t,BR),t}function $R(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function UR(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Cu(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function qs(){return Date.now()}function jR(t){const e=Ft();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function HR(t,e){e===void 0&&(e="x");const n=Ft();let s,i,r;const o=jR(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function Ro(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function VR(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ot(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!VR(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(Ro(t[a])&&Ro(s[a])?s[a].__swiper__?t[a]=s[a]:Ot(t[a],s[a]):!Ro(t[a])&&Ro(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Ot(t[a],s[a])):t[a]=s[a])}}}return t}function Oo(t,e,n){t.style.setProperty(e,n)}function W_(t){let{swiper:e,targetPosition:n,side:s}=t;const i=Ft(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function hn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function WR(t,e){var s,i;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((s=r.shadowRoot)==null?void 0:s.children)||[],...((i=r.assignedElements)==null?void 0:i.call(r))||[])}}function zR(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=WR(t,e))),n}function xa(t){try{console.warn(t);return}catch{}}function ka(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:$R(e)),n}function qR(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function GR(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function ls(t,e){return Ft().getComputedStyle(t,null).getPropertyValue(e)}function Pa(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function z_(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function Cc(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Iu(t,e,n){const s=Ft();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function et(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function q_(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=hn(t.el,`.${s[i]}`)[0];r||(r=ka("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function KR(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const y=e.params.navigation;p=et(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...y.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=q_(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),y=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:y}),m=et(m),y=et(y);const w=(v,g)=>{v&&v.addEventListener("click",g==="next"?c:l),!e.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};m.forEach(v=>w(v,"next")),y.forEach(v=>w(v,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=et(p),m=et(m);const y=(w,v)=>{w.removeEventListener("click",v==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>y(w,"next")),m.forEach(w=>y(w,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=et(p),m=et(m),e.enabled){a();return}[...p,...m].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:y,prevEl:w}=e.navigation;y=et(y),w=et(w);const v=m.target;let g=w.includes(v)||y.includes(v);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(E=>y.includes(E)||w.includes(E)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let S;y.length?S=y[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...y,...w].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function cr(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function YR(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(v,g){const{bulletActiveClass:S}=e.params.pagination;v&&(v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${S}-${g}`),v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${S}-${g}-${g}`)))}function u(v,g,S){if(v=v%S,g=g%S,g===v+1)return"next";if(g===v-1)return"previous"}function d(v){const g=v.target.closest(cr(e.params.pagination.bulletClass));if(!g)return;v.preventDefault();const S=Pa(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const E=u(e.realIndex,S,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const v=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=et(S);let E,R;const $=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil($/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(R=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,R=e.previousSnapIndex):(R=e.previousIndex||0,E=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const T=e.pagination.bullets;let x,B,O;if(g.dynamicBullets&&(o=Iu(T[0],e.isHorizontal()?"width":"height"),S.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&R!==void 0&&(a+=E-(R||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),x=Math.max(E-a,0),B=x+(Math.min(T.length,g.dynamicMainBullets)-1),O=(B+x)/2),T.forEach(D=>{const Q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ee=>`${g.bulletActiveClass}${ee}`)].map(ee=>typeof ee=="string"&&ee.includes(" ")?ee.split(" "):ee).flat();D.classList.remove(...Q)}),S.length>1)T.forEach(D=>{const Q=Pa(D);Q===E?D.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),g.dynamicBullets&&(Q>=x&&Q<=B&&D.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),Q===x&&c(D,"prev"),Q===B&&c(D,"next"))});else{const D=T[E];if(D&&D.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&T.forEach((Q,ee)=>{Q.setAttribute("part",ee===E?"bullet-active":"bullet")}),g.dynamicBullets){const Q=T[x],ee=T[B];for(let ne=x;ne<=B;ne+=1)T[ne]&&T[ne].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(Q,"prev"),c(ee,"next")}}if(g.dynamicBullets){const D=Math.min(T.length,g.dynamicMainBullets+4),Q=(o*D-o)/2-O*o,ee=v?"right":"left";T.forEach(ne=>{ne.style[e.isHorizontal()?ee:"top"]=`${Q}px`})}}S.forEach((T,x)=>{if(g.type==="fraction"&&(T.querySelectorAll(cr(g.currentClass)).forEach(B=>{B.textContent=g.formatFractionCurrent(E+1)}),T.querySelectorAll(cr(g.totalClass)).forEach(B=>{B.textContent=g.formatFractionTotal(A)})),g.type==="progressbar"){let B;g.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const O=(E+1)/A;let D=1,Q=1;B==="horizontal"?D=O:Q=O,T.querySelectorAll(cr(g.progressbarFillClass)).forEach(ee=>{ee.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${Q})`,ee.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(T.innerHTML=g.renderCustom(e,E+1,A),x===0&&i("paginationRender",T)):(x===0&&i("paginationRender",T),i("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const v=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=et(S);let E="";if(v.type==="bullets"){let R=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&R>g&&(R=g);for(let $=0;$<R;$+=1)v.renderBullet?E+=v.renderBullet.call(e,$,v.bulletClass):E+=`<${v.bulletElement} ${e.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?E=v.renderFraction.call(e,v.currentClass,v.totalClass):E=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?E=v.renderProgressbar.call(e,v.progressbarFillClass):E=`<span class="${v.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(R=>{v.type!=="custom"&&(R.innerHTML=E||""),v.type==="bullets"&&e.pagination.bullets.push(...R.querySelectorAll(cr(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=q_(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const v=e.params.pagination;if(!v.el)return;let g;typeof v.el=="string"&&e.isElement&&(g=e.el.querySelector(v.el)),!g&&typeof v.el=="string"&&(g=[...document.querySelectorAll(v.el)]),g||(g=v.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(v.el)],g.length>1&&(g=g.find(S=>z_(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=et(g),g.forEach(S=>{v.type==="bullets"&&v.clickable&&S.classList.add(...(v.clickableClass||"").split(" ")),S.classList.add(v.modifierClass+v.type),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.classList.add(v.progressbarOppositeClass),v.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(v.lockClass)}))}function m(){const v=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=et(g),g.forEach(S=>{S.classList.remove(v.hiddenClass),S.classList.remove(v.modifierClass+v.type),S.classList.remove(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(S.classList.remove(...(v.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...v.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const v=e.params.pagination;let{el:g}=e.pagination;g=et(g),g.forEach(S=>{S.classList.remove(v.horizontalClass,v.verticalClass),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?w():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:v}=e.pagination;v&&(v=et(v),v.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(v,g)=>{const S=g.target,E=et(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const R=E[0].classList.contains(e.params.pagination.hiddenClass);i(R===!0?"paginationShow":"paginationHide"),E.forEach($=>$.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=et(v),v.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=et(v),v.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:w,render:h,update:f,init:p,destroy:m})}function G_(t){let{swiper:e,extendParams:n,emit:s,once:i}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:qs()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,y=qs()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const A=p.velocities.pop(),T=p.velocities.pop(),x=A.position-T.position,B=A.time-T.time;e.velocity=x/B,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(B>150||qs()-A.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const v=e.velocity*w;let g=e.translate+v;f&&(g=-g);let S=!1,E;const R=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let $;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-R&&(g=e.maxTranslate()-R),E=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&($=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>R&&(g=e.minTranslate()+R),E=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&($=!0);else if(u.freeMode.sticky){let A;for(let T=0;T<h.length;T+=1)if(h[T]>-g){A=T;break}Math.abs(h[A]-g)<Math.abs(h[A-1]-g)||e.swipeDirection==="next"?g=h[A]:g=h[A-1],g=-g}if($&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-g-e.translate)/e.velocity):w=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const A=Math.abs((f?-g:g)-e.translate),T=e.slidesSizesGrid[e.activeIndex];A<T?w=u.speed:A<2*T?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(E),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Cc(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(s("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(E),Cc(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Cc(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&s("_freeModeNoMomentumRelease");(!u.freeMode.momentum||y>=u.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Ic;function JR(){const t=Ft(),e=di();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function K_(){return Ic||(Ic=JR()),Ic}let xc;function QR(t){let{userAgent:e}=t===void 0?{}:t;const n=K_(),s=Ft(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Y_(t){return t===void 0&&(t={}),xc||(xc=QR(t)),xc}let kc;function XR(){const t=Ft(),e=Y_();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function ZR(){return kc||(kc=XR()),kc}function eO(t){let{swiper:e,on:n,emit:s}=t;const i=Ft();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(y=>{let{contentBoxSize:w,contentRect:v,target:g}=y;g&&g!==e.el||(p=v?v.width:(w[0]||w).inlineSize,m=v?v.height:(w[0]||w).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function tO(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=Ft(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=z_(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var nO={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function sO(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ls(s,"padding-left")||0,10)-parseInt(ls(s,"padding-right")||0,10),n=n-parseInt(ls(s,"padding-top")||0,10)-parseInt(ls(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function iO(){const t=this;function e(x,B){return parseFloat(x.getPropertyValue(t.getDirectionLabel(B))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=hn(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,v=t.slidesGrid.length;let g=n.spaceBetween,S=-m,E=0,R=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(x=>{o?x.style.marginLeft="":x.style.marginRight="",x.style.marginBottom="",x.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Oo(s,"--swiper-centered-offset-before",""),Oo(s,"--swiper-centered-offset-after",""));const $=n.grid&&n.grid.rows>1&&t.grid;$?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let A;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(x=>typeof n.breakpoints[x].slidesPerView<"u").length>0;for(let x=0;x<d;x+=1){A=0;let B;if(u[x]&&(B=u[x]),$&&t.grid.updateSlide(x,B,u),!(u[x]&&ls(B,"display")==="none")){if(n.slidesPerView==="auto"){T&&(u[x].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(B),D=B.style.transform,Q=B.style.webkitTransform;if(D&&(B.style.transform="none"),Q&&(B.style.webkitTransform="none"),n.roundLengths)A=t.isHorizontal()?Iu(B,"width"):Iu(B,"height");else{const ee=e(O,"width"),ne=e(O,"padding-left"),re=e(O,"padding-right"),we=e(O,"margin-left"),mt=e(O,"margin-right"),St=O.getPropertyValue("box-sizing");if(St&&St==="border-box")A=ee+we+mt;else{const{clientWidth:me,offsetWidth:ge}=B;A=ee+ne+re+we+mt+(ge-me)}}D&&(B.style.transform=D),Q&&(B.style.webkitTransform=Q),n.roundLengths&&(A=Math.floor(A))}else A=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(A=Math.floor(A)),u[x]&&(u[x].style[t.getDirectionLabel("width")]=`${A}px`);u[x]&&(u[x].swiperSlideSize=A),p.push(A),n.centeredSlides?(S=S+A/2+E/2+g,E===0&&x!==0&&(S=S-r/2-g),x===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),R%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+A+g),t.virtualSize+=A+g,E=A,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),$&&t.grid.updateWrapperSize(A,f),!n.centeredSlides){const x=[];for(let B=0;B<f.length;B+=1){let O=f[B];n.roundLengths&&(O=Math.floor(O)),f[B]<=t.virtualSize-r&&x.push(O)}f=x,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const x=p[0]+g;if(n.slidesPerGroup>1){const B=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=x*n.slidesPerGroup;for(let D=0;D<B;D+=1)f.push(f[f.length-1]+O)}for(let B=0;B<t.virtual.slidesBefore+t.virtual.slidesAfter;B+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+x),h.push(h[h.length-1]+x),t.virtualSize+=x}if(f.length===0&&(f=[0]),g!==0){const x=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((B,O)=>!n.cssMode||n.loop?!0:O!==u.length-1).forEach(B=>{B.style[x]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let x=0;p.forEach(O=>{x+=O+(g||0)}),x-=g;const B=x>r?x-r:0;f=f.map(O=>O<=0?-m:O>B?B+y:O)}if(n.centerInsufficientSlides){let x=0;p.forEach(O=>{x+=O+(g||0)}),x-=g;const B=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(x+B<r){const O=(r-x-B)/2;f.forEach((D,Q)=>{f[Q]=D-O}),h.forEach((D,Q)=>{h[Q]=D+O})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Oo(s,"--swiper-centered-offset-before",`${-f[0]}px`),Oo(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const x=-t.snapGrid[0],B=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+x),t.slidesGrid=t.slidesGrid.map(O=>O+B)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const x=`${n.containerModifierClass}backface-hidden`,B=t.el.classList.contains(x);d<=n.maxBackfaceHiddenSlides?B||t.el.classList.add(x):B&&t.el.classList.remove(x)}}function rO(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function oO(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const am=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function aO(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),am(c,y,n.slideVisibleClass),am(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function lO(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Pc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function cO(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>hn(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=GR(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=qR(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Pc(d,d===l,n.slideActiveClass),Pc(d,d===u,n.slideNextClass),Pc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Xo=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Ac=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},xu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Ac(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&Ac(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&Ac(t,o)};function uO(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function dO(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=uO(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&xu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function fO(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var hO={updateSize:sO,updateSlides:iO,updateAutoHeight:rO,updateSlidesOffset:oO,updateSlidesProgress:aO,updateProgress:lO,updateSlidesClasses:cO,updateActiveIndex:dO,updateClickedSlide:fO};function pO(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=HR(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function mO(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function gO(){return-this.snapGrid[0]}function vO(){return-this.snapGrid[this.snapGrid.length-1]}function yO(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return W_({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var _O={getTranslate:pO,setTranslate:mO,minTranslate:gO,maxTranslate:vO,translateTo:yO};function wO(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function J_(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function bO(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),J_({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function SO(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),J_({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var EO={setTransition:wO,transitionStart:bO,transitionEnd:SO};function TO(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const w=-l[y];if(a.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){const R=-Math.floor(w*100),$=Math.floor(c[E]*100),A=Math.floor(c[E+1]*100);typeof c[E+1]<"u"?R>=$&&R<A-(A-$)/2?o=E:R>=$&&R<A&&(o=E+1):R>=$&&(o=E)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let v;o>d?v="next":o<d?v="prev":v="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&i)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(a.cssMode){const E=r.isHorizontal(),R=f?w:-w;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[E?"scrollLeft":"scrollTop"]=R})):h[E?"scrollLeft":"scrollTop"]=R,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return W_({swiper:r,targetPosition:R,side:E?"left":"top"}),!0;h.scrollTo({[E?"left":"top"]:R,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,v),e===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(R){!r||r.destroyed||R.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function CO(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function IO(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function xO(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const h=f(d),p=r.map(w=>f(w));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let w;r.forEach((v,g)=>{h>=v&&(w=g)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let y=0;if(typeof m<"u"&&(y=o.indexOf(m),y<0&&(y=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&s.isBeginning){const w=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(w,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,e,n)}),!0;return s.slideTo(y,t,e,n)}function kO(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function PO(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function AO(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(hn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),Cu(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(hn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),Cu(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var RO={slideTo:TO,slideToLoop:CO,slideNext:IO,slidePrev:xO,slideReset:kO,slideToClosest:PO,slideToClickedSlide:AO};function OO(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{hn(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?ka("swiper-slide",[n.slideBlankClass]):ka("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else xa("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else xa("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function NO(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const y=h.slidesPerGroupAuto?m:h.slidesPerGroup;let w=y;w%y!==0&&(w+=y-w%y),w+=h.loopAdditionalSlides,l.loopedSlides=w;const v=l.grid&&h.grid&&h.grid.rows>1;c.length<m+w?xa("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&h.grid.fill==="row"&&xa("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let E=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(D=>D.classList.contains(h.slideActiveClass))):E=r;const R=s==="next"||!s,$=s==="prev"||!s;let A=0,T=0;const x=v?Math.ceil(c.length/h.grid.rows):c.length,O=(v?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(O<w){A=Math.max(w-O,y);for(let D=0;D<w-O;D+=1){const Q=D-Math.floor(D/x)*x;if(v){const ee=x-Q-1;for(let ne=c.length-1;ne>=0;ne-=1)c[ne].column===ee&&g.push(ne)}else g.push(x-Q-1)}}else if(O+m>x-w){T=Math.max(O-(x-w*2),y);for(let D=0;D<T;D+=1){const Q=D-Math.floor(D/x)*x;v?c.forEach((ee,ne)=>{ee.column===Q&&S.push(ne)}):S.push(Q)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),$&&g.forEach(D=>{c[D].swiperLoopMoveDOM=!0,f.prepend(c[D]),c[D].swiperLoopMoveDOM=!1}),R&&S.forEach(D=>{c[D].swiperLoopMoveDOM=!0,f.append(c[D]),c[D].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():v&&(g.length>0&&$||S.length>0&&R)&&l.slides.forEach((D,Q)=>{l.grid.updateSlide(Q,D,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&$){if(typeof e>"u"){const D=l.slidesGrid[E],ee=l.slidesGrid[E+A]-D;a?l.setTranslate(l.translate-ee):(l.slideTo(E+Math.ceil(A),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-ee,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-ee))}else if(i){const D=v?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+D,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&R)if(typeof e>"u"){const D=l.slidesGrid[E],ee=l.slidesGrid[E-T]-D;a?l.setTranslate(l.translate-ee):(l.slideTo(E-T,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-ee,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-ee))}else{const D=v?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-D,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const D={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(Q=>{!Q.destroyed&&Q.params.loop&&Q.loopFix({...D,slideTo:Q.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...D,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function MO(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var LO={loopCreate:OO,loopFix:NO,loopDestroy:MO};function DO(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function FO(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var BO={setGrabCursor:DO,unsetGrabCursor:FO};function $O(t,e){e===void 0&&(e=this);function n(s){if(!s||s===di()||s===Ft())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function lm(t,e,n){const s=Ft(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function UO(t){const e=this,n=di();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){lm(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!zR(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?$O(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!lm(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=qs(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const y=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function jO(t){const e=di(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(E=>E.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=qs());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let E;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(E=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const w=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(w&&v&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&y!==n.touchesDirection&&w&&v&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let g=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(w&&v&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**S))):p<0&&(w&&v&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function HO(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(E=>E.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=qs(),f=d-n.touchStartTime;if(e.allowClick){const E=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(E&&E[0]||s.target,E),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=qs(),Cu(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,y=e.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=E<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[E+R]<"u"?(p||h>=c[E]&&h<c[E+R])&&(m=E,y=c[E+R]-c[E]):(p||h>=c[E])&&(m=E,y=c[c.length-1]-c[c.length-2])}let w=null,v=null;o.rewind&&(e.isBeginning?v=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(h-c[m])/y,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):v!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(v):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+S),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:m))}}function cm(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function VO(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function WO(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function zO(t){const e=this;Xo(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function qO(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Q_=(t,e)=>{const n=di(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",cm,!0):t[c]("observerUpdate",cm,!0),i[l]("load",t.onLoad,{capture:!0}))};function GO(){const t=this,{params:e}=t;t.onTouchStart=UO.bind(t),t.onTouchMove=jO.bind(t),t.onTouchEnd=HO.bind(t),t.onDocumentTouchStart=qO.bind(t),e.cssMode&&(t.onScroll=WO.bind(t)),t.onClick=VO.bind(t),t.onLoad=zO.bind(t),Q_(t,"on")}function KO(){Q_(this,"off")}var YO={attachEvents:GO,detachEvents:KO};const um=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function JO(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=di(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=um(t,s),h=um(t,d),p=t.params.grabCursor,m=d.grabCursor,y=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof d[R]>"u")return;const $=s[R]&&s[R].enabled,A=d[R]&&d[R].enabled;$&&!A&&t[R].disable(),!$&&A&&t[R].enable()});const w=d.direction&&d.direction!==s.direction,v=s.loop&&(d.slidesPerView!==s.slidesPerView||w),g=s.loop;w&&n&&t.changeDirection(),Ot(t.params,d);const S=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!S?t.disable():!y&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&E?(t.loopCreate(e),t.updateSlides()):g&&!E&&t.loopDestroy()),t.emit("breakpoint",d)}function QO(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=Ft(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var XO={setBreakpoint:JO,getBreakpoint:QO};function ZO(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function eN(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=ZO(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function tN(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var nN={addClasses:eN,removeClasses:tN};function sN(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var iN={checkOverflow:sN},ku={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function rN(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){Ot(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Ot(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Ot(e,s)}}const Rc={eventsEmitter:nO,update:hO,translate:_O,transition:EO,slide:RO,loop:LO,grabCursor:BO,events:YO,breakpoints:XO,checkOverflow:iN,classes:nN},Oc={};let tf=class Cn{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Ot({},n),e&&!n.el&&(n.el=e);const o=di();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Ot({},n,{el:d});u.push(new Cn(f))}),u}const a=this;a.__swiper__=!0,a.support=K_(),a.device=Y_({userAgent:n.userAgent}),a.browser=ZR(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:rN(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ot({},ku,l);return a.params=Ot({},c,Oc,n),a.originalParams=Ot({},a.params),a.passedParams=Ot({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=hn(n,`.${s.slideClass}, swiper-slide`),r=Pa(i[0]);return Pa(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=hn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Xo(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):hn(s,i())[0];return!o&&n.params.createElements&&(o=ka("div",n.params.wrapperClass),s.append(o),hn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||ls(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||ls(s,"direction")==="rtl"),wrongRTL:ls(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?Xo(n,r):r.addEventListener("load",o=>{Xo(n,o.target)})}),xu(n),n.initialized=!0,xu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),UR(s)),s.destroyed=!0),null}static extendDefaults(e){Ot(Oc,e)}static get extendedDefaults(){return Oc}static get defaults(){return ku}static installModule(e){Cn.prototype.__modules__||(Cn.prototype.__modules__=[]);const n=Cn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Cn.installModule(n)),Cn):(Cn.installModule(e),Cn)}};Object.keys(Rc).forEach(t=>{Object.keys(Rc[t]).forEach(e=>{tf.prototype[e]=Rc[t][e]})});tf.use([eO,tO]);const X_=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ni(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ai(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:ni(e[s])&&ni(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Ai(t[s],e[s]):t[s]=e[s]})}function Z_(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function ew(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function tw(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function nw(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function oN(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function aN(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let y,w,v,g,S,E,R,$;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(v=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const A=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),u[T].prevEl=void 0,u[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),u[T].el=void 0,e[T].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?E=!0:!u.loop&&s.loop?R=!0:$=!0),c.forEach(T=>{if(ni(u[T])&&ni(s[T]))Object.assign(u[T],s[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in s[T]&&!s[T].enabled&&A(T);else{const x=s[T];(x===!0||x===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?x===!1&&A(T):u[T]=s[T]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&($=!0),y&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(E||$)&&e.loopDestroy(),(R||$)&&e.loopCreate(),e.update()}function dm(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};Ai(n,ku),n._emitClasses=!0,n.init=!1;const r={},o=X_.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ni(t[l])?(n[l]={},i[l]={},Ai(n[l],t[l]),Ai(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function lN(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;Z_(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),ew(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),tw(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function cN(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return X_.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ni(t[l])&&ni(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const uN=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Nc(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function dN(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return Ee(u.type,{...u.props},u.children);if(u.componentOptions)return Ee(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const nf={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=j("swiper"),a=j(null),l=j(!1),c=j(!1),u=j(null),d=j(null),f=j(null),h={value:[]},p={value:[]},m=j(null),y=j(null),w=j(null),v=j(null),{params:g,passedParams:S}=dm(t);Nc(n,h,p),f.value=S,p.value=h.value;const E=()=>{Nc(n,h,p),l.value=!0};g.onAny=function(A){for(var T=arguments.length,x=new Array(T>1?T-1:0),B=1;B<T;B++)x[B-1]=arguments[B];s(A,...x)},Object.assign(g.on,{_beforeBreakpoint:E,_containerClasses(A,T){o.value=T}});const R={...g};if(delete R.wrapperClass,d.value=new tf(R),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const A={cache:!1,slides:h.value,renderExternal:T=>{a.value=T},renderExternalUpdate:!1};Ai(d.value.params.virtual,A),Ai(d.value.originalParams.virtual,A)}cd(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:A}=dm(t),T=cN(A,f.value,h.value,p.value,x=>x.props&&x.props.key);f.value=A,(T.length||l.value)&&d.value&&!d.value.destroyed&&aN({swiper:d.value,slides:h.value,passedParams:A,changedParams:T,nextEl:m.value,prevEl:y.value,scrollbarEl:v.value,paginationEl:w.value}),l.value=!1}),pt("swiper",d),Lt(a,()=>{ji(()=>{uN(d.value)})}),Re(()=>{u.value&&(lN({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:w.value,scrollbarEl:v.value,swiper:d.value},g),s("swiper",d.value))}),sl(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function $(A){return g.virtual?dN(d,A,a.value):(A.forEach((T,x)=>{T.props||(T.props={}),T.props.swiperRef=d,T.props.swiperSlideIndex=x}),A)}return()=>{const{slides:A,slots:T}=Nc(n,h,p);return Ee(i,{ref:u,class:nw(o.value)},[T["container-start"],Ee(r,{class:oN(g.wrapperClass)},[T["wrapper-start"],$(A),T["wrapper-end"]]),Z_(t)&&[Ee("div",{ref:y,class:"swiper-button-prev"}),Ee("div",{ref:m,class:"swiper-button-next"})],tw(t)&&Ee("div",{ref:v,class:"swiper-scrollbar"}),ew(t)&&Ee("div",{ref:w,class:"swiper-pagination"}),T["container-end"]])}}},sf={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=j(null),o=j("swiper-slide"),a=j(!1);function l(d,f,h){f===r.value&&(o.value=h)}Re(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Yg(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),cd(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),sl(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=te(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));pt("swiperSlide",c);const u=()=>{a.value=!0};return()=>Ee(t.tag,{class:nw(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Ee("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})])}},fN={class:"relative"},hN=["src","alt"],pN={key:0,class:"text-xs text-slate-400 mb-1"},mN={class:"text-xs mb-1"},sw={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(P(),V("div",fN,[z(G(cl),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:ie(()=>[C("div",{class:ze(["mb-1 image bg-contain rounded-sm",t.size])},[C("img",{class:"rounded-md mb-1 h-full w-full",src:t.film.posterUrl,alt:t.film.nameRu},null,8,hN)],2),t.film.year&&t.film.genres.length?(P(),V("p",pN,ae(t.film.year)+", "+ae(t.film.genres?t.film.genres[0].genre:""),1)):xe("",!0),C("h3",mN,ae(t.film.nameRu),1)]),_:1},8,["to"])]))}},rf={__name:"SliderList",props:{films:Array},setup(t){const e=[G_];return(n,s)=>(P(),de(G(nf),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ie(()=>[(P(!0),V(Me,null,ci(t.films,i=>(P(),de(G(sf),{key:i.kinopoiskId?i.kinopoiskId:i.filmId,class:"flex-1"},{default:ie(()=>[z(sw,{film:i},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},Il={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,s)=>(P(),V("div",{class:"fixed bottom-20 right-4 inline-block bg-gray-900 bg-opacity-50 p-2 rounded-md z-50 mb-1 cursor-pointer",onClick:e},s[0]||(s[0]=[C("img",{src:Zd,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},gN={class:"flex justify-between mb-3 items-center"},vN={class:"text-xl"},ms={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(P(),V("div",gN,[C("h2",vN,ae(t.title),1),t.showAll?(P(),de(G(cl),{key:0,to:{name:t.link},class:"text-orange-600 flex gap-1.5 pt-1"},{default:ie(()=>n[0]||(n[0]=[C("span",{class:"text-sm leading-none pb-0.5"},"все",-1),C("img",{src:Zd,alt:"all",class:"w-3"},null,-1)])),_:1},8,["to"])):xe("",!0)]))}},yN={class:"w-20 h-20 rounded-full flex items-center overflow-hidden mb-1"},_N=["src","alt"],wN={class:"text-xs mb-1"},bN={key:0,class:"text-xs mb-1 text-gray-500"},SN={key:1,class:"text-xs mb-1 text-gray-500"},EN={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>(P(),V("div",null,[C("div",yN,[C("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,_N)]),C("h3",wN,ae(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(P(),V("h3",bN,"Режиссер")):xe("",!0),t.staffItem.description?(P(),V("h3",SN,ae(t.staffItem.description),1)):xe("",!0)]))}},TN={__name:"StaffList",props:{staffList:Array},setup(t){const e=[G_];return(n,s)=>(P(),de(G(nf),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ie(()=>[(P(!0),V(Me,null,ci(t.staffList.slice(0,10),i=>(P(),de(G(sf),{key:i.staffId,class:"flex-1"},{default:ie(()=>[z(EN,{staffItem:i},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}};var fm={};const hm="@firebase/database",pm="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iw="";function CN(t){iw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),it(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Kr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IN(e)}}catch{}return new xN},$s=rw("localStorage"),kN=rw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Td("@firebase/database"),PN=function(){let t=1;return function(){return t++}}(),ow=function(t){const e=EC(t),n=new _C;n.update(e);const s=n.digest();return bd.encodeByteArray(s)},_o=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_o.apply(null,s):typeof s=="object"?e+=it(s):e+=s,e+=" "}return e};let Or=null,mm=!0;const AN=function(t,e){H(!0,"Can't turn on custom loggers persistently."),Ri.logLevel=Ae.VERBOSE,Or=Ri.log.bind(Ri)},at=function(...t){if(mm===!0&&(mm=!1,Or===null&&kN.get("logging_enabled")===!0&&AN()),Or){const e=_o.apply(null,t);Or(e)}},wo=function(t){return function(...e){at(t,...e)}},Pu=function(...t){const e="FIREBASE INTERNAL ERROR: "+_o(...t);Ri.error(e)},jn=function(...t){const e=`FIREBASE FATAL ERROR: ${_o(...t)}`;throw Ri.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+_o(...t);Ri.warn(e)},RN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},of=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ON=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},si="[MIN_NAME]",gs="[MAX_NAME]",fi=function(t,e){if(t===e)return 0;if(t===si||e===gs)return-1;if(e===si||t===gs)return 1;{const n=gm(t),s=gm(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},NN=function(t,e){return t===e?0:t<e?-1:1},ur=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+it(e))},af=function(t){if(typeof t!="object"||t===null)return it(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=it(e[s]),n+=":",n+=af(t[e[s]]);return n+="}",n},aw=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lw=function(t){H(!of(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},MN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function DN(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const FN=new RegExp("^-?(0*)\\d{1,10}$"),BN=-2147483648,$N=2147483647,gm=function(t){if(FN.test(t)){const e=Number(t);if(e>=BN&&e<=$N)return e}return null},Xi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},UN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Zo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="5",cw="v",uw="s",dw="r",fw="f",hw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pw="ls",mw="p",Au="ac",gw="websocket",vw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$s.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function VN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _w(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let s;if(e===gw)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vw)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VN(t)&&(n.ns=t.namespace);const i=[];return lt(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.counters_={}}incrementCounter(e,n=1){wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={},Lc={};function cf(t){const e=t.toString();return Mc[e]||(Mc[e]=new WN),Mc[e]}function zN(t,e){const n=t.toString();return Lc[n]||(Lc[n]=e()),Lc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Xi(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="start",GN="close",KN="pLPCommand",YN="pRTLPCB",ww="id",bw="pw",Sw="ser",JN="cb",QN="seg",XN="ts",ZN="d",eM="dframe",Ew=1870,Tw=30,tM=Ew-Tw,nM=25e3,sM=3e4;class bi{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wo(e),this.stats_=cf(n),this.urlFn=l=>(this.appCheckToken&&(l[Au]=this.appCheckToken),_w(n,vw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sM)),ON(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uf((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===vm)this.id=a,this.password=l;else if(o===GN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[vm]="t",s[Sw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[JN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[cw]=lf,this.transportSessionId&&(s[uw]=this.transportSessionId),this.lastSessionId&&(s[pw]=this.lastSessionId),this.applicationId&&(s[mw]=this.applicationId),this.appCheckToken&&(s[Au]=this.appCheckToken),typeof location<"u"&&location.hostname&&hw.test(location.hostname)&&(s[dw]=fw);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bi.forceAllow_=!0}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){return bi.forceAllow_?!0:!bi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MN()&&!LN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=it(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Yv(n),i=aw(s,tM);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[eM]="t",s[ww]=e,s[bw]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=it(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class uf{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PN(),window[KN+this.uniqueCallbackIdentifier]=e,window[YN+this.uniqueCallbackIdentifier]=n,this.myIFrame=uf.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){at("frame writing exception"),a.stack&&at(a.stack),at(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ww]=this.myID,e[bw]=this.myPW,e[Sw]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tw+s.length<=Ew;){const o=this.pendingSegs.shift();s=s+"&"+QN+i+"="+o.seg+"&"+XN+i+"="+o.ts+"&"+ZN+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(nM)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=16384,rM=45e3;let Aa=null;typeof MozWebSocket<"u"?Aa=MozWebSocket:typeof WebSocket<"u"&&(Aa=WebSocket);class pn{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wo(this.connId),this.stats_=cf(n),this.connURL=pn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[cw]=lf,typeof location<"u"&&location.hostname&&hw.test(location.hostname)&&(o[dw]=fw),n&&(o[uw]=n),s&&(o[pw]=s),i&&(o[Au]=i),r&&(o[mw]=r),_w(e,gw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$s.set("previous_websocket_failure",!0);try{let s;hC(),this.mySock=new Aa(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Aa!==null&&!pn.forceDisallow_}static previouslyFailed(){return $s.isInMemoryStorage||$s.get("previous_websocket_failure")===!0}markConnectionHealthy(){$s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Kr(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=it(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=aw(n,iM);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static get ALL_TRANSPORTS(){return[bi,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=pn.isAvailable();let s=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[pn];else{const i=this.transports_=[];for(const r of to.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);to.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}to.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=6e4,aM=5e3,lM=10*1024,cM=100*1024,Dc="t",ym="d",uM="s",_m="r",dM="e",wm="o",bm="a",Sm="n",Em="p",fM="h";class hM{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wo("c:"+this.id+":"),this.transportManager_=new to(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>cM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dc in e){const n=e[Dc];n===bm?this.upgradeIfSecondaryHealthy_():n===_m?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ur("t",e),s=ur("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Em,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:bm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Sm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ur("t",e),s=ur("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ur(Dc,e);if(ym in e){const s=e[ym];if(n===fM){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Sm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uM?this.onConnectionShutdown_(s):n===_m?this.onReset_(s):n===dM?Pu("Server Error: "+s):n===wm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lf!==s&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Em,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Iw{static getInstance(){return new Ra}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ed()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=32,Cm=768;class Pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Pe("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vs(t){return t.pieces_.length-t.pieceNum_}function $e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function df(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function no(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Pe(e,0)}function qe(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Pe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Pe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Tt(t,e){const n=ve(t),s=ve(e);if(n===null)return e;if(n===s)return Tt($e(t),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mM(t,e){const n=no(t,0),s=no(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=fi(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function ff(t,e){if(vs(t)!==vs(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function $t(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(vs(t)>vs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class gM{constructor(e,n){this.errorPrefix_=n,this.parts_=no(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=pl(this.parts_[s]);kw(this)}}function vM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pl(e),kw(t)}function yM(t){const e=t.parts_.pop();t.byteLength_-=pl(e),t.parts_.length>0&&(t.byteLength_-=1)}function kw(t){if(t.byteLength_>Cm)throw new Error(t.errorPrefix_+"has a key path longer than "+Cm+" bytes ("+t.byteLength_+").");if(t.parts_.length>Tm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Tm+") or object contains a cycle "+Ms(t))}function Ms(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Iw{static getInstance(){return new hf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=1e3,_M=60*5*1e3,Im=30*1e3,wM=1.3,bM=3e4,SM="server_kill",xm=3;class Fn extends Cw{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Fn.nextPersistentConnectionId_++,this.log_=wo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dr,this.maxReconnectDelay_=_M,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(it(r)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new uo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Fn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&wn(e,"w")){const s=Li(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Im)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+it(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pu("Unrecognized action received from server: "+it(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bM&&(this.reconnectDelay_=dr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Fn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){H(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new hM(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{wt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(SM)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wt(d),l())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lu(this.interruptReasons_)&&(this.reconnectDelay_=dr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>af(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Pe(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xm&&(this.reconnectDelay_=Im,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+iw.replace(/\./g,"-")]=1,Ed()?e["framework.cordova"]=1:ey()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ra.getInstance().currentlyOnline();return lu(this.interruptReasons_)&&e}}Fn.nextPersistentConnectionId_=0;Fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new _e(si,e),i=new _e(si,n);return this.compare(s,i)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class Pw extends xl{static get __EMPTY_NODE(){return No}static set __EMPTY_NODE(e){No=e}compare(e,n){return fi(e.name,n.name)}isDefinedOn(e){throw Wi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(gs,No)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,No)}toString(){return".key"}}const Gs=new Pw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??tt.RED,this.left=i??Ct.EMPTY_NODE,this.right=r??Ct.EMPTY_NODE}copy(e,n,s,i,r){return new tt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class EM{copy(e,n,s,i,r){return this}insert(e,n,s){return new tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,n=Ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Mo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Mo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Mo(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new EM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t,e){return fi(t.name,e.name)}function pf(t,e){return fi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;function CM(t){Ru=t}const Aw=function(t){return typeof t=="number"?"number:"+lw(t):"string:"+t},Rw=function(t){if(t.isLeafNode()){const e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wn(e,".sv"),"Priority must be a string or number.")}else H(t===Ru||t.isEmpty(),"priority of unexpected type.");H(t===Ru||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km;class Ze{static set __childrenNodeConstructor(e){km=e}static get __childrenNodeConstructor(){return km}constructor(e,n=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Rw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:ve(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(H(s!==".priority"||vs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Aw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lw(this.value_):e+=this.value_,this.lazyHash_=ow(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Ze.VALUE_TYPE_ORDER.indexOf(n),r=Ze.VALUE_TYPE_ORDER.indexOf(s);return H(i>=0,"Unknown leaf type: "+n),H(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ow,Nw;function IM(t){Ow=t}function xM(t){Nw=t}class kM extends xl{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?fi(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(gs,new Ze("[PRIORITY-POST]",Nw))}makePost(e,n){const s=Ow(e);return new _e(n,new Ze("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new kM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=Math.log(2);class AM{constructor(e){const n=r=>parseInt(Math.log(r)/PM,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oa=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new tt(f,d.node,tt.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new tt(f,d.node,tt.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const y=d-p,w=d;d-=p;const v=i(y+1,w),g=t[y],S=n?n(g):g;h(new tt(S,g.node,m,null,v))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?f(y,tt.BLACK):(f(y,tt.BLACK),f(y,tt.RED))}return u},o=new AM(t.length),a=r(o);return new Ct(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;const fr={};class Mn{static get Default(){return H(Ve,"ChildrenNode.ts has not been loaded"),Fc=Fc||new Mn({".priority":fr},{".priority":Ve}),Fc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Li(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return wn(this.indexSet_,e.toString())}addIndex(e,n){H(e!==Gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(_e.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Oa(s,e.getCompare()):a=fr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Mn(u,c)}addToIndexes(e,n){const s=pa(this.indexes_,(i,r)=>{const o=Li(this.indexSet_,r);if(H(o,"Missing index implementation for "+r),i===fr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Oa(a,o.getCompare())}else return fr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new Mn(s,this.indexSet_)}removeFromIndexes(e,n){const s=pa(this.indexes_,i=>{if(i===fr)return i;{const r=n.get(e.name);return r?i.remove(new _e(e.name,r)):i}});return new Mn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hr;class ue{static get EMPTY_NODE(){return hr||(hr=new ue(new Ct(pf),null,Mn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Rw(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hr}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hr:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild($e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(H(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new _e(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?hr:this.priorityNode_;return new ue(i,o,r)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{H(ve(e)!==".priority"||vs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild($e(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(Ve,(o,a)=>{n[o]=a.val(e),s++,r&&ue.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Aw(this.getPriority().val())+":"),this.forEachChild(Ve,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ow(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new _e(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bo?-1:0}withIndex(e){if(e===Gs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ve),i=n.getIterator(Ve);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Gs?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RM extends ue{constructor(){super(new Ct(pf),ue.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const bo=new RM;Object.defineProperties(_e,{MIN:{value:new _e(si,ue.EMPTY_NODE)},MAX:{value:new _e(gs,bo)}});Pw.__EMPTY_NODE=ue.EMPTY_NODE;Ze.__childrenNodeConstructor=ue;CM(bo);xM(bo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=!0;function nt(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ze(n,nt(e))}if(!(t instanceof Array)&&OM){const n=[];let s=!1;if(lt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=nt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),n.length===0)return ue.EMPTY_NODE;const r=Oa(n,TM,o=>o.name,pf);if(s){const o=Oa(n,Ve.getCompare());return new ue(r,nt(e),new Mn({".priority":o},{".priority":Ve}))}else return new ue(r,nt(e),Mn.Default)}else{let n=ue.EMPTY_NODE;return lt(t,(s,i)=>{if(wn(t,s)&&s.substring(0,1)!=="."){const r=nt(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(nt(e))}}IM(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends xl{constructor(e){super(),this.indexPath_=e,H(!ye(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?fi(e.name,n.name):r}makePost(e,n){const s=nt(e),i=ue.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(n,i)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,bo);return new _e(gs,e)}toString(){return no(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM extends xl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?fi(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const s=nt(e);return new _e(n,s)}toString(){return".value"}}const Mw=new NM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){return{type:"value",snapshotNode:t}}function Fi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function so(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function io(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(so(n,a)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Fi(n,s)):o.trackChildChange(io(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(i,r)=>{n.hasChild(i)||s.trackChildChange(so(i,r))}),n.isLeafNode()||n.forEachChild(Ve,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(io(i,r,o))}else s.trackChildChange(Fi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.indexedFilter_=new gf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ro.getStartPost_(e),this.endPost_=ro.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new _e(n,s))||(s=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ue.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ue.EMPTY_NODE);const r=this;return n.forEachChild(Ve,(o,a)=>{r.matches(new _e(o,a))||(i=i.updateImmediateChild(o,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ro(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new _e(n,s))||(s=ue.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ue.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ue.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;H(a.numChildren()===this.limit_,"");const l=new _e(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(io(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(so(n,d));const m=a.updateImmediateChild(n,ue.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Fi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(so(c.name,c.node)),r.trackChildChange(Fi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new vf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DM(t){return t.loadsAllData()?new gf(t.getIndex()):t.hasLimit()?new LM(t):new ro(t)}function FM(t,e){const n=t.copy();return n.index_=e,n}function Pm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===Mw?n="$value":t.index_===Gs?n="$key":(H(t.index_ instanceof mf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=it(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=it(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+it(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=it(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+it(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Am(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Cw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=wo("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Na.getListenId_(e,s),a={};this.listens_[o]=a;const l=Pm(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Li(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Na.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Pm(e._queryParams),s=e._path.toString(),i=new uo;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zi(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Kr(a.responseText)}catch{wt("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&wt("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function Dw(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ve(e);t.children.has(s)||t.children.set(s,Ma());const i=t.children.get(s);e=$e(e),Dw(i,e,n)}}function Ou(t,e,n){t.value!==null?n(e,t.value):$M(t,(s,i)=>{const r=new Pe(e.toString()+"/"+s);Ou(i,r,n)})}function $M(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&lt(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=10*1e3,jM=30*1e3,HM=5*60*1e3;class VM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new UM(e);const s=Rm+(jM-Rm)*Math.random();Nr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;lt(e,(i,r)=>{r>0&&wn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Nr(this.reportStats_.bind(this),Math.floor(Math.random()*2*HM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qt||(qt={}));function yf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _f(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=qt.ACK_USER_WRITE,this.source=yf()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Pe(e));return new La(Te(),n,this.revert)}}else return H(ve(this.path)===e,"operationForChild called for unrelated child."),new La($e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.source=e,this.path=n,this.type=qt.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new oo(this.source,Te()):new oo(this.source,$e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=qt.OVERWRITE}operationForChild(e){return ye(this.path)?new ii(this.source,Te(),this.snap.getImmediateChild(e)):new ii(this.source,$e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=qt.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Pe(e));return n.isEmpty()?null:n.value?new ii(this.source,Te(),n.value):new Bi(this.source,Te(),n)}else return H(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bi(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zM(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(MM(o.childName,o.snapshotNode))}),pr(t,i,"child_removed",e,s,n),pr(t,i,"child_added",e,s,n),pr(t,i,"child_moved",r,s,n),pr(t,i,"child_changed",e,s,n),pr(t,i,"value",e,s,n),i}function pr(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>GM(t,a,l)),o.forEach(a=>{const l=qM(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function qM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function GM(t,e,n){if(e.childName==null||n.childName==null)throw Wi("Should only compare child_ events.");const s=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e){return{eventCache:t,serverCache:e}}function Mr(t,e,n,s){return kl(new ri(e,n,s),t.serverCache)}function Fw(t,e,n,s){return kl(t.eventCache,new ri(e,n,s))}function Nu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function oi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;const KM=()=>(Bc||(Bc=new Ct(NN)),Bc);class Be{static fromObject(e){let n=new Be(null);return lt(e,(s,i)=>{n=n.set(new Pe(s),i)}),n}constructor(e,n=KM()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(ye(e))return null;{const s=ve(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue($e(e),n);return r!=null?{path:qe(new Pe(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree($e(e)):new Be(null)}}set(e,n){if(ye(e))return new Be(n,this.children);{const s=ve(e),r=(this.children.get(s)||new Be(null)).set($e(e),n),o=this.children.insert(s,r);return new Be(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const i=s.remove($e(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new Be(null):new Be(this.value,r)}else return this}}get(e){if(ye(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get($e(e)):null}}setTree(e,n){if(ye(e))return n;{const s=ve(e),r=(this.children.get(s)||new Be(null)).setTree($e(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new Be(this.value,o)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(qe(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(ye(e))return null;{const r=ve(e),o=this.children.get(r);return o?o.findOnPath_($e(e),qe(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const i=ve(e),r=this.children.get(i);return r?r.foreachOnPath_($e(e),qe(n,i),s):new Be(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(qe(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.writeTree_=e}static empty(){return new Yt(new Be(null))}}function Lr(t,e,n){if(ye(e))return new Yt(new Be(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Tt(i,e);return r=r.updateChild(o,n),new Yt(t.writeTree_.set(i,r))}else{const i=new Be(n),r=t.writeTree_.setTree(e,i);return new Yt(r)}}}function Mu(t,e,n){let s=t;return lt(n,(i,r)=>{s=Lr(s,qe(e,i),r)}),s}function Om(t,e){if(ye(e))return Yt.empty();{const n=t.writeTree_.setTree(e,new Be(null));return new Yt(n)}}function Lu(t,e){return hi(t,e)!=null}function hi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tt(n.path,e)):null}function Nm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(s,i)=>{e.push(new _e(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new _e(s,i.value))}),e}function ps(t,e){if(ye(e))return t;{const n=hi(t,e);return n!=null?new Yt(new Be(n)):new Yt(t.writeTree_.subtree(e))}}function Du(t){return t.writeTree_.isEmpty()}function $i(t,e){return Bw(Te(),t.writeTree_,e)}function Bw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(H(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=Bw(qe(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(qe(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e){return Hw(e,t)}function YM(t,e,n,s,i){H(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Lr(t.visibleWrites,e,n)),t.lastWriteId=s}function JM(t,e,n,s){H(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Mu(t.visibleWrites,e,n),t.lastWriteId=s}function QM(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function XM(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&ZM(a,s.path)?i=!1:$t(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return eL(t),!0;if(s.snap)t.visibleWrites=Om(t.visibleWrites,s.path);else{const a=s.children;lt(a,l=>{t.visibleWrites=Om(t.visibleWrites,qe(s.path,l))})}return!0}else return!1}function ZM(t,e){if(t.snap)return $t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$t(qe(t.path,n),e))return!0;return!1}function eL(t){t.visibleWrites=$w(t.allWrites,tL,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function tL(t){return t.visible}function $w(t,e,n){let s=Yt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)$t(n,o)?(a=Tt(n,o),s=Lr(s,a,r.snap)):$t(o,n)&&(a=Tt(o,n),s=Lr(s,Te(),r.snap.getChild(a)));else if(r.children){if($t(n,o))a=Tt(n,o),s=Mu(s,a,r.children);else if($t(o,n))if(a=Tt(o,n),ye(a))s=Mu(s,Te(),r.children);else{const l=Li(r.children,ve(a));if(l){const c=l.getChild($e(a));s=Lr(s,Te(),c)}}}else throw Wi("WriteRecord should have .snap or .children")}}return s}function Uw(t,e,n,s,i){if(!s&&!i){const r=hi(t.visibleWrites,e);if(r!=null)return r;{const o=ps(t.visibleWrites,e);if(Du(o))return n;if(n==null&&!Lu(o,Te()))return null;{const a=n||ue.EMPTY_NODE;return $i(o,a)}}}else{const r=ps(t.visibleWrites,e);if(!i&&Du(r))return n;if(!i&&n==null&&!Lu(r,Te()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&($t(c.path,e)||$t(e,c.path))},a=$w(t.allWrites,o,e),l=n||ue.EMPTY_NODE;return $i(a,l)}}}function nL(t,e,n){let s=ue.EMPTY_NODE;const i=hi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ve,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=ps(t.visibleWrites,e);return n.forEachChild(Ve,(o,a)=>{const l=$i(ps(r,new Pe(o)),a);s=s.updateImmediateChild(o,l)}),Nm(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=ps(t.visibleWrites,e);return Nm(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function sL(t,e,n,s,i){H(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=qe(e,n);if(Lu(t.visibleWrites,r))return null;{const o=ps(t.visibleWrites,r);return Du(o)?i.getChild(n):$i(o,i.getChild(n))}}function iL(t,e,n,s){const i=qe(e,n),r=hi(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=ps(t.visibleWrites,i);return $i(o,s.getNode().getImmediateChild(n))}else return null}function rL(t,e){return hi(t.visibleWrites,e)}function oL(t,e,n,s,i,r,o){let a;const l=ps(t.visibleWrites,e),c=hi(l,Te());if(c!=null)a=c;else if(n!=null)a=$i(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function aL(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}function Da(t,e,n,s){return Uw(t.writeTree,t.treePath,e,n,s)}function Sf(t,e){return nL(t.writeTree,t.treePath,e)}function Mm(t,e,n,s){return sL(t.writeTree,t.treePath,e,n,s)}function Fa(t,e){return rL(t.writeTree,qe(t.treePath,e))}function lL(t,e,n,s,i,r){return oL(t.writeTree,t.treePath,e,n,s,i,r)}function Ef(t,e,n){return iL(t.writeTree,t.treePath,e,n)}function jw(t,e){return Hw(qe(t.treePath,e),t.writeTree)}function Hw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,io(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,so(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Fi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,io(s,e.snapshotNode,i.oldSnap));else throw Wi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Vw=new uL;class Tf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ri(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ef(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oi(this.viewCache_),r=lL(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){return{filter:t}}function fL(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function hL(t,e,n,s,i){const r=new cL;let o,a;if(n.type===qt.OVERWRITE){const c=n;c.source.fromUser?o=Fu(t,e,c.path,c.snap,s,i,r):(H(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ye(c.path),o=Ba(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===qt.MERGE){const c=n;c.source.fromUser?o=mL(t,e,c.path,c.children,s,i,r):(H(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Bu(t,e,c.path,c.children,s,i,a,r))}else if(n.type===qt.ACK_USER_WRITE){const c=n;c.revert?o=yL(t,e,c.path,s,i,r):o=gL(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===qt.LISTEN_COMPLETE)o=vL(t,e,n.path,s,r);else throw Wi("Unknown operation type: "+n.type);const l=r.getChanges();return pL(e,o,l),{viewCache:o,changes:l}}function pL(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Nu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(Lw(Nu(e)))}}function Ww(t,e,n,s,i,r){const o=e.eventCache;if(Fa(s,n)!=null)return e;{let a,l;if(ye(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=oi(e),u=c instanceof ue?c:ue.EMPTY_NODE,d=Sf(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Da(s,oi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ve(n);if(c===".priority"){H(vs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Mm(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=$e(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Mm(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Ef(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return Mr(e,a,o.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Ba(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ye(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=ve(n);if(!l.isCompleteForPath(n)&&vs(n)>1)return e;const p=$e(n),y=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,Vw,null)}const d=Fw(e,c,l.isFullyInitialized()||ye(n),u.filtersNodes()),f=new Tf(i,d,r);return Ww(t,d,n,i,f,a)}function Fu(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new Tf(i,e,r);if(ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Mr(e,c,!0,t.filter.filtersNodes());else{const d=ve(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Mr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=$e(n),h=a.getNode().getImmediateChild(d);let p;if(ye(f))p=s;else{const m=u.getCompleteChild(d);m!=null?df(f)===".priority"&&m.getChild(xw(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=ue.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Mr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Lm(t,e){return t.eventCache.isCompleteForChild(e)}function mL(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=qe(n,l);Lm(e,ve(u))&&(a=Fu(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=qe(n,l);Lm(e,ve(u))||(a=Fu(t,a,u,c,i,r,o))}),a}function Dm(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Bu(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ye(n)?c=s:c=new Be(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=Dm(t,h,f);l=Ba(t,l,new Pe(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=Dm(t,p,f);l=Ba(t,l,new Pe(d),m,i,r,o,a)}}),l}function gL(t,e,n,s,i,r,o){if(Fa(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ba(t,e,n,l.getNode().getChild(n),i,r,a,o);if(ye(n)){let c=new Be(null);return l.getNode().forEachChild(Gs,(u,d)=>{c=c.set(new Pe(u),d)}),Bu(t,e,n,c,i,r,a,o)}else return e}else{let c=new Be(null);return s.foreach((u,d)=>{const f=qe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Bu(t,e,n,c,i,r,a,o)}}function vL(t,e,n,s,i){const r=e.serverCache,o=Fw(e,r.getNode(),r.isFullyInitialized()||ye(n),r.isFiltered());return Ww(t,o,n,s,Vw,i)}function yL(t,e,n,s,i,r){let o;if(Fa(s,n)!=null)return e;{const a=new Tf(s,e,i),l=e.eventCache.getNode();let c;if(ye(n)||ve(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Da(s,oi(e));else{const d=e.serverCache.getNode();H(d instanceof ue,"serverChildren would be complete if leaf node"),u=Sf(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ve(n);let d=Ef(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,$e(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ue.EMPTY_NODE,$e(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Da(s,oi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Fa(s,Te())!=null,Mr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new gf(s.getIndex()),r=DM(s);this.processor_=dL(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ue.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ue.EMPTY_NODE,a.getNode(),null),u=new ri(l,o.isFullyInitialized(),i.filtersNodes()),d=new ri(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=kl(d,u),this.eventGenerator_=new WM(this.query_)}get query(){return this.query_}}function wL(t){return t.viewCache_.serverCache.getNode()}function bL(t,e){const n=oi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function Fm(t){return t.eventRegistrations_.length===0}function SL(t,e){t.eventRegistrations_.push(e)}function Bm(t,e,n){const s=[];if(n){H(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function $m(t,e,n,s){e.type===qt.MERGE&&e.source.queryId!==null&&(H(oi(t.viewCache_),"We should always have a full cache before handling merges"),H(Nu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=hL(t.processor_,i,e,n,s);return fL(t.processor_,r.viewCache),H(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,zw(t,r.changes,r.viewCache.eventCache.getNode(),null)}function EL(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(r,o)=>{s.push(Fi(r,o))}),n.isFullyInitialized()&&s.push(Lw(n.getNode())),zw(t,s,n.getNode(),e)}function zw(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return zM(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;class TL{constructor(){this.views=new Map}}function CL(t){H(!$a,"__referenceConstructor has already been defined"),$a=t}function IL(){return H($a,"Reference.ts has not been loaded"),$a}function xL(t){return t.views.size===0}function Cf(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return H(r!=null,"SyncTree gave us an op for an invalid query."),$m(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat($m(o,e,n,s));return r}}function kL(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Da(n,i?s:null),l=!1;a?l=!0:s instanceof ue?(a=Sf(n,s),l=!1):(a=ue.EMPTY_NODE,l=!1);const c=kl(new ri(a,l,!1),new ri(s,i,!1));return new _L(e,c)}return o}function PL(t,e,n,s,i,r){const o=kL(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),SL(o,n),EL(o,n)}function AL(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=ys(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Bm(c,n,s)),Fm(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Bm(l,n,s)),Fm(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!ys(t)&&r.push(new(IL())(e._repo,e._path)),{removed:r,events:o}}function qw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Oi(t,e){let n=null;for(const s of t.views.values())n=n||bL(s,e);return n}function Gw(t,e){if(e._queryParams.loadsAllData())return Pl(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Kw(t,e){return Gw(t,e)!=null}function ys(t){return Pl(t)!=null}function Pl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;function RL(t){H(!Ua,"__referenceConstructor has already been defined"),Ua=t}function OL(){return H(Ua,"Reference.ts has not been loaded"),Ua}let NL=1;class Um{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=aL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Yw(t,e,n,s,i){return YM(t.pendingWriteTree_,e,n,s,i),i?Zi(t,new ii(yf(),e,n)):[]}function ML(t,e,n,s){JM(t.pendingWriteTree_,e,n,s);const i=Be.fromObject(n);return Zi(t,new Bi(yf(),e,i))}function cs(t,e,n=!1){const s=QM(t.pendingWriteTree_,e);if(XM(t.pendingWriteTree_,e)){let r=new Be(null);return s.snap!=null?r=r.set(Te(),!0):lt(s.children,o=>{r=r.set(new Pe(o),!0)}),Zi(t,new La(s.path,r,n))}else return[]}function Al(t,e,n){return Zi(t,new ii(_f(),e,n))}function LL(t,e,n){const s=Be.fromObject(n);return Zi(t,new Bi(_f(),e,s))}function DL(t,e){return Zi(t,new oo(_f(),e))}function FL(t,e,n){const s=xf(t,n);if(s){const i=kf(s),r=i.path,o=i.queryId,a=Tt(r,e),l=new oo(wf(o),a);return Pf(t,r,l)}else return[]}function $u(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||Kw(o,e))){const l=AL(o,e,n,s);xL(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>ys(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=UL(f);for(let p=0;p<h.length;++p){const m=h[p],y=m.query,w=Xw(t,m);t.listenProvider_.startListening(Dr(y),ja(t,y),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Dr(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Rl(f));t.listenProvider_.stopListening(Dr(f),h)}))}jL(t,c)}return a}function BL(t,e,n,s){const i=xf(t,s);if(i!=null){const r=kf(i),o=r.path,a=r.queryId,l=Tt(o,e),c=new ii(wf(a),l,n);return Pf(t,o,c)}else return[]}function $L(t,e,n,s){const i=xf(t,s);if(i){const r=kf(i),o=r.path,a=r.queryId,l=Tt(o,e),c=Be.fromObject(n),u=new Bi(wf(a),l,c);return Pf(t,o,u)}else return[]}function jm(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=Tt(f,i);r=r||Oi(h,p),o=o||ys(h)});let a=t.syncPointTree_.get(i);a?(o=o||ys(a),r=r||Oi(a,Te())):(a=new TL,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=ue.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=Oi(p,Te());m&&(r=r.updateImmediateChild(h,m))}));const c=Kw(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Rl(e);H(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=HL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=bf(t.pendingWriteTree_,i);let d=PL(a,e,n,u,r,l);if(!c&&!o&&!s){const f=Gw(a,e);d=d.concat(VL(t,e,f))}return d}function If(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Tt(o,e),c=Oi(a,l);if(c)return c});return Uw(i,e,r,n,!0)}function Zi(t,e){return Jw(e,t.syncPointTree_,null,bf(t.pendingWriteTree_,Te()))}function Jw(t,e,n,s){if(ye(t.path))return Qw(t,e,n,s);{const i=e.get(Te());n==null&&i!=null&&(n=Oi(i,Te()));let r=[];const o=ve(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=jw(s,o);r=r.concat(Jw(a,l,c,u))}return i&&(r=r.concat(Cf(i,t,s,n))),r}}function Qw(t,e,n,s){const i=e.get(Te());n==null&&i!=null&&(n=Oi(i,Te()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=jw(s,o),u=t.operationForChild(o);u&&(r=r.concat(Qw(u,a,l,c)))}),i&&(r=r.concat(Cf(i,t,s,n))),r}function Xw(t,e){const n=e.query,s=ja(t,n);return{hashFn:()=>(wL(e)||ue.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?FL(t,n._path,s):DL(t,n._path);{const r=DN(i,n);return $u(t,n,null,r)}}}}function ja(t,e){const n=Rl(e);return t.queryToTagMap.get(n)}function Rl(t){return t._path.toString()+"$"+t._queryIdentifier}function xf(t,e){return t.tagToQueryMap.get(e)}function kf(t){const e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function Pf(t,e,n){const s=t.syncPointTree_.get(e);H(s,"Missing sync point for query tag that we're tracking");const i=bf(t.pendingWriteTree_,e);return Cf(s,n,i,null)}function UL(t){return t.fold((e,n,s)=>{if(n&&ys(n))return[Pl(n)];{let i=[];return n&&(i=qw(n)),lt(s,(r,o)=>{i=i.concat(o)}),i}})}function Dr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(OL())(t._repo,t._path):t}function jL(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Rl(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function HL(){return NL++}function VL(t,e,n){const s=e._path,i=ja(t,e),r=Xw(t,n),o=t.listenProvider_.startListening(Dr(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)H(!ys(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ye(c)&&u&&ys(u))return[Pl(u).query];{let f=[];return u&&(f=f.concat(qw(u).map(h=>h.query))),lt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Dr(u),ja(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Af(n)}node(){return this.node_}}class Rf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=qe(this.path_,e);return new Rf(this.syncTree_,n)}node(){return If(this.syncTree_,this.path_)}}const WL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Hm=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qL(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},qL=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&H(!1,"Unexpected increment value: "+s);const i=e.node();if(H(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},Zw=function(t,e,n,s){return Of(e,new Rf(n,t),s)},eb=function(t,e,n){return Of(t,new Af(e),n)};function Of(t,e,n){const s=t.getPriority().val(),i=Hm(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=Hm(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ze(a,nt(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Ze(i))),o.forEachChild(Ve,(a,l)=>{const c=Of(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Mf(t,e){let n=e instanceof Pe?e:new Pe(e),s=t,i=ve(n);for(;i!==null;){const r=Li(s.node.children,i)||{children:{},childCount:0};s=new Nf(i,s,r),n=$e(n),i=ve(n)}return s}function er(t){return t.node.value}function tb(t,e){t.node.value=e,Uu(t)}function nb(t){return t.node.childCount>0}function GL(t){return er(t)===void 0&&!nb(t)}function Ol(t,e){lt(t.node.children,(n,s)=>{e(new Nf(n,t,s))})}function sb(t,e,n,s){n&&e(t),Ol(t,i=>{sb(i,e,!0)})}function KL(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function So(t){return new Pe(t.parent===null?t.name:So(t.parent)+"/"+t.name)}function Uu(t){t.parent!==null&&YL(t.parent,t.name,t)}function YL(t,e,n){const s=GL(n),i=wn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Uu(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Uu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=/[\[\].#$\/\u0000-\u001F\u007F]/,QL=/[\[\].#$\u0000-\u001F\u007F]/,$c=10*1024*1024,Lf=function(t){return typeof t=="string"&&t.length!==0&&!JL.test(t)},ib=function(t){return typeof t=="string"&&t.length!==0&&!QL.test(t)},XL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ib(t)},ju=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!of(t)||t&&typeof t=="object"&&wn(t,".sv")},ZL=function(t,e,n,s){Nl(hl(t,"value"),e,n)},Nl=function(t,e,n){const s=n instanceof Pe?new gM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ms(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ms(s)+" with contents = "+e.toString());if(of(e))throw new Error(t+"contains "+e.toString()+" "+Ms(s));if(typeof e=="string"&&e.length>$c/3&&pl(e)>$c)throw new Error(t+"contains a string greater than "+$c+" utf8 bytes "+Ms(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(lt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Lf(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ms(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vM(s,o),Nl(t,a,s),yM(s)}),i&&r)throw new Error(t+' contains ".value" child '+Ms(s)+" in addition to actual children.")}},eD=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=no(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Lf(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mM);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&$t(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},tD=function(t,e,n,s){const i=hl(t,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];lt(e,(o,a)=>{const l=new Pe(o);if(Nl(i,a,qe(n,l)),df(l)===".priority"&&!ju(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),eD(i,r)},Df=function(t,e,n,s){if(!ib(n))throw new Error(hl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nD=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Df(t,e,n)},rb=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},sD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Lf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XL(n))throw new Error(hl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ml(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!ff(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function ob(t,e,n){Ml(t,n),ab(t,s=>ff(s,e))}function nn(t,e,n){Ml(t,n),ab(t,s=>$t(s,e)||$t(e,s))}function ab(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(rD(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Or&&at("event: "+n.toString()),Xi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="repo_interrupt",aD=25;class lD{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new Nf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cD(t,e,n){if(t.stats_=cf(t.repoInfo_),t.forceRestClient_||UN())t.server_=new Na(t.repoInfo_,(s,i,r,o)=>{Vm(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Wm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Fn(t.repoInfo_,e,(s,i,r,o)=>{Vm(t,s,i,r,o)},s=>{Wm(t,s)},s=>{dD(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=zN(t.repoInfo_,()=>new VM(t.stats_,t.server_)),t.infoData_=new BM,t.infoSyncTree_=new Um({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Al(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ff(t,"connected",!1),t.serverSyncTree_=new Um({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);nn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function uD(t){const n=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ll(t){return WL({timestamp:uD(t)})}function Vm(t,e,n,s,i){t.dataUpdateCount++;const r=new Pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=pa(n,c=>nt(c));o=$L(t.serverSyncTree_,r,l,i)}else{const l=nt(n);o=BL(t.serverSyncTree_,r,l,i)}else if(s){const l=pa(n,c=>nt(c));o=LL(t.serverSyncTree_,r,l)}else{const l=nt(n);o=Al(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Ui(t,r)),nn(t.eventQueue_,a,o)}function Wm(t,e){Ff(t,"connected",e),e===!1&&pD(t)}function dD(t,e){lt(e,(n,s)=>{Ff(t,n,s)})}function Ff(t,e,n){const s=new Pe("/.info/"+e),i=nt(n);t.infoData_.updateSnapshot(s,i);const r=Al(t.infoSyncTree_,s,i);nn(t.eventQueue_,s,r)}function Bf(t){return t.nextWriteId_++}function fD(t,e,n,s,i){Dl(t,"set",{path:e.toString(),value:n,priority:s});const r=Ll(t),o=nt(n,s),a=If(t.serverSyncTree_,e),l=eb(o,a,r),c=Bf(t),u=Yw(t.serverSyncTree_,e,l,c,!0);Ml(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||wt("set at "+e+" failed: "+f);const m=cs(t.serverSyncTree_,c,!p);nn(t.eventQueue_,e,m),Hu(t,i,f,h)});const d=Uf(t,e);Ui(t,d),nn(t.eventQueue_,d,[])}function hD(t,e,n,s){Dl(t,"update",{path:e.toString(),value:n});let i=!0;const r=Ll(t),o={};if(lt(n,(a,l)=>{i=!1,o[a]=Zw(qe(e,a),nt(l),t.serverSyncTree_,r)}),i)at("update() called with empty data.  Don't do anything."),Hu(t,s,"ok",void 0);else{const a=Bf(t),l=ML(t.serverSyncTree_,e,o,a);Ml(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||wt("update at "+e+" failed: "+c);const f=cs(t.serverSyncTree_,a,!d),h=f.length>0?Ui(t,e):e;nn(t.eventQueue_,h,f),Hu(t,s,c,u)}),lt(n,c=>{const u=Uf(t,qe(e,c));Ui(t,u)}),nn(t.eventQueue_,e,[])}}function pD(t){Dl(t,"onDisconnectEvents");const e=Ll(t),n=Ma();Ou(t.onDisconnect_,Te(),(i,r)=>{const o=Zw(i,r,t.serverSyncTree_,e);Dw(n,i,o)});let s=[];Ou(n,Te(),(i,r)=>{s=s.concat(Al(t.serverSyncTree_,i,r));const o=Uf(t,i);Ui(t,o)}),t.onDisconnect_=Ma(),nn(t.eventQueue_,Te(),s)}function mD(t,e,n){let s;ve(e._path)===".info"?s=jm(t.infoSyncTree_,e,n):s=jm(t.serverSyncTree_,e,n),ob(t.eventQueue_,e._path,s)}function zm(t,e,n){let s;ve(e._path)===".info"?s=$u(t.infoSyncTree_,e,n):s=$u(t.serverSyncTree_,e,n),ob(t.eventQueue_,e._path,s)}function gD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oD)}function Dl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function Hu(t,e,n,s){e&&Xi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function lb(t,e,n){return If(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function $f(t,e=t.transactionQueueTree_){if(e||Fl(t,e),er(e)){const n=ub(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vD(t,So(e),n)}else nb(e)&&Ol(e,n=>{$f(t,n)})}function vD(t,e,n){const s=n.map(c=>c.currentWriteId),i=lb(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];H(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Tt(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Dl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(cs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Fl(t,Mf(t.transactionQueueTree_,e)),$f(t,t.transactionQueueTree_),nn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Xi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ui(t,e)}},o)}function Ui(t,e){const n=cb(t,e),s=So(n),i=ub(t,n);return yD(t,i,s),s}function yD(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Tt(n,l.path);let u=!1,d;if(H(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(cs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=aD)u=!0,d="maxretry",i=i.concat(cs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=lb(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Nl("transaction failed: Data returned ",h,l.path);let p=nt(h);typeof h=="object"&&h!=null&&wn(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,w=Ll(t),v=eb(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Bf(t),o.splice(o.indexOf(y),1),i=i.concat(Yw(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(cs(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(cs(t.serverSyncTree_,l.currentWriteId,!0))}nn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fl(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)Xi(s[a]);$f(t,t.transactionQueueTree_)}function cb(t,e){let n,s=t.transactionQueueTree_;for(n=ve(e);n!==null&&er(s)===void 0;)s=Mf(s,n),e=$e(e),n=ve(e);return s}function ub(t,e){const n=[];return db(t,e,n),n.sort((s,i)=>s.order-i.order),n}function db(t,e,n){const s=er(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Ol(e,i=>{db(t,i,n)})}function Fl(t,e){const n=er(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,tb(e,n.length>0?n:void 0)}Ol(e,s=>{Fl(t,s)})}function Uf(t,e){const n=So(cb(t,e)),s=Mf(t.transactionQueueTree_,e);return KL(s,i=>{Uc(t,i)}),Uc(t,s),sb(s,i=>{Uc(t,i)}),n}function Uc(t,e){const n=er(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(H(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(H(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?tb(e,void 0):n.length=r+1,nn(t.eventQueue_,So(e),i);for(let o=0;o<s.length;o++)Xi(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const qm=function(t,e){const n=bD(t),s=n.namespace;n.domain==="firebase.com"&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||RN();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yw(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Pe(n.pathString)}},bD=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=_D(t.substring(u,d)));const f=wD(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class ED{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return ye(this._path)?null:df(this._path)}get ref(){return new Cs(this._repo,this._path)}get _queryIdentifier(){const e=Am(this._queryParams),n=af(e);return n==="{}"?"default":n}get _queryObject(){return Am(this._queryParams)}isEqual(e){if(e=Xe(e),!(e instanceof Bl))return!1;const n=this._repo===e._repo,s=ff(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+pM(this._path)}}function CD(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ID(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Gs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==si)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==gs)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ve){if(e!=null&&!ju(e)||n!=null&&!ju(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(t.getIndex()instanceof mf||t.getIndex()===Mw,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Cs extends Bl{constructor(e,n){super(e,n,new vf,!1)}get parent(){const e=xw(this._path);return e===null?null:new Cs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ha{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Pe(e),s=Vu(this.ref,e);return new Ha(this._node.getChild(n),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Ha(i,Vu(this.ref,s),Ve)))}hasChild(e){const n=new Pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ea(t,e){return t=Xe(t),t._checkNotDeleted("ref"),e!==void 0?Vu(t._root,e):t._root}function Vu(t,e){return t=Xe(t),ve(t._path)===null?nD("child","path",e):Df("child","path",e),new Cs(t._repo,qe(t._path,e))}function xD(t){return rb("remove",t._path),fb(t,null)}function fb(t,e){t=Xe(t),rb("set",t._path),ZL("set",e,t._path);const n=new uo;return fD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function kD(t,e){tD("update",e,t._path);const n=new uo;return hD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class jf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new SD("value",this,new Ha(e.snapshotNode,new Cs(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ED(this,e,n):null}matches(e){return e instanceof jf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function PD(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{zm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new TD(n,r||void 0),a=new jf(o);return mD(t._repo,t,a),()=>zm(t._repo,t,a)}function AD(t,e,n,s){return PD(t,"value",e,n,s)}class RD{}class OD extends RD{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){CD(e,"orderByChild");const n=new Pe(this._path);if(ye(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new mf(n),i=FM(e._queryParams,s);return ID(i),new Bl(e._repo,e._path,i,!0)}}function ND(t){return Df("orderByChild","path",t),new OD(t)}function MD(t,...e){let n=Xe(t);for(const s of e)n=s._apply(n);return n}CL(Cs);RL(Cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="FIREBASE_DATABASE_EMULATOR_HOST",Wu={};let DD=!1;function FD(t,e,n,s){t.repoInfo_=new yw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function BD(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=qm(r,i),a=o.repoInfo,l;typeof process<"u"&&fm&&(l=fm[LD]),l?(r=`http://${l}?ns=${a.namespace}`,o=qm(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new HN(t.name,t.options,e);sD("Invalid Firebase Database URL",o),ye(o.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=UD(a,t,c,new jN(t.name,n));return new jD(u,t)}function $D(t,e){const n=Wu[e];(!n||n[t.key]!==t)&&jn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gD(t),delete n[t.key]}function UD(t,e,n,s){let i=Wu[e.name];i||(i={},Wu[e.name]=i);let r=i[t.toURLString()];return r&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new lD(t,DD,n,s),i[t.toURLString()]=r,r}class jD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cs(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&($D(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jn("Cannot call "+e+" on a deleted database.")}}function hb(t=Id(),e){const n=Gi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=lC("database");s&&HD(n,...s)}return n}function HD(t,e,n,s={}){t=Xe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&jn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Zo(Zo.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:cC(s.mockUserToken,t.app.options.projectId);r=new Zo(o)}FD(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){CN(Ki),Zt(new Wt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return BD(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Ht(hm,pm,t),Ht(hm,pm,"esm2017")}Fn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};VD();const tr=yd("filmsStore",()=>{const t=j([]),e=j([]),n=hb(),s=Qr(),i=MD(ea(n,`users/${s.currentUser.uid}/favorites`),ND("date"));return{premiers:t,favorites:e,getPremiers:async()=>{const c={year:new Date().getFullYear(),month:new Date().getMonth()+1},u={1:"january",2:"february",3:"march",4:"april",5:"may",6:"june",7:"july",8:"august",9:"september",10:"october",11:"november",12:"december"},{data:d}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=${c.year}&month=${u[c.month]}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});t.value=d.items},getFavorites:()=>{AD(i,c=>{const u=[];c.forEach(d=>{u.push(d.val())}),e.value=u.reverse(),console.log(e.value)},c=>{console.log(c)})},addToFavorites:(c,u)=>{const d=new Date().getTime();c.isFavorite=!0,fb(ea(n,"users/"+s.currentUser.uid+"/favorites/"+u),{nameRu:c.nameRu?c.nameRu:c.nameOriginal,genres:c.genres,year:c.year,posterUrl:c.posterUrl,id:+u,isFavorite:!0,isWatched:!1,date:d}).then(()=>console.log("Добавлено")).catch(f=>console.log(f))},removeFromFavorites:(c,u)=>{c&&(c.isFavorite=!1),xD(ea(n,"users/"+s.currentUser.uid+"/favorites/"+u)).then(()=>console.log("Удалено")).catch(d=>console.log(d))}}}),WD={key:1,class:"bg-black"},zD={class:"flex justify-center fixed -z-10 -mt-96 pt-12"},qD=["src","alt"],GD={class:"container mt-96 mx-auto pb-4 relative"},KD={class:"fixed z-50 top-4 left-4"},YD={class:"flex flex-col gap-2 w-full justify-between"},JD={class:"text-2xl mb-2 text-center"},QD={class:"w-full flex items-end justify-around p-2"},XD={key:0,class:"text-sm"},ZD={key:1,class:"text-sm"},eF={key:2,class:"text-slate-300 text-sm"},tF={key:3,class:"text-yellow-500 text-sm font-semibold"},nF={key:4,class:"text-orange-500 text-sm font-semibold"},sF={key:5,class:"text-white text-sm font-semibold"},iF={class:"self-center"},rF={class:"text-slate-400 text-sm text-center mb-2"},oF={class:"text-slate-400 mb-1 text-sm text-center"},aF={class:"flex justify-center items-center gap-4"},lF={class:"p-2 flex items-center justify-center rounded-full bg-gray-600 bg-opacity-30"},cF={class:"text-center text-xs"},uF={class:"flex items-center justify-center"},dF=["href"],fF={class:"container p-2"},hF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},pF={class:"py-4"},mF={class:"text-sm font-bold mb-2"},gF={class:"flex flex-col items-center justify-center bg-slate-600 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},vF={key:0,class:"text-md text-slate-600 font-bold"},yF={class:"text-sm text-center mb-2"},_F=["href"],wF={key:0,class:"container p-2"},bF={__name:"Item",setup(t){const e=tr(),n=j(!0),i=h0().params.id,r=j({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),o=j([]),a=j([]),l=j(!1),c=async h=>{const{data:p}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${h}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}}),m=e.favorites.find(y=>y.id===+h);console.log(m),m?r.value={...p,isFavorite:!0}:r.value={...p,isFavorite:!1},console.log(r.value)},u=async h=>{const{data:p}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${h}/similars`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});o.value=p.items},d=async h=>{const{data:p}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${h}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});a.value=p},f=h=>{n.value=!0,c(h),u(h),d(h),n.value=!1};return Re(()=>{e.getFavorites(),f(i)}),i0((h,p)=>{h.params.id!==p.params.id&&(f(h.params.id),l.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),dl({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(h,p)=>{const m=Ss("metainfo");return P(),V(Me,null,[z(m,null,{title:ie(()=>[He(ae(r.value.nameRu),1)]),meta:ie(()=>[He(ae(r.value.shortDescription?r.value.shortDescription:r.value.description),1)]),_:1}),n.value?(P(),de(qn,{key:0,"full-screen":!0})):(P(),V("main",WD,[C("div",zD,[C("img",{class:"w-1/2",src:r.value.posterUrl,alt:r.value.nameRu?r.value.nameRu:r.value.nameOriginal},null,8,qD)]),C("section",GD,[p[3]||(p[3]=C("div",{class:"absolute -top-20 bg-gradient-to-t from-black to-transparent w-full h-20 z-50"},null,-1)),C("div",KD,[z(yo)]),C("div",YD,[C("h1",JD,ae(r.value.nameRu?r.value.nameRu:r.value.nameOriginal),1),C("div",QD,[r.value.startYear?(P(),V("div",XD,ae(r.value.startYear)+"-"+ae(r.value.endYear?r.value.endYear:"н.в."),1)):(P(),V("div",ZD,ae(r.value.year),1)),r.value.filmLength?(P(),V("div",eF,ae(r.value.filmLength)+" мин. ",1)):xe("",!0),r.value.has3D?(P(),V("div",tF," 3D ")):(P(),V("div",nF," 2D ")),r.value.ratingAgeLimits?(P(),V("div",sF,ae(r.value.ratingAgeLimits.split("age")[1])+"+ ",1)):xe("",!0)]),C("div",iF,[C("div",rF,[C("p",{class:ze([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-700":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-300":"text-red-500":"text-slate-300","mb-1 font-bold text-xl"])},ae(r.value.ratingKinopoisk?r.value.ratingKinopoisk:"нет рейтинга"),3),He(" "+ae(r.value.genres.reduce((y,w)=>y+" "+w.genre,""))+" ",1),C("p",oF,ae(r.value.countries.reduce((y,w)=>y+" "+w.country,"")),1)])]),C("div",aF,[C("div",lF,[r.value.isFavorite?(P(),de(G(_d),{key:1,class:"w-4 text-green-600",onClick:p[1]||(p[1]=y=>G(e).removeFromFavorites(r.value,G(i))),alt:"favorites"})):(P(),de(G(qv),{key:0,onClick:p[0]||(p[0]=y=>G(e).addToFavorites(r.value,G(i))),class:"w-4 text-white",alt:"favorites"}))]),C("div",cF,ae(r.value.isFavorite?"В избранном":"Буду смотреть"),1)]),C("div",uF,[C("a",{href:r.value.webUrl,class:"my-2 text-sm rounded-full bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,dF)])])]),C("section",fF,[z(ms,{title:"Актеры и съемочная группа"}),z(TN,{"staff-list":a.value},null,8,["staff-list"])]),C("section",null,[C("div",hF,[C("div",pF,[C("p",mF,ae(r.value.shortDescription),1),z(LE,{"enter-active-class":"transition easy-out duration-300","enter-from-class":"transition opacity-0 scale-95","enter-to-class":"transition opacity-100 scale-100","leave-active-class":"transition easy-in duration-300","leave-from-class":"transition opacity-100 scale-100","leave-to-class":"transition opacity-0 scale-95"},{default:ie(()=>[gn(C("p",{class:"text-sm transition-all duration-300"},ae(r.value.description),513),[[bv,l.value]])]),_:1}),r.value.shortDescription&&r.value.description?(P(),V("h4",{key:0,class:"text-orange-600 text-sm text-end transition-all duration-300",onClick:p[2]||(p[2]=y=>l.value=!l.value)},ae(l.value?"Скрыть":"Подробнее"),1)):xe("",!0)]),p[4]||(p[4]=C("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),C("div",gF,[r.value.ratingKinopoisk?(P(),V("span",{key:1,class:ze([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ae(r.value.ratingKinopoisk),3)):(P(),V("span",vF,"нет рейтинга")),C("div",yF," Оценок: "+ae(r.value.ratingKinopoiskVoteCount),1),C("a",{href:r.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400"},"Оценить",8,_F)])])]),o.value.length?(P(),V("section",wF,[z(ms,{title:"Похожие"}),z(rf,{films:o.value},null,8,["films"])])):xe("",!0),z(Il),p[5]||(p[5]=C("div",{class:"h-28 bg-black"},null,-1))]))],64)}}},SF=yd("newsStore",()=>{const t=j([]),e=j(localStorage.getItem("currentPage")?+localStorage.getItem("currentPage"):1),n=async()=>{const{data:i}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v1/media_posts?page=${e.value}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});i.totalPages!==e.value?(e.value=i.totalPages,localStorage.setItem("currentPage",e.value),await s()):t.value=i.items},s=async()=>{const{data:i}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v1/media_posts?page=${e.value}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});t.value=i.items};return{newsData:t,getNews:n}}),EF={class:"absolute bottom-4 left-4 text-xs w-1/2"},TF=["href"],CF={__name:"NewsItem",setup(t){const e=[YR,KR],n=SF(),s=j([{kinopoiskId:4008963,imageUrl:"https://avatars.mds.yandex.net/get-kinopoisk-post-thumb/1348084/b32d2b292f0654e1a9e80aac5437a33a/orig",title:"Вышла «окончательная версия» порнопеплума «Калигула». Как она сделана и почему нам не понравилась",description:"На Blu-ray выходит «окончательная версия» (The Ultimate Cut) «Калигулы» Тинто Брасса. Вспоминаем историю создания кровавого порнопеплума и подробно рассказываем про его редукс, максимально близкий к исходному сценарию Гора Видала. ",url:"https://www.kinopoisk.ru/api/webview/post/4008963",publishedAt:"2024-01-15T13:56:48"}]);return Re(async()=>{n.newsData.length||await n.getNews(),s.value=n.newsData}),(i,r)=>(P(),de(G(nf),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-8"},{default:ie(()=>[(P(!0),V(Me,null,ci(s.value,o=>(P(),de(G(sf),{key:o.kinopoiskId},{default:ie(()=>[C("div",{class:"relative rounded-md overflow-hidden bg-cover h-48 w-full",style:ao(`background-image: url(${o.imageUrl})`)},[r[0]||(r[0]=C("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-20"},null,-1)),C("h2",EF,ae(o.title),1),C("a",{href:o.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md"},"Подробнее",8,TF)],4)]),_:2},1024))),128))]),_:1}))}},IF={key:1,class:"container mx-auto px-1"},xF={__name:"MainPage",setup(t){const e=tn(),n=j(!0),s=tr(),i=()=>{Notification.requestPermission().then(r=>{r==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),tn().notificationToken="")})};return Re(()=>{e.getTokenNotification(),s.premiers.length||s.getPremiers(),i(),n.value=!1}),dl({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(r,o)=>{const a=Ss("metainfo");return P(),V(Me,null,[z(a,null,{title:ie(()=>o[0]||(o[0]=[])),_:1}),n.value?(P(),de(qn,{key:0,"full-screen":!0})):(P(),V("section",IF,[z(ms,{title:"Последние новости","show-all":!0,link:"news"}),z(CF),z(ms,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),z(rf,{films:G(s).premiers.slice(0,20)},null,8,["films"]),o[1]||(o[1]=C("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},pb=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},kF={class:"container mx-auto p-1"},PF={class:"flex gap-2 mb-6"},AF=["placeholder"],RF={__name:"Search",setup(t){tr();const e=j(""),n=j([]),s=j(null),i=async l=>{const{data:c}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${l.trim()}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});n.value=c.films,console.log(n.value)},r=()=>{if(!e.value||e.value<2)return a();i(e.value)},o=j(!1);function a(){o.value=!0,setTimeout(()=>{o.value=!1},1500)}return Re(()=>{ji(()=>{s.value.focus()})}),dl({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(l,c)=>{const u=Ss("metainfo");return P(),V(Me,null,[z(u,null,{title:ie(()=>c[2]||(c[2]=[])),_:1}),C("section",kF,[C("div",PF,[z(yo),c[3]||(c[3]=C("h2",{class:"text-2xl"},"Поиск",-1))]),C("div",{class:ze(["relative w-full mb-4",{shake:o.value}])},[gn(C("input",{ref_key:"filter",ref:s,placeholder:o.value?"Поле не должно быть пустым":"Поиск фильмов, сериалов...",class:"w-full p-2 bg-gray-900 rounded-2xl py-2 pr-10 pl-4 outline-none flex items-center",type:"text","onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),onKeydown:iT(r,["enter"])},null,40,AF),[[Ws,e.value]]),gn(C("button",{class:"absolute right-20 top-1/2 -translate-y-1/2 mr-1",onClick:c[1]||(c[1]=d=>e.value="")},null,512),[[bv,e.value.length>0]]),C("button",{class:"absolute right-0 top-1/2 -translate-y-1/2 bg-orange-600 py-2 px-3 rounded-2xl",onClick:r},"Найти ")],2),n.value.length>0?(P(),de(rf,{key:0,films:n.value},null,8,["films"])):xe("",!0)])],64)}}},OF=pb(RF,[["__scopeId","data-v-ff964932"]]),NF="/404-error.png",MF={},LF={class:"w-full h-screen flex justify-center items-center"};function DF(t,e){return P(),V("div",LF,e[0]||(e[0]=[C("img",{src:NF,alt:"404",class:"w-2/5"},null,-1)]))}const FF=pb(MF,[["render",DF]]),BF={key:1,class:"relative container mx-auto p-1"},$F={class:"flex gap-2 mb-4"},UF={class:"grid-cols-2 grid gap-1"},jF={__name:"Premier",setup(t){const e=tr(),n=j(!0);return Re(()=>{e.premiers.length||e.getPremiers(),n.value=!1}),(s,i)=>{const r=US("auto-animate");return n.value?(P(),de(qn,{key:0})):(P(),V("section",BF,[C("div",$F,[z(yo),z(ms,{title:"Премьеры этого месяца"})]),gn((P(),V("div",UF,[(P(!0),V(Me,null,ci(G(e).premiers,o=>(P(),de(sw,{film:o,key:o.kinopoiskId?o.kinopoiskId:o.filmId,size:"w-full h-72"},null,8,["film"]))),128))])),[[r]]),i[0]||(i[0]=C("div",{class:"h-20"},null,-1)),z(Il)]))}}},HF={key:1,class:"relative container mx-auto p-1"},VF={class:"flex gap-2 mb-4"},WF={class:"grid-cols-1 grid gap-2"},zF={class:"absolute bottom-4 left-4 text-xs w-1/2"},qF=["href"],GF={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-900 bg-opacity-50 p-2 rounded-md z-50"},KF={__name:"News",setup(t){const e=async a=>{await o(a),window.scrollTo({top:0,behavior:"smooth"})},n=j(1),s=j([]),i=j(!0),r=j(0),o=async a=>{i.value=!0;const{data:l}=await Le.get(`https://kinopoiskapiunofficial.tech/api/v1/media_posts?page=${a}`,{headers:{"X-API-KEY":"9e52d931-b757-457b-a1ea-0d872ae51d51","Content-Type":"application/json"}});s.value=l.items,i.value=!1,r.value=l.total};return Re(async()=>{await o(n.value)}),dl({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(a,l)=>{const c=Ss("metainfo");return P(),V(Me,null,[z(c,null,{title:ie(()=>l[1]||(l[1]=[])),_:1}),i.value?(P(),de(qn,{key:0,"full-screen":!0})):(P(),V("section",HF,[C("div",VF,[z(yo),z(ms,{title:"Новости"})]),C("div",WF,[(P(!0),V(Me,null,ci(s.value,u=>(P(),V("div",{key:u.kinopoiskId},[C("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:ao(`background-image: url(${u.imageUrl})`)},[l[2]||(l[2]=C("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),C("h2",zF,ae(u.title),1),C("a",{href:u.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md"},"Подробнее",8,qF)],4)]))),128))]),z(Il),l[3]||(l[3]=C("div",{class:"h-32"},null,-1))])),C("div",GF,[z(G(Vv),{"total-items":r.value,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),onClick:e},null,8,["total-items","modelValue"])])],64)}}},mb="/img/icons/192x192.png",YF={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},JF={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},QF={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},XF={class:"text-center text-xs text-red-500"},ZF={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},eB={class:"space-y-6",action:"#",method:"POST"},tB={class:"mt-2"},nB={class:"mt-2"},sB={class:"mt-10 text-center text-sm/6 text-gray-400"},iB=ct({__name:"Login",setup(t){const e=Vi(),n=tn(),s=j(""),i=j(""),r=async o=>{o.preventDefault(),n.error="",s.value&&i.value?(await n.auth("login",{email:s.value,password:i.value}),await e.push("/")):n.error="Заполните все поля"};return Re(()=>{n.error="",s.value="",i.value=""}),(o,a)=>{const l=Ss("RouterLink");return P(),V("div",YF,[C("div",JF,[a[2]||(a[2]=C("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:mb,alt:"Filmoteka"},null,-1)),a[3]||(a[3]=C("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),G(n).error?(P(),V("div",QF,[z(G(wd),{class:"size-4 text-red-500","aria-hidden":"true"}),C("div",XF,ae(G(n).error),1)])):xe("",!0)]),C("div",ZF,[C("form",eB,[C("div",null,[a[4]||(a[4]=C("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),C("div",tB,[gn(C("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":a[0]||(a[0]=c=>s.value=c),class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,s.value]])])]),C("div",null,[a[5]||(a[5]=C("div",{class:"flex items-center justify-between"},[C("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль"),C("div",{class:"text-sm"},[C("a",{href:"#",class:"text-orange-600 hover:text-orange-500"},"Забыли пароль?")])],-1)),C("div",nB,[gn(C("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>i.value=c),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,i.value]])])]),C("div",null,[G(n).loader?(P(),de(qn,{key:1,"full-screen":!1})):(P(),V("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),C("p",sB,[a[7]||(a[7]=He(" Нет аккаунта? "+ae(" ")+" ")),z(l,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:ie(()=>a[6]||(a[6]=[He("Зарегистрироваться ")])),_:1})])])])}}}),rB={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},oB={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},aB={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},lB={class:"text-center text-xs text-red-500"},cB={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},uB={class:"space-y-6",action:"#",method:"POST"},dB={class:"mt-2"},fB={class:"mt-2"},hB={class:"mt-2"},pB={class:"mt-10 text-center text-sm text-gray-400"},mB=ct({__name:"Registration",setup(t){const e=tn(),n=j(""),s=j(""),i=j(""),r=Vi(),o=async()=>{e.error="",s.value&&i.value&&n.value?(await e.auth("registration",{email:s.value,password:i.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return Re(()=>{e.error="",s.value="",i.value="",n.value=""}),(a,l)=>{const c=Ss("RouterLink");return P(),V("div",rB,[C("div",oB,[l[3]||(l[3]=C("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:mb,alt:"Your Company"},null,-1)),l[4]||(l[4]=C("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),G(e).error?(P(),V("div",aB,[z(G(wd),{class:"size-4 text-red-500","aria-hidden":"true"}),C("div",lB,ae(G(e).error),1)])):xe("",!0)]),C("div",cB,[C("form",uB,[C("div",null,[l[5]||(l[5]=C("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),C("div",dB,[gn(C("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,n.value]])])]),C("div",null,[l[6]||(l[6]=C("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),C("div",fB,[gn(C("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,s.value]])])]),C("div",null,[l[7]||(l[7]=C("div",{class:"flex items-center justify-between"},[C("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),C("div",hB,[gn(C("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-900 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6 autofill:bg-gray-900"},null,512),[[Ws,i.value]])])]),C("div",null,[G(e).loader?(P(),de(qn,{key:1,"full-screen":!1})):(P(),V("button",{key:0,type:"submit",onClick:Rt(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),C("p",pB,[l[9]||(l[9]=He(" Есть аккаунт? "+ae(" ")+" ")),z(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:ie(()=>l[8]||(l[8]=[He("Войти")])),_:1})])])])}}});function Hf(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Eo(){let t=[],e={addEventListener(n,s,i,r){return n.addEventListener(s,i,r),e.add(()=>n.removeEventListener(s,i,r))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let s=setTimeout(...n);e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return Hf(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let r=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:r})})},group(n){let s=Eo();return n(s),this.add(()=>s.dispose())},add(n){return t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}var Gm;let gB=Symbol("headlessui.useid"),vB=0;const $l=(Gm=OS)!=null?Gm:function(){return je(gB,()=>`${++vB}`)()};function Ke(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function _n(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,_n),s}var yB=Object.defineProperty,_B=(t,e,n)=>e in t?yB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Km=(t,e,n)=>(_B(t,typeof e!="symbol"?e+"":e,n),n);let wB=class{constructor(){Km(this,"current",this.detect()),Km(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},To=new wB;function nr(t){if(To.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ke(t);if(e)return e.ownerDocument}return document}let zu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var as=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(as||{}),gb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(gb||{}),bB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(bB||{});function SB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(zu)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var vb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(vb||{});function EB(t,e=0){var n;return t===((n=nr(t))==null?void 0:n.body)?!1:_n(e,{0(){return t.matches(zu)},1(){let s=t;for(;s!==null;){if(s.matches(zu))return!0;s=s.parentElement}return!1}})}var TB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(TB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ks(t){t==null||t.focus({preventScroll:!0})}let CB=["textarea","input"].join(",");function IB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,CB))!=null?n:!1}function xB(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),r=e(s);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ta(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?xB(t):t:SB(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),s=s??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&IB(h)&&h.select(),2}function yb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function kB(){return/Android/gi.test(window.navigator.userAgent)}function PB(){return yb()||kB()}function Lo(t,e,n){To.isServer||Qt(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function _b(t,e,n){To.isServer||Qt(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}function AB(t,e,n=te(()=>!0)){function s(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Ke(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!EB(a,vb.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let i=j(null);Lo("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Lo("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Lo("click",r=>{PB()||i.value&&(s(r,()=>i.value),i.value=null)},!0),Lo("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),_b("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Va=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Va||{}),us=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(us||{});function bn({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=bb(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return jc(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return _n(l,{0(){return null},1(){return jc({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return jc(a)}function jc({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...l}=Sb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),u={};if(s){let d=!1,f=[];for(let[h,p]of Object.entries(s))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=wb(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!RB(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,y,w)=>w.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=bb((o=d.props)!=null?o:{},l,u),p=Bn(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Ee(a,Object.assign({},l,u),{default:()=>c})}function wb(t){return t.flatMap(e=>e.type===Me?wb(e.children):[e])}function bb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function Sb(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function RB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var Wa=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Wa||{});let qu=ct({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var s;let{features:i,...r}=t,o={"aria-hidden":(i&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return bn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Eb=Symbol("Context");var Nt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Nt||{});function OB(){return Vf()!==null}function Vf(){return je(Eb,null)}function NB(t){pt(Eb,t)}var Tb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Tb||{});function MB(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ds=[];MB(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ds[0]!==e.target&&(Ds.unshift(e.target),Ds=Ds.filter(n=>n!=null&&n.isConnected),Ds.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Cb(t,e,n,s){To.isServer||Qt(i=>{t=t??window,t.addEventListener(e,n,s),i(()=>t.removeEventListener(e,n,s))})}var wr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(wr||{});function LB(){let t=j(0);return _b("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Ib(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let s=Ke(n);s instanceof HTMLElement&&e.add(s)}return e}var xb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(xb||{});let mr=Object.assign(ct({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:j(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let i=j(null);s({el:i,$el:i});let r=te(()=>nr(i)),o=j(!1);Re(()=>o.value=!0),kt(()=>o.value=!1),FB({ownerDocument:r},te(()=>o.value&&!!(t.features&16)));let a=BB({ownerDocument:r,container:i,initialFocus:te(()=>t.initialFocus)},te(()=>o.value&&!!(t.features&2)));$B({ownerDocument:r,container:i,containers:t.containers,previousActiveElement:a},te(()=>o.value&&!!(t.features&8)));let l=LB();function c(h){let p=Ke(i);p&&(m=>m())(()=>{_n(l.value,{[wr.Forwards]:()=>{ta(p,as.First,{skipElements:[h.relatedTarget]})},[wr.Backwards]:()=>{ta(p,as.Last,{skipElements:[h.relatedTarget]})}})})}let u=j(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=Ib(t.containers);Ke(i)instanceof HTMLElement&&p.add(Ke(i));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(kb(p,m)||(u.value?ta(Ke(i),_n(l.value,{[wr.Forwards]:()=>as.Next,[wr.Backwards]:()=>as.Previous})|as.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Ks(h.target)))}return()=>{let h={},p={ref:i,onKeydown:d,onFocusout:f},{features:m,initialFocus:y,containers:w,...v}=t;return Ee(Me,[!!(m&4)&&Ee(qu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Wa.Focusable}),bn({ourProps:p,theirProps:{...e,...v},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Ee(qu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Wa.Focusable})])}}}),{features:xb});function DB(t){let e=j(Ds.slice());return Lt([t],([n],[s])=>{s===!0&&n===!1?Hf(()=>{e.value.splice(0)}):s===!1&&n===!0&&(e.value=Ds.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(s=>s!=null&&s.isConnected))!=null?n:null}}function FB({ownerDocument:t},e){let n=DB(e);Re(()=>{Qt(()=>{var s,i;e.value||((s=t.value)==null?void 0:s.activeElement)===((i=t.value)==null?void 0:i.body)&&Ks(n())},{flush:"post"})}),kt(()=>{e.value&&Ks(n())})}function BB({ownerDocument:t,container:e,initialFocus:n},s){let i=j(null),r=j(!1);return Re(()=>r.value=!0),kt(()=>r.value=!1),Re(()=>{Lt([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=Ke(e);l&&Hf(()=>{var c,u;if(!r.value)return;let d=Ke(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?Ks(d):ta(l,as.First|as.NoScroll)===gb.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),i}function $B({ownerDocument:t,container:e,containers:n,previousActiveElement:s},i){var r;Cb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!i.value)return;let a=Ib(n);Ke(e)instanceof HTMLElement&&a.add(Ke(e));let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?kb(a,c)?(s.value=c,Ks(c)):(o.preventDefault(),o.stopPropagation(),Ks(l)):Ks(s.value)},!0)}function kb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function UB(t){let e=Ig(t.getSnapshot());return kt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function jB(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...r){let o=e[i].call(n,...r);o&&(n=o,s.forEach(a=>a()))}}}function HB(){let t;return{before({doc:e}){var n;let s=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:e,d:n}){let s=e.documentElement,i=s.clientWidth-s.offsetWidth,r=t-i;n.style(s,"paddingRight",`${r}px`)}}}function VB(){return yb()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Eo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!s(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let l=a.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(s(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function WB(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function zB(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Us=jB(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:Eo(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:zB(n)},i=[VB(),HB(),WB()];i.forEach(({before:r})=>r==null?void 0:r(s)),i.forEach(({after:r})=>r==null?void 0:r(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Us.subscribe(()=>{let t=Us.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&Us.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Us.dispatch("TEARDOWN",n)}});function qB(t,e,n){let s=UB(Us),i=te(()=>{let r=t.value?s.value.get(t.value):void 0;return r?r.count>0:!1});return Lt([t,e],([r,o],[a],l)=>{if(!r||!o)return;Us.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(Us.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),i}let Hc=new Map,gr=new Map;function Ym(t,e=j(!0)){Qt(n=>{var s;if(!e.value)return;let i=Ke(t);if(!i)return;n(function(){var o;if(!i)return;let a=(o=gr.get(i))!=null?o:1;if(a===1?gr.delete(i):gr.set(i,a-1),a!==1)return;let l=Hc.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,Hc.delete(i))});let r=(s=gr.get(i))!=null?s:0;gr.set(i,r+1),r===0&&(Hc.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function GB({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let s=j(null),i=nr(s);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(Ke(s))||u.contains((l=(a=Ke(s))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:s,MainTreeNode(){return n!=null?null:Ee(qu,{features:Wa.Hidden,ref:s})}}}let Pb=Symbol("ForcePortalRootContext");function KB(){return je(Pb,!1)}let Jm=ct({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return pt(Pb,t.force),()=>{let{force:s,...i}=t;return bn({theirProps:i,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),Ab=Symbol("StackContext");var Gu=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Gu||{});function YB(){return je(Ab,()=>{})}function JB({type:t,enabled:e,element:n,onUpdate:s}){let i=YB();function r(...o){s==null||s(...o),i(...o)}Re(()=>{Lt(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),kt(()=>{e.value&&r(1,t,n)}),pt(Ab,r)}let QB=Symbol("DescriptionContext");function XB({slot:t=j({}),name:e="Description",props:n={}}={}){let s=j([]);function i(r){return s.value.push(r),()=>{let o=s.value.indexOf(r);o!==-1&&s.value.splice(o,1)}}return pt(QB,{register:i,slot:t,name:e,props:n}),te(()=>s.value.length>0?s.value.join(" "):void 0)}function ZB(t){let e=nr(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}const Ku=new WeakMap;function e$(t){var e;return(e=Ku.get(t))!=null?e:0}function Qm(t,e){let n=e(e$(t));return n<=0?Ku.delete(t):Ku.set(t,n),n}let t$=ct({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=j(null),i=te(()=>nr(s)),r=KB(),o=je(Rb,null),a=j(r===!0||o==null?ZB(s.value):o.resolveTarget());a.value&&Qm(a.value,f=>f+1);let l=j(!1);Re(()=>{l.value=!0}),Qt(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=je(Yu,null),u=!1,d=Hi();return Lt(s,()=>{if(u||!c)return;let f=Ke(s);f&&(kt(c.register(f),d),u=!0)}),kt(()=>{var f,h;let p=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||Qm(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return Ee(Bg,{to:a.value},bn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Yu=Symbol("PortalParentContext");function n$(){let t=je(Yu,null),e=j([]);function n(r){return e.value.push(r),t&&t.register(r),()=>s(r)}function s(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let i={register:n,unregister:s,portals:e};return[e,ct({name:"PortalWrapper",setup(r,{slots:o}){return pt(Yu,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let Rb=Symbol("PortalGroupContext"),s$=ct({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=li({resolveTarget(){return t.target}});return pt(Rb,s),()=>{let{target:i,...r}=t;return bn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var i$=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(i$||{});let Ju=Symbol("DialogContext");function Wf(t){let e=je(Ju,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wf),n}return e}let Do="DC8F892D-2EBD-447C-A4C8-A03058436FF4",zf=ct({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Do},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${$l()}`,l=j(!1);Re(()=>{l.value=!0});let c=!1,u=te(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=j(0),f=Vf(),h=te(()=>t.open===Do&&f!==null?(f.value&Nt.Open)===Nt.Open:t.open),p=j(null),m=te(()=>nr(p));if(i({el:p,$el:p}),!(t.open!==Do||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===Do?void 0:t.open}`);let y=te(()=>l.value&&h.value?0:1),w=te(()=>y.value===0),v=te(()=>d.value>1),g=je(Ju,null)!==null,[S,E]=n$(),{resolveContainers:R,mainTreeNodeRef:$,MainTreeNode:A}=GB({portals:S,defaultContainers:[te(()=>{var me;return(me=re.panelRef.value)!=null?me:p.value})]}),T=te(()=>v.value?"parent":"leaf"),x=te(()=>f!==null?(f.value&Nt.Closing)===Nt.Closing:!1),B=te(()=>g||x.value?!1:w.value),O=te(()=>{var me,ge,Ye;return(Ye=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("body > *"))!=null?ge:[]).find(Je=>Je.id==="headlessui-portal-root"?!1:Je.contains(Ke($))&&Je instanceof HTMLElement))!=null?Ye:null});Ym(O,B);let D=te(()=>v.value?!0:w.value),Q=te(()=>{var me,ge,Ye;return(Ye=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(Je=>Je.contains(Ke($))&&Je instanceof HTMLElement))!=null?Ye:null});Ym(Q,D),JB({type:"Dialog",enabled:te(()=>y.value===0),element:p,onUpdate:(me,ge)=>{if(ge==="Dialog")return _n(me,{[Gu.Add]:()=>d.value+=1,[Gu.Remove]:()=>d.value-=1})}});let ee=XB({name:"DialogDescription",slot:te(()=>({open:h.value}))}),ne=j(null),re={titleId:ne,panelRef:j(null),dialogState:y,setTitleId(me){ne.value!==me&&(ne.value=me)},close(){e("close",!1)}};pt(Ju,re);let we=te(()=>!(!w.value||v.value));AB(R,(me,ge)=>{me.preventDefault(),re.close(),ji(()=>ge==null?void 0:ge.focus())},we);let mt=te(()=>!(v.value||y.value!==0));Cb((o=m.value)==null?void 0:o.defaultView,"keydown",me=>{mt.value&&(me.defaultPrevented||me.key===Tb.Escape&&(me.preventDefault(),me.stopPropagation(),re.close()))});let St=te(()=>!(x.value||y.value!==0||g));return qB(m,St,me=>{var ge;return{containers:[...(ge=me.containers)!=null?ge:[],R]}}),Qt(me=>{if(y.value!==0)return;let ge=Ke(p);if(!ge)return;let Ye=new ResizeObserver(Je=>{for(let Gn of Je){let ot=Gn.target.getBoundingClientRect();ot.x===0&&ot.y===0&&ot.width===0&&ot.height===0&&re.close()}});Ye.observe(ge),me(()=>Ye.disconnect())}),()=>{let{open:me,initialFocus:ge,...Ye}=t,Je={...n,ref:p,id:a,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":ne.value,"aria-describedby":ee.value},Gn={open:y.value===0};return Ee(Jm,{force:!0},()=>[Ee(t$,()=>Ee(s$,{target:p.value},()=>Ee(Jm,{force:!1},()=>Ee(mr,{initialFocus:ge,containers:R,features:w.value?_n(T.value,{parent:mr.features.RestoreFocus,leaf:mr.features.All&~mr.features.FocusLock}):mr.features.None},()=>Ee(E,{},()=>bn({ourProps:Je,theirProps:{...Ye,...n},slot:Gn,attrs:n,slots:s,visible:y.value===0,features:Va.RenderStrategy|Va.Static,name:"Dialog"})))))),Ee(A)])}}}),qf=ct({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:s}){var i;let r=(i=t.id)!=null?i:`headlessui-dialog-panel-${$l()}`,o=Wf("DialogPanel");s({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return bn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),za=ct({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-title-${$l()}`,r=Wf("DialogTitle");return Re(()=>{r.setTitleId(i),kt(()=>r.setTitleId(null))}),()=>{let{...o}=t;return bn({ourProps:{id:i},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function r$(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Vc(t,...e){t&&e.length>0&&t.classList.add(...e)}function Fo(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Qu=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Qu||{});function o$(t,e){let n=Eo();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:i}=getComputedStyle(t),[r,o]=[s,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function Xm(t,e,n,s,i,r){let o=Eo(),a=r!==void 0?r$(r):()=>{};return Fo(t,...i),Vc(t,...e,...n),o.nextFrame(()=>{Fo(t,...n),Vc(t,...s),o.add(o$(t,l=>(Fo(t,...s,...e),Vc(t,...i),a(l))))}),o.add(()=>Fo(t,...e,...n,...s,...i)),o.add(()=>a("cancelled")),o.dispose}function Rs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Gf=Symbol("TransitionContext");var a$=(t=>(t.Visible="visible",t.Hidden="hidden",t))(a$||{});function l$(){return je(Gf,null)!==null}function c$(){let t=je(Gf,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function u$(){let t=je(Kf,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let Kf=Symbol("NestingContext");function Ul(t){return"children"in t?Ul(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Ob(t){let e=j([]),n=j(!1);Re(()=>n.value=!0),kt(()=>n.value=!1);function s(r,o=us.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(_n(o,{[us.Unmount](){e.value.splice(a,1)},[us.Hidden](){e.value[a].state="hidden"}}),!Ul(e)&&n.value&&(t==null||t()))}function i(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>s(r,us.Unmount)}return{children:e,register:i,unregister:s}}let Nb=Va.RenderStrategy,ai=ct({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){let r=j(0);function o(){r.value|=Nt.Opening,e("beforeEnter")}function a(){r.value&=~Nt.Opening,e("afterEnter")}function l(){r.value|=Nt.Closing,e("beforeLeave")}function c(){r.value&=~Nt.Closing,e("afterLeave")}if(!l$()&&OB())return()=>Ee(jl,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},s);let u=j(null),d=te(()=>t.unmount?us.Unmount:us.Hidden);i({el:u,$el:u});let{show:f,appear:h}=c$(),{register:p,unregister:m}=u$(),y=j(f.value?"visible":"hidden"),w={value:!0},v=$l(),g={value:!1},S=Ob(()=>{!g.value&&y.value!=="hidden"&&(y.value="hidden",m(v),c())});Re(()=>{let D=p(v);kt(D)}),Qt(()=>{if(d.value===us.Hidden&&v){if(f.value&&y.value!=="visible"){y.value="visible";return}_n(y.value,{hidden:()=>m(v),visible:()=>p(v)})}});let E=Rs(t.enter),R=Rs(t.enterFrom),$=Rs(t.enterTo),A=Rs(t.entered),T=Rs(t.leave),x=Rs(t.leaveFrom),B=Rs(t.leaveTo);Re(()=>{Qt(()=>{if(y.value==="visible"){let D=Ke(u);if(D instanceof Comment&&D.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function O(D){let Q=w.value&&!h.value,ee=Ke(u);!ee||!(ee instanceof HTMLElement)||Q||(g.value=!0,f.value&&o(),f.value||l(),D(f.value?Xm(ee,E,R,$,A,ne=>{g.value=!1,ne===Qu.Finished&&a()}):Xm(ee,T,x,B,A,ne=>{g.value=!1,ne===Qu.Finished&&(Ul(S)||(y.value="hidden",m(v),c()))})))}return Re(()=>{Lt([f],(D,Q,ee)=>{O(ee),w.value=!1},{immediate:!0})}),pt(Kf,S),NB(te(()=>_n(y.value,{visible:Nt.Open,hidden:Nt.Closed})|r.value)),()=>{let{appear:D,show:Q,enter:ee,enterFrom:ne,enterTo:re,entered:we,leave:mt,leaveFrom:St,leaveTo:me,...ge}=t,Ye={ref:u},Je={...ge,...h.value&&f.value&&To.isServer?{class:ze([n.class,ge.class,...E,...R])}:{}};return bn({theirProps:Je,ourProps:Ye,slot:{},slots:s,attrs:n,features:Nb,visible:y.value==="visible",name:"TransitionChild"})}}}),d$=ai,jl=ct({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let i=Vf(),r=te(()=>t.show===null&&i!==null?(i.value&Nt.Open)===Nt.Open:t.show);Qt(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=j(r.value?"visible":"hidden"),a=Ob(()=>{o.value="hidden"}),l=j(!0),c={show:r,appear:te(()=>t.appear||!l.value)};return Re(()=>{Qt(()=>{l.value=!1,r.value?o.value="visible":Ul(a)||(o.value="hidden")})}),pt(Kf,a),pt(Gf,c),()=>{let u=Sb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return bn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Ee(d$,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},s.default)]},attrs:{},features:Nb,visible:o.value==="visible",name:"Transition"})}}});const f$={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},h$={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},p$={class:"bg-gray-900 px-4 pb-4 pt-4"},m$={class:"items-center justify-center"},g$={class:"mt-3"},v$={class:"bg-gray-900 px-4 py-4 items-center flex flex-col"},y$={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Vi(),n=tn(),s=()=>{n.auth("logout"),e.push("/login")};return(i,r)=>(P(),de(G(jl),{as:"template",show:t.openPopup},{default:ie(()=>[z(G(zf),{class:"relative z-10",onClose:t.handleClick},{default:ie(()=>[z(G(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ie(()=>r[1]||(r[1]=[C("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),C("div",f$,[C("div",h$,[z(G(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ie(()=>[z(G(qf),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ie(()=>[C("div",p$,[C("div",m$,[C("div",g$,[z(G(za),{as:"h3",class:"text-base text-center"},{default:ie(()=>r[2]||(r[2]=[He("Вы хотите выйти из профиля? ")])),_:1})])])]),C("div",v$,[C("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),C("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:s,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},_$={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},w$={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},b$={class:"bg-gray-900 px-4 pb-4 pt-4"},S$={class:"items-center justify-center"},E$={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-800 sm:size-10"},T$={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-800 sm:size-10"},C$={class:"mt-3"},I$={key:2,class:"mt-2"},x$={class:"text-sm text-gray-500 break-words text-center"},k$={class:"bg-gray-900 px-4 py-4 items-center flex flex-col"},P$={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=tn(),n=j(!1),s=j(!1),i=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},500)},250)};return(r,o)=>(P(),de(G(jl),{as:"template",show:t.openPopup},{default:ie(()=>[z(G(zf),{class:"relative z-10",onClose:t.handleClick},{default:ie(()=>[z(G(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ie(()=>o[1]||(o[1]=[C("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),C("div",_$,[C("div",w$,[z(G(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ie(()=>[z(G(qf),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ie(()=>[C("div",b$,[C("div",S$,[G(e).notificationToken?(P(),V("div",T$,[z(G(zv),{class:"size-6 text-green-600","aria-hidden":"true"})])):(P(),V("div",E$,[z(G(Wv),{class:"size-6 text-red-600","aria-hidden":"true"})])),C("div",C$,[G(e).notificationToken?(P(),de(G(za),{key:1,as:"h3",class:"text-base text-center"},{default:ie(()=>o[3]||(o[3]=[He("Уведомления разрешены ")])),_:1})):(P(),de(G(za),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:ie(()=>o[2]||(o[2]=[He(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),G(e).notificationToken?(P(),V("div",I$,[C("div",x$,ae(G(e).notificationToken),1)])):xe("",!0)])])]),C("div",k$,[G(e).notificationToken&&!n.value&&!s.value?(P(),V("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i},"Скопировать токен ")):xe("",!0),n.value?(P(),de(qn,{key:1,"full-screen":!1})):xe("",!0),s.value?(P(),de(G(_d),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):xe("",!0),C("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},A$={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},R$={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},O$={class:"bg-gray-900 px-4 pb-4 pt-4"},N$={class:"items-center justify-center relative"},M$={class:"mt-3"},L$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},D$={class:"text-center text-xs text-red-500"},F$={class:"space-y-1 bg-gray-900",action:"#",method:"POST"},B$={class:"bg-gray-900 px-4 pb-4 pt-2"},$$={class:"mt-2"},U$={class:"bg-gray-900 px-4 pb-4 pt-2 items-center flex flex-col"},j$={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=j(""),n=j(""),s=tn(),i=async()=>{if(e.value){if(e.value===s.userInfo.name)return n.value="Имя не изменилось";n.value="",await s.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(P(),de(G(jl),{as:"template",show:t.openPopup},{default:ie(()=>[z(G(zf),{class:"relative z-10",onClose:t.handleClick},{default:ie(()=>[z(G(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ie(()=>o[3]||(o[3]=[C("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),C("div",A$,[C("div",R$,[z(G(ai),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ie(()=>[z(G(qf),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ie(()=>[C("div",O$,[C("div",N$,[C("div",M$,[z(G(za),{as:"h3",class:"text-base font-semibold text-center"},{default:ie(()=>o[4]||(o[4]=[He("Изменить имя ")])),_:1})]),n.value?(P(),V("div",L$,[z(G(wd),{class:"size-4 text-red-500","aria-hidden":"true"}),C("div",D$,ae(n.value),1)])):xe("",!0)])]),C("form",F$,[C("div",B$,[o[5]||(o[5]=C("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),C("div",$$,[gn(C("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"w-full px-3 rounded-md bg-gray-900 py-1.5 text-base outline outline-1 outline-white -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,e.value]])])]),C("div",U$,[G(s).loader?(P(),de(qn,{key:1,"full-screen":!1})):(P(),V("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await i(),n.value||t.handleClick()})}," Сохранить ")),C("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 hover:text-gray-900 sm:w-auto",onClick:o[2]||(o[2]=Rt((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},H$={class:"container mx-auto p-1"},V$={class:"mt-2"},W$={class:"px-2 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},z$={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},q$={class:"px-2 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},G$={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},K$={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},Y$={class:"px-2 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},J$={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},Q$={__name:"Profile",setup(t){const e=tn(),n=j(!1),s=j(!1),i=j(!1),r=()=>{n.value=!n.value},o=()=>{s.value=!s.value},a=()=>{i.value=!i.value};return Re(()=>{e.getTokenNotification()}),(l,c)=>(P(),V("section",H$,[z(ms,{title:"Профиль"}),c[3]||(c[3]=C("div",{class:"sm:px-0"},[C("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),C("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),C("div",V$,[C("dl",null,[C("div",W$,[c[0]||(c[0]=C("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),C("dd",z$,ae(G(e).userInfo.name),1),C("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[z(G(K0),{class:"size-6 text-blue-500","aria-hidden":"true"}),z(j$,{handleClick:a,openPopup:i.value},null,8,["openPopup"])])]),C("div",q$,[c[1]||(c[1]=C("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),G(e).notificationToken?(P(),V("dd",G$,"Уведомления разрешены ")):(P(),V("dd",K$,"Уведомления не разрешены")),C("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-900 p-4 rounded-full",onClick:r},[G(e).notificationToken?(P(),de(G(zv),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(P(),de(G(Wv),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),z(P$,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),C("div",Y$,[c[2]||(c[2]=C("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),C("dd",J$,ae(G(e).userInfo.email),1)])])]),C("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md"}," Выйти "),z(y$,{"handle-click":o,"open-popup":s.value},null,8,["open-popup"])]))}},X$={class:"relative flex gap-2"},Z$={class:"mb-1 rounded-md w-20"},e2=["src","alt"],t2={class:"pr-8 flex flex-col justify-between w-full"},n2={class:"text-xs mb-1"},s2={key:0,class:"text-xs text-slate-400 mb-1"},i2={class:"justify-self-end flex items-center gap-8 mb-4 relative"},r2={class:"flex items-center gap-4"},o2={class:"text-center text-xs"},a2={__name:"FavoriteItem",props:{film:Object,size:{type:String,default:"w-64 h-96",required:!1}},setup(t){const e=tr(),n=Qr(),s=hb(),i=r=>{t.film.isWatched=!r,kD(ea(s,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!r})};return(r,o)=>(P(),V("div",X$,[z(G(cl),{to:{name:"item",params:{id:t.film.id}}},{default:ie(()=>[C("div",Z$,[C("img",{class:"rounded-md",src:t.film.posterUrl,alt:t.film.nameRu},null,8,e2)])]),_:1},8,["to"]),C("div",t2,[C("div",null,[C("h3",n2,ae(t.film.nameRu),1),t.film.year&&t.film.genres.length?(P(),V("p",s2,ae(t.film.year)+", "+ae(t.film.genres[0].genre),1)):xe("",!0)]),C("div",i2,[C("div",r2,[C("div",{class:"p-2 flex items-center justify-center rounded-full bg-gray-600 bg-opacity-30",onClick:o[0]||(o[0]=a=>i(t.film.isWatched))},[t.film.isWatched?(P(),de(G(_d),{key:1,class:"w-4 text-green-600",alt:"favorites"})):(P(),de(G(qv),{key:0,class:"w-4 text-white",alt:"favorites"}))]),C("div",o2,ae(t.film.isWatched?"Просмотрено":"Не просмотрено"),1)])])]),C("div",{class:"absolute top-0 right-1 rounded-full flex items-center justify-center",onClick:o[1]||(o[1]=a=>G(e).removeFromFavorites(null,t.film.id))},[z(G(Y0),{class:"w-4 text-red-500",alt:"favorites"})])]))}},l2={class:"relative container mx-auto p-1"},c2={class:"flex gap-2 mb-4"},u2={class:"grid-cols-1 grid gap-1"},d2={__name:"Favorites",setup(t){const e=tr();return Re(()=>{tn().getTokenNotification(),e.favorites.length||e.getFavorites()}),(n,s)=>(P(),V("section",l2,[C("div",c2,[z(yo),z(ms,{title:"Избранное"})]),C("div",u2,[(P(!0),V(Me,null,ci(G(e).favorites,i=>(P(),de(a2,{film:i,key:i.id,size:"w-full h-72"},null,8,["film"]))),128))]),s[0]||(s[0]=C("div",{class:"h-20"},null,-1)),z(Il)]))}};var f2="firebase",h2="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(f2,h2,"app");const p2=[{path:"/",component:xF,name:"main",meta:{auth:!0}},{path:"/profile",component:Q$,name:"profile",meta:{auth:!0}},{path:"/favorites",component:d2,name:"favorites",meta:{auth:!0}},{path:"/login",component:iB,name:"login",meta:{auth:!1}},{path:"/registration",component:mB,name:"registration",meta:{auth:!1}},{path:"/search",component:OF,name:"search",meta:{auth:!0}},{path:"/film/:id",component:bF,name:"item",meta:{auth:!0}},{path:"/premier",component:jF,name:"premier",props:!0,meta:{auth:!0}},{path:"/news",component:KF,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:FF,meta:{auth:!0}}],Mb=d0({history:UT("/"),routes:p2}),m2=k0(),g2={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};Mb.beforeEach((t,e,n)=>{const s=tn();t.meta.auth&&!s.accessToken?n("/login"):!t.meta.auth&&s.accessToken?n("/"):n()});oy(g2);aT(lA).use(Mb).use(I0()).use(m2).use(W0).mount("#app");
