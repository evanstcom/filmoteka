var eS=Object.defineProperty;var tS=(t,e,n)=>e in t?eS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ps=(t,e,n)=>tS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Le={},ki=[],Kt=()=>{},nS=()=>!1,rl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hd=t=>t.startsWith("onUpdate:"),pt=Object.assign,pd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sS=Object.prototype.hasOwnProperty,xe=(t,e)=>sS.call(t,e),ue=Array.isArray,Pi=t=>ol(t)==="[object Map]",_g=t=>ol(t)==="[object Set]",fe=t=>typeof t=="function",Ge=t=>typeof t=="string",Gn=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",wg=t=>(Ve(t)||fe(t))&&fe(t.then)&&fe(t.catch),bg=Object.prototype.toString,ol=t=>bg.call(t),iS=t=>ol(t).slice(8,-1),Sg=t=>ol(t)==="[object Object]",md=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ar=fd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),al=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},rS=/-(\w)/g,Wt=al(t=>t.replace(rS,(e,n)=>n?n.toUpperCase():"")),oS=/\B([A-Z])/g,Ss=al(t=>t.replace(oS,"-$1").toLowerCase()),ll=al(t=>t.charAt(0).toUpperCase()+t.slice(1)),ec=al(t=>t?`on${ll(t)}`:""),fs=(t,e)=>!Object.is(t,e),Ko=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Eg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},eu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let wh;const cl=()=>wh||(wh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function go(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ge(s)?uS(s):go(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ge(t)||Ve(t))return t}const aS=/;(?![^(]*\))/g,lS=/:([^]+)/,cS=/\/\*[^]*?\*\//g;function uS(t){const e={};return t.replace(cS,"").split(aS).forEach(n=>{if(n){const s=n.split(lS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Re(t){let e="";if(Ge(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const s=Re(t[n]);s&&(e+=s+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const dS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fS=fd(dS);function Tg(t){return!!t||t===""}const Cg=t=>!!(t&&t.__v_isRef===!0),ne=t=>Ge(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===bg||!fe(t.toString))?Cg(t)?ne(t.value):JSON.stringify(t,Ig,2):String(t),Ig=(t,e)=>Cg(e)?Ig(t,e.value):Pi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[tc(s,r)+" =>"]=i,n),{})}:_g(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>tc(n))}:Gn(e)?tc(e):Ve(e)&&!ue(e)&&!Sg(e)?String(e):e,tc=(t,e="")=>{var n;return Gn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class xg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!e&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=yt;try{return yt=this,e()}finally{yt=n}}}on(){yt=this}off(){yt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function kg(t){return new xg(t)}function Pg(){return yt}function hS(t,e=!1){yt&&yt.cleanups.push(t)}let Fe;const nc=new WeakSet;class Ag{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nc.has(this)&&(nc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Og(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bh(this),Ng(this);const e=Fe,n=Yt;Fe=this,Yt=!0;try{return this.fn()}finally{Mg(this),Fe=e,Yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yd(e);this.deps=this.depsTail=void 0,bh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tu(this)&&this.run()}get dirty(){return tu(this)}}let Rg=0,Rr,Or;function Og(t,e=!1){if(t.flags|=8,e){t.next=Or,Or=t;return}t.next=Rr,Rr=t}function gd(){Rg++}function vd(){if(--Rg>0)return;if(Or){let e=Or;for(Or=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Rr;){let e=Rr;for(Rr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ng(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Mg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),yd(s),pS(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function tu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Lg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Lg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===qr))return;t.globalVersion=qr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!tu(t)){t.flags&=-3;return}const n=Fe,s=Yt;Fe=t,Yt=!0;try{Ng(t);const i=t.fn(t._value);(e.version===0||fs(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Fe=n,Yt=s,Mg(t),t.flags&=-3}}function yd(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)yd(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function pS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yt=!0;const Dg=[];function Es(){Dg.push(Yt),Yt=!1}function Ts(){const t=Dg.pop();Yt=t===void 0?!0:t}function bh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Fe;Fe=void 0;try{e()}finally{Fe=n}}}let qr=0;class mS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _d{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Yt||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new mS(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,Fg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=s)}return n}trigger(e){this.version++,qr++,this.notify(e)}notify(e){gd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{vd()}}}function Fg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Fg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const fa=new WeakMap,Vs=Symbol(""),nu=Symbol(""),Gr=Symbol("");function ut(t,e,n){if(Yt&&Fe){let s=fa.get(t);s||fa.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new _d),i.map=s,i.key=n),i.track()}}function Nn(t,e,n,s,i,r){const o=fa.get(t);if(!o){qr++;return}const a=l=>{l&&l.trigger()};if(gd(),e==="clear")o.forEach(a);else{const l=ue(t),c=l&&md(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===Gr||!Gn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Gr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Vs)),Pi(t)&&a(o.get(nu)));break;case"delete":l||(a(o.get(Vs)),Pi(t)&&a(o.get(nu)));break;case"set":Pi(t)&&a(o.get(Vs));break}}vd()}function gS(t,e){const n=fa.get(t);return n&&n.get(e)}function _i(t){const e=Se(t);return e===t?e:(ut(e,"iterate",Gr),jt(t)?e:e.map(dt))}function ul(t){return ut(t=Se(t),"iterate",Gr),t}const vS={__proto__:null,[Symbol.iterator](){return sc(this,Symbol.iterator,dt)},concat(...t){return _i(this).concat(...t.map(e=>ue(e)?_i(e):e))},entries(){return sc(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return xn(this,"every",t,e,void 0,arguments)},filter(t,e){return xn(this,"filter",t,e,n=>n.map(dt),arguments)},find(t,e){return xn(this,"find",t,e,dt,arguments)},findIndex(t,e){return xn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return xn(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return xn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return xn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ic(this,"includes",t)},indexOf(...t){return ic(this,"indexOf",t)},join(t){return _i(this).join(t)},lastIndexOf(...t){return ic(this,"lastIndexOf",t)},map(t,e){return xn(this,"map",t,e,void 0,arguments)},pop(){return fr(this,"pop")},push(...t){return fr(this,"push",t)},reduce(t,...e){return Sh(this,"reduce",t,e)},reduceRight(t,...e){return Sh(this,"reduceRight",t,e)},shift(){return fr(this,"shift")},some(t,e){return xn(this,"some",t,e,void 0,arguments)},splice(...t){return fr(this,"splice",t)},toReversed(){return _i(this).toReversed()},toSorted(t){return _i(this).toSorted(t)},toSpliced(...t){return _i(this).toSpliced(...t)},unshift(...t){return fr(this,"unshift",t)},values(){return sc(this,"values",dt)}};function sc(t,e,n){const s=ul(t),i=s[e]();return s!==t&&!jt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const yS=Array.prototype;function xn(t,e,n,s,i,r){const o=ul(t),a=o!==t&&!jt(t),l=o[e];if(l!==yS[e]){const d=l.apply(t,r);return a?dt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,dt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Sh(t,e,n,s){const i=ul(t);let r=n;return i!==t&&(jt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,dt(a),l,t)}),i[e](r,...s)}function ic(t,e,n){const s=Se(t);ut(s,"iterate",Gr);const i=s[e](...n);return(i===-1||i===!1)&&dl(n[0])?(n[0]=Se(n[0]),s[e](...n)):i}function fr(t,e,n=[]){Es(),gd();const s=Se(t)[e].apply(t,n);return vd(),Ts(),s}const _S=fd("__proto__,__v_isRef,__isVue"),$g=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gn));function wS(t){Gn(t)||(t=String(t));const e=Se(this);return ut(e,"has",t),e.hasOwnProperty(t)}class Bg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?AS:Hg:r?Vg:jg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ue(e);if(!i){let l;if(o&&(l=vS[n]))return l;if(n==="hasOwnProperty")return wS}const a=Reflect.get(e,n,qe(e)?e:s);return(Gn(n)?$g.has(n):_S(n))||(i||ut(e,"get",n),r)?a:qe(a)?o&&md(n)?a:a.value:Ve(a)?i?zg(a):di(a):a}}class Ug extends Bg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=Js(r);if(!jt(s)&&!Js(s)&&(r=Se(r),s=Se(s)),!ue(e)&&qe(r)&&!qe(s))return l?!1:(r.value=s,!0)}const o=ue(e)&&md(n)?Number(n)<e.length:xe(e,n),a=Reflect.set(e,n,s,qe(e)?e:i);return e===Se(i)&&(o?fs(s,r)&&Nn(e,"set",n,s):Nn(e,"add",n,s)),a}deleteProperty(e,n){const s=xe(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Nn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Gn(n)||!$g.has(n))&&ut(e,"has",n),s}ownKeys(e){return ut(e,"iterate",ue(e)?"length":Vs),Reflect.ownKeys(e)}}class bS extends Bg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const SS=new Ug,ES=new bS,TS=new Ug(!0);const su=t=>t,Do=t=>Reflect.getPrototypeOf(t);function CS(t,e,n){return function(...s){const i=this.__v_raw,r=Se(i),o=Pi(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?su:e?iu:dt;return!e&&ut(r,"iterate",l?nu:Vs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Fo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function IS(t,e){const n={get(i){const r=this.__v_raw,o=Se(r),a=Se(i);t||(fs(i,a)&&ut(o,"get",i),ut(o,"get",a));const{has:l}=Do(o),c=e?su:t?iu:dt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ut(Se(i),"iterate",Vs),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Se(r),a=Se(i);return t||(fs(i,a)&&ut(o,"has",i),ut(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Se(a),c=e?su:t?iu:dt;return!t&&ut(l,"iterate",Vs),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return pt(n,t?{add:Fo("add"),set:Fo("set"),delete:Fo("delete"),clear:Fo("clear")}:{add(i){!e&&!jt(i)&&!Js(i)&&(i=Se(i));const r=Se(this);return Do(r).has.call(r,i)||(r.add(i),Nn(r,"add",i,i)),this},set(i,r){!e&&!jt(r)&&!Js(r)&&(r=Se(r));const o=Se(this),{has:a,get:l}=Do(o);let c=a.call(o,i);c||(i=Se(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?fs(r,u)&&Nn(o,"set",i,r):Nn(o,"add",i,r),this},delete(i){const r=Se(this),{has:o,get:a}=Do(r);let l=o.call(r,i);l||(i=Se(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Nn(r,"delete",i,void 0),c},clear(){const i=Se(this),r=i.size!==0,o=i.clear();return r&&Nn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=CS(i,t,e)}),n}function wd(t,e){const n=IS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(xe(n,i)&&i in s?n:s,i,r)}const xS={get:wd(!1,!1)},kS={get:wd(!1,!0)},PS={get:wd(!0,!1)};const jg=new WeakMap,Vg=new WeakMap,Hg=new WeakMap,AS=new WeakMap;function RS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OS(t){return t.__v_skip||!Object.isExtensible(t)?0:RS(iS(t))}function di(t){return Js(t)?t:bd(t,!1,SS,xS,jg)}function Wg(t){return bd(t,!1,TS,kS,Vg)}function zg(t){return bd(t,!0,ES,PS,Hg)}function bd(t,e,n,s,i){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=OS(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function hs(t){return Js(t)?hs(t.__v_raw):!!(t&&t.__v_isReactive)}function Js(t){return!!(t&&t.__v_isReadonly)}function jt(t){return!!(t&&t.__v_isShallow)}function dl(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function fl(t){return!xe(t,"__v_skip")&&Object.isExtensible(t)&&Eg(t,"__v_skip",!0),t}const dt=t=>Ve(t)?di(t):t,iu=t=>Ve(t)?zg(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function F(t){return Gg(t,!1)}function qg(t){return Gg(t,!0)}function Gg(t,e){return qe(t)?t:new NS(t,e)}class NS{constructor(e,n){this.dep=new _d,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:dt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||jt(e)||Js(e);e=s?e:Se(e),fs(e,n)&&(this._rawValue=e,this._value=s?e:dt(e),this.dep.trigger())}}function M(t){return qe(t)?t.value:t}const MS={get:(t,e,n)=>e==="__v_raw"?t:M(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return qe(i)&&!qe(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Kg(t){return hs(t)?t:new Proxy(t,MS)}function LS(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Yg(t,n);return e}class DS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gS(Se(this._object),this._key)}}class FS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $S(t,e,n){return qe(t)?t:fe(t)?new FS(t):Ve(t)&&arguments.length>1?Yg(t,e,n):F(t)}function Yg(t,e,n){const s=t[e];return qe(s)?s:new DS(t,e,n)}class BS{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new _d(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Og(this,!0),!0}get value(){const e=this.dep.track();return Lg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function US(t,e,n=!1){let s,i;return fe(t)?s=t:(s=t.get,i=t.set),new BS(s,i,n)}const $o={},ha=new WeakMap;let Ns;function jS(t,e=!1,n=Ns){if(n){let s=ha.get(n);s||ha.set(n,s=[]),s.push(t)}}function VS(t,e,n=Le){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=S=>i?S:jt(S)||i===!1||i===0?Mn(S,1):Mn(S);let u,d,f,h,p=!1,m=!1;if(qe(t)?(d=()=>t.value,p=jt(t)):hs(t)?(d=()=>c(t),p=!0):ue(t)?(m=!0,p=t.some(S=>hs(S)||jt(S)),d=()=>t.map(S=>{if(qe(S))return S.value;if(hs(S))return c(S);if(fe(S))return l?l(S,2):S()})):fe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Es();try{f()}finally{Ts()}}const S=Ns;Ns=u;try{return l?l(t,3,[h]):t(h)}finally{Ns=S}}:d=Kt,e&&i){const S=d,T=i===!0?1/0:i;d=()=>Mn(S(),T)}const y=Pg(),w=()=>{u.stop(),y&&y.active&&pd(y.effects,u)};if(r&&e){const S=e;e=(...T)=>{S(...T),w()}}let v=m?new Array(t.length).fill($o):$o;const g=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const T=u.run();if(i||p||(m?T.some((R,U)=>fs(R,v[U])):fs(T,v))){f&&f();const R=Ns;Ns=u;try{const U=[T,v===$o?void 0:m&&v[0]===$o?[]:v,h];l?l(e,3,U):e(...U),v=T}finally{Ns=R}}}else u.run()};return a&&a(g),u=new Ag(d),u.scheduler=o?()=>o(g,!1):g,h=S=>jS(S,!1,u),f=u.onStop=()=>{const S=ha.get(u);if(S){if(l)l(S,4);else for(const T of S)T();ha.delete(u)}},e?s?g(!0):v=u.run():o?o(g.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Mn(t,e=1/0,n){if(e<=0||!Ve(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qe(t))Mn(t.value,e,n);else if(ue(t))for(let s=0;s<t.length;s++)Mn(t[s],e,n);else if(_g(t)||Pi(t))t.forEach(s=>{Mn(s,e,n)});else if(Sg(t)){for(const s in t)Mn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Mn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vo(t,e,n,s){try{return s?t(...s):t()}catch(i){hl(i,e,n)}}function wn(t,e,n,s){if(fe(t)){const i=vo(t,e,n,s);return i&&wg(i)&&i.catch(r=>{hl(r,e,n)}),i}if(ue(t)){const i=[];for(let r=0;r<t.length;r++)i.push(wn(t[r],e,n,s));return i}}function hl(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Le;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Es(),vo(r,null,10,[t,l,c]),Ts();return}}HS(t,n,i,s,o)}function HS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const _t=[];let un=-1;const Ai=[];let ts=null,bi=0;const Jg=Promise.resolve();let pa=null;function Xi(t){const e=pa||Jg;return t?e.then(this?t.bind(this):t):e}function WS(t){let e=un+1,n=_t.length;for(;e<n;){const s=e+n>>>1,i=_t[s],r=Kr(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Sd(t){if(!(t.flags&1)){const e=Kr(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=Kr(n)?_t.push(t):_t.splice(WS(e),0,t),t.flags|=1,Xg()}}function Xg(){pa||(pa=Jg.then(ev))}function Qg(t){ue(t)?Ai.push(...t):ts&&t.id===-1?ts.splice(bi+1,0,t):t.flags&1||(Ai.push(t),t.flags|=1),Xg()}function Eh(t,e,n=un+1){for(;n<_t.length;n++){const s=_t[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;_t.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Zg(t){if(Ai.length){const e=[...new Set(Ai)].sort((n,s)=>Kr(n)-Kr(s));if(Ai.length=0,ts){ts.push(...e);return}for(ts=e,bi=0;bi<ts.length;bi++){const n=ts[bi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ts=null,bi=0}}const Kr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ev(t){try{for(un=0;un<_t.length;un++){const e=_t[un];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),vo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;un<_t.length;un++){const e=_t[un];e&&(e.flags&=-2)}un=-1,_t.length=0,Zg(),pa=null,(_t.length||Ai.length)&&ev()}}let Qe=null,pl=null;function ma(t){const e=Qe;return Qe=t,pl=t&&t.type.__scopeId||null,e}function zS(t){pl=t}function qS(){pl=null}function ee(t,e=Qe,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Dh(-1);const r=ma(e);let o;try{o=t(...i)}finally{ma(r),s._d&&Dh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function wt(t,e){if(Qe===null)return t;const n=yl(Qe),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=Le]=e[i];r&&(fe(r)&&(r={mounted:r,updated:r}),r.deep&&Mn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function As(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Es(),wn(l,n,8,[t.el,a,t,e]),Ts())}}const tv=Symbol("_vte"),GS=t=>t.__isTeleport,Nr=t=>t&&(t.disabled||t.disabled===""),Th=t=>t&&(t.defer||t.defer===""),Ch=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ih=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ru=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},nv={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=c,w=Nr(e.props);let{shapeFlag:v,children:g,dynamicChildren:S}=e;if(t==null){const T=e.el=m(""),R=e.anchor=m("");h(T,n,s),h(R,n,s);const U=(C,k)=>{v&16&&(i&&i.isCE&&(i.ce._teleportTarget=C),u(g,C,k,i,r,o,a,l))},x=()=>{const C=e.target=ru(e.props,p),k=iv(C,e,m,h);C&&(o!=="svg"&&Ch(C)?o="svg":o!=="mathml"&&Ih(C)&&(o="mathml"),w||(U(C,k),Yo(e,!1)))};w&&(U(n,R),Yo(e,!0)),Th(e.props)?vt(()=>{x(),e.el.__isMounted=!0},r):x()}else{if(Th(e.props)&&!t.el.__isMounted){vt(()=>{nv.process(t,e,n,s,i,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,R=e.target=t.target,U=e.targetAnchor=t.targetAnchor,x=Nr(t.props),C=x?n:R,k=x?T:U;if(o==="svg"||Ch(R)?o="svg":(o==="mathml"||Ih(R))&&(o="mathml"),S?(f(t.dynamicChildren,S,C,i,r,o,a),Ad(t,e,!0)):l||d(t,e,C,k,i,r,o,a,!1),w)x?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bo(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=ru(e.props,p);j&&Bo(e,j,null,c,0)}else x&&Bo(e,R,U,c,1);Yo(e,w)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const h=r||!Nr(f);for(let p=0;p<a.length;p++){const m=a[p];s(m,e,n,h,!!m.dynamicChildren)}}},move:Bo,hydrate:KS};function Bo(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||Nr(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&s(a,e,n)}function KS(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=ru(e.props,l);if(f){const h=Nr(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,s,i,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||iv(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}Yo(e,h)}return e.anchor&&o(e.anchor)}const sv=nv;function Yo(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function iv(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[tv]=r,t&&(s(i,t),s(r,t)),r}function Ed(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ed(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ye(t,e){return fe(t)?pt({name:t.name},e,{setup:t}):t}function YS(){const t=fi();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function rv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ga(t,e,n,s,i=!1){if(ue(t)){t.forEach((p,m)=>ga(p,e&&(ue(e)?e[m]:e),n,s,i));return}if(Ri(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ga(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?yl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Le?a.refs={}:a.refs,d=a.setupState,f=Se(d),h=d===Le?()=>!1:p=>xe(f,p);if(c!=null&&c!==l&&(Ge(c)?(u[c]=null,h(c)&&(d[c]=null)):qe(c)&&(c.value=null)),fe(l))vo(l,a,12,[o,u]);else{const p=Ge(l),m=qe(l);if(p||m){const y=()=>{if(t.f){const w=p?h(l)?d[l]:u[l]:l.value;i?ue(w)&&pd(w,r):ue(w)?w.includes(r)||w.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,vt(y,n)):y()}}}cl().requestIdleCallback;cl().cancelIdleCallback;const Ri=t=>!!t.type.__asyncLoader,ov=t=>t.type.__isKeepAlive;function av(t,e){cv(t,"a",e)}function lv(t,e){cv(t,"da",e)}function cv(t,e,n=it){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ml(e,s,n),n){let i=n.parent;for(;i&&i.parent;)ov(i.parent.vnode)&&JS(s,e,n,i),i=i.parent}}function JS(t,e,n,s){const i=ml(e,t,s,!0);St(()=>{pd(s[e],i)},n)}function ml(t,e,n=it,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Es();const a=yo(n),l=wn(e,n,t,o);return a(),Ts(),l});return s?i.unshift(r):i.push(r),r}}const Kn=t=>(e,n=it)=>{(!Xr||t==="sp")&&ml(t,(...s)=>e(...s),n)},XS=Kn("bm"),ke=Kn("m"),Td=Kn("bu"),Cd=Kn("u"),Id=Kn("bum"),St=Kn("um"),QS=Kn("sp"),ZS=Kn("rtg"),eE=Kn("rtc");function tE(t,e=it){ml("ec",t,e)}const xd="components",nE="directives";function Cs(t,e){return kd(xd,t,!0,e)||t}const uv=Symbol.for("v-ndc");function qt(t){return Ge(t)?kd(xd,t,!1)||t:t||uv}function sE(t){return kd(nE,t)}function kd(t,e,n=!0,s=!1){const i=Qe||it;if(i){const r=i.type;if(t===xd){const a=WE(r,!1);if(a&&(a===e||a===Wt(e)||a===ll(Wt(e))))return r}const o=xh(i[t]||r[t],e)||xh(i.appContext[t],e);return!o&&s?r:o}}function xh(t,e){return t&&(t[e]||t[Wt(e)]||t[ll(Wt(e))])}function bn(t,e,n,s){let i;const r=n,o=ue(t);if(o||Ge(t)){const a=o&&hs(t);let l=!1;a&&(l=!jt(t),t=ul(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?dt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ve(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function dn(t,e,n={},s,i){if(Qe.ce||Qe.parent&&Ri(Qe.parent)&&Qe.parent.ce)return e!=="default"&&(n.name=e),P(),pe(Te,null,[$("slot",n,s&&s())],64);let r=t[e];r&&r._c&&(r._d=!1),P();const o=r&&dv(r(n)),a=n.key||o&&o.key,l=pe(Te,{key:(a&&!Gn(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function dv(t){return t.some(e=>Jr(e)?!(e.type===Hn||e.type===Te&&!dv(e.children)):!0)?t:null}const ou=t=>t?Av(t)?yl(t):ou(t.parent):null,Mr=pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ou(t.parent),$root:t=>ou(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>hv(t),$forceUpdate:t=>t.f||(t.f=()=>{Sd(t.update)}),$nextTick:t=>t.n||(t.n=Xi.bind(t.proxy)),$watch:t=>CE.bind(t)}),rc=(t,e)=>t!==Le&&!t.__isScriptSetup&&xe(t,e),iE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(rc(s,e))return o[e]=1,s[e];if(i!==Le&&xe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&xe(c,e))return o[e]=3,r[e];if(n!==Le&&xe(n,e))return o[e]=4,n[e];au&&(o[e]=0)}}const u=Mr[e];let d,f;if(u)return e==="$attrs"&&ut(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Le&&xe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,xe(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return rc(i,e)?(i[e]=n,!0):s!==Le&&xe(s,e)?(s[e]=n,!0):xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Le&&xe(t,o)||rc(e,o)||(a=r[0])&&xe(a,o)||xe(s,o)||xe(Mr,o)||xe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function kh(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let au=!0;function rE(t){const e=hv(t),n=t.proxy,s=t.ctx;au=!1,e.beforeCreate&&Ph(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:g,unmounted:S,render:T,renderTracked:R,renderTriggered:U,errorCaptured:x,serverPrefetch:C,expose:k,inheritAttrs:j,components:J,directives:H,filters:te}=e;if(c&&oE(c,s,null),o)for(const re in o){const we=o[re];fe(we)&&(s[re]=we.bind(n))}if(i){const re=i.call(n,n);Ve(re)&&(t.data=di(re))}if(au=!0,r)for(const re in r){const we=r[re],mt=fe(we)?we.bind(n,n):fe(we.get)?we.get.bind(n,n):Kt,Tt=!fe(we)&&fe(we.set)?we.set.bind(n):Kt,me=Q({get:mt,set:Tt});Object.defineProperty(s,re,{enumerable:!0,configurable:!0,get:()=>me.value,set:ge=>me.value=ge})}if(a)for(const re in a)fv(a[re],s,n,re);if(l){const re=fe(l)?l.call(n):l;Reflect.ownKeys(re).forEach(we=>{ht(we,re[we])})}u&&Ph(u,t,"c");function ie(re,we){ue(we)?we.forEach(mt=>re(mt.bind(n))):we&&re(we.bind(n))}if(ie(XS,d),ie(ke,f),ie(Td,h),ie(Cd,p),ie(av,m),ie(lv,y),ie(tE,x),ie(eE,R),ie(ZS,U),ie(Id,v),ie(St,S),ie(QS,C),ue(k))if(k.length){const re=t.exposed||(t.exposed={});k.forEach(we=>{Object.defineProperty(re,we,{get:()=>n[we],set:mt=>n[we]=mt})})}else t.exposed||(t.exposed={});T&&t.render===Kt&&(t.render=T),j!=null&&(t.inheritAttrs=j),J&&(t.components=J),H&&(t.directives=H),C&&rv(t)}function oE(t,e,n=Kt){ue(t)&&(t=lu(t));for(const s in t){const i=t[s];let r;Ve(i)?"default"in i?r=je(i.from||s,i.default,!0):r=je(i.from||s):r=je(i),qe(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Ph(t,e,n){wn(ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function fv(t,e,n,s){let i=s.includes(".")?Cv(n,s):()=>n[s];if(Ge(t)){const r=e[t];fe(r)&&ot(i,r)}else if(fe(t))ot(i,t.bind(n));else if(Ve(t))if(ue(t))t.forEach(r=>fv(r,e,n,s));else{const r=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(r)&&ot(i,r,t)}}function hv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>va(l,c,o,!0)),va(l,e,o)),Ve(e)&&r.set(e,l),l}function va(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&va(t,r,n,!0),i&&i.forEach(o=>va(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=aE[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const aE={data:Ah,props:Rh,emits:Rh,methods:Cr,computed:Cr,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:Cr,directives:Cr,watch:cE,provide:Ah,inject:lE};function Ah(t,e){return e?t?function(){return pt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function lE(t,e){return Cr(lu(t),lu(e))}function lu(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gt(t,e){return t?[...new Set([].concat(t,e))]:e}function Cr(t,e){return t?pt(Object.create(null),t,e):e}function Rh(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:pt(Object.create(null),kh(t),kh(e??{})):e}function cE(t,e){if(!t)return e;if(!e)return t;const n=pt(Object.create(null),t);for(const s in e)n[s]=gt(t[s],e[s]);return n}function pv(){return{app:null,config:{isNativeTag:nS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uE=0;function dE(t,e){return function(s,i=null){fe(s)||(s=pt({},s)),i!=null&&!Ve(i)&&(i=null);const r=pv(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:uE++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:qE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&fe(u.install)?(o.add(u),u.install(c,...d)):fe(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||$(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,yl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(wn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Hs;Hs=c;try{return u()}finally{Hs=d}}};return c}}let Hs=null;function ht(t,e){if(it){let n=it.provides;const s=it.parent&&it.parent.provides;s===n&&(n=it.provides=Object.create(s)),n[t]=e}}function je(t,e,n=!1){const s=it||Qe;if(s||Hs){const i=Hs?Hs._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&fe(e)?e.call(s&&s.proxy):e}}function fE(){return!!(it||Qe||Hs)}const mv={},gv=()=>Object.create(mv),vv=t=>Object.getPrototypeOf(t)===mv;function hE(t,e,n,s=!1){const i={},r=gv();t.propsDefaults=Object.create(null),yv(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Wg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function pE(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Se(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(gl(t.emitsOptions,f))continue;const h=e[f];if(l)if(xe(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Wt(f);i[p]=cu(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{yv(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!xe(e,d)&&((u=Ss(d))===d||!xe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=cu(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!xe(e,d))&&(delete r[d],c=!0)}c&&Nn(t.attrs,"set","")}function yv(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ar(l))continue;const c=e[l];let u;i&&xe(i,u=Wt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:gl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Se(n),c=a||Le;for(let u=0;u<r.length;u++){const d=r[u];n[d]=cu(i,l,d,c[d],t,!xe(c,d))}}return o}function cu(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=xe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=yo(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ss(n))&&(s=!0))}return s}const mE=new WeakMap;function _v(t,e,n=!1){const s=n?mE:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!fe(t)){const u=d=>{l=!0;const[f,h]=_v(d,e,!0);pt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ve(t)&&s.set(t,ki),ki;if(ue(r))for(let u=0;u<r.length;u++){const d=Wt(r[u]);Oh(d)&&(o[d]=Le)}else if(r)for(const u in r){const d=Wt(u);if(Oh(d)){const f=r[u],h=o[d]=ue(f)||fe(f)?{type:f}:pt({},f),p=h.type;let m=!1,y=!0;if(ue(p))for(let w=0;w<p.length;++w){const v=p[w],g=fe(v)&&v.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=fe(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||xe(h,"default"))&&a.push(d)}}const c=[o,a];return Ve(t)&&s.set(t,c),c}function Oh(t){return t[0]!=="$"&&!Ar(t)}const wv=t=>t[0]==="_"||t==="$stable",Pd=t=>ue(t)?t.map(hn):[hn(t)],gE=(t,e,n)=>{if(e._n)return e;const s=ee((...i)=>Pd(e(...i)),n);return s._c=!1,s},bv=(t,e,n)=>{const s=t._ctx;for(const i in t){if(wv(i))continue;const r=t[i];if(fe(r))e[i]=gE(i,r,s);else if(r!=null){const o=Pd(r);e[i]=()=>o}}},Sv=(t,e)=>{const n=Pd(e);t.slots.default=()=>n},Ev=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},vE=(t,e,n)=>{const s=t.slots=gv();if(t.vnode.shapeFlag&32){const i=e._;i?(Ev(s,e,n),n&&Eg(s,"_",i,!0)):bv(e,s)}else e&&Sv(t,e)},yE=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Le;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Ev(i,e,n):(r=!e.$stable,bv(e,i)),o=e}else e&&(Sv(t,e),o={default:1});if(r)for(const a in i)!wv(a)&&o[a]==null&&delete i[a]},vt=OE;function _E(t){return wE(t)}function wE(t,e){const n=cl();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Kt,insertStaticContent:p}=t,m=(_,b,I,O=null,D=null,L=null,G=void 0,q=null,z=!!b.dynamicChildren)=>{if(_===b)return;_&&!hr(_,b)&&(O=N(_),ge(_,D,L,!0),_=null),b.patchFlag===-2&&(z=!1,b.dynamicChildren=null);const{type:V,ref:ae,shapeFlag:Y}=b;switch(V){case vl:y(_,b,I,O);break;case Hn:w(_,b,I,O);break;case Jo:_==null&&v(b,I,O,G);break;case Te:J(_,b,I,O,D,L,G,q,z);break;default:Y&1?T(_,b,I,O,D,L,G,q,z):Y&6?H(_,b,I,O,D,L,G,q,z):(Y&64||Y&128)&&V.process(_,b,I,O,D,L,G,q,z,Z)}ae!=null&&D&&ga(ae,_&&_.ref,L,b||_,!b)},y=(_,b,I,O)=>{if(_==null)s(b.el=a(b.children),I,O);else{const D=b.el=_.el;b.children!==_.children&&c(D,b.children)}},w=(_,b,I,O)=>{_==null?s(b.el=l(b.children||""),I,O):b.el=_.el},v=(_,b,I,O)=>{[_.el,_.anchor]=p(_.children,b,I,O,_.el,_.anchor)},g=({el:_,anchor:b},I,O)=>{let D;for(;_&&_!==b;)D=f(_),s(_,I,O),_=D;s(b,I,O)},S=({el:_,anchor:b})=>{let I;for(;_&&_!==b;)I=f(_),i(_),_=I;i(b)},T=(_,b,I,O,D,L,G,q,z)=>{b.type==="svg"?G="svg":b.type==="math"&&(G="mathml"),_==null?R(b,I,O,D,L,G,q,z):C(_,b,D,L,G,q,z)},R=(_,b,I,O,D,L,G,q)=>{let z,V;const{props:ae,shapeFlag:Y,transition:se,dirs:de}=_;if(z=_.el=o(_.type,L,ae&&ae.is,ae),Y&8?u(z,_.children):Y&16&&x(_.children,z,null,O,D,oc(_,L),G,q),de&&As(_,null,O,"created"),U(z,_,_.scopeId,G,O),ae){for(const De in ae)De!=="value"&&!Ar(De)&&r(z,De,null,ae[De],L,O);"value"in ae&&r(z,"value",null,ae.value,L),(V=ae.onVnodeBeforeMount)&&ln(V,O,_)}de&&As(_,null,O,"beforeMount");const be=bE(D,se);be&&se.beforeEnter(z),s(z,b,I),((V=ae&&ae.onVnodeMounted)||be||de)&&vt(()=>{V&&ln(V,O,_),be&&se.enter(z),de&&As(_,null,O,"mounted")},D)},U=(_,b,I,O,D)=>{if(I&&h(_,I),O)for(let L=0;L<O.length;L++)h(_,O[L]);if(D){let L=D.subTree;if(b===L||xv(L.type)&&(L.ssContent===b||L.ssFallback===b)){const G=D.vnode;U(_,G,G.scopeId,G.slotScopeIds,D.parent)}}},x=(_,b,I,O,D,L,G,q,z=0)=>{for(let V=z;V<_.length;V++){const ae=_[V]=q?ns(_[V]):hn(_[V]);m(null,ae,b,I,O,D,L,G,q)}},C=(_,b,I,O,D,L,G)=>{const q=b.el=_.el;let{patchFlag:z,dynamicChildren:V,dirs:ae}=b;z|=_.patchFlag&16;const Y=_.props||Le,se=b.props||Le;let de;if(I&&Rs(I,!1),(de=se.onVnodeBeforeUpdate)&&ln(de,I,b,_),ae&&As(b,_,I,"beforeUpdate"),I&&Rs(I,!0),(Y.innerHTML&&se.innerHTML==null||Y.textContent&&se.textContent==null)&&u(q,""),V?k(_.dynamicChildren,V,q,I,O,oc(b,D),L):G||we(_,b,q,null,I,O,oc(b,D),L,!1),z>0){if(z&16)j(q,Y,se,I,D);else if(z&2&&Y.class!==se.class&&r(q,"class",null,se.class,D),z&4&&r(q,"style",Y.style,se.style,D),z&8){const be=b.dynamicProps;for(let De=0;De<be.length;De++){const Pe=be[De],Rt=Y[Pe],Ct=se[Pe];(Ct!==Rt||Pe==="value")&&r(q,Pe,Rt,Ct,D,I)}}z&1&&_.children!==b.children&&u(q,b.children)}else!G&&V==null&&j(q,Y,se,I,D);((de=se.onVnodeUpdated)||ae)&&vt(()=>{de&&ln(de,I,b,_),ae&&As(b,_,I,"updated")},O)},k=(_,b,I,O,D,L,G)=>{for(let q=0;q<b.length;q++){const z=_[q],V=b[q],ae=z.el&&(z.type===Te||!hr(z,V)||z.shapeFlag&70)?d(z.el):I;m(z,V,ae,null,O,D,L,G,!0)}},j=(_,b,I,O,D)=>{if(b!==I){if(b!==Le)for(const L in b)!Ar(L)&&!(L in I)&&r(_,L,b[L],null,D,O);for(const L in I){if(Ar(L))continue;const G=I[L],q=b[L];G!==q&&L!=="value"&&r(_,L,q,G,D,O)}"value"in I&&r(_,"value",b.value,I.value,D)}},J=(_,b,I,O,D,L,G,q,z)=>{const V=b.el=_?_.el:a(""),ae=b.anchor=_?_.anchor:a("");let{patchFlag:Y,dynamicChildren:se,slotScopeIds:de}=b;de&&(q=q?q.concat(de):de),_==null?(s(V,I,O),s(ae,I,O),x(b.children||[],I,ae,D,L,G,q,z)):Y>0&&Y&64&&se&&_.dynamicChildren?(k(_.dynamicChildren,se,I,D,L,G,q),(b.key!=null||D&&b===D.subTree)&&Ad(_,b,!0)):we(_,b,I,ae,D,L,G,q,z)},H=(_,b,I,O,D,L,G,q,z)=>{b.slotScopeIds=q,_==null?b.shapeFlag&512?D.ctx.activate(b,I,O,G,z):te(b,I,O,D,L,G,z):oe(_,b,z)},te=(_,b,I,O,D,L,G)=>{const q=_.component=BE(_,O,D);if(ov(_)&&(q.ctx.renderer=Z),UE(q,!1,G),q.asyncDep){if(D&&D.registerDep(q,ie,G),!_.el){const z=q.subTree=$(Hn);w(null,z,b,I)}}else ie(q,_,b,I,D,L,G)},oe=(_,b,I)=>{const O=b.component=_.component;if(AE(_,b,I))if(O.asyncDep&&!O.asyncResolved){re(O,b,I);return}else O.next=b,O.update();else b.el=_.el,O.vnode=b},ie=(_,b,I,O,D,L,G)=>{const q=()=>{if(_.isMounted){let{next:Y,bu:se,u:de,parent:be,vnode:De}=_;{const on=Tv(_);if(on){Y&&(Y.el=De.el,re(_,Y,G)),on.asyncDep.then(()=>{_.isUnmounted||q()});return}}let Pe=Y,Rt;Rs(_,!1),Y?(Y.el=De.el,re(_,Y,G)):Y=De,se&&Ko(se),(Rt=Y.props&&Y.props.onVnodeBeforeUpdate)&&ln(Rt,be,Y,De),Rs(_,!0);const Ct=Mh(_),rn=_.subTree;_.subTree=Ct,m(rn,Ct,d(rn.el),N(rn),_,D,L),Y.el=Ct.el,Pe===null&&RE(_,Ct.el),de&&vt(de,D),(Rt=Y.props&&Y.props.onVnodeUpdated)&&vt(()=>ln(Rt,be,Y,De),D)}else{let Y;const{el:se,props:de}=b,{bm:be,m:De,parent:Pe,root:Rt,type:Ct}=_,rn=Ri(b);Rs(_,!1),be&&Ko(be),!rn&&(Y=de&&de.onVnodeBeforeMount)&&ln(Y,Pe,b),Rs(_,!0);{Rt.ce&&Rt.ce._injectChildStyle(Ct);const on=_.subTree=Mh(_);m(null,on,I,O,_,D,L),b.el=on.el}if(De&&vt(De,D),!rn&&(Y=de&&de.onVnodeMounted)){const on=b;vt(()=>ln(Y,Pe,on),D)}(b.shapeFlag&256||Pe&&Ri(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&_.a&&vt(_.a,D),_.isMounted=!0,b=I=O=null}};_.scope.on();const z=_.effect=new Ag(q);_.scope.off();const V=_.update=z.run.bind(z),ae=_.job=z.runIfDirty.bind(z);ae.i=_,ae.id=_.uid,z.scheduler=()=>Sd(ae),Rs(_,!0),V()},re=(_,b,I)=>{b.component=_;const O=_.vnode.props;_.vnode=b,_.next=null,pE(_,b.props,O,I),yE(_,b.children,I),Es(),Eh(_),Ts()},we=(_,b,I,O,D,L,G,q,z=!1)=>{const V=_&&_.children,ae=_?_.shapeFlag:0,Y=b.children,{patchFlag:se,shapeFlag:de}=b;if(se>0){if(se&128){Tt(V,Y,I,O,D,L,G,q,z);return}else if(se&256){mt(V,Y,I,O,D,L,G,q,z);return}}de&8?(ae&16&&at(V,D,L),Y!==V&&u(I,Y)):ae&16?de&16?Tt(V,Y,I,O,D,L,G,q,z):at(V,D,L,!0):(ae&8&&u(I,""),de&16&&x(Y,I,O,D,L,G,q,z))},mt=(_,b,I,O,D,L,G,q,z)=>{_=_||ki,b=b||ki;const V=_.length,ae=b.length,Y=Math.min(V,ae);let se;for(se=0;se<Y;se++){const de=b[se]=z?ns(b[se]):hn(b[se]);m(_[se],de,I,null,D,L,G,q,z)}V>ae?at(_,D,L,!0,!1,Y):x(b,I,O,D,L,G,q,z,Y)},Tt=(_,b,I,O,D,L,G,q,z)=>{let V=0;const ae=b.length;let Y=_.length-1,se=ae-1;for(;V<=Y&&V<=se;){const de=_[V],be=b[V]=z?ns(b[V]):hn(b[V]);if(hr(de,be))m(de,be,I,null,D,L,G,q,z);else break;V++}for(;V<=Y&&V<=se;){const de=_[Y],be=b[se]=z?ns(b[se]):hn(b[se]);if(hr(de,be))m(de,be,I,null,D,L,G,q,z);else break;Y--,se--}if(V>Y){if(V<=se){const de=se+1,be=de<ae?b[de].el:O;for(;V<=se;)m(null,b[V]=z?ns(b[V]):hn(b[V]),I,be,D,L,G,q,z),V++}}else if(V>se)for(;V<=Y;)ge(_[V],D,L,!0),V++;else{const de=V,be=V,De=new Map;for(V=be;V<=se;V++){const Ot=b[V]=z?ns(b[V]):hn(b[V]);Ot.key!=null&&De.set(Ot.key,V)}let Pe,Rt=0;const Ct=se-be+1;let rn=!1,on=0;const dr=new Array(Ct);for(V=0;V<Ct;V++)dr[V]=0;for(V=de;V<=Y;V++){const Ot=_[V];if(Rt>=Ct){ge(Ot,D,L,!0);continue}let an;if(Ot.key!=null)an=De.get(Ot.key);else for(Pe=be;Pe<=se;Pe++)if(dr[Pe-be]===0&&hr(Ot,b[Pe])){an=Pe;break}an===void 0?ge(Ot,D,L,!0):(dr[an-be]=V+1,an>=on?on=an:rn=!0,m(Ot,b[an],I,null,D,L,G,q,z),Rt++)}const yh=rn?SE(dr):ki;for(Pe=yh.length-1,V=Ct-1;V>=0;V--){const Ot=be+V,an=b[Ot],_h=Ot+1<ae?b[Ot+1].el:O;dr[V]===0?m(null,an,I,_h,D,L,G,q,z):rn&&(Pe<0||V!==yh[Pe]?me(an,I,_h,2):Pe--)}}},me=(_,b,I,O,D=null)=>{const{el:L,type:G,transition:q,children:z,shapeFlag:V}=_;if(V&6){me(_.component.subTree,b,I,O);return}if(V&128){_.suspense.move(b,I,O);return}if(V&64){G.move(_,b,I,Z);return}if(G===Te){s(L,b,I);for(let Y=0;Y<z.length;Y++)me(z[Y],b,I,O);s(_.anchor,b,I);return}if(G===Jo){g(_,b,I);return}if(O!==2&&V&1&&q)if(O===0)q.beforeEnter(L),s(L,b,I),vt(()=>q.enter(L),D);else{const{leave:Y,delayLeave:se,afterLeave:de}=q,be=()=>s(L,b,I),De=()=>{Y(L,()=>{be(),de&&de()})};se?se(L,be,De):De()}else s(L,b,I)},ge=(_,b,I,O=!1,D=!1)=>{const{type:L,props:G,ref:q,children:z,dynamicChildren:V,shapeFlag:ae,patchFlag:Y,dirs:se,cacheIndex:de}=_;if(Y===-2&&(D=!1),q!=null&&ga(q,null,I,_,!0),de!=null&&(b.renderCache[de]=void 0),ae&256){b.ctx.deactivate(_);return}const be=ae&1&&se,De=!Ri(_);let Pe;if(De&&(Pe=G&&G.onVnodeBeforeUnmount)&&ln(Pe,b,_),ae&6)Xn(_.component,I,O);else{if(ae&128){_.suspense.unmount(I,O);return}be&&As(_,null,b,"beforeUnmount"),ae&64?_.type.remove(_,b,I,Z,O):V&&!V.hasOnce&&(L!==Te||Y>0&&Y&64)?at(V,b,I,!1,!0):(L===Te&&Y&384||!D&&ae&16)&&at(z,b,I),O&&Je(_)}(De&&(Pe=G&&G.onVnodeUnmounted)||be)&&vt(()=>{Pe&&ln(Pe,b,_),be&&As(_,null,b,"unmounted")},I)},Je=_=>{const{type:b,el:I,anchor:O,transition:D}=_;if(b===Te){Xe(I,O);return}if(b===Jo){S(_);return}const L=()=>{i(I),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(_.shapeFlag&1&&D&&!D.persisted){const{leave:G,delayLeave:q}=D,z=()=>G(I,L);q?q(_.el,L,z):z()}else L()},Xe=(_,b)=>{let I;for(;_!==b;)I=f(_),i(_),_=I;i(b)},Xn=(_,b,I)=>{const{bum:O,scope:D,job:L,subTree:G,um:q,m:z,a:V}=_;Nh(z),Nh(V),O&&Ko(O),D.stop(),L&&(L.flags|=8,ge(G,_,b,I)),q&&vt(q,b),vt(()=>{_.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},at=(_,b,I,O=!1,D=!1,L=0)=>{for(let G=L;G<_.length;G++)ge(_[G],b,I,O,D)},N=_=>{if(_.shapeFlag&6)return N(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=f(_.anchor||_.el),I=b&&b[tv];return I?f(I):b};let X=!1;const K=(_,b,I)=>{_==null?b._vnode&&ge(b._vnode,null,null,!0):m(b._vnode||null,_,b,null,null,null,I),b._vnode=_,X||(X=!0,Eh(),Zg(),X=!1)},Z={p:m,um:ge,m:me,r:Je,mt:te,mc:x,pc:we,pbc:k,n:N,o:t};return{render:K,hydrate:void 0,createApp:dE(K)}}function oc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Rs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function bE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ad(t,e,n=!1){const s=t.children,i=e.children;if(ue(s)&&ue(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=ns(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Ad(o,a)),a.type===vl&&(a.el=o.el)}}function SE(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Tv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tv(e)}function Nh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const EE=Symbol.for("v-scx"),TE=()=>je(EE);function Qt(t,e){return Rd(t,null,e)}function ot(t,e,n){return Rd(t,e,n)}function Rd(t,e,n=Le){const{immediate:s,deep:i,flush:r,once:o}=n,a=pt({},n),l=e&&s||!e&&r!=="post";let c;if(Xr){if(r==="sync"){const h=TE();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Kt,h.resume=Kt,h.pause=Kt,h}}const u=it;a.call=(h,p,m)=>wn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Sd(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=VS(t,e,a);return Xr&&(c?c.push(f):l&&f()),f}function CE(t,e,n){const s=this.proxy,i=Ge(t)?t.includes(".")?Cv(s,t):()=>s[t]:t.bind(s,s);let r;fe(e)?r=e:(r=e.handler,n=e);const o=yo(this),a=Rd(i,r.bind(s),n);return o(),a}function Cv(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const IE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Wt(e)}Modifiers`]||t[`${Ss(e)}Modifiers`];function xE(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Le;let i=n;const r=e.startsWith("update:"),o=r&&IE(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Ge(u)?u.trim():u)),o.number&&(i=n.map(eu)));let a,l=s[a=ec(e)]||s[a=ec(Wt(e))];!l&&r&&(l=s[a=ec(Ss(e))]),l&&wn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,wn(c,t,6,i)}}function Iv(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!fe(t)){const l=c=>{const u=Iv(c,e,!0);u&&(a=!0,pt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ve(t)&&s.set(t,null),null):(ue(r)?r.forEach(l=>o[l]=null):pt(o,r),Ve(t)&&s.set(t,o),o)}function gl(t,e){return!t||!rl(e)?!1:(e=e.slice(2).replace(/Once$/,""),xe(t,e[0].toLowerCase()+e.slice(1))||xe(t,Ss(e))||xe(t,e))}function Mh(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=ma(t);let w,v;try{if(n.shapeFlag&4){const S=i||s,T=S;w=hn(c.call(T,S,u,d,h,f,p)),v=a}else{const S=e;w=hn(S.length>1?S(d,{attrs:a,slots:o,emit:l}):S(d,null)),v=e.props?a:kE(a)}}catch(S){Lr.length=0,hl(S,t,1),w=$(Hn)}let g=w;if(v&&m!==!1){const S=Object.keys(v),{shapeFlag:T}=g;S.length&&T&7&&(r&&S.some(hd)&&(v=PE(v,r)),g=Xs(g,v,!1,!0))}return n.dirs&&(g=Xs(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Ed(g,n.transition),w=g,ma(y),w}const kE=t=>{let e;for(const n in t)(n==="class"||n==="style"||rl(n))&&((e||(e={}))[n]=t[n]);return e},PE=(t,e)=>{const n={};for(const s in t)(!hd(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function AE(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Lh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!gl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Lh(s,o,c):!0:!!o;return!1}function Lh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!gl(n,r))return!0}return!1}function RE({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const xv=t=>t.__isSuspense;function OE(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):Qg(t)}const Te=Symbol.for("v-fgt"),vl=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Jo=Symbol.for("v-stc"),Lr=[];let Dt=null;function P(t=!1){Lr.push(Dt=t?null:[])}function NE(){Lr.pop(),Dt=Lr[Lr.length-1]||null}let Yr=1;function Dh(t,e=!1){Yr+=t,t<0&&Dt&&e&&(Dt.hasOnce=!0)}function kv(t){return t.dynamicChildren=Yr>0?Dt||ki:null,NE(),Yr>0&&Dt&&Dt.push(t),t}function B(t,e,n,s,i,r){return kv(E(t,e,n,s,i,r,!0))}function pe(t,e,n,s,i){return kv($(t,e,n,s,i,!0))}function Jr(t){return t?t.__v_isVNode===!0:!1}function hr(t,e){return t.type===e.type&&t.key===e.key}const Pv=({key:t})=>t??null,Xo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||qe(t)||fe(t)?{i:Qe,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,s=0,i=null,r=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pv(e),ref:e&&Xo(e),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qe};return a?(Od(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ge(n)?8:16),Yr>0&&!o&&Dt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Dt.push(l),l}const $=ME;function ME(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===uv)&&(t=Hn),Jr(t)){const a=Xs(t,e,!0);return n&&Od(a,n),Yr>0&&!r&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(t)]=a:Dt.push(a)),a.patchFlag=-2,a}if(zE(t)&&(t=t.__vccOpts),e){e=LE(e);let{class:a,style:l}=e;a&&!Ge(a)&&(e.class=Re(a)),Ve(l)&&(dl(l)&&!ue(l)&&(l=pt({},l)),e.style=go(l))}const o=Ge(t)?1:xv(t)?128:GS(t)?64:Ve(t)?4:fe(t)?2:0;return E(t,e,n,s,i,o,r,!0)}function LE(t){return t?dl(t)||vv(t)?pt({},t):t:null}function Xs(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?DE(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Pv(c),ref:e&&e.ref?n&&r?ue(r)?r.concat(Xo(e)):[r,Xo(e)]:Xo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xs(t.ssContent),ssFallback:t.ssFallback&&Xs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ed(u,l.clone(u)),u}function Be(t=" ",e=0){return $(vl,null,t,e)}function Me(t="",e=!1){return e?(P(),pe(Hn,null,t)):$(Hn,null,t)}function hn(t){return t==null||typeof t=="boolean"?$(Hn):ue(t)?$(Te,null,t.slice()):Jr(t)?ns(t):$(vl,null,String(t))}function ns(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xs(t)}function Od(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Od(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!vv(e)?e._ctx=Qe:i===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:Qe},n=32):(e=String(e),s&64?(n=16,e=[Be(e)]):n=8);t.children=e,t.shapeFlag|=n}function DE(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Re([e.class,s.class]));else if(i==="style")e.style=go([e.style,s.style]);else if(rl(i)){const r=e[i],o=s[i];o&&r!==o&&!(ue(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ln(t,e,n,s=null){wn(t,e,7,[n,s])}const FE=pv();let $E=0;function BE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||FE,r={uid:$E++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_v(s,i),emitsOptions:Iv(s,i),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:s.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=xE.bind(null,r),t.ce&&t.ce(r),r}let it=null;const fi=()=>it||Qe;let ya,uu;{const t=cl(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ya=e("__VUE_INSTANCE_SETTERS__",n=>it=n),uu=e("__VUE_SSR_SETTERS__",n=>Xr=n)}const yo=t=>{const e=it;return ya(t),t.scope.on(),()=>{t.scope.off(),ya(e)}},Fh=()=>{it&&it.scope.off(),ya(null)};function Av(t){return t.vnode.shapeFlag&4}let Xr=!1;function UE(t,e=!1,n=!1){e&&uu(e);const{props:s,children:i}=t.vnode,r=Av(t);hE(t,s,r,e),vE(t,i,n);const o=r?jE(t,e):void 0;return e&&uu(!1),o}function jE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,iE);const{setup:s}=n;if(s){Es();const i=t.setupContext=s.length>1?HE(t):null,r=yo(t),o=vo(s,t,0,[t.props,i]),a=wg(o);if(Ts(),r(),(a||t.sp)&&!Ri(t)&&rv(t),a){if(o.then(Fh,Fh),e)return o.then(l=>{$h(t,l)}).catch(l=>{hl(l,t,0)});t.asyncDep=o}else $h(t,o)}else Rv(t)}function $h(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=Kg(e)),Rv(t)}function Rv(t,e,n){const s=t.type;t.render||(t.render=s.render||Kt);{const i=yo(t);Es();try{rE(t)}finally{Ts(),i()}}}const VE={get(t,e){return ut(t,"get",""),t[e]}};function HE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,VE),slots:t.slots,emit:t.emit,expose:e}}function yl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Kg(fl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Mr)return Mr[n](t)},has(e,n){return n in e||n in Mr}})):t.proxy}function WE(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function zE(t){return fe(t)&&"__vccOpts"in t}const Q=(t,e)=>US(t,e,Xr);function Ee(t,e,n){const s=arguments.length;return s===2?Ve(e)&&!ue(e)?Jr(e)?$(t,null,[e]):$(t,e):$(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Jr(n)&&(n=[n]),$(t,e,n))}const qE="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let du;const Bh=typeof window<"u"&&window.trustedTypes;if(Bh)try{du=Bh.createPolicy("vue",{createHTML:t=>t})}catch{}const Ov=du?t=>du.createHTML(t):t=>t,GE="http://www.w3.org/2000/svg",KE="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,Uh=An&&An.createElement("template"),YE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?An.createElementNS(GE,t):e==="mathml"?An.createElementNS(KE,t):n?An.createElement(t,{is:n}):An.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>An.createTextNode(t),createComment:t=>An.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>An.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Uh.innerHTML=Ov(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Uh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},JE=Symbol("_vtc");function XE(t,e,n){const s=t[JE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _a=Symbol("_vod"),Nv=Symbol("_vsh"),Bi={beforeMount(t,{value:e},{transition:n}){t[_a]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):pr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),pr(t,!0),s.enter(t)):s.leave(t,()=>{pr(t,!1)}):pr(t,e))},beforeUnmount(t,{value:e}){pr(t,e)}};function pr(t,e){t.style.display=e?t[_a]:"none",t[Nv]=!e}const Mv=Symbol("");function QE(t){const e=fi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>wa(r,i))},s=()=>{const i=t(e.proxy);e.ce?wa(e.ce,i):fu(e.subTree,i),n(i)};Td(()=>{Qg(s)}),ke(()=>{ot(s,Kt,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),St(()=>i.disconnect())})}function fu(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{fu(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)wa(t.el,e);else if(t.type===Te)t.children.forEach(n=>fu(n,e));else if(t.type===Jo){let{el:n,anchor:s}=t;for(;n&&(wa(n,e),n!==s);)n=n.nextSibling}}function wa(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[Mv]=s}}const ZE=/(^|;)\s*display\s*:/;function e0(t,e,n){const s=t.style,i=Ge(n);let r=!1;if(n&&!i){if(e)if(Ge(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Qo(s,a,"")}else for(const o in e)n[o]==null&&Qo(s,o,"");for(const o in n)o==="display"&&(r=!0),Qo(s,o,n[o])}else if(i){if(e!==n){const o=s[Mv];o&&(n+=";"+o),s.cssText=n,r=ZE.test(n)}}else e&&t.removeAttribute("style");_a in t&&(t[_a]=r?s.display:"",t[Nv]&&(s.display="none"))}const jh=/\s*!important$/;function Qo(t,e,n){if(ue(n))n.forEach(s=>Qo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=t0(t,e);jh.test(n)?t.setProperty(Ss(s),n.replace(jh,""),"important"):t[s]=n}}const Vh=["Webkit","Moz","ms"],ac={};function t0(t,e){const n=ac[e];if(n)return n;let s=Wt(e);if(s!=="filter"&&s in t)return ac[e]=s;s=ll(s);for(let i=0;i<Vh.length;i++){const r=Vh[i]+s;if(r in t)return ac[e]=r}return e}const Hh="http://www.w3.org/1999/xlink";function Wh(t,e,n,s,i,r=fS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hh,e.slice(6,e.length)):t.setAttributeNS(Hh,e,n):n==null||r&&!Tg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Gn(n)?String(n):n)}function zh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ov(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Tg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Si(t,e,n,s){t.addEventListener(e,n,s)}function n0(t,e,n,s){t.removeEventListener(e,n,s)}const qh=Symbol("_vei");function s0(t,e,n,s,i=null){const r=t[qh]||(t[qh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=i0(e);if(s){const c=r[e]=a0(s,i);Si(t,a,c,l)}else o&&(n0(t,a,o,l),r[e]=void 0)}}const Gh=/(?:Once|Passive|Capture)$/;function i0(t){let e;if(Gh.test(t)){e={};let s;for(;s=t.match(Gh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ss(t.slice(2)),e]}let lc=0;const r0=Promise.resolve(),o0=()=>lc||(r0.then(()=>lc=0),lc=Date.now());function a0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;wn(l0(s,n.value),e,5,[s])};return n.value=t,n.attached=o0(),n}function l0(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Kh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,c0=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?XE(t,s,o):e==="style"?e0(t,n,s):rl(e)?hd(e)||s0(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):u0(t,e,s,o))?(zh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(s))?zh(t,Wt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Wh(t,e,s,o))};function u0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kh(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kh(e)&&Ge(n)?!1:e in t}const Yh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>Ko(e,n):e};function d0(t){t.target.composing=!0}function Jh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cc=Symbol("_assign"),Ws={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[cc]=Yh(i);const r=s||i.props&&i.props.type==="number";Si(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=eu(a)),t[cc](a)}),n&&Si(t,"change",()=>{t.value=t.value.trim()}),e||(Si(t,"compositionstart",d0),Si(t,"compositionend",Jh),Si(t,"change",Jh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[cc]=Yh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?eu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},f0=["ctrl","shift","alt","meta"],h0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>f0.some(n=>t[`${n}Key`]&&!e.includes(n))},Nt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=h0[e[o]];if(a&&a(i,e))return}return t(i,...r)})},p0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Ss(i.key);if(e.some(o=>o===r||p0[o]===r))return t(i)})},m0=pt({patchProp:c0},YE);let Qh;function g0(){return Qh||(Qh=_E(m0))}const v0=(...t)=>{const e=g0().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=_0(s);if(!i)return;const r=e._component;!fe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,y0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function y0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _0(t){return Ge(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ei=typeof document<"u";function Lv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function w0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Lv(t.default)}const Ie=Object.assign;function uc(t,e){const n={};for(const s in e){const i=e[s];n[s]=Zt(i)?i.map(t):t(i)}return n}const Dr=()=>{},Zt=Array.isArray,Dv=/#/g,b0=/&/g,S0=/\//g,E0=/=/g,T0=/\?/g,Fv=/\+/g,C0=/%5B/g,I0=/%5D/g,$v=/%5E/g,x0=/%60/g,Bv=/%7B/g,k0=/%7C/g,Uv=/%7D/g,P0=/%20/g;function Nd(t){return encodeURI(""+t).replace(k0,"|").replace(C0,"[").replace(I0,"]")}function A0(t){return Nd(t).replace(Bv,"{").replace(Uv,"}").replace($v,"^")}function hu(t){return Nd(t).replace(Fv,"%2B").replace(P0,"+").replace(Dv,"%23").replace(b0,"%26").replace(x0,"`").replace(Bv,"{").replace(Uv,"}").replace($v,"^")}function R0(t){return hu(t).replace(E0,"%3D")}function O0(t){return Nd(t).replace(Dv,"%23").replace(T0,"%3F")}function N0(t){return t==null?"":O0(t).replace(S0,"%2F")}function Qr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const M0=/\/$/,L0=t=>t.replace(M0,"");function dc(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=B0(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Qr(o)}}function D0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Zh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function F0(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Ui(e.matched[s],n.matched[i])&&jv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ui(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!$0(t[n],e[n]))return!1;return!0}function $0(t,e){return Zt(t)?ep(t,e):Zt(e)?ep(e,t):t===e}function ep(t,e){return Zt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function B0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zr;(function(t){t.pop="pop",t.push="push"})(Zr||(Zr={}));var Fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Fr||(Fr={}));function U0(t){if(!t)if(Ei){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),L0(t)}const j0=/^[^#]+#/;function V0(t,e){return t.replace(j0,"#")+e}function H0(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const _l=()=>({left:window.scrollX,top:window.scrollY});function W0(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=H0(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function tp(t,e){return(history.state?history.state.position-e:-1)+t}const pu=new Map;function z0(t,e){pu.set(t,e)}function q0(t){const e=pu.get(t);return pu.delete(t),e}let G0=()=>location.protocol+"//"+location.host;function Vv(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Zh(l,"")}return Zh(n,t)+s+i}function K0(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=Vv(t,location),p=n.value,m=e.value;let y=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else s(h);i.forEach(w=>{w(n.value,p,{delta:y,type:Zr.pop,direction:y?y>0?Fr.forward:Fr.back:Fr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Ie({},f.state,{scroll:_l()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function np(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?_l():null}}function Y0(t){const{history:e,location:n}=window,s={value:Vv(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:G0()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ie({},e.state,np(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Ie({},i.value,e.state,{forward:l,scroll:_l()});r(u.current,u,!0);const d=Ie({},np(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function J0(t){t=U0(t);const e=Y0(t),n=K0(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ie({location:"",base:t,go:s,createHref:V0.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function X0(t){return typeof t=="string"||t&&typeof t=="object"}function Hv(t){return typeof t=="string"||typeof t=="symbol"}const Wv=Symbol("");var sp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sp||(sp={}));function ji(t,e){return Ie(new Error,{type:t,[Wv]:!0},e)}function kn(t,e){return t instanceof Error&&Wv in t&&(e==null||!!(t.type&e))}const ip="[^/]+?",Q0={sensitive:!1,strict:!1,start:!0,end:!0},Z0=/[.+*?^${}()[\]/\\]/g;function eT(t,e){const n=Ie({},Q0,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(Z0,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:w}=f;r.push({name:p,repeatable:m,optional:y});const v=w||ip;if(v!==ip){h+=10;try{new RegExp(`(${v})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+S.message)}}let g=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),i+=g,h+=20,y&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,w=p in c?c[p]:"";if(Zt(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Zt(w)?w.join("/"):w;if(!v)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function tT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zv(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=tT(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(rp(s))return 1;if(rp(i))return-1}return i.length-s.length}function rp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const nT={type:0,value:""},sT=/[a-zA-Z0-9_]/;function iT(t){if(!t)return[[]];if(t==="/")return[[nT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:sT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function rT(t,e,n){const s=eT(iT(t.path),n),i=Ie(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function oT(t,e){const n=[],s=new Map;e=cp({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const p=!h,m=ap(d);m.aliasOf=h&&h.record;const y=cp(e,d),w=[m];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of S)w.push(ap(Ie({},m,{components:h?h.record.components:m.components,path:T,aliasOf:h?h.record:m})))}let v,g;for(const S of w){const{path:T}=S;if(f&&T[0]!=="/"){const R=f.record.path,U=R[R.length-1]==="/"?"":"/";S.path=f.record.path+(T&&U+T)}if(v=rT(S,f,y),h?h.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),p&&d.name&&!lp(v)&&o(d.name)),qv(v)&&l(v),m.children){const R=m.children;for(let U=0;U<R.length;U++)r(R[U],v,h&&h.children[U])}h=h||v}return g?()=>{o(g)}:Dr}function o(d){if(Hv(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=cT(d,n);n.splice(f,0,d),d.record.name&&!lp(d)&&s.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw ji(1,{location:d});y=h.record.name,p=Ie(op(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&op(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?s.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw ji(1,{location:d,currentLocation:f});y=h.record.name,p=Ie({},f.params,d.params),m=h.stringify(p)}const w=[];let v=h;for(;v;)w.unshift(v.record),v=v.parent;return{name:y,path:m,params:p,matched:w,meta:lT(w)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function op(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function ap(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:aT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function aT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function lp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lT(t){return t.reduce((e,n)=>Ie(e,n.meta),{})}function cp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function cT(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;zv(t,e[r])<0?s=r:n=r+1}const i=uT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function uT(t){let e=t;for(;e=e.parent;)if(qv(e)&&zv(t,e)===0)return e}function qv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function dT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Fv," "),o=r.indexOf("="),a=Qr(o<0?r:r.slice(0,o)),l=o<0?null:Qr(r.slice(o+1));if(a in e){let c=e[a];Zt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function up(t){let e="";for(let n in t){const s=t[n];if(n=R0(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zt(s)?s.map(r=>r&&hu(r)):[s&&hu(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function fT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Zt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Gv=Symbol(""),dp=Symbol(""),wl=Symbol(""),Md=Symbol(""),mu=Symbol("");function mr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function hT(t,e,n){const s=()=>{t[e].delete(n)};St(s),lv(s),av(()=>{t[e].add(n)}),t[e].add(n)}function pT(t){const e=je(Gv,{}).value;e&&hT(e,"updateGuards",t)}function ss(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(ji(4,{from:n,to:e})):f instanceof Error?l(f):X0(f)?l(ji(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function fc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Lv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ss(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=w0(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ss(h,n,s,o,a,i)()}))}}return r}function fp(t){const e=je(wl),n=je(Md),s=Q(()=>{const l=M(t.to);return e.resolve(l)}),i=Q(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Ui.bind(null,u));if(f>-1)return f;const h=hp(l[c-2]);return c>1&&hp(u)===h&&d[d.length-1].path!==h?d.findIndex(Ui.bind(null,l[c-2])):f}),r=Q(()=>i.value>-1&&yT(n.params,s.value.params)),o=Q(()=>i.value>-1&&i.value===n.matched.length-1&&jv(n.params,s.value.params));function a(l={}){if(vT(l)){const c=e[M(t.replace)?"replace":"push"](M(t.to)).catch(Dr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Q(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function mT(t){return t.length===1?t[0]:t}const gT=Ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fp,setup(t,{slots:e}){const n=di(fp(t)),{options:s}=je(wl),i=Q(()=>({[pp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[pp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&mT(e.default(n));return t.custom?r:Ee("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),hi=gT;function vT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function yT(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Zt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function hp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pp=(t,e,n)=>t??e??n,_T=Ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=je(mu),i=Q(()=>t.route||s.value),r=je(dp,0),o=Q(()=>{let c=M(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Q(()=>i.value.matched[o.value]);ht(dp,Q(()=>o.value+1)),ht(Gv,a),ht(mu,i);const l=F();return ot(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ui(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return mp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Ee(f,Ie({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return mp(n.default,{Component:y,route:c})||y}}});function mp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const wT=_T;function bT(t){const e=oT(t.routes,t),n=t.parseQuery||dT,s=t.stringifyQuery||up,i=t.history,r=mr(),o=mr(),a=mr(),l=qg(Qn);let c=Qn;Ei&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uc.bind(null,N=>""+N),d=uc.bind(null,N0),f=uc.bind(null,Qr);function h(N,X){let K,Z;return Hv(N)?(K=e.getRecordMatcher(N),Z=X):Z=N,e.addRoute(Z,K)}function p(N){const X=e.getRecordMatcher(N);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(N=>N.record)}function y(N){return!!e.getRecordMatcher(N)}function w(N,X){if(X=Ie({},X||l.value),typeof N=="string"){const I=dc(n,N,X.path),O=e.resolve({path:I.path},X),D=i.createHref(I.fullPath);return Ie(I,O,{params:f(O.params),hash:Qr(I.hash),redirectedFrom:void 0,href:D})}let K;if(N.path!=null)K=Ie({},N,{path:dc(n,N.path,X.path).path});else{const I=Ie({},N.params);for(const O in I)I[O]==null&&delete I[O];K=Ie({},N,{params:d(I)}),X.params=d(X.params)}const Z=e.resolve(K,X),Ne=N.hash||"";Z.params=u(f(Z.params));const _=D0(s,Ie({},N,{hash:A0(Ne),path:Z.path})),b=i.createHref(_);return Ie({fullPath:_,hash:Ne,query:s===up?fT(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:b})}function v(N){return typeof N=="string"?dc(n,N,l.value.path):Ie({},N)}function g(N,X){if(c!==N)return ji(8,{from:X,to:N})}function S(N){return U(N)}function T(N){return S(Ie(v(N),{replace:!0}))}function R(N){const X=N.matched[N.matched.length-1];if(X&&X.redirect){const{redirect:K}=X;let Z=typeof K=="function"?K(N):K;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=v(Z):{path:Z},Z.params={}),Ie({query:N.query,hash:N.hash,params:Z.path!=null?{}:N.params},Z)}}function U(N,X){const K=c=w(N),Z=l.value,Ne=N.state,_=N.force,b=N.replace===!0,I=R(K);if(I)return U(Ie(v(I),{state:typeof I=="object"?Ie({},Ne,I.state):Ne,force:_,replace:b}),X||K);const O=K;O.redirectedFrom=X;let D;return!_&&F0(s,Z,K)&&(D=ji(16,{to:O,from:Z}),me(Z,Z,!0,!1)),(D?Promise.resolve(D):k(O,Z)).catch(L=>kn(L)?kn(L,2)?L:Tt(L):we(L,O,Z)).then(L=>{if(L){if(kn(L,2))return U(Ie({replace:b},v(L.to),{state:typeof L.to=="object"?Ie({},Ne,L.to.state):Ne,force:_}),X||O)}else L=J(O,Z,!0,b,Ne);return j(O,Z,L),L})}function x(N,X){const K=g(N,X);return K?Promise.reject(K):Promise.resolve()}function C(N){const X=Xe.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(N):N()}function k(N,X){let K;const[Z,Ne,_]=ST(N,X);K=fc(Z.reverse(),"beforeRouteLeave",N,X);for(const I of Z)I.leaveGuards.forEach(O=>{K.push(ss(O,N,X))});const b=x.bind(null,N,X);return K.push(b),at(K).then(()=>{K=[];for(const I of r.list())K.push(ss(I,N,X));return K.push(b),at(K)}).then(()=>{K=fc(Ne,"beforeRouteUpdate",N,X);for(const I of Ne)I.updateGuards.forEach(O=>{K.push(ss(O,N,X))});return K.push(b),at(K)}).then(()=>{K=[];for(const I of _)if(I.beforeEnter)if(Zt(I.beforeEnter))for(const O of I.beforeEnter)K.push(ss(O,N,X));else K.push(ss(I.beforeEnter,N,X));return K.push(b),at(K)}).then(()=>(N.matched.forEach(I=>I.enterCallbacks={}),K=fc(_,"beforeRouteEnter",N,X,C),K.push(b),at(K))).then(()=>{K=[];for(const I of o.list())K.push(ss(I,N,X));return K.push(b),at(K)}).catch(I=>kn(I,8)?I:Promise.reject(I))}function j(N,X,K){a.list().forEach(Z=>C(()=>Z(N,X,K)))}function J(N,X,K,Z,Ne){const _=g(N,X);if(_)return _;const b=X===Qn,I=Ei?history.state:{};K&&(Z||b?i.replace(N.fullPath,Ie({scroll:b&&I&&I.scroll},Ne)):i.push(N.fullPath,Ne)),l.value=N,me(N,X,K,b),Tt()}let H;function te(){H||(H=i.listen((N,X,K)=>{if(!Xn.listening)return;const Z=w(N),Ne=R(Z);if(Ne){U(Ie(Ne,{replace:!0,force:!0}),Z).catch(Dr);return}c=Z;const _=l.value;Ei&&z0(tp(_.fullPath,K.delta),_l()),k(Z,_).catch(b=>kn(b,12)?b:kn(b,2)?(U(Ie(v(b.to),{force:!0}),Z).then(I=>{kn(I,20)&&!K.delta&&K.type===Zr.pop&&i.go(-1,!1)}).catch(Dr),Promise.reject()):(K.delta&&i.go(-K.delta,!1),we(b,Z,_))).then(b=>{b=b||J(Z,_,!1),b&&(K.delta&&!kn(b,8)?i.go(-K.delta,!1):K.type===Zr.pop&&kn(b,20)&&i.go(-1,!1)),j(Z,_,b)}).catch(Dr)}))}let oe=mr(),ie=mr(),re;function we(N,X,K){Tt(N);const Z=ie.list();return Z.length?Z.forEach(Ne=>Ne(N,X,K)):console.error(N),Promise.reject(N)}function mt(){return re&&l.value!==Qn?Promise.resolve():new Promise((N,X)=>{oe.add([N,X])})}function Tt(N){return re||(re=!N,te(),oe.list().forEach(([X,K])=>N?K(N):X()),oe.reset()),N}function me(N,X,K,Z){const{scrollBehavior:Ne}=t;if(!Ei||!Ne)return Promise.resolve();const _=!K&&q0(tp(N.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Xi().then(()=>Ne(N,X,_)).then(b=>b&&W0(b)).catch(b=>we(b,N,X))}const ge=N=>i.go(N);let Je;const Xe=new Set,Xn={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:w,options:t,push:S,replace:T,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:mt,install(N){const X=this;N.component("RouterLink",hi),N.component("RouterView",wT),N.config.globalProperties.$router=X,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>M(l)}),Ei&&!Je&&l.value===Qn&&(Je=!0,S(i.location).catch(Ne=>{}));const K={};for(const Ne in Qn)Object.defineProperty(K,Ne,{get:()=>l.value[Ne],enumerable:!0});N.provide(wl,X),N.provide(Md,Wg(K)),N.provide(mu,l);const Z=N.unmount;Xe.add(N),N.unmount=function(){Xe.delete(N),Xe.size<1&&(c=Qn,H&&H(),H=null,l.value=Qn,Je=!1,re=!1),Z()}}};function at(N){return N.reduce((X,K)=>X.then(()=>C(K)),Promise.resolve())}return Xn}function ST(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ui(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ui(c,l))||i.push(l))}return[n,s,i]}function Qi(){return je(wl)}function ET(t){return je(Md)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const TT=(t,e)=>(n,s)=>{let i=-1;if(s.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(i=a,l):r},e),i>-1)return n[i]},CT=TT((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var IT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:CT});const xT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},kT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},Vt=Array.isArray,Zo=t=>typeof t=="function",gp=t=>typeof t=="string",bl=t=>t!==null&&typeof t=="object",PT=Object.prototype.toString,$r=t=>PT.call(t)==="[object Object]",vp=Symbol("kIsProxy"),AT=Symbol("kProxySources"),Kv=Symbol("kProxyTarget"),Ti=Symbol("kResolveContext");function eo(t){if(Vt(t))return t.map(eo);if(bl(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:eo(t[n]);return e}return t}const ea=(t,e,n)=>{const s=[];for(const i of t)i&&e in i&&(s.push(i[e]),n&&n(i));return s},ba=(t,e=[],n,s)=>{if(!n&&!s&&({active:n,sources:s}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],s=s.map(l=>l[a]).filter(Boolean)}if(!n||!s)return;const i=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&bl(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...s),r=Object.keys(n);for(const o of r)i.includes(o)||delete n[o];for(const o of i){let a=!1;for(let d=0;d<s.length;d++){const f=s[d];if(f&&o in f&&f[o]!==void 0){a=$r(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of s)o in f&&d.push(f[o]);ba(t,[...e,o],n[o],d);continue}!n[o]&&Vt(s[0][o])&&(n[o]=[]);const l=[],c=ea(s,o,d=>l.push(d[Ti]));let u=t.resolve(c,l,n[o],o,e);$r(u)&&(u=eo(u)),n[o]=u}},Yv=(t,e,n,s=[])=>{const i=RT(t,n,s),r=fl(new Proxy(e,i));return!s.length&&t.sources&&t.sources.push(r),r},RT=(t,e,n=[])=>({get:(s,i,r)=>{if(i===vp)return!0;if(i===AT)return t.sources;if(i===Kv)return s;if(i===Ti)return e;let o=Reflect.get(s,i,r);if(!bl(o))return o;if(!o[vp]){const a=[...n,i];o=Yv(t,o,e,a),Reflect.set(s,i,o)}return o},set:(s,i,r)=>{const o=Reflect.set(s,i,r);if(o){const a=Vt(s);let l,c=!1,{sources:u,active:d}=t,f=0;for(const y of n){if(u=ea(u,y),a&&f===n.length-1){l=y;break}Vt(d)&&(c=!0),d=d[y],f++}if(c)return ba(t),o;if($r(r))return ba(t,n),o;let h,p=[];a?(h=u,p=u.map(y=>y[Ti])):h=ea(u,i,y=>p.push(y[Ti]));let m=t.resolve(h,p,d,i,n);$r(m)&&(m=eo(m)),a&&l?d[l]=m:d[i]=m}return o},deleteProperty:(s,i)=>{const r=Reflect.deleteProperty(s,i);if(r){const o=Vt(s);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&i in d)){let d,f=[];o?(d=l,f=l.map(p=>p[Ti])):d=ea(l,i,p=>f.push(p[Ti]));let h=t.resolve(d,f,c,i,n);$r(h)&&(h=eo(h)),o&&a?c[a]=h:c[i]=h}else delete c[i]}return r}}),hc={};function OT(t,e,n,s){return"attributesFor"in s?function(i,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(i.isSSR)return{to:"",vnode:Ee(`ssr-${l}`,o)};if(!hc[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),hc[l]={el:f,attrs:[]}}const{el:c,attrs:u}=hc[l];for(const f in o){let h=ta(i,`${r}(${f})`,o[f],o);Vt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,s):"group"in s?function(i,r,o,a){return Vt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return Sa(i,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,s):Sa(t,e,n,s)}function Sa(t,e,n,s={},i){const r=["content","json","rawContent"],o=y=>function(w,v){for(const g of w){const S=kT[g];if(g&&S)return S[v]}}([a,s.tag],y);if(Vt(n))return n.map(y=>Sa(t,e,y,s,i)).filter(Boolean).flat();const{tag:a=s.tag||e}=n;let l="",c=!1,u=!1;if(gp(n))l=n;else if(n.children&&Vt(n.children))c=!0,l=n.children.map(y=>{const w=Sa(t,e,y,s,i);return Vt(w)?w.map(({vnode:v})=>v):w&&w.vnode});else{let y=0;for(const w of r){if(!l&&n[w]){l=y===1?JSON.stringify(n[w]):n[w],u=y>1;break}y++}}const d=i&&i.fullName||e,f=i&&i.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const y of r)delete h[y]}if(c)l=ta(t,f,l,n);else{const y=!!o("contentAsAttribute");let{valueAttribute:w}=s;if(!w&&y){const[v]=o("attributes");w=gp(y)?y:v}if(w){const{nameless:v}=s;if(!v){const g=s.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[w]=ta(t,f,h[w]||l,i),l=""}else l=ta(t,f,l,n)}const p=i&&i.tagNamespace?`${i.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Ee(p,h,l||void 0);return{to:n.to,vnode:m}}function ta({metainfo:t,slots:e},n,s,i){const r=e&&e[n];if(!r||!Zo(r))return s;const o={content:s,metainfo:t};if(i&&i.group){const{group:l,data:c}=i;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return s}const NT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",MT=(t=>NT?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function Jv(t,e,n){for(const s in e)s in n?bl(t[s])?Jv(t[s],e[s],n[s]):e[s]!==n[s]&&(t[s]=e[s]):t[s]=e[s];for(const s in n)e&&s in e||delete t[s]}function Xv(t){if(t||(t=fi()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function Sl(t,e){const n=fi()||void 0;if(!e&&n&&(e=Xv(n)),!e)throw new Error("No manager or current instance");dl(t)&&(ot(t,(i,r)=>{Jv(s.meta,i,r)}),t=t.value);const s=e.addMeta(t,n);return s}const LT=Ye({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=Xv();if(n)return n.render({slots:e})}});function yp(t,e,n,s){const i=Vt(s)?s:[s];t?n.endsWith("Attrs")||i.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):i.forEach((r,o)=>{r.type===Hn&&i.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...i)}const DT=(t=!1,e,n)=>FT.create(t,xT,IT);var js;let FT=(js=class{constructor(e,n,s,i){Ps(this,"isSSR",!1);Ps(this,"config");Ps(this,"target");Ps(this,"resolver");Ps(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=s,i&&"setup"in i&&Zo(i.setup)&&(this.resolver=i)}install(e){e.component("Metainfo",LT),e.config.globalProperties.$metaManager=this,e.provide(MT,this.target.context.active)}addMeta(e,n){n||(n=fi()||void 0);const s={removed:[]},i={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(i);const o=this.target.addSource(e,i,!0),a=l=>this.unmount(!!l,o,s,n);return n&&St(a),{meta:o,onRemoved:l=>s.removed.push(l),unmount:a}}unmount(e,n,s,i){if(i){const{$el:r}=i.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,s))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,s)}async reallyUnmount(e,n,s){this.target.delSource(n),!e&&s&&await Promise.all(s.removed.map(i=>i()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:s}=this;if(!s&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const i={};for(const r in n){const o=this.config[r]||{};let a=OT({isSSR:s,metainfo:n,slots:e},r,n[r],o);if(!a)continue;Vt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)yp(this.isSSR,i,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];Zo(a)&&yp(this.isSSR,i,o,a({metainfo:n}))}return Object.keys(i).map(r=>Ee(sv,{to:r},i[r]))}},Ps(js,"create",(e,n,s)=>{const i=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>ba(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=Yv(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[Kv]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>Zo(s)?s(r,o,a,l,c):s.resolve(r,o,a,l,c),di({}));return new js(e,n,i,s)}),js);const Qv=new Set,kt=new WeakMap,Vi=new WeakMap,Qs=new WeakMap,gu=new WeakMap,$T=new WeakMap,Hi=new WeakMap,Ea=new WeakMap,Ir=new WeakSet;let vs,Ld=0,Dd=0;const Ln="__aa_tgt",to="__aa_del",Ta="__aa_new",BT=t=>{const e=zT(t);e&&e.forEach(n=>qT(n))},UT=t=>{t.forEach(e=>{e.target===vs&&VT(),kt.has(e.target)&&pi(e.target)})};function jT(t){const e=gu.get(t);e==null||e.disconnect();let n=kt.get(t),s=0;const i=5;n||(n=Wi(t),kt.set(t,n));const{offsetWidth:r,offsetHeight:o}=vs,l=[n.top-i,r-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&pi(t)},{root:vs,threshold:1,rootMargin:l});c.observe(t),gu.set(t,c)}function pi(t){clearTimeout(Ea.get(t));const e=El(t),n=no(e)?500:e.duration;Ea.set(t,setTimeout(async()=>{const s=Qs.get(t);try{await(s==null?void 0:s.finished),kt.set(t,Wi(t)),jT(t)}catch{}},n))}function VT(){clearTimeout(Ea.get(vs)),Ea.set(vs,setTimeout(()=>{Qv.forEach(t=>ny(t,e=>Zv(()=>pi(e))))},100))}function HT(t){setTimeout(()=>{$T.set(t,setInterval(()=>Zv(pi.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function Zv(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let vu,Ci;const WT=typeof window<"u"&&"ResizeObserver"in window;WT&&(vs=document.documentElement,vu=new MutationObserver(BT),Ci=new ResizeObserver(UT),window.addEventListener("scroll",()=>{Dd=window.scrollY,Ld=window.scrollX}),Ci.observe(vs));function zT(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(pc(i.target),!s.has(i.target)){s.add(i.target);for(let r=0;r<i.target.children.length;r++){const o=i.target.children.item(r);if(o){if(to in o)return!1;pc(i.target,o),s.add(o)}}}if(i.removedNodes.length)for(let r=0;r<i.removedNodes.length;r++){const o=i.removedNodes[r];if(to in o)return!1;o instanceof Element&&(s.add(o),pc(i.target,o),Vi.set(o,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function pc(t,e){!e&&!(Ln in t)?Object.defineProperty(t,Ln,{value:t}):e&&!(Ln in e)&&Object.defineProperty(e,Ln,{value:t})}function qT(t){var e;const n=t.isConnected,s=kt.has(t);n&&Vi.has(t)&&Vi.delete(t),Qs.has(t)&&((e=Qs.get(t))===null||e===void 0||e.cancel()),Ta in t?_p(t):s&&n?KT(t):s&&!n?YT(t):_p(t)}function fn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function GT(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Wi(t){const e=t.getBoundingClientRect(),{x:n,y:s}=GT(t);return{top:e.top+s,left:e.left+n,width:e.width,height:e.height}}function ey(t,e,n){let s=e.width,i=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=fn(a.paddingTop)+fn(a.paddingBottom)+fn(a.borderTopWidth)+fn(a.borderBottomWidth),u=fn(a.paddingLeft)+fn(a.paddingRight)+fn(a.borderRightWidth)+fn(a.borderLeftWidth);s-=u,r-=u,i-=c,o-=c}return[s,r,i,o].map(Math.round)}function El(t){return Ln in t&&Hi.has(t[Ln])?Hi.get(t[Ln]):{duration:250,easing:"ease-in-out"}}function ty(t){if(Ln in t)return t[Ln]}function Fd(t){const e=ty(t);return e?Ir.has(e):!1}function ny(t,...e){e.forEach(n=>n(t,Hi.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,Hi.has(s)))}}function $d(t){return Array.isArray(t)?t:[t]}function no(t){return typeof t=="function"}function KT(t){const e=kt.get(t),n=Wi(t);if(!Fd(t))return kt.set(t,n);let s;if(!e)return;const i=El(t);if(typeof i!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=ey(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),s=t.animate([d,f],{duration:i.duration,easing:i.easing})}else{const[r]=$d(i(t,"remain",e,n));s=new Animation(r),s.play()}Qs.set(t,s),kt.set(t,n),s.addEventListener("finish",pi.bind(null,t))}function _p(t){Ta in t&&delete t[Ta];const e=Wi(t);kt.set(t,e);const n=El(t);if(!Fd(t))return;let s;if(typeof n!="function")s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=$d(n(t,"add",e));s=new Animation(i),s.play()}Qs.set(t,s),s.addEventListener("finish",pi.bind(null,t))}function wp(t,e){var n;t.remove(),kt.delete(t),Vi.delete(t),Qs.delete(t),(n=gu.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(to in t&&delete t[to],Object.defineProperty(t,Ta,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const s in e)t.style[s]=""},0)}function YT(t){var e;if(!Vi.has(t)||!kt.has(t))return;const[n,s]=Vi.get(t);Object.defineProperty(t,to,{value:!0,configurable:!0});const i=window.scrollX,r=window.scrollY;if(s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=ty(t))===null||e===void 0||e.appendChild(t),!Fd(t))return wp(t);const[o,a,l,c]=XT(t),u=El(t),d=kt.get(t);(i!==Ld||r!==Dd)&&JT(t,i,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!no(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=$d(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}Qs.set(t,f),f.addEventListener("finish",wp.bind(null,t,h))}function JT(t,e,n,s){const i=Ld-e,r=Dd-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(vs).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!no(s)){const h=c-l.clientHeight,p=u-l.clientWidth;d+s.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function XT(t){const e=kt.get(t),[n,,s]=ey(t,e,Wi(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const r=getComputedStyle(i),o=kt.get(i)||Wi(i),a=Math.round(e.top-o.top)-fn(r.borderTopWidth),l=Math.round(e.left-o.left)-fn(r.borderLeftWidth);return[a,l,n,s]}function QT(t,e={}){return vu&&Ci&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!no(e)&&!e.disrespectUserMotionPreference||(Ir.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),ny(t,pi,HT,i=>Ci==null?void 0:Ci.observe(i)),no(e)?Hi.set(t,e):Hi.set(t,{duration:250,easing:"ease-in-out",...e}),vu.observe(t,{childList:!0}),Qv.add(t))),Object.freeze({parent:t,enable:()=>{Ir.add(t)},disable:()=>{Ir.delete(t)},isEnabled:()=>Ir.has(t)})}const ZT={mounted:(t,e)=>{QT(t,e.value||{})},getSSRProps:()=>({})},eC=ZT,tC={install(t){t.directive("auto-animate",eC)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let sy;const Tl=t=>sy=t,iy=Symbol();function yu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Br;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Br||(Br={}));function nC(){const t=kg(!0),e=t.run(()=>F({}));let n=[],s=[];const i=fl({install(r){Tl(i),i._a=r,r.provide(iy,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ry=()=>{};function bp(t,e,n,s=ry){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Pg()&&hS(i),i}function wi(t,...e){t.slice().forEach(n=>{n(...e)})}const sC=t=>t(),Sp=Symbol(),mc=Symbol();function _u(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];yu(i)&&yu(s)&&t.hasOwnProperty(n)&&!qe(s)&&!hs(s)?t[n]=_u(i,s):t[n]=s}return t}const iC=Symbol();function rC(t){return!yu(t)||!t.hasOwnProperty(iC)}const{assign:es}=Object;function oC(t){return!!(qe(t)&&t.effect)}function aC(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=LS(n.state.value[t]);return es(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=fl(Q(()=>{Tl(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=oy(t,c,e,n,s,!0),l}function oy(t,e,n={},s,i,r){let o;const a=es({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),F({});let m;function y(x){let C;c=u=!1,typeof x=="function"?(x(s.state.value[t]),C={type:Br.patchFunction,storeId:t,events:h}):(_u(s.state.value[t],x),C={type:Br.patchObject,payload:x,storeId:t,events:h});const k=m=Symbol();Xi().then(()=>{m===k&&(c=!0)}),u=!0,wi(d,C,s.state.value[t])}const w=r?function(){const{state:C}=n,k=C?C():{};this.$patch(j=>{es(j,k)})}:ry;function v(){o.stop(),d=[],f=[],s._s.delete(t)}const g=(x,C="")=>{if(Sp in x)return x[mc]=C,x;const k=function(){Tl(s);const j=Array.from(arguments),J=[],H=[];function te(re){J.push(re)}function oe(re){H.push(re)}wi(f,{args:j,name:k[mc],store:T,after:te,onError:oe});let ie;try{ie=x.apply(this&&this.$id===t?this:T,j)}catch(re){throw wi(H,re),re}return ie instanceof Promise?ie.then(re=>(wi(J,re),re)).catch(re=>(wi(H,re),Promise.reject(re))):(wi(J,ie),ie)};return k[Sp]=!0,k[mc]=C,k},S={_p:s,$id:t,$onAction:bp.bind(null,f),$patch:y,$reset:w,$subscribe(x,C={}){const k=bp(d,x,C.detached,()=>j()),j=o.run(()=>ot(()=>s.state.value[t],J=>{(C.flush==="sync"?u:c)&&x({storeId:t,type:Br.direct,events:h},J)},es({},l,C)));return k},$dispose:v},T=di(S);s._s.set(t,T);const U=(s._a&&s._a.runWithContext||sC)(()=>s._e.run(()=>(o=kg()).run(()=>e({action:g}))));for(const x in U){const C=U[x];if(qe(C)&&!oC(C)||hs(C))r||(p&&rC(C)&&(qe(C)?C.value=p[x]:_u(C,p[x])),s.state.value[t][x]=C);else if(typeof C=="function"){const k=g(C,x);U[x]=k,a.actions[x]=C}}return es(T,U),es(Se(T),U),Object.defineProperty(T,"$state",{get:()=>s.state.value[t],set:x=>{y(C=>{es(C,x)})}}),s._p.forEach(x=>{es(T,o.run(()=>x({store:T,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function _o(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=fE();return a=a||(c?je(iy,null):null),a&&Tl(a),a=sy,a._s.has(s)||(r?oy(s,e,i,a):aC(s,i,a)),a._s.get(s)}return o.$id=s,o}const lC={key:0},cC={key:1},uC={key:2},dC={key:3},fC={key:4},hC={key:5},pC={key:6},mC={key:7},gC={key:8},vC={key:9},Bd=Ye({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const s=$S(n,"modelValue"),i=e,r=g=>{g!==s.value&&(g>l.value||g<1||n.disablePagination||(i("update:modelValue",g),i("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=Q(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=Q(()=>{let g,S;if(l.value<=n.maxPagesShown)g=1,S=l.value;else{let R=Math.floor(n.maxPagesShown/2),U=Math.ceil(n.maxPagesShown/2)-1;s.value<=R?(g=1,S=n.maxPagesShown):s.value+U>=l.value?(g=l.value-n.maxPagesShown+1,S=l.value):(g=s.value-R,S=s.value+U)}let T=Array.from(Array(S+1-g).keys()).map(R=>g+R);return n.dir==="rtl"&&(T=T.reverse()),{totalItems:n.totalItems,currentPage:s.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:S,pages:T}}),u=Q(()=>n.dir==="rtl"),d=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==l.value:!n.hidePrevNextWhenEnds||s.value!==1),f=Q(()=>u.value?!n.hidePrevNextWhenEnds||s.value!==1:!n.hidePrevNextWhenEnds||s.value!==l.value),h=Q(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=Q(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),y=Q(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),w=Q(()=>s.value!==1),v=Q(()=>s.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,S)=>(P(),B("ul",{id:"componentContainer",class:Re(t.paginationContainerClass)},[t.showEndingButtons&&w.value?(P(),B("li",lC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[0]||(S[0]=Nt(T=>r(u.value?l.value:1),["prevent"])),class:Re([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[dn(g.$slots,"first-page-button",{},()=>[Be(ne(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showJumpButtons&&h.value?(P(),B("li",cC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[1]||(S[1]=Nt(T=>r(u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Re([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[dn(g.$slots,"backward-jump-button",{},()=>[Be(ne(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),!t.hidePrevNext&&d.value?(P(),B("li",uC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value+1:s.value-1),onClick:S[2]||(S[2]=Nt(T=>r(u.value?s.value+1:s.value-1),["prevent"])),class:Re([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[dn(g.$slots,"prev-button",{},()=>[Be(ne(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showBreakpointButtons&&m.value?(P(),B("li",dC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:S[3]||(S[3]=Nt(T=>r(u.value?l.value:1),["prevent"])),class:Re([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Be(ne(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):Me("",!0),t.showBreakpointButtons&&h.value?(P(),B("li",fC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),onClick:S[4]||(S[4]=Nt(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value+Math.ceil(t.maxPagesShown/2):s.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Re([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[dn(g.$slots,"starting-breakpoint-button",{},()=>[Be(ne(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):Me("",!0),(P(!0),B(Te,null,bn(c.value.pages,(T,R)=>(P(),B("li",{key:R},[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(T),onClick:Nt(()=>r(T),["prevent"]),class:Re([t.paginateButtonsClass,t.numberButtonsClass,T===s.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[Be(ne(o(T)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(P(),B("li",hC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[5]||(S[5]=Nt(T=>r(t.disableBreakpointButtons?s.value:u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Re([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[dn(g.$slots,"ending-breakpoint-button",{},()=>[Be(ne(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):Me("",!0),t.showBreakpointButtons&&y.value?(P(),B("li",pC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[6]||(S[6]=Nt(T=>r(u.value?1:l.value),["prevent"])),class:Re([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Be(ne(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):Me("",!0),!t.hidePrevNext&&f.value?(P(),B("li",mC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-1:s.value+1),onClick:S[7]||(S[7]=Nt(T=>r(u.value?s.value-1:s.value+1),["prevent"])),class:Re([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[dn(g.$slots,"next-button",{},()=>[Be(ne(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showJumpButtons&&p.value?(P(),B("li",gC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),onClick:S[8]||(S[8]=Nt(T=>r(u.value?s.value-Math.ceil(t.maxPagesShown/2):s.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Re([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[dn(g.$slots,"forward-jump-button",{},()=>[Be(ne(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0),t.showEndingButtons&&v.value?(P(),B("li",vC,[(P(),pe(qt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:S[9]||(S[9]=Nt(T=>r(u.value?1:l.value),["prevent"])),class:Re([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[dn(g.$slots,"last-page-button",{},()=>[Be(ne(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):Me("",!0)],2))}});var yC={install:t=>{t.component("VueAwesomePaginate",Bd)}};function ay(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function ly(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Ud(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function _C(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function wC(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function jd(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function cy(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function bC(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function uy(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function SC(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function EC(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function dy(t,e){return P(),B("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var Ep={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Zi(e)},Zi=function(t){return new Error("Firebase Database ("+fy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Vd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new CC;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const py=function(t){const e=hy(t);return Vd.encodeByteArray(e,!0)},Ca=function(t){return py(t).replace(/\./g,"")},Ia=function(t){try{return Vd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){return my(void 0,t)}function my(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xC(n)||(t[n]=my(t[n],e[n]));return t}function xC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=()=>kC().__FIREBASE_DEFAULTS__,AC=()=>{if(typeof process>"u"||typeof Ep>"u")return;const t=Ep.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ia(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return PC()||AC()||RC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gy=t=>{var e,n;return(n=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OC=t=>{const e=gy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vy=()=>{var t;return(t=Hd())===null||t===void 0?void 0:t.config},yy=t=>{var e;return(e=Hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ca(JSON.stringify(n)),Ca(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function MC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DC(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FC(){return fy.NODE_ADMIN===!0}function wy(){try{return typeof indexedDB=="object"}catch{return!1}}function by(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="FirebaseError";class Yn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$C,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Is.prototype.create)}}class Is{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?BC(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,s)}}function BC(t,e){return t.replace(UC,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const UC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=so(Ia(r[0])||""),n=so(Ia(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},jC=function(t){const e=Sy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},VC=function(t){const e=Sy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xa(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Tp(r)&&Tp(o)){if(!ka(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Tp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function kr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function WC(t,e){const n=new zC(t,e);return n.subscribe.bind(n)}class zC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=gc),i.error===void 0&&(i.error=gc),i.complete===void 0&&(i.complete=gc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gc(){}function Cl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,W(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Il=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class zt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JC(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YC(t){return t===Ms?void 0:t}function JC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const QC={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},ZC=Oe.INFO,eI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},tI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=eI[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zd{constructor(e){this.name=e,this._logLevel=ZC,this._logHandler=tI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const nI=(t,e)=>e.some(n=>t instanceof n);let Cp,Ip;function sI(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iI(){return Ip||(Ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ey=new WeakMap,bu=new WeakMap,Ty=new WeakMap,vc=new WeakMap,qd=new WeakMap;function rI(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Un(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ey.set(n,t)}).catch(()=>{}),qd.set(e,t),e}function oI(t){if(bu.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});bu.set(t,e)}let Su={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ty.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aI(t){Su=t(Su)}function lI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(yc(this),e,...n);return Ty.set(s,e.sort?e.sort():[e]),Un(s)}:iI().includes(t)?function(...e){return t.apply(yc(this),e),Un(Ey.get(this))}:function(...e){return Un(t.apply(yc(this),e))}}function cI(t){return typeof t=="function"?lI(t):(t instanceof IDBTransaction&&oI(t),nI(t,sI())?new Proxy(t,Su):t)}function Un(t){if(t instanceof IDBRequest)return rI(t);if(vc.has(t))return vc.get(t);const e=cI(t);return e!==t&&(vc.set(t,e),qd.set(e,t)),e}const yc=t=>qd.get(t);function tr(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Un(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Un(o.result),l.oldVersion,l.newVersion,Un(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Oi(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",s=>e(s.oldVersion,s)),Un(n).then(()=>{})}const uI=["get","getKey","getAll","getAllKeys","count"],dI=["put","add","delete","clear"],_c=new Map;function xp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=dI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||uI.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return _c.set(e,r),r}aI(t=>({...t,get:(e,n,s)=>xp(e,n)||t.get(e,n,s),has:(e,n)=>!!xp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eu="@firebase/app",kp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new zd("@firebase/app"),pI="@firebase/app-compat",mI="@firebase/analytics-compat",gI="@firebase/analytics",vI="@firebase/app-check-compat",yI="@firebase/app-check",_I="@firebase/auth",wI="@firebase/auth-compat",bI="@firebase/database",SI="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",CI="@firebase/functions-compat",II="@firebase/installations",xI="@firebase/installations-compat",kI="@firebase/messaging",PI="@firebase/messaging-compat",AI="@firebase/performance",RI="@firebase/performance-compat",OI="@firebase/remote-config",NI="@firebase/remote-config-compat",MI="@firebase/storage",LI="@firebase/storage-compat",DI="@firebase/firestore",FI="@firebase/vertexai",$I="@firebase/firestore-compat",BI="firebase",UI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="[DEFAULT]",jI={[Eu]:"fire-core",[pI]:"fire-core-compat",[gI]:"fire-analytics",[mI]:"fire-analytics-compat",[yI]:"fire-app-check",[vI]:"fire-app-check-compat",[_I]:"fire-auth",[wI]:"fire-auth-compat",[bI]:"fire-rtdb",[SI]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[CI]:"fire-fn-compat",[II]:"fire-iid",[xI]:"fire-iid-compat",[kI]:"fire-fcm",[PI]:"fire-fcm-compat",[AI]:"fire-perf",[RI]:"fire-perf-compat",[OI]:"fire-rc",[NI]:"fire-rc-compat",[MI]:"fire-gcs",[LI]:"fire-gcs-compat",[DI]:"fire-fst",[$I]:"fire-fst-compat",[FI]:"fire-vertex","fire-js":"fire-js",[BI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Map,VI=new Map,Cu=new Map;function Pp(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Cu.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;Cu.set(e,t);for(const n of Pa.values())Pp(n,t);for(const n of VI.values())Pp(n,t);return!0}function nr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Is("app","Firebase",HI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=UI;function Cy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tu,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw ps.create("bad-app-name",{appName:String(i)});if(n||(n=vy()),!n)throw ps.create("no-options");const r=Pa.get(i);if(r){if(ka(n,r.options)&&ka(s,r.config))return r;throw ps.create("duplicate-app",{appName:i})}const o=new XC(i);for(const l of Cu.values())o.addComponent(l);const a=new WI(n,s,o);return Pa.set(i,a),a}function Gd(t=Tu){const e=Pa.get(t);if(!e&&t===Tu&&vy())return Cy();if(!e)throw ps.create("no-app",{appName:t});return e}function Ht(t,e,n){var s;let i=(s=jI[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}en(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebase-heartbeat-database",qI=1,io="firebase-heartbeat-store";let wc=null;function Iy(){return wc||(wc=tr(zI,qI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(io)}catch(n){console.warn(n)}}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),wc}async function GI(t){try{const n=(await Iy()).transaction(io),s=await n.objectStore(io).get(xy(t));return await n.done,s}catch(e){if(e instanceof Yn)Wn.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function Ap(t,e){try{const s=(await Iy()).transaction(io,"readwrite");await s.objectStore(io).put(e,xy(t)),await s.done}catch(n){if(n instanceof Yn)Wn.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(s.message)}}}function xy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=1024,YI=30*24*60*60*1e3;class JI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=YI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Wn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rp(),{heartbeatsToSend:s,unsentEntries:i}=XI(this._heartbeatsCache.heartbeats),r=Ca(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Wn.warn(n),""}}}function Rp(){return new Date().toISOString().substring(0,10)}function XI(t,e=KI){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Op(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Op(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wy()?by().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Op(t){return Ca(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){en(new zt("platform-logger",e=>new fI(e),"PRIVATE")),en(new zt("heartbeat",e=>new JI(e),"PRIVATE")),Ht(Eu,kp,t),Ht(Eu,kp,"esm2017"),Ht("fire-js","")}ZI("");var Np={};const Mp="@firebase/database",Lp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky="";function ex(t){ky=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:so(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tx(e)}}catch{}return new nx},Fs=Py("localStorage"),sx=Py("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new zd("@firebase/database"),ix=function(){let t=1;return function(){return t++}}(),Ay=function(t){const e=GC(t),n=new HC;n.update(e);const s=n.digest();return Vd.encodeByteArray(s)},bo=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=bo.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let Ur=null,Dp=!0;const rx=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Ni.logLevel=Oe.VERBOSE,Ur=Ni.log.bind(Ni)},lt=function(...t){if(Dp===!0&&(Dp=!1,Ur===null&&sx.get("logging_enabled")===!0&&rx()),Ur){const e=bo.apply(null,t);Ur(e)}},So=function(t){return function(...e){lt(t,...e)}},Iu=function(...t){const e="FIREBASE INTERNAL ERROR: "+bo(...t);Ni.error(e)},zn=function(...t){const e=`FIREBASE FATAL ERROR: ${bo(...t)}`;throw Ni.error(e),new Error(e)},bt=function(...t){const e="FIREBASE WARNING: "+bo(...t);Ni.warn(e)},ox=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ax=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zs="[MIN_NAME]",ys="[MAX_NAME]",mi=function(t,e){if(t===e)return 0;if(t===Zs||e===ys)return-1;if(e===Zs||t===ys)return 1;{const n=Fp(t),s=Fp(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},lx=function(t,e){return t===e?0:t<e?-1:1},gr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Yd=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=rt(e[s]),n+=":",n+=Yd(t[e[s]]);return n+="}",n},Ry=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Oy=function(t){W(!Kd(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},cx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ux=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const fx=new RegExp("^-?(0*)\\d{1,10}$"),hx=-2147483648,px=2147483647,Fp=function(t){if(fx.test(t)){const e=Number(t);if(e>=hx&&e<=px)return e}return null},ir=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},mx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(e)}}class na{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}na.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="5",Ny="v",My="s",Ly="r",Dy="f",Fy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$y="ls",By="p",xu="ac",Uy="websocket",jy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function yx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Hy(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let s;if(e===Uy)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jy)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yx(t)&&(n.ns=t.namespace);const i=[];return ct(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return IC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={},Sc={};function Xd(t){const e=t.toString();return bc[e]||(bc[e]=new _x),bc[e]}function wx(t,e){const n=t.toString();return Sc[n]||(Sc[n]=e()),Sc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&ir(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="start",Sx="close",Ex="pLPCommand",Tx="pRTLPCB",Wy="id",zy="pw",qy="ser",Cx="cb",Ix="seg",xx="ts",kx="d",Px="dframe",Gy=1870,Ky=30,Ax=Gy-Ky,Rx=25e3,Ox=3e4;class Ii{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=So(e),this.stats_=Xd(n),this.urlFn=l=>(this.appCheckToken&&(l[xu]=this.appCheckToken),Hy(n,jy,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ox)),ax(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qd((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$p)this.id=a,this.password=l;else if(o===Sx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[$p]="t",s[qy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Cx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ny]=Jd,this.transportSessionId&&(s[My]=this.transportSessionId),this.lastSessionId&&(s[$y]=this.lastSessionId),this.applicationId&&(s[By]=this.applicationId),this.appCheckToken&&(s[xu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fy.test(location.hostname)&&(s[Ly]=Dy);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ii.forceAllow_=!0}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){return Ii.forceAllow_?!0:!Ii.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cx()&&!ux()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=py(n),i=Ry(s,Ax);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Px]="t",s[Wy]=e,s[zy]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qd{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ix(),window[Ex+this.uniqueCallbackIdentifier]=e,window[Tx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){lt("frame writing exception"),a.stack&&lt(a.stack),lt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Wy]=this.myID,e[zy]=this.myPW,e[qy]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ky+s.length<=Gy;){const o=this.pendingSegs.shift();s=s+"&"+Ix+i+"="+o.seg+"&"+xx+i+"="+o.ts+"&"+kx+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(Rx)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=16384,Mx=45e3;let Aa=null;typeof MozWebSocket<"u"?Aa=MozWebSocket:typeof WebSocket<"u"&&(Aa=WebSocket);class mn{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=So(this.connId),this.stats_=Xd(n),this.connURL=mn.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Ny]=Jd,typeof location<"u"&&location.hostname&&Fy.test(location.hostname)&&(o[Ly]=Dy),n&&(o[My]=n),s&&(o[$y]=s),i&&(o[xu]=i),r&&(o[By]=r),Hy(e,Uy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fs.set("previous_websocket_failure",!0);try{let s;FC(),this.mySock=new Aa(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Aa!==null&&!mn.forceDisallow_}static previouslyFailed(){return Fs.isInMemoryStorage||Fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=so(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ry(n,Nx);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Mx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static get ALL_TRANSPORTS(){return[Ii,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=mn.isAvailable();let s=n&&!mn.previouslyFailed();if(e.webSocketOnly&&(n||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[mn];else{const i=this.transports_=[];for(const r of ro.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);ro.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ro.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=6e4,Dx=5e3,Fx=10*1024,$x=100*1024,Ec="t",Bp="d",Bx="s",Up="r",Ux="e",jp="o",Vp="a",Hp="n",Wp="p",jx="h";class Vx{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=So("c:"+this.id+":"),this.transportManager_=new ro(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=jr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$x?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Fx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ec in e){const n=e[Ec];n===Vp?this.upgradeIfSecondaryHealthy_():n===Up?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gr("t",e),s=gr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gr("t",e),s=gr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gr(Ec,e);if(Bp in e){const s=e[Bp];if(n===jx){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Hp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Bx?this.onConnectionShutdown_(s):n===Up?this.onReset_(s):n===Ux?Iu("Server Error: "+s):n===jp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Iu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jd!==s&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),jr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Lx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Dx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Jy{static getInstance(){return new Ra}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=32,qp=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Ae("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _s(t){return t.pieces_.length-t.pieceNum_}function Ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function Zd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Xy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function ze(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ae)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Ae(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){const n=ve(t),s=ve(e);if(n===null)return e;if(n===s)return It(Ue(t),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Wx(t,e){const n=oo(t,0),s=oo(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=mi(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function ef(t,e){if(_s(t)!==_s(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(_s(t)>_s(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class zx{constructor(e,n){this.errorPrefix_=n,this.parts_=oo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Il(this.parts_[s]);Qy(this)}}function qx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Il(e),Qy(t)}function Gx(t){const e=t.parts_.pop();t.byteLength_-=Il(e),t.parts_.length>0&&(t.byteLength_-=1)}function Qy(t){if(t.byteLength_>qp)throw new Error(t.errorPrefix_+"has a key path longer than "+qp+" bytes ("+t.byteLength_+").");if(t.parts_.length>zp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zp+") or object contains a cycle "+Ls(t))}function Ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends Jy{static getInstance(){return new tf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=1e3,Kx=60*5*1e3,Gp=30*1e3,Yx=1.3,Jx=3e4,Xx="server_kill",Kp=3;class jn extends Yy{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=jn.nextPersistentConnectionId_++,this.log_=So("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vr,this.maxReconnectDelay_=Kx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(rt(r)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new wo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;jn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cn(e,"w")){const s=zi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Iu("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Jx&&(this.reconnectDelay_=vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Yx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+jn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Vx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{bt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Xx)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&bt(d),l())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wu(this.interruptReasons_)&&(this.reconnectDelay_=vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Yd(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Ae(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kp&&(this.reconnectDelay_=Gp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ky.replace(/\./g,"-")]=1,Wd()?e["framework.cordova"]=1:_y()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ra.getInstance().currentlyOnline();return wu(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new _e(Zs,e),i=new _e(Zs,n);return this.compare(s,i)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class Zy extends xl{static get __EMPTY_NODE(){return Uo}static set __EMPTY_NODE(e){Uo=e}compare(e,n){return mi(e.name,n.name)}isDefinedOn(e){throw Zi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(ys,Uo)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Uo)}toString(){return".key"}}const zs=new Zy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??nt.RED,this.left=i??xt.EMPTY_NODE,this.right=r??xt.EMPTY_NODE}copy(e,n,s,i,r){return new nt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class Qx{copy(e,n,s,i,r){return this}insert(e,n,s){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new Qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){return mi(t.name,e.name)}function nf(t,e){return mi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;function e1(t){ku=t}const e_=function(t){return typeof t=="number"?"number:"+Oy(t):"string:"+t},t_=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else W(t===ku||t.isEmpty(),"priority of unexpected type.");W(t===ku||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp;class et{static set __childrenNodeConstructor(e){Yp=e}static get __childrenNodeConstructor(){return Yp}constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),t_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:ve(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(W(s!==".priority"||_s(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+e_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Oy(this.value_):e+=this.value_,this.lazyHash_=Ay(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=et.VALUE_TYPE_ORDER.indexOf(n),r=et.VALUE_TYPE_ORDER.indexOf(s);return W(i>=0,"Unknown leaf type: "+n),W(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n_,s_;function t1(t){n_=t}function n1(t){s_=t}class s1 extends xl{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?mi(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(ys,new et("[PRIORITY-POST]",s_))}makePost(e,n){const s=n_(e);return new _e(n,new et("[PRIORITY-POST]",s))}toString(){return".priority"}}const He=new s1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=Math.log(2);class r1{constructor(e){const n=r=>parseInt(Math.log(r)/i1,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oa=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new nt(f,d.node,nt.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new nt(f,d.node,nt.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const y=d-p,w=d;d-=p;const v=i(y+1,w),g=t[y],S=n?n(g):g;h(new nt(S,g.node,m,null,v))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?f(y,nt.BLACK):(f(y,nt.BLACK),f(y,nt.RED))}return u},o=new r1(t.length),a=r(o);return new xt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const yr={};class Dn{static get Default(){return W(He,"ChildrenNode.ts has not been loaded"),Tc=Tc||new Dn({".priority":yr},{".priority":He}),Tc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=zi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(_e.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Oa(s,e.getCompare()):a=yr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Dn(u,c)}addToIndexes(e,n){const s=xa(this.indexes_,(i,r)=>{const o=zi(this.indexSet_,r);if(W(o,"Missing index implementation for "+r),i===yr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Oa(a,o.getCompare())}else return yr;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new Dn(s,this.indexSet_)}removeFromIndexes(e,n){const s=xa(this.indexes_,i=>{if(i===yr)return i;{const r=n.get(e.name);return r?i.remove(new _e(e.name,r)):i}});return new Dn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r;class ce{static get EMPTY_NODE(){return _r||(_r=new ce(new xt(nf),null,Dn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&t_(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_r}updatePriority(e){return this.children_.isEmpty()?this:new ce(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_r:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new _e(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?_r:this.priorityNode_;return new ce(i,o,r)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{W(ve(e)!==".priority"||_s(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(Ue(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),s++,r&&ce.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+e_(this.getPriority().val())+":"),this.forEachChild(He,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Ay(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new _e(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Eo?-1:0}withIndex(e){if(e===zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ce(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(He),i=n.getIterator(He);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===zs?null:this.indexMap_.get(e.toString())}}ce.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class o1 extends ce{constructor(){super(new xt(nf),ce.EMPTY_NODE,Dn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ce.EMPTY_NODE}isEmpty(){return!1}}const Eo=new o1;Object.defineProperties(_e,{MIN:{value:new _e(Zs,ce.EMPTY_NODE)},MAX:{value:new _e(ys,Eo)}});Zy.__EMPTY_NODE=ce.EMPTY_NODE;et.__childrenNodeConstructor=ce;e1(Eo);n1(Eo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=!0;function st(t,e=null){if(t===null)return ce.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,st(e))}if(!(t instanceof Array)&&a1){const n=[];let s=!1;if(ct(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=st(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),n.length===0)return ce.EMPTY_NODE;const r=Oa(n,Zx,o=>o.name,nf);if(s){const o=Oa(n,He.getCompare());return new ce(r,st(e),new Dn({".priority":o},{".priority":He}))}else return new ce(r,st(e),Dn.Default)}else{let n=ce.EMPTY_NODE;return ct(t,(s,i)=>{if(Cn(t,s)&&s.substring(0,1)!=="."){const r=st(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(st(e))}}t1(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends xl{constructor(e){super(),this.indexPath_=e,W(!ye(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?mi(e.name,n.name):r}makePost(e,n){const s=st(e),i=ce.EMPTY_NODE.updateChild(this.indexPath_,s);return new _e(n,i)}maxPost(){const e=ce.EMPTY_NODE.updateChild(this.indexPath_,Eo);return new _e(ys,e)}toString(){return oo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends xl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?mi(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const s=st(e);return new _e(n,s)}toString(){return".value"}}const i_=new l1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return{type:"value",snapshotNode:t}}function qi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ao(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function lo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function c1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ao(n,a)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qi(n,s)):o.trackChildChange(lo(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(He,(i,r)=>{n.hasChild(i)||s.trackChildChange(ao(i,r))}),n.isLeafNode()||n.forEachChild(He,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(lo(i,r,o))}else s.trackChildChange(qi(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ce.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.indexedFilter_=new rf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=co.getStartPost_(e),this.endPost_=co.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new _e(n,s))||(s=ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ce.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ce.EMPTY_NODE);const r=this;return n.forEachChild(He,(o,a)=>{r.matches(new _e(o,a))||(i=i.updateImmediateChild(o,ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new co(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new _e(n,s))||(s=ce.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ce.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ce.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;W(a.numChildren()===this.limit_,"");const l=new _e(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(lo(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(ao(n,d));const m=a.updateImmediateChild(n,ce.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(qi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(ao(c.name,c.node)),r.trackChildChange(qi(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,ce.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new of;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function d1(t){return t.loadsAllData()?new rf(t.getIndex()):t.hasLimit()?new u1(t):new co(t)}function f1(t,e){const n=t.copy();return n.index_=e,n}function Jp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===i_?n="$value":t.index_===zs?n="$key":(W(t.index_ instanceof sf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=rt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+rt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=rt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Yy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=So("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Na.getListenId_(e,s),a={};this.listens_[o]=a;const l=Jp(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),zi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Na.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Jp(e._queryParams),s=e._path.toString(),i=new wo;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+er(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=so(a.responseText)}catch{bt("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&bt("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.rootNode_=ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function o_(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ve(e);t.children.has(s)||t.children.set(s,Ma());const i=t.children.get(s);e=Ue(e),o_(i,e,n)}}function Pu(t,e,n){t.value!==null?n(e,t.value):p1(t,(s,i)=>{const r=new Ae(e.toString()+"/"+s);Pu(i,r,n)})}function p1(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=10*1e3,g1=30*1e3,v1=5*60*1e3;class y1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new m1(e);const s=Qp+(g1-Qp)*Math.random();jr(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;ct(e,(i,r)=>{r>0&&Cn(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),jr(this.reportStats_.bind(this),Math.floor(Math.random()*2*v1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function af(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Gt.ACK_USER_WRITE,this.source=af()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new La(Ce(),n,this.revert)}}else return W(ve(this.path)===e,"operationForChild called for unrelated child."),new La(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new uo(this.source,Ce()):new uo(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Gt.OVERWRITE}operationForChild(e){return ye(this.path)?new ei(this.source,Ce(),this.snap.getImmediateChild(e)):new ei(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Gt.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new ei(this.source,Ce(),n.value):new Gi(this.source,Ce(),n)}else return W(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gi(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function w1(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(c1(o.childName,o.snapshotNode))}),wr(t,i,"child_removed",e,s,n),wr(t,i,"child_added",e,s,n),wr(t,i,"child_moved",r,s,n),wr(t,i,"child_changed",e,s,n),wr(t,i,"value",e,s,n),i}function wr(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>S1(t,a,l)),o.forEach(a=>{const l=b1(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function b1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function S1(t,e,n){if(e.childName==null||n.childName==null)throw Zi("Should only compare child_ events.");const s=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e){return{eventCache:t,serverCache:e}}function Vr(t,e,n,s){return kl(new ti(e,n,s),t.serverCache)}function a_(t,e,n,s){return kl(t.eventCache,new ti(e,n,s))}function Au(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ni(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const E1=()=>(Cc||(Cc=new xt(lx)),Cc);class $e{static fromObject(e){let n=new $e(null);return ct(e,(s,i)=>{n=n.set(new Ae(s),i)}),n}constructor(e,n=E1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(ye(e))return null;{const s=ve(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(Ue(e),n);return r!=null?{path:ze(new Ae(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(Ue(e)):new $e(null)}}set(e,n){if(ye(e))return new $e(n,this.children);{const s=ve(e),r=(this.children.get(s)||new $e(null)).set(Ue(e),n),o=this.children.insert(s,r);return new $e(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const i=s.remove(Ue(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new $e(null):new $e(this.value,r)}else return this}}get(e){if(ye(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(Ue(e)):null}}setTree(e,n){if(ye(e))return n;{const s=ve(e),r=(this.children.get(s)||new $e(null)).setTree(Ue(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new $e(this.value,o)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(ze(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(ye(e))return null;{const r=ve(e),o=this.children.get(r);return o?o.findOnPath_(Ue(e),ze(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const i=ve(e),r=this.children.get(i);return r?r.foreachOnPath_(Ue(e),ze(n,i),s):new $e(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(ze(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.writeTree_=e}static empty(){return new Jt(new $e(null))}}function Hr(t,e,n){if(ye(e))return new Jt(new $e(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=It(i,e);return r=r.updateChild(o,n),new Jt(t.writeTree_.set(i,r))}else{const i=new $e(n),r=t.writeTree_.setTree(e,i);return new Jt(r)}}}function Ru(t,e,n){let s=t;return ct(n,(i,r)=>{s=Hr(s,ze(e,i),r)}),s}function Zp(t,e){if(ye(e))return Jt.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new Jt(n)}}function Ou(t,e){return gi(t,e)!=null}function gi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function em(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(s,i)=>{e.push(new _e(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new _e(s,i.value))}),e}function ms(t,e){if(ye(e))return t;{const n=gi(t,e);return n!=null?new Jt(new $e(n)):new Jt(t.writeTree_.subtree(e))}}function Nu(t){return t.writeTree_.isEmpty()}function Ki(t,e){return l_(Ce(),t.writeTree_,e)}function l_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(W(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=l_(ze(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(ze(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e){return f_(e,t)}function T1(t,e,n,s,i){W(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Hr(t.visibleWrites,e,n)),t.lastWriteId=s}function C1(t,e,n,s){W(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Ru(t.visibleWrites,e,n),t.lastWriteId=s}function I1(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function x1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&k1(a,s.path)?i=!1:Ut(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return P1(t),!0;if(s.snap)t.visibleWrites=Zp(t.visibleWrites,s.path);else{const a=s.children;ct(a,l=>{t.visibleWrites=Zp(t.visibleWrites,ze(s.path,l))})}return!0}else return!1}function k1(t,e){if(t.snap)return Ut(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ut(ze(t.path,n),e))return!0;return!1}function P1(t){t.visibleWrites=c_(t.allWrites,A1,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function A1(t){return t.visible}function c_(t,e,n){let s=Jt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)Ut(n,o)?(a=It(n,o),s=Hr(s,a,r.snap)):Ut(o,n)&&(a=It(o,n),s=Hr(s,Ce(),r.snap.getChild(a)));else if(r.children){if(Ut(n,o))a=It(n,o),s=Ru(s,a,r.children);else if(Ut(o,n))if(a=It(o,n),ye(a))s=Ru(s,Ce(),r.children);else{const l=zi(r.children,ve(a));if(l){const c=l.getChild(Ue(a));s=Hr(s,Ce(),c)}}}else throw Zi("WriteRecord should have .snap or .children")}}return s}function u_(t,e,n,s,i){if(!s&&!i){const r=gi(t.visibleWrites,e);if(r!=null)return r;{const o=ms(t.visibleWrites,e);if(Nu(o))return n;if(n==null&&!Ou(o,Ce()))return null;{const a=n||ce.EMPTY_NODE;return Ki(o,a)}}}else{const r=ms(t.visibleWrites,e);if(!i&&Nu(r))return n;if(!i&&n==null&&!Ou(r,Ce()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Ut(c.path,e)||Ut(e,c.path))},a=c_(t.allWrites,o,e),l=n||ce.EMPTY_NODE;return Ki(a,l)}}}function R1(t,e,n){let s=ce.EMPTY_NODE;const i=gi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(He,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=ms(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=Ki(ms(r,new Ae(o)),a);s=s.updateImmediateChild(o,l)}),em(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=ms(t.visibleWrites,e);return em(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function O1(t,e,n,s,i){W(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=ze(e,n);if(Ou(t.visibleWrites,r))return null;{const o=ms(t.visibleWrites,r);return Nu(o)?i.getChild(n):Ki(o,i.getChild(n))}}function N1(t,e,n,s){const i=ze(e,n),r=gi(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=ms(t.visibleWrites,i);return Ki(o,s.getNode().getImmediateChild(n))}else return null}function M1(t,e){return gi(t.visibleWrites,e)}function L1(t,e,n,s,i,r,o){let a;const l=ms(t.visibleWrites,e),c=gi(l,Ce());if(c!=null)a=c;else if(n!=null)a=Ki(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function D1(){return{visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1}}function Da(t,e,n,s){return u_(t.writeTree,t.treePath,e,n,s)}function df(t,e){return R1(t.writeTree,t.treePath,e)}function tm(t,e,n,s){return O1(t.writeTree,t.treePath,e,n,s)}function Fa(t,e){return M1(t.writeTree,ze(t.treePath,e))}function F1(t,e,n,s,i,r){return L1(t.writeTree,t.treePath,e,n,s,i,r)}function ff(t,e,n){return N1(t.writeTree,t.treePath,e,n)}function d_(t,e){return f_(ze(t.treePath,e),t.writeTree)}function f_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,lo(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,ao(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,qi(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,lo(s,e.snapshotNode,i.oldSnap));else throw Zi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const h_=new B1;class hf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ff(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ni(this.viewCache_),r=F1(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){return{filter:t}}function j1(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function V1(t,e,n,s,i){const r=new $1;let o,a;if(n.type===Gt.OVERWRITE){const c=n;c.source.fromUser?o=Mu(t,e,c.path,c.snap,s,i,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ye(c.path),o=$a(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Gt.MERGE){const c=n;c.source.fromUser?o=W1(t,e,c.path,c.children,s,i,r):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Lu(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Gt.ACK_USER_WRITE){const c=n;c.revert?o=G1(t,e,c.path,s,i,r):o=z1(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Gt.LISTEN_COMPLETE)o=q1(t,e,n.path,s,r);else throw Zi("Unknown operation type: "+n.type);const l=r.getChanges();return H1(e,o,l),{viewCache:o,changes:l}}function H1(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Au(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(r_(Au(e)))}}function p_(t,e,n,s,i,r){const o=e.eventCache;if(Fa(s,n)!=null)return e;{let a,l;if(ye(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ni(e),u=c instanceof ce?c:ce.EMPTY_NODE,d=df(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Da(s,ni(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=ve(n);if(c===".priority"){W(_s(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=tm(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ue(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=tm(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=ff(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return Vr(e,a,o.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function $a(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ye(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=ve(n);if(!l.isCompleteForPath(n)&&_s(n)>1)return e;const p=Ue(n),y=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,h_,null)}const d=a_(e,c,l.isFullyInitialized()||ye(n),u.filtersNodes()),f=new hf(i,d,r);return p_(t,d,n,i,f,a)}function Mu(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new hf(i,e,r);if(ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Vr(e,c,!0,t.filter.filtersNodes());else{const d=ve(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Vr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ue(n),h=a.getNode().getImmediateChild(d);let p;if(ye(f))p=s;else{const m=u.getCompleteChild(d);m!=null?Zd(f)===".priority"&&m.getChild(Xy(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=ce.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Vr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nm(t,e){return t.eventCache.isCompleteForChild(e)}function W1(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=ze(n,l);nm(e,ve(u))&&(a=Mu(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=ze(n,l);nm(e,ve(u))||(a=Mu(t,a,u,c,i,r,o))}),a}function sm(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Lu(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ye(n)?c=s:c=new $e(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=sm(t,h,f);l=$a(t,l,new Ae(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=sm(t,p,f);l=$a(t,l,new Ae(d),m,i,r,o,a)}}),l}function z1(t,e,n,s,i,r,o){if(Fa(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $a(t,e,n,l.getNode().getChild(n),i,r,a,o);if(ye(n)){let c=new $e(null);return l.getNode().forEachChild(zs,(u,d)=>{c=c.set(new Ae(u),d)}),Lu(t,e,n,c,i,r,a,o)}else return e}else{let c=new $e(null);return s.foreach((u,d)=>{const f=ze(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Lu(t,e,n,c,i,r,a,o)}}function q1(t,e,n,s,i){const r=e.serverCache,o=a_(e,r.getNode(),r.isFullyInitialized()||ye(n),r.isFiltered());return p_(t,o,n,s,h_,i)}function G1(t,e,n,s,i,r){let o;if(Fa(s,n)!=null)return e;{const a=new hf(s,e,i),l=e.eventCache.getNode();let c;if(ye(n)||ve(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Da(s,ni(e));else{const d=e.serverCache.getNode();W(d instanceof ce,"serverChildren would be complete if leaf node"),u=df(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=ve(n);let d=ff(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ue(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ce.EMPTY_NODE,Ue(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Da(s,ni(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Fa(s,Ce())!=null,Vr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new rf(s.getIndex()),r=d1(s);this.processor_=U1(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ce.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ce.EMPTY_NODE,a.getNode(),null),u=new ti(l,o.isFullyInitialized(),i.filtersNodes()),d=new ti(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=kl(d,u),this.eventGenerator_=new _1(this.query_)}get query(){return this.query_}}function Y1(t){return t.viewCache_.serverCache.getNode()}function J1(t,e){const n=ni(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function im(t){return t.eventRegistrations_.length===0}function X1(t,e){t.eventRegistrations_.push(e)}function rm(t,e,n){const s=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function om(t,e,n,s){e.type===Gt.MERGE&&e.source.queryId!==null&&(W(ni(t.viewCache_),"We should always have a full cache before handling merges"),W(Au(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=V1(t.processor_,i,e,n,s);return j1(t.processor_,r.viewCache),W(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,m_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function Q1(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(r,o)=>{s.push(qi(r,o))}),n.isFullyInitialized()&&s.push(r_(n.getNode())),m_(t,s,n.getNode(),e)}function m_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return w1(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;class Z1{constructor(){this.views=new Map}}function ek(t){W(!Ba,"__referenceConstructor has already been defined"),Ba=t}function tk(){return W(Ba,"Reference.ts has not been loaded"),Ba}function nk(t){return t.views.size===0}function pf(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return W(r!=null,"SyncTree gave us an op for an invalid query."),om(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(om(o,e,n,s));return r}}function sk(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Da(n,i?s:null),l=!1;a?l=!0:s instanceof ce?(a=df(n,s),l=!1):(a=ce.EMPTY_NODE,l=!1);const c=kl(new ti(a,l,!1),new ti(s,i,!1));return new K1(e,c)}return o}function ik(t,e,n,s,i,r){const o=sk(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),X1(o,n),Q1(o,n)}function rk(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=ws(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(rm(c,n,s)),im(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(rm(l,n,s)),im(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!ws(t)&&r.push(new(tk())(e._repo,e._path)),{removed:r,events:o}}function g_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Mi(t,e){let n=null;for(const s of t.views.values())n=n||J1(s,e);return n}function v_(t,e){if(e._queryParams.loadsAllData())return Pl(t);{const s=e._queryIdentifier;return t.views.get(s)}}function y_(t,e){return v_(t,e)!=null}function ws(t){return Pl(t)!=null}function Pl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;function ok(t){W(!Ua,"__referenceConstructor has already been defined"),Ua=t}function ak(){return W(Ua,"Reference.ts has not been loaded"),Ua}let lk=1;class am{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=D1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function __(t,e,n,s,i){return T1(t.pendingWriteTree_,e,n,s,i),i?rr(t,new ei(af(),e,n)):[]}function ck(t,e,n,s){C1(t.pendingWriteTree_,e,n,s);const i=$e.fromObject(n);return rr(t,new Gi(af(),e,i))}function cs(t,e,n=!1){const s=I1(t.pendingWriteTree_,e);if(x1(t.pendingWriteTree_,e)){let r=new $e(null);return s.snap!=null?r=r.set(Ce(),!0):ct(s.children,o=>{r=r.set(new Ae(o),!0)}),rr(t,new La(s.path,r,n))}else return[]}function Al(t,e,n){return rr(t,new ei(lf(),e,n))}function uk(t,e,n){const s=$e.fromObject(n);return rr(t,new Gi(lf(),e,s))}function dk(t,e){return rr(t,new uo(lf(),e))}function fk(t,e,n){const s=gf(t,n);if(s){const i=vf(s),r=i.path,o=i.queryId,a=It(r,e),l=new uo(cf(o),a);return yf(t,r,l)}else return[]}function Du(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||y_(o,e))){const l=rk(o,e,n,s);nk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>ws(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=mk(f);for(let p=0;p<h.length;++p){const m=h[p],y=m.query,w=S_(t,m);t.listenProvider_.startListening(Wr(y),ja(t,y),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Wr(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Rl(f));t.listenProvider_.stopListening(Wr(f),h)}))}gk(t,c)}return a}function hk(t,e,n,s){const i=gf(t,s);if(i!=null){const r=vf(i),o=r.path,a=r.queryId,l=It(o,e),c=new ei(cf(a),l,n);return yf(t,o,c)}else return[]}function pk(t,e,n,s){const i=gf(t,s);if(i){const r=vf(i),o=r.path,a=r.queryId,l=It(o,e),c=$e.fromObject(n),u=new Gi(cf(a),l,c);return yf(t,o,u)}else return[]}function lm(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=It(f,i);r=r||Mi(h,p),o=o||ws(h)});let a=t.syncPointTree_.get(i);a?(o=o||ws(a),r=r||Mi(a,Ce())):(a=new Z1,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=ce.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=Mi(p,Ce());m&&(r=r.updateImmediateChild(h,m))}));const c=y_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Rl(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=vk();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=uf(t.pendingWriteTree_,i);let d=ik(a,e,n,u,r,l);if(!c&&!o&&!s){const f=v_(a,e);d=d.concat(yk(t,e,f))}return d}function mf(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=It(o,e),c=Mi(a,l);if(c)return c});return u_(i,e,r,n,!0)}function rr(t,e){return w_(e,t.syncPointTree_,null,uf(t.pendingWriteTree_,Ce()))}function w_(t,e,n,s){if(ye(t.path))return b_(t,e,n,s);{const i=e.get(Ce());n==null&&i!=null&&(n=Mi(i,Ce()));let r=[];const o=ve(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=d_(s,o);r=r.concat(w_(a,l,c,u))}return i&&(r=r.concat(pf(i,t,s,n))),r}}function b_(t,e,n,s){const i=e.get(Ce());n==null&&i!=null&&(n=Mi(i,Ce()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=d_(s,o),u=t.operationForChild(o);u&&(r=r.concat(b_(u,a,l,c)))}),i&&(r=r.concat(pf(i,t,s,n))),r}function S_(t,e){const n=e.query,s=ja(t,n);return{hashFn:()=>(Y1(e)||ce.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?fk(t,n._path,s):dk(t,n._path);{const r=dx(i,n);return Du(t,n,null,r)}}}}function ja(t,e){const n=Rl(e);return t.queryToTagMap.get(n)}function Rl(t){return t._path.toString()+"$"+t._queryIdentifier}function gf(t,e){return t.tagToQueryMap.get(e)}function vf(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function yf(t,e,n){const s=t.syncPointTree_.get(e);W(s,"Missing sync point for query tag that we're tracking");const i=uf(t.pendingWriteTree_,e);return pf(s,n,i,null)}function mk(t){return t.fold((e,n,s)=>{if(n&&ws(n))return[Pl(n)];{let i=[];return n&&(i=g_(n)),ct(s,(r,o)=>{i=i.concat(o)}),i}})}function Wr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ak())(t._repo,t._path):t}function gk(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Rl(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function vk(){return lk++}function yk(t,e,n){const s=e._path,i=ja(t,e),r=S_(t,n),o=t.listenProvider_.startListening(Wr(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)W(!ws(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ye(c)&&u&&ws(u))return[Pl(u).query];{let f=[];return u&&(f=f.concat(g_(u).map(h=>h.query))),ct(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Wr(u),ja(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _f(n)}node(){return this.node_}}class wf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new wf(this.syncTree_,n)}node(){return mf(this.syncTree_,this.path_)}}const _k=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cm=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bk(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},bk=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&W(!1,"Unexpected increment value: "+s);const i=e.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},E_=function(t,e,n,s){return bf(e,new wf(n,t),s)},T_=function(t,e,n){return bf(t,new _f(e),n)};function bf(t,e,n){const s=t.getPriority().val(),i=cm(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=cm(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new et(a,st(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new et(i))),o.forEachChild(He,(a,l)=>{const c=bf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ef(t,e){let n=e instanceof Ae?e:new Ae(e),s=t,i=ve(n);for(;i!==null;){const r=zi(s.node.children,i)||{children:{},childCount:0};s=new Sf(i,s,r),n=Ue(n),i=ve(n)}return s}function or(t){return t.node.value}function C_(t,e){t.node.value=e,Fu(t)}function I_(t){return t.node.childCount>0}function Sk(t){return or(t)===void 0&&!I_(t)}function Ol(t,e){ct(t.node.children,(n,s)=>{e(new Sf(n,t,s))})}function x_(t,e,n,s){n&&e(t),Ol(t,i=>{x_(i,e,!0)})}function Ek(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function To(t){return new Ae(t.parent===null?t.name:To(t.parent)+"/"+t.name)}function Fu(t){t.parent!==null&&Tk(t.parent,t.name,t)}function Tk(t,e,n){const s=Sk(n),i=Cn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Fu(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Fu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/[\[\].#$\/\u0000-\u001F\u007F]/,Ik=/[\[\].#$\u0000-\u001F\u007F]/,Ic=10*1024*1024,Tf=function(t){return typeof t=="string"&&t.length!==0&&!Ck.test(t)},k_=function(t){return typeof t=="string"&&t.length!==0&&!Ik.test(t)},xk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),k_(t)},$u=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Kd(t)||t&&typeof t=="object"&&Cn(t,".sv")},kk=function(t,e,n,s){Nl(Cl(t,"value"),e,n)},Nl=function(t,e,n){const s=n instanceof Ae?new zx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ls(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ls(s)+" with contents = "+e.toString());if(Kd(e))throw new Error(t+"contains "+e.toString()+" "+Ls(s));if(typeof e=="string"&&e.length>Ic/3&&Il(e)>Ic)throw new Error(t+"contains a string greater than "+Ic+" utf8 bytes "+Ls(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(ct(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Tf(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ls(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qx(s,o),Nl(t,a,s),Gx(s)}),i&&r)throw new Error(t+' contains ".value" child '+Ls(s)+" in addition to actual children.")}},Pk=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=oo(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Tf(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Wx);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Ut(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},Ak=function(t,e,n,s){const i=Cl(t,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];ct(e,(o,a)=>{const l=new Ae(o);if(Nl(i,a,ze(n,l)),Zd(l)===".priority"&&!$u(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),Pk(i,r)},Cf=function(t,e,n,s){if(!k_(n))throw new Error(Cl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Rk=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cf(t,e,n)},P_=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ok=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Tf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xk(n))throw new Error(Cl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ml(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!ef(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function A_(t,e,n){Ml(t,n),R_(t,s=>ef(s,e))}function tn(t,e,n){Ml(t,n),R_(t,s=>Ut(s,e)||Ut(e,s))}function R_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(Mk(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Mk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Ur&&lt("event: "+n.toString()),ir(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="repo_interrupt",Dk=25;class Fk{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new Sf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $k(t,e,n){if(t.stats_=Xd(t.repoInfo_),t.forceRestClient_||mx())t.server_=new Na(t.repoInfo_,(s,i,r,o)=>{um(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new jn(t.repoInfo_,e,(s,i,r,o)=>{um(t,s,i,r,o)},s=>{dm(t,s)},s=>{Uk(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=wx(t.repoInfo_,()=>new y1(t.stats_,t.server_)),t.infoData_=new h1,t.infoSyncTree_=new am({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Al(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),If(t,"connected",!1),t.serverSyncTree_=new am({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);tn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Bk(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ll(t){return _k({timestamp:Bk(t)})}function um(t,e,n,s,i){t.dataUpdateCount++;const r=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=xa(n,c=>st(c));o=pk(t.serverSyncTree_,r,l,i)}else{const l=st(n);o=hk(t.serverSyncTree_,r,l,i)}else if(s){const l=xa(n,c=>st(c));o=uk(t.serverSyncTree_,r,l)}else{const l=st(n);o=Al(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Yi(t,r)),tn(t.eventQueue_,a,o)}function dm(t,e){If(t,"connected",e),e===!1&&Hk(t)}function Uk(t,e){ct(e,(n,s)=>{If(t,n,s)})}function If(t,e,n){const s=new Ae("/.info/"+e),i=st(n);t.infoData_.updateSnapshot(s,i);const r=Al(t.infoSyncTree_,s,i);tn(t.eventQueue_,s,r)}function xf(t){return t.nextWriteId_++}function jk(t,e,n,s,i){Dl(t,"set",{path:e.toString(),value:n,priority:s});const r=Ll(t),o=st(n,s),a=mf(t.serverSyncTree_,e),l=T_(o,a,r),c=xf(t),u=__(t.serverSyncTree_,e,l,c,!0);Ml(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||bt("set at "+e+" failed: "+f);const m=cs(t.serverSyncTree_,c,!p);tn(t.eventQueue_,e,m),Bu(t,i,f,h)});const d=Pf(t,e);Yi(t,d),tn(t.eventQueue_,d,[])}function Vk(t,e,n,s){Dl(t,"update",{path:e.toString(),value:n});let i=!0;const r=Ll(t),o={};if(ct(n,(a,l)=>{i=!1,o[a]=E_(ze(e,a),st(l),t.serverSyncTree_,r)}),i)lt("update() called with empty data.  Don't do anything."),Bu(t,s,"ok",void 0);else{const a=xf(t),l=ck(t.serverSyncTree_,e,o,a);Ml(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||bt("update at "+e+" failed: "+c);const f=cs(t.serverSyncTree_,a,!d),h=f.length>0?Yi(t,e):e;tn(t.eventQueue_,h,f),Bu(t,s,c,u)}),ct(n,c=>{const u=Pf(t,ze(e,c));Yi(t,u)}),tn(t.eventQueue_,e,[])}}function Hk(t){Dl(t,"onDisconnectEvents");const e=Ll(t),n=Ma();Pu(t.onDisconnect_,Ce(),(i,r)=>{const o=E_(i,r,t.serverSyncTree_,e);o_(n,i,o)});let s=[];Pu(n,Ce(),(i,r)=>{s=s.concat(Al(t.serverSyncTree_,i,r));const o=Pf(t,i);Yi(t,o)}),t.onDisconnect_=Ma(),tn(t.eventQueue_,Ce(),s)}function Wk(t,e,n){let s;ve(e._path)===".info"?s=lm(t.infoSyncTree_,e,n):s=lm(t.serverSyncTree_,e,n),A_(t.eventQueue_,e._path,s)}function fm(t,e,n){let s;ve(e._path)===".info"?s=Du(t.infoSyncTree_,e,n):s=Du(t.serverSyncTree_,e,n),A_(t.eventQueue_,e._path,s)}function zk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Lk)}function Dl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),lt(n,...e)}function Bu(t,e,n,s){e&&ir(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function O_(t,e,n){return mf(t.serverSyncTree_,e,n)||ce.EMPTY_NODE}function kf(t,e=t.transactionQueueTree_){if(e||Fl(t,e),or(e)){const n=M_(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&qk(t,To(e),n)}else I_(e)&&Ol(e,n=>{kf(t,n)})}function qk(t,e,n){const s=n.map(c=>c.currentWriteId),i=O_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];W(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=It(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Dl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(cs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Fl(t,Ef(t.transactionQueueTree_,e)),kf(t,t.transactionQueueTree_),tn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ir(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{bt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Yi(t,e)}},o)}function Yi(t,e){const n=N_(t,e),s=To(n),i=M_(t,n);return Gk(t,i,s),s}function Gk(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=It(n,l.path);let u=!1,d;if(W(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(cs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Dk)u=!0,d="maxretry",i=i.concat(cs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=O_(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Nl("transaction failed: Data returned ",h,l.path);let p=st(h);typeof h=="object"&&h!=null&&Cn(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,w=Ll(t),v=T_(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=xf(t),o.splice(o.indexOf(y),1),i=i.concat(__(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(cs(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(cs(t.serverSyncTree_,l.currentWriteId,!0))}tn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fl(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)ir(s[a]);kf(t,t.transactionQueueTree_)}function N_(t,e){let n,s=t.transactionQueueTree_;for(n=ve(e);n!==null&&or(s)===void 0;)s=Ef(s,n),e=Ue(e),n=ve(e);return s}function M_(t,e){const n=[];return L_(t,e,n),n.sort((s,i)=>s.order-i.order),n}function L_(t,e,n){const s=or(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Ol(e,i=>{L_(t,i,n)})}function Fl(t,e){const n=or(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,C_(e,n.length>0?n:void 0)}Ol(e,s=>{Fl(t,s)})}function Pf(t,e){const n=To(N_(t,e)),s=Ef(t.transactionQueueTree_,e);return Ek(s,i=>{xc(t,i)}),xc(t,s),x_(s,i=>{xc(t,i)}),n}function xc(t,e){const n=or(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(W(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(W(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?C_(e,void 0):n.length=r+1,tn(t.eventQueue_,To(e),i);for(let o=0;o<s.length;o++)ir(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Yk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):bt(`Invalid query segment '${n}' in query '${t}'`)}return e}const hm=function(t,e){const n=Jk(t),s=n.namespace;n.domain==="firebase.com"&&zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ox();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vy(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Ae(n.pathString)}},Jk=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Kk(t.substring(u,d)));const f=Yk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class Qk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return ye(this._path)?null:Zd(this._path)}get ref(){return new xs(this._repo,this._path)}get _queryIdentifier(){const e=Xp(this._queryParams),n=Yd(e);return n==="{}"?"default":n}get _queryObject(){return Xp(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof $l))return!1;const n=this._repo===e._repo,s=ef(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hx(this._path)}}function eP(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function tP(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===zs){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Zs)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ys)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===He){if(e!=null&&!$u(e)||n!=null&&!$u(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof sf||t.getIndex()===i_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class xs extends $l{constructor(e,n){super(e,n,new of,!1)}get parent(){const e=Xy(this._path);return e===null?null:new xs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Va{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),s=Uu(this.ref,e);return new Va(this._node.getChild(n),s,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Va(i,Uu(this.ref,s),He)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ft(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?Uu(t._root,e):t._root}function Uu(t,e){return t=Ze(t),ve(t._path)===null?Rk("child","path",e):Cf("child","path",e),new xs(t._repo,ze(t._path,e))}function ju(t){return P_("remove",t._path),Af(t,null)}function Af(t,e){t=Ze(t),P_("set",t._path),kk("set",e,t._path);const n=new wo;return jk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function nP(t,e){Ak("update",e,t._path);const n=new wo;return Vk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Rf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Xk("value",this,new Va(e.snapshotNode,new xs(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Qk(this,e,n):null}matches(e){return e instanceof Rf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sP(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{fm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Zk(n,r||void 0),a=new Rf(o);return Wk(t._repo,t,a),()=>fm(t._repo,t,a)}function qs(t,e,n,s){return sP(t,"value",e,n,s)}class iP{}class rP extends iP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){eP(e,"orderByChild");const n=new Ae(this._path);if(ye(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new sf(n),i=f1(e._queryParams,s);return tP(i),new $l(e._repo,e._path,i,!0)}}function D_(t){return Cf("orderByChild","path",t),new rP(t)}function F_(t,...e){let n=Ze(t);for(const s of e)n=s._apply(n);return n}ek(xs);ok(xs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="FIREBASE_DATABASE_EMULATOR_HOST",Vu={};let aP=!1;function lP(t,e,n,s){t.repoInfo_=new Vy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function cP(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hm(r,i),a=o.repoInfo,l;typeof process<"u"&&Np&&(l=Np[oP]),l?(r=`http://${l}?ns=${a.namespace}`,o=hm(r,i),a=o.repoInfo):o.repoInfo.secure;const c=new vx(t.name,t.options,e);Ok("Invalid Firebase Database URL",o),ye(o.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=dP(a,t,c,new gx(t.name,n));return new fP(u,t)}function uP(t,e){const n=Vu[e];(!n||n[t.key]!==t)&&zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),zk(t),delete n[t.key]}function dP(t,e,n,s){let i=Vu[e.name];i||(i={},Vu[e.name]=i);let r=i[t.toURLString()];return r&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Fk(t,aP,n,s),i[t.toURLString()]=r,r}class fP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($k(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xs(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zn("Cannot call "+e+" on a deleted database.")}}function Co(t=Gd(),e){const n=nr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=OC("database");s&&hP(n,...s)}return n}function hP(t,e,n,s={}){t=Ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&zn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new na(na.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:NC(s.mockUserToken,t.app.options.projectId);r=new na(o)}lP(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){ex(sr),en(new zt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return cP(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Ht(Mp,Lp,t),Ht(Mp,Lp,"esm2017")}jn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};jn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pP();function Of(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function $_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mP=$_,B_=new Is("auth","Firebase",$_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new zd("@firebase/auth");function gP(t,...e){Ha.logLevel<=Oe.WARN&&Ha.warn(`Auth (${sr}): ${t}`,...e)}function sa(t,...e){Ha.logLevel<=Oe.ERROR&&Ha.error(`Auth (${sr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Nf(t,...e)}function vn(t,...e){return Nf(t,...e)}function U_(t,e,n){const s=Object.assign(Object.assign({},mP()),{[e]:n});return new Is("auth","Firebase",s).create(e,{appName:t.name})}function Vn(t){return U_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return B_.create(t,...e)}function le(t,e,...n){if(!t)throw Nf(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sa(e),new Error(e)}function qn(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vP(){return pm()==="http:"||pm()==="https:"}function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vP()||LC()||"connection"in navigator)?navigator.onLine:!0}function _P(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=Wd()||_y()}get(){return yP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Io(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jn(t,e,n,s,i={}){return V_(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=er(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return MC()||(c.referrerPolicy="no-referrer"),j_.fetch()(H_(t,t.config.apiHost,n,a),c)})}async function V_(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},wP),e);try{const i=new EP(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Vo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw U_(t,u,c);nn(t,u)}}catch(i){if(i instanceof Yn)throw i;nn(t,"network-request-failed",{message:String(i)})}}async function xo(t,e,n,s,i={}){const r=await Jn(t,e,n,s,i);return"mfaPendingCredential"in r&&nn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function H_(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?Mf(t.config,i):`${t.config.apiScheme}://${i}`}function SP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vn(this.auth,"network-request-failed")),bP.get())})}}function Vo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=vn(t,e,s);return i.customData._tokenResponse=n,i}function mm(t){return t!==void 0&&t.enterprise!==void 0}class TP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CP(t,e){return Jn(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e){return Jn(t,"POST","/v1/accounts:delete",e)}async function W_(t,e){return Jn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xP(t,e=!1){const n=Ze(t),s=await n.getIdToken(e),i=Lf(s);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:zr(kc(i.auth_time)),issuedAtTime:zr(kc(i.iat)),expirationTime:zr(kc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function kc(t){return Number(t)*1e3}function Lf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return sa("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ia(n);return i?JSON.parse(i):(sa("Failed to decode base64 JWT payload"),null)}catch(i){return sa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gm(t){const e=Lf(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yn&&kP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function kP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Ji(t,W_(n,{idToken:s}));le(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?z_(r.providerUserInfo):[],a=RP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Wu(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function AP(t){const e=Ze(t);await Wa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RP(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function z_(t){return t.map(e=>{var{providerId:n}=e,s=Of(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e){const n=await V_(t,{},async()=>{const s=er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=H_(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j_.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NP(t,e){return Jn(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=gm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await OP(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Li;return s&&(le(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(le(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Wu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Ji(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xP(this,e)}reload(){return AP(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wa(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await Ji(this,IP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:S,isAnonymous:T,providerData:R,stsTokenManager:U}=n;le(g&&U,e,"internal-error");const x=Li.fromJSON(this.name,U);le(typeof g=="string",e,"internal-error"),Zn(d,e.name),Zn(f,e.name),le(typeof S=="boolean",e,"internal-error"),le(typeof T=="boolean",e,"internal-error"),Zn(h,e.name),Zn(p,e.name),Zn(m,e.name),Zn(y,e.name),Zn(w,e.name),Zn(v,e.name);const C=new $n({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:x,createdAt:w,lastLoginAt:v});return R&&Array.isArray(R)&&(C.providerData=R.map(k=>Object.assign({},k))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,n,s=!1){const i=new Li;i.updateFromServerResponse(n);const r=new $n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Wa(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];le(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?z_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Li;a.updateFromIdToken(s);const l=new $n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Wu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map;function Bn(t){qn(t instanceof Function,"Expected a class definition");let e=vm.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q_.type="NONE";const ym=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e,n){return`firebase:${t}:${e}:${n}`}class Di{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=ia(this.userKey,i.apiKey,r),this.fullPersistenceKey=ia("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$n._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Di(Bn(ym),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||Bn(ym);const o=ia(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=$n._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Di(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Di(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q_(e))return"Blackberry";if(Z_(e))return"Webos";if(K_(e))return"Safari";if((e.includes("chrome/")||Y_(e))&&!e.includes("edge/"))return"Chrome";if(X_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function G_(t=Et()){return/firefox\//i.test(t)}function K_(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y_(t=Et()){return/crios\//i.test(t)}function J_(t=Et()){return/iemobile/i.test(t)}function X_(t=Et()){return/android/i.test(t)}function Q_(t=Et()){return/blackberry/i.test(t)}function Z_(t=Et()){return/webos/i.test(t)}function Df(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MP(t=Et()){var e;return Df(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LP(){return DC()&&document.documentMode===10}function ew(t=Et()){return Df(t)||X_(t)||Z_(t)||Q_(t)||/windows phone/i.test(t)||J_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e=[]){let n;switch(t){case"Browser":n=_m(Et());break;case"Worker":n=`${_m(Et())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e={}){return Jn(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=6;class BP{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$P,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wm(this),this.idTokenSubscription=new wm(this),this.beforeStateQueue=new DP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Di.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await W_(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_P()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Vn(this));const n=e?Ze(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FP(this),n=new BP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Is("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vi(t){return Ze(t)}class wm{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jP(t){Bl=t}function nw(t){return Bl.loadJS(t)}function VP(){return Bl.recaptchaEnterpriseScript}function HP(){return Bl.gapiScript}function WP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zP{constructor(){this.enterprise=new qP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GP="recaptcha-enterprise",sw="NO_RECAPTCHA";class KP{constructor(e){this.type=GP,this.auth=vi(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{CP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;mm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(sw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zP().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&mm(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VP();l.length!==0&&(l+=a),nw(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bm(t,e,n,s=!1,i=!1){const r=new KP(t);let o;if(i)o=sw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zu(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bm(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bm(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){const n=nr(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(ka(r,e??{}))return i;nn(i,"already-initialized")}return n.initialize({options:e})}function JP(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function XP(t,e,n){const s=vi(t);le(s._canInitEmulator,s,"emulator-config-failed"),le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=iw(e),{host:o,port:a}=QP(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),ZP()}function iw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QP(t){const e=iw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Sm(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Sm(o)}}}function Sm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function eA(t,e){return Jn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e){return xo(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e){return xo(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function sA(t,e){return xo(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Ff{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new fo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zu(e,n,"signInWithPassword",tA);case"emailLink":return nA(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zu(e,s,"signUpPassword",eA);case"emailLink":return sA(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e){return xo(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="http://localhost";class si extends Ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Of(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new si(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}buildRequest(){const e={requestUri:iA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=er(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oA(t){const e=xr(kr(t)).link,n=e?xr(kr(e)).deep_link_id:null,s=xr(kr(t)).deep_link_id;return(s?xr(kr(s)).link:null)||s||n||e||t}class $f{constructor(e){var n,s,i,r,o,a;const l=xr(kr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=rA((i=l.mode)!==null&&i!==void 0?i:null);le(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oA(e);try{return new $f(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.providerId=ar.PROVIDER_ID}static credential(e,n){return fo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$f.parseLink(n);return le(s,"argument-error"),fo._fromEmailAndCode(e,s.code,s.tenantId)}}ar.PROVIDER_ID="password";ar.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ar.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends rw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ko{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return si._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends ko{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends ko{constructor(){super("twitter.com")}static credential(e,n){return si._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t,e){return xo(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await $n._fromIdTokenResponse(e,s,i),o=Em(s);return new ii({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Em(s);return new ii({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Em(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Yn{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,za.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new za(e,n,s,i)}}function ow(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(t,r,e,s):r})}async function lA(t,e,n=!1){const s=await Ji(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ii._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(t,e,n=!1){const{auth:s}=t;if(pn(s.app))return Promise.reject(Vn(s));const i="reauthenticate";try{const r=await Ji(t,ow(s,i,e,t),n);le(r.idToken,s,"internal-error");const o=Lf(r.idToken);le(o,s,"internal-error");const{sub:a}=o;return le(t.uid===a,s,"user-mismatch"),ii._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&nn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(t,e,n=!1){if(pn(t.app))return Promise.reject(Vn(t));const s="signIn",i=await ow(t,s,e),r=await ii._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function uA(t,e){return aw(vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t){const e=vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dA(t,e,n){if(pn(t.app))return Promise.reject(Vn(t));const s=vi(t),o=await zu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lw(t),l}),a=await ii._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function fA(t,e,n){return pn(t.app)?Promise.reject(Vn(t)):uA(Ze(t),ar.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e){return Jn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ze(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ji(s,hA(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function pA(t,e,n,s){return Ze(t).onIdTokenChanged(e,n,s)}function mA(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function gs(t,e,n,s){return Ze(t).onAuthStateChanged(e,n,s)}function gA(t){return Ze(t).signOut()}const qa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=1e3,yA=10;class uw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);LP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yA):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uw.type="LOCAL";const _A=uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dw.type="SESSION";const fw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Ul(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await wA(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ul.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Bf("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function SA(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function EA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CA(){return hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",IA=1,Ga="firebaseLocalStorage",mw="fbase_key";class Po{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jl(t,e){return t.transaction([Ga],e?"readwrite":"readonly").objectStore(Ga)}function xA(){const t=indexedDB.deleteDatabase(pw);return new Po(t).toPromise()}function qu(){const t=indexedDB.open(pw,IA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ga,{keyPath:mw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ga)?e(s):(s.close(),await xA(),e(await qu()))})})}async function Cm(t,e,n){const s=jl(t,!0).put({[mw]:e,value:n});return new Po(s).toPromise()}async function kA(t,e){const n=jl(t,!1).get(e),s=await new Po(n).toPromise();return s===void 0?null:s.value}function Im(t,e){const n=jl(t,!0).delete(e);return new Po(n).toPromise()}const PA=800,AA=3;class gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ul._getInstance(CA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EA(),!this.activeServiceWorker)return;this.sender=new bA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qu();return await Cm(e,qa,"1"),await Im(e,qa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Im(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=jl(i,!1).getAll();return new Po(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gw.type="LOCAL";const RA=gw;new Io(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){return e?Bn(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends Ff{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NA(t){return aw(t.auth,new Uf(t),t.bypassAuthState)}function MA(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),cA(n,new Uf(t),t.bypassAuthState)}async function LA(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),lA(n,new Uf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NA;case"linkViaPopup":case"linkViaRedirect":return LA;case"reauthViaPopup":case"reauthViaRedirect":return MA;default:nn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Io(2e3,1e4);class xi extends vw{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DA.get())};e()}}xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="pendingRedirect",ra=new Map;class $A extends vw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ra.get(this.auth._key());if(!e){try{const s=await BA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BA(t,e){const n=VA(e),s=jA(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function UA(t,e){ra.set(t._key(),e)}function jA(t){return Bn(t._redirectPersistence)}function VA(t){return ia(FA,t.config.apiKey,t.name)}async function HA(t,e,n=!1){if(pn(t.app))return Promise.reject(Vn(t));const s=vi(t),i=OA(s,e),o=await new $A(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=10*60*1e3;class zA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!yw(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WA&&this.cachedEventUids.clear(),this.cachedEventUids.has(xm(e))}saveEventToCache(e){this.cachedEventUids.add(xm(e)),this.lastProcessedEventTime=Date.now()}}function xm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(t,e={}){return Jn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YA=/^https?/;async function JA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GA(t);for(const n of e)try{if(XA(n))return}catch{}nn(t,"unauthorized-domain")}function XA(t){const e=Hu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!YA.test(n))return!1;if(KA.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Io(3e4,6e4);function km(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZA(t){return new Promise((e,n)=>{var s,i,r;function o(){km(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{km(),n(vn(t,"network-request-failed"))},timeout:QA.get()})}if(!((i=(s=yn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=yn().gapi)===null||r===void 0)&&r.load)o();else{const a=WP("iframefcb");return yn()[a]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},nw(`${HP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw oa=null,e})}let oa=null;function eR(t){return oa=oa||ZA(t),oa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Io(5e3,15e3),nR="__/auth/iframe",sR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mf(e,sR):`https://${t.config.authDomain}/${nR}`,s={apiKey:e.apiKey,appName:t.name,v:sr},i=rR.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${er(s).slice(1)}`}async function aR(t){const e=await eR(t),n=yn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:oR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=yn().setTimeout(()=>{r(o)},tR.get());function l(){yn().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cR=500,uR=600,dR="_blank",fR="http://localhost";class Pm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hR(t,e,n,s=cR,i=uR){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lR),{width:s.toString(),height:i.toString(),top:r,left:o}),c=Et().toLowerCase();n&&(a=Y_(c)?dR:n),G_(c)&&(e=e||fR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(MP(c)&&a!=="_self")return pR(e||"",a),new Pm(null);const d=window.open(e||"",a,u);le(d,t,"popup-blocked");try{d.focus()}catch{}return new Pm(d)}function pR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="__/auth/handler",gR="emulator/auth/handler",vR=encodeURIComponent("fac");async function Am(t,e,n,s,i,r){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:sr,eventId:i};if(e instanceof rw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof ko){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${vR}=${encodeURIComponent(l)}`:"";return`${yR(t)}?${er(a).slice(1)}${c}`}function yR({config:t}){return t.emulator?Mf(t,gR):`https://${t.authDomain}/${mR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=HA,this._overrideRedirectResult=UA}async _openPopup(e,n,s,i){var r;qn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Am(e,n,s,Hu(),i);return hR(e,o,Bf())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Am(e,n,s,Hu(),i);return SA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(qn(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await aR(e),s=new zA(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pc,{type:Pc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Pc];o!==void 0&&n(!!o),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ew()||K_()||Df()}}const wR=_R;var Rm="@firebase/auth",Om="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ER(t){en(new zt("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(t)},c=new UP(s,i,r,l);return JP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),en(new zt("auth-internal",e=>{const n=vi(e.getProvider("auth").getImmediate());return(s=>new bR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(Rm,Om,SR(t)),Ht(Rm,Om,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=5*60,CR=yy("authIdTokenMaxAge")||TR;let Nm=null;const IR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CR)return;const i=n==null?void 0:n.token;Nm!==i&&(Nm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bs(t=Gd()){const e=nr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YP(t,{popupRedirectResolver:wR,persistence:[RA,_A,fw]}),s=yy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=IR(r.toString());mA(n,o,()=>o(n.currentUser)),pA(n,a=>o(a))}}const i=gy("auth");return i&&XP(n,`http://${i}`),n}function xR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=vn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",xR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ER("Browser");const jf=_o("searchStore",()=>{const t=F([]),e=F(""),n=F([]),s=Co(),i=bs();return{memory:e,memoryFilms:n,lastSearch:t,getLastSearch:()=>{gs(i,c=>{if(c){const u=F_(Ft(s,`users/${c.uid}/search`),D_("date"));qs(u,d=>{const f=[];d.forEach(h=>{f.push(h.val())}),t.value=f.reverse()},d=>{console.log(d)})}else console.log("User logged out")})},addToLastSearch:(c,u)=>{const d=new Date().getTime();c.isFavorite=!0,Af(Ft(s,"users/"+i.currentUser.uid+"/search/"+u),{nameRu:c.nameRu?c.nameRu:c.nameEn,year:c.year,rating:c.rating,posterUrl:c.posterUrl,id:+u,date:d}).then(()=>console.log("Добавлено")).catch(f=>console.log(f))},removeFromSearch:c=>{ju(Ft(s,"users/"+i.currentUser.uid+"/search/"+c)).then(()=>console.log("Удалено")).catch(u=>console.log(u))},removeAllSearch:()=>{ju(Ft(s,"users/"+i.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(c=>console.log(c))}}}),kR={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-600 bg-opacity-50 backdrop-blur-sm"},PR={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},AR={__name:"Header",setup(t){const e=jf();return(n,s)=>{const i=Cs("RouterLink");return P(),B("header",kR,[E("nav",PR,[$(i,{to:"/",class:"flex flex-col items-center gap-1"},{default:ee(()=>[$(M(bC),{class:"w-6 text-gray-50",alt:"home"}),s[1]||(s[1]=E("span",{class:"text-xs text-white"},"Главное",-1))]),_:1}),$(i,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:ee(()=>[$(M(Ud),{class:"w-6 text-gray-50",alt:"favorites"}),s[2]||(s[2]=E("span",{class:"text-xs text-white"},"Мое",-1))]),_:1}),$(i,{to:"/search",class:"flex flex-col items-center gap-1",onClick:s[0]||(s[0]=r=>{M(e).memory="",M(e).memoryFilms=[]})},{default:ee(()=>[$(M(uy),{class:"w-6 text-gray-50",alt:"search"}),s[3]||(s[3]=E("span",{class:"text-xs text-white"},"Поиск",-1))]),_:1}),$(i,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:ee(()=>[$(M(EC),{class:"w-6 text-gray-50",alt:"profile"}),s[4]||(s[4]=E("span",{class:"text-xs text-white"},"Профиль",-1))]),_:1})])])}}},_w="@firebase/installations",Vf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1e4,bw=`w:${Vf}`,Sw="FIS_v2",RR="https://firebaseinstallations.googleapis.com/v1",OR=60*60*1e3,NR="installations",MR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ri=new Is(NR,MR,LR);function Ew(t){return t instanceof Yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw({projectId:t}){return`${RR}/projects/${t}/installations`}function Cw(t){return{token:t.token,requestStatus:2,expiresIn:FR(t.expiresIn),creationTime:Date.now()}}async function Iw(t,e){const s=(await e.json()).error;return ri.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function xw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DR(t,{refreshToken:e}){const n=xw(t);return n.append("Authorization",$R(e)),n}async function kw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FR(t){return Number(t.replace("s","000"))}function $R(t){return`${Sw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Tw(t),i=xw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Sw,appId:t.appId,sdkVersion:bw},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await kw(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Cw(c.authToken)}}else throw await Iw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=/^[cdef][\w-]{21}$/,Gu="";function VR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=HR(t);return jR.test(n)?n:Gu}catch{return Gu}}function HR(t){return UR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function Rw(t,e){const n=Vl(t);Ow(n,e),WR(n,e)}function Ow(t,e){const n=Aw.get(t);if(n)for(const s of n)s(e)}function WR(t,e){const n=zR();n&&n.postMessage({key:t,fid:e}),qR()}let $s=null;function zR(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=t=>{Ow(t.data.key,t.data.fid)}),$s}function qR(){Aw.size===0&&$s&&($s.close(),$s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebase-installations-database",KR=1,oi="firebase-installations-store";let Ac=null;function Hf(){return Ac||(Ac=tr(GR,KR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oi)}}})),Ac}async function Ka(t,e){const n=Vl(t),i=(await Hf()).transaction(oi,"readwrite"),r=i.objectStore(oi),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Rw(t,e.fid),e}async function Nw(t){const e=Vl(t),s=(await Hf()).transaction(oi,"readwrite");await s.objectStore(oi).delete(e),await s.done}async function Hl(t,e){const n=Vl(t),i=(await Hf()).transaction(oi,"readwrite"),r=i.objectStore(oi),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Rw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){let e;const n=await Hl(t.appConfig,s=>{const i=YR(s),r=JR(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===Gu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function YR(t){const e=t||{fid:VR(),registrationStatus:0};return Mw(e)}function JR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ri.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=XR(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QR(t)}:{installationEntry:e}}async function XR(t,e){try{const n=await BR(t,e);return Ka(t.appConfig,n)}catch(n){throw Ew(n)&&n.customData.serverCode===409?await Nw(t.appConfig):await Ka(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function QR(t){let e=await Mm(t.appConfig);for(;e.registrationStatus===1;)await Pw(100),e=await Mm(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Wf(t);return s||n}return e}function Mm(t){return Hl(t,e=>{if(!e)throw ri.create("installation-not-found");return Mw(e)})}function Mw(t){return ZR(t)?{fid:t.fid,registrationStatus:0}:t}function ZR(t){return t.registrationStatus===1&&t.registrationTime+ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO({appConfig:t,heartbeatServiceProvider:e},n){const s=tO(t,n),i=DR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:bw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await kw(()=>fetch(s,a));if(l.ok){const c=await l.json();return Cw(c)}else throw await Iw("Generate Auth Token",l)}function tO(t,{fid:e}){return`${Tw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t,e=!1){let n;const s=await Hl(t.appConfig,r=>{if(!Lw(r))throw ri.create("not-registered");const o=r.authToken;if(!e&&iO(o))return r;if(o.requestStatus===1)return n=nO(t,e),r;{if(!navigator.onLine)throw ri.create("app-offline");const a=oO(r);return n=sO(t,a),a}});return n?await n:s.authToken}async function nO(t,e){let n=await Lm(t.appConfig);for(;n.authToken.requestStatus===1;)await Pw(100),n=await Lm(t.appConfig);const s=n.authToken;return s.requestStatus===0?zf(t,e):s}function Lm(t){return Hl(t,e=>{if(!Lw(e))throw ri.create("not-registered");const n=e.authToken;return aO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sO(t,e){try{const n=await eO(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Ka(t.appConfig,s),n}catch(n){if(Ew(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Nw(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ka(t.appConfig,s)}throw n}}function Lw(t){return t!==void 0&&t.registrationStatus===2}function iO(t){return t.requestStatus===2&&!rO(t)}function rO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+OR}function oO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aO(t){return t.requestStatus===1&&t.requestTime+ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t){const e=t,{installationEntry:n,registrationPromise:s}=await Wf(e);return s?s.catch(console.error):zf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e=!1){const n=t;return await uO(n),(await zf(n,e)).token}async function uO(t){const{registrationPromise:e}=await Wf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){if(!t||!t.options)throw Rc("App Configuration");if(!t.name)throw Rc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Rc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rc(t){return ri.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="installations",fO="installations-internal",hO=t=>{const e=t.getProvider("app").getImmediate(),n=dO(e),s=nr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},pO=t=>{const e=t.getProvider("app").getImmediate(),n=nr(e,Dw).getImmediate();return{getId:()=>lO(n),getToken:i=>cO(n,i)}};function mO(){en(new zt(Dw,hO,"PUBLIC")),en(new zt(fO,pO,"PRIVATE"))}mO();Ht(_w,Vf);Ht(_w,Vf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="/firebase-messaging-sw.js",vO="/firebase-cloud-messaging-push-scope",Fw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yO="https://fcmregistrations.googleapis.com/v1",$w="google.c.a.c_id",_O="google.c.a.c_l",wO="google.c.a.ts",bO="google.c.a.e",Dm=1e4;var Fm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Fm||(Fm={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ho;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ho||(ho={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function SO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="fcm_token_details_db",EO=5,$m="fcm_token_object_Store";async function TO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Oc))return null;let e=null;return(await tr(Oc,EO,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains($m))return;const l=o.objectStore($m),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Rn(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Rn(u.auth),p256dh:Rn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Rn(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Rn(u.auth),p256dh:Rn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Rn(u.vapidKey)}}}}}})).close(),await Oi(Oc),await Oi("fcm_vapid_details_db"),await Oi("undefined"),CO(e)?e:null}function CO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="firebase-messaging-database",xO=1,po="firebase-messaging-store";let Nc=null;function Bw(){return Nc||(Nc=tr(IO,xO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(po)}}})),Nc}async function kO(t){const e=Uw(t),s=await(await Bw()).transaction(po).objectStore(po).get(e);if(s)return s;{const i=await TO(t.appConfig.senderId);if(i)return await qf(t,i),i}}async function qf(t,e){const n=Uw(t),i=(await Bw()).transaction(po,"readwrite");return await i.objectStore(po).put(e,n),await i.done,e}function Uw({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Pt=new Is("messaging","Messaging",PO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e){const n=await Kf(t),s=jw(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(Gf(t.appConfig),i)).json()}catch(o){throw Pt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Pt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Pt.create("token-subscribe-no-token");return r.token}async function RO(t,e){const n=await Kf(t),s=jw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${Gf(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Pt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Pt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Pt.create("token-update-no-token");return r.token}async function OO(t,e){const s={method:"DELETE",headers:await Kf(t)};try{const r=await(await fetch(`${Gf(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Pt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Pt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Gf({projectId:t}){return`${yO}/projects/${t}/registrations`}async function Kf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function jw({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==Fw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=7*24*60*60*1e3;async function MO(t){const e=await DO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Rn(e.getKey("auth")),p256dh:Rn(e.getKey("p256dh"))},s=await kO(t.firebaseDependencies);if(s){if(FO(s.subscriptionOptions,n))return Date.now()>=s.createTime+NO?LO(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await OO(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return Bm(t.firebaseDependencies,n)}else return Bm(t.firebaseDependencies,n)}async function LO(t,e){try{const n=await RO(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await qf(t.firebaseDependencies,s),n}catch(n){throw n}}async function Bm(t,e){const s={token:await AO(t,e),createTime:Date.now(),subscriptionOptions:e};return await qf(t,s),s.token}async function DO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:SO(e)})}function FO(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return $O(e,t),BO(e,t),UO(e,t),e}function $O(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function BO(t,e){e.data&&(t.data=e.data)}function UO(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){return typeof t=="object"&&!!t&&$w in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){if(!t||!t.options)throw Mc("App Configuration Object");if(!t.name)throw Mc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Mc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Mc(t){return Pt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HO=class{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=VO(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t){try{t.swRegistration=await navigator.serviceWorker.register(gO,{scope:vO}),t.swRegistration.update().catch(()=>{}),await zO(t.swRegistration)}catch(e){throw Pt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function zO(t){return new Promise((e,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${Dm} ms`)),Dm),i=t.installing||t.waiting;t.active?(clearTimeout(s),e()):i?i.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){if(!e&&!t.swRegistration&&await WO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Fw)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(t,e){if(!navigator)throw Pt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Pt.create("permission-blocked");return await GO(t,e==null?void 0:e.vapidKey),await qO(t,e==null?void 0:e.serviceWorkerRegistration),MO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e,n){const s=YO(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[$w],message_name:n[_O],message_time:n[wO],message_device_time:Math.floor(Date.now()/1e3)})}function YO(t){switch(t){case ho.NOTIFICATION_CLICKED:return"notification_open";case ho.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ho.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Um(n)):t.onMessageHandler.next(Um(n)));const s=n.data;jO(s)&&s[bO]==="1"&&await KO(t,n.messageType,s)}const jm="@firebase/messaging",Vm="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=t=>{const e=new HO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>JO(e,n)),e},QO=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:s=>Vw(e,s)}};function ZO(){en(new zt("messaging",XO,"PUBLIC")),en(new zt("messaging-internal",QO,"PRIVATE")),Ht(jm,Vm),Ht(jm,Vm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){if(!navigator)throw Pt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function tN(t,e){return t=Ze(t),Vw(t,e)}function nN(t,e){return t=Ze(t),eN(t,e)}ZO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sN="https://fcmregistrations.googleapis.com/v1",Ww="FCM_MSG",iN="google.c.a.c_id",rN=3,oN=1;var Ya;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ya||(Ya={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ja;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),i=new Uint8Array(s.length);for(let r=0;r<s.length;++r)i[r]=s.charCodeAt(r);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="fcm_token_details_db",lN=5,Hm="fcm_token_object_Store";async function cN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(Lc))return null;let e=null;return(await tr(Lc,lN,{upgrade:async(s,i,r,o)=>{var a;if(i<2||!s.objectStoreNames.contains(Hm))return;const l=o.objectStore(Hm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:On(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:On(u.auth),p256dh:On(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:On(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:On(u.auth),p256dh:On(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:On(u.vapidKey)}}}}}})).close(),await Oi(Lc),await Oi("fcm_vapid_details_db"),await Oi("undefined"),uN(e)?e:null}function uN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebase-messaging-database",fN=1,ai="firebase-messaging-store";let Dc=null;function Yf(){return Dc||(Dc=tr(dN,fN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ai)}}})),Dc}async function Jf(t){const e=Qf(t),s=await(await Yf()).transaction(ai).objectStore(ai).get(e);if(s)return s;{const i=await cN(t.appConfig.senderId);if(i)return await Xf(t,i),i}}async function Xf(t,e){const n=Qf(t),i=(await Yf()).transaction(ai,"readwrite");return await i.objectStore(ai).put(e,n),await i.done,e}async function hN(t){const e=Qf(t),s=(await Yf()).transaction(ai,"readwrite");await s.objectStore(ai).delete(e),await s.done}function Qf({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xt=new Is("messaging","Messaging",pN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){const n=await eh(t),s=qw(e),i={method:"POST",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(Zf(t.appConfig),i)).json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Xt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Xt.create("token-subscribe-no-token");return r.token}async function gN(t,e){const n=await eh(t),s=qw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(s)};let r;try{r=await(await fetch(`${Zf(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Xt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Xt.create("token-update-no-token");return r.token}async function zw(t,e){const s={method:"DELETE",headers:await eh(t)};try{const r=await(await fetch(`${Zf(t.appConfig)}/${e}`,s)).json();if(r.error){const o=r.error.message;throw Xt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Xt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Zf({projectId:t}){return`${sN}/projects/${t}/registrations`}async function eh({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function qw({p256dh:t,auth:e,endpoint:n,vapidKey:s}){const i={web:{endpoint:n,auth:e,p256dh:t}};return s!==Hw&&(i.web.applicationPubKey=s),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=7*24*60*60*1e3;async function yN(t){const e=await wN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:On(e.getKey("auth")),p256dh:On(e.getKey("p256dh"))},s=await Jf(t.firebaseDependencies);if(s){if(bN(s.subscriptionOptions,n))return Date.now()>=s.createTime+vN?_N(t,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await zw(t.firebaseDependencies,s.token)}catch(i){console.warn(i)}return zm(t.firebaseDependencies,n)}else return zm(t.firebaseDependencies,n)}async function Wm(t){const e=await Jf(t.firebaseDependencies);e&&(await zw(t.firebaseDependencies,e.token),await hN(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function _N(t,e){try{const n=await gN(t.firebaseDependencies,e),s=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Xf(t.firebaseDependencies,s),n}catch(n){throw n}}async function zm(t,e){const s={token:await mN(t,e),createTime:Date.now(),subscriptionOptions:e};return await Xf(t,s),s.token}async function wN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aN(e)})}function bN(t,e){const n=e.vapidKey===t.vapidKey,s=e.endpoint===t.endpoint,i=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&s&&i&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return EN(e,t),TN(e,t),CN(e,t),e}function EN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const s=e.notification.body;s&&(t.notification.body=s);const i=e.notification.image;i&&(t.notification.image=i);const r=e.notification.icon;r&&(t.notification.icon=r)}function TN(t,e){e.data&&(t.data=e.data)}function CN(t,e){var n,s,i,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(s=e.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&i!==void 0?i:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){return typeof t=="object"&&!!t&&iN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){return new Promise(e=>{setTimeout(e,t)})}async function kN(t,e){const n=PN(e,await t.firebaseDependencies.installations.getId());AN(t,n,e.productId)}function PN(t,e){var n,s;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=Ya.DISPLAY_NOTIFICATION.toString():i.message_type=Ya.DATA_MESSAGE.toString(),i.sdk_platform=rN.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=oN.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label),i}function AN(t,e,n){const s={};s.event_time_ms=Math.floor(Date.now()).toString(),s.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(s.compliance_data=RN(n)),t.logEvents.push(s)}function RN(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){var n,s;const{newSubscription:i}=t;if(!i){await Wm(e);return}const r=await Jf(e.firebaseDependencies);await Wm(e),e.vapidKey=(s=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&s!==void 0?s:Hw,await yN(e)}async function NN(t,e){const n=DN(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await kN(e,n);const s=await Gw();if($N(s))return BN(s,n);if(n.notification&&await UN(LN(n)),!!e&&e.onBackgroundMessageHandler){const i=SN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function MN(t){var e,n;const s=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[Ww];if(s){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=jN(s);if(!i)return;const r=new URL(i,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await FN(r);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await xN(3e3)),!!a)return s.messageType=Ja.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,a.postMessage(s)}function LN(t){const e=Object.assign({},t.notification);return e.data={[Ww]:t},e}function DN({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function FN(t){const e=await Gw();for(const n of e){const s=new URL(n.url,self.location.href);if(t.host===s.host)return n}return null}function $N(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function BN(t,e){e.isFirebaseMessaging=!0,e.messageType=Ja.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function Gw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function UN(t){var e;const{actions:n}=t,{maxActions:s}=Notification;return n&&s&&n.length>s&&console.warn(`This browser only supports ${s} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function jN(t){var e,n,s;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(s=t.notification)===null||s===void 0?void 0:s.click_action;return i||(IN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){if(!t||!t.options)throw Fc("App Configuration Object");if(!t.name)throw Fc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const s of e)if(!n[s])throw Fc(s);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Fc(t){return Xt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=VN(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=t=>{const e=new HN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(NN(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(ON(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(MN(n))}),e};function zN(){en(new zt("messaging-sw",WN,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(){return wy()&&await by()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t=Gd()){return qN().then(e=>{if(!e)throw Xt.create("unsupported-browser")},e=>{throw Xt.create("indexed-db-unsupported")}),nr(Ze(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zN();const Sn=_o("auth",()=>{const t=F(""),e=Qi(),n=F(!1),s=F(""),i=F(""),r=F(""),o=F({email:"",userId:"",name:""}),a=async(f,h)=>{const p=bs();switch(f){case"logout":gA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s.value="",i.value="",o.value={email:"",userId:"",name:""},e.push("/login"),console.log("Logout OK")}).catch(m=>console.log(m));break;case"login":try{const{user:m}=await fA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await dA(p,h.email,h.password);m&&(s.value=m.accessToken,i.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Tm(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=bs();console.log(f),await Tm(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:s,refreshToken:i,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=GN();tN(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),nN(h,p=>{console.log("Message received. ",p)})}}}),En={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(P(),B("div",{role:"status",class:Re(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(P(),B("svg",{"aria-hidden":"true",class:Re(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[E("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),E("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=E("span",{class:"sr-only"},"Loading...",-1))],2))}},KN={class:"mt-2"},YN={__name:"App",setup(t){const e=Sn();Qi();const n=Q(()=>e.accessToken);F(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const s=bs(),i=F(!0),r=()=>{gs(s,o=>{o?(console.log("User logged in"),i.value=!1):(console.log("User logged out"),e.auth("logout"))}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return ke(()=>{r(),i.value=!1}),(o,a)=>{const l=Cs("RouterView");return P(),B(Te,null,[wt($(AR,null,null,512),[[Bi,n.value]]),E("main",KN,[$(l)])],64)}}};function Kw(t,e){return function(){return t.apply(e,arguments)}}const{toString:JN}=Object.prototype,{getPrototypeOf:th}=Object,Wl=(t=>e=>{const n=JN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sn=t=>(t=t.toLowerCase(),e=>Wl(e)===t),zl=t=>e=>typeof e===t,{isArray:lr}=Array,mo=zl("undefined");function XN(t){return t!==null&&!mo(t)&&t.constructor!==null&&!mo(t.constructor)&&$t(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Yw=sn("ArrayBuffer");function QN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Yw(t.buffer),e}const ZN=zl("string"),$t=zl("function"),Jw=zl("number"),ql=t=>t!==null&&typeof t=="object",eM=t=>t===!0||t===!1,aa=t=>{if(Wl(t)!=="object")return!1;const e=th(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tM=sn("Date"),nM=sn("File"),sM=sn("Blob"),iM=sn("FileList"),rM=t=>ql(t)&&$t(t.pipe),oM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$t(t.append)&&((e=Wl(t))==="formdata"||e==="object"&&$t(t.toString)&&t.toString()==="[object FormData]"))},aM=sn("URLSearchParams"),[lM,cM,uM,dM]=["ReadableStream","Request","Response","Headers"].map(sn),fM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ao(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),lr(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function Xw(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qw=t=>!mo(t)&&t!==Bs;function Ku(){const{caseless:t}=Qw(this)&&this||{},e={},n=(s,i)=>{const r=t&&Xw(e,i)||i;aa(e[r])&&aa(s)?e[r]=Ku(e[r],s):aa(s)?e[r]=Ku({},s):lr(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ao(arguments[s],n);return e}const hM=(t,e,n,{allOwnKeys:s}={})=>(Ao(e,(i,r)=>{n&&$t(i)?t[r]=Kw(i,n):t[r]=i},{allOwnKeys:s}),t),pM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mM=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gM=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&th(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},vM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},yM=t=>{if(!t)return null;if(lr(t))return t;let e=t.length;if(!Jw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_M=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&th(Uint8Array)),wM=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},bM=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},SM=sn("HTMLFormElement"),EM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),qm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),TM=sn("RegExp"),Zw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ao(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},CM=t=>{Zw(t,(e,n)=>{if($t(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if($t(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IM=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return lr(t)?s(t):s(String(t).split(e)),n},xM=()=>{},kM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,$c="abcdefghijklmnopqrstuvwxyz",Gm="0123456789",eb={DIGIT:Gm,ALPHA:$c,ALPHA_DIGIT:$c+$c.toUpperCase()+Gm},PM=(t=16,e=eb.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function AM(t){return!!(t&&$t(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const RM=t=>{const e=new Array(10),n=(s,i)=>{if(ql(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const r=lr(s)?[]:{};return Ao(s,(o,a)=>{const l=n(o,i+1);!mo(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},OM=sn("AsyncFunction"),NM=t=>t&&(ql(t)||$t(t))&&$t(t.then)&&$t(t.catch),tb=((t,e)=>t?setImmediate:e?((n,s)=>(Bs.addEventListener("message",({source:i,data:r})=>{i===Bs&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Bs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$t(Bs.postMessage)),MM=typeof queueMicrotask<"u"?queueMicrotask.bind(Bs):typeof process<"u"&&process.nextTick||tb,A={isArray:lr,isArrayBuffer:Yw,isBuffer:XN,isFormData:oM,isArrayBufferView:QN,isString:ZN,isNumber:Jw,isBoolean:eM,isObject:ql,isPlainObject:aa,isReadableStream:lM,isRequest:cM,isResponse:uM,isHeaders:dM,isUndefined:mo,isDate:tM,isFile:nM,isBlob:sM,isRegExp:TM,isFunction:$t,isStream:rM,isURLSearchParams:aM,isTypedArray:_M,isFileList:iM,forEach:Ao,merge:Ku,extend:hM,trim:fM,stripBOM:pM,inherits:mM,toFlatObject:gM,kindOf:Wl,kindOfTest:sn,endsWith:vM,toArray:yM,forEachEntry:wM,matchAll:bM,isHTMLForm:SM,hasOwnProperty:qm,hasOwnProp:qm,reduceDescriptors:Zw,freezeMethods:CM,toObjectSet:IM,toCamelCase:EM,noop:xM,toFiniteNumber:kM,findKey:Xw,global:Bs,isContextDefined:Qw,ALPHABET:eb,generateString:PM,isSpecCompliantForm:AM,toJSONObject:RM,isAsyncFn:OM,isThenable:NM,setImmediate:tb,asap:MM};function he(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}A.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const nb=he.prototype,sb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sb[t]={value:t}});Object.defineProperties(he,sb);Object.defineProperty(nb,"isAxiosError",{value:!0});he.from=(t,e,n,s,i,r)=>{const o=Object.create(nb);return A.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),he.call(o,t.message,e,n,s,i),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const LM=null;function Yu(t){return A.isPlainObject(t)||A.isArray(t)}function ib(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function Km(t,e,n){return t?t.concat(e).map(function(i,r){return i=ib(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function DM(t){return A.isArray(t)&&!t.some(Yu)}const FM=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function Gl(t,e,n){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!A.isUndefined(y[m])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(A.isDate(p))return p.toISOString();if(!l&&A.isBlob(p))throw new he("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(p)||A.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let w=p;if(p&&!y&&typeof p=="object"){if(A.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(A.isArray(p)&&DM(p)||(A.isFileList(p)||A.endsWith(m,"[]"))&&(w=A.toArray(p)))return m=ib(m),w.forEach(function(g,S){!(A.isUndefined(g)||g===null)&&e.append(o===!0?Km([m],S,r):o===null?m:m+"[]",c(g))}),!1}return Yu(p)?!0:(e.append(Km(y,m,r),c(p)),!1)}const d=[],f=Object.assign(FM,{defaultVisitor:u,convertValue:c,isVisitable:Yu});function h(p,m){if(!A.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),A.forEach(p,function(w,v){(!(A.isUndefined(w)||w===null)&&i.call(e,w,A.isString(v)?v.trim():v,m,f))===!0&&h(w,m?m.concat(v):[v])}),d.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Ym(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function nh(t,e){this._pairs=[],t&&Gl(t,this,e)}const rb=nh.prototype;rb.append=function(e,n){this._pairs.push([e,n])};rb.toString=function(e){const n=e?function(s){return e.call(this,s,Ym)}:Ym;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function $M(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ob(t,e,n){if(!e)return t;const s=n&&n.encode||$M;A.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=A.isURLSearchParams(e)?e.toString():new nh(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Jm{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(s){s!==null&&e(s)})}}const ab={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BM=typeof URLSearchParams<"u"?URLSearchParams:nh,UM=typeof FormData<"u"?FormData:null,jM=typeof Blob<"u"?Blob:null,VM={isBrowser:!0,classes:{URLSearchParams:BM,FormData:UM,Blob:jM},protocols:["http","https","file","blob","url","data"]},sh=typeof window<"u"&&typeof document<"u",Ju=typeof navigator=="object"&&navigator||void 0,HM=sh&&(!Ju||["ReactNative","NativeScript","NS"].indexOf(Ju.product)<0),WM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zM=sh&&window.location.href||"http://localhost",qM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sh,hasStandardBrowserEnv:HM,hasStandardBrowserWebWorkerEnv:WM,navigator:Ju,origin:zM},Symbol.toStringTag,{value:"Module"})),ft={...qM,...VM};function GM(t,e){return Gl(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,r){return ft.isNode&&A.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function KM(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function YM(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function lb(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&A.isArray(i)?i.length:o,l?(A.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!A.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&A.isArray(i[o])&&(i[o]=YM(i[o])),!a)}if(A.isFormData(t)&&A.isFunction(t.entries)){const n={};return A.forEachEntry(t,(s,i)=>{e(KM(s),i,n,0)}),n}return null}function JM(t,e,n){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const Ro={transitional:ab,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=A.isObject(e);if(r&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return i?JSON.stringify(lb(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e)||A.isReadableStream(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return GM(e,this.formSerializer).toString();if((a=A.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),JM(e)):e}],transformResponse:[function(e){const n=this.transitional||Ro.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(A.isResponse(e)||A.isReadableStream(e))return e;if(e&&A.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{Ro.headers[t]={}});const XM=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QM=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&XM[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Xm=Symbol("internals");function br(t){return t&&String(t).trim().toLowerCase()}function la(t){return t===!1||t==null?t:A.isArray(t)?t.map(la):String(t)}function ZM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const eL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bc(t,e,n,s,i){if(A.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!A.isString(e)){if(A.isString(s))return e.indexOf(s)!==-1;if(A.isRegExp(s))return s.test(e)}}function tL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function nL(t,e){const n=A.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}class At{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=br(l);if(!u)throw new Error("header name must be a non-empty string");const d=A.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=la(a))}const o=(a,l)=>A.forEach(a,(c,u)=>r(c,u,l));if(A.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(A.isString(e)&&(e=e.trim())&&!eL(e))o(QM(e),n);else if(A.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(n,e,s);return this}get(e,n){if(e=br(e),e){const s=A.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return ZM(i);if(A.isFunction(n))return n.call(this,i,s);if(A.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=br(e),e){const s=A.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Bc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=br(o),o){const a=A.findKey(s,o);a&&(!n||Bc(s,s[a],a,n))&&(delete s[a],i=!0)}}return A.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||Bc(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return A.forEach(this,(i,r)=>{const o=A.findKey(s,r);if(o){n[o]=la(i),delete n[r];return}const a=e?tL(r):String(r).trim();a!==r&&delete n[r],n[a]=la(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return A.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&A.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Xm]=this[Xm]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=br(o);s[a]||(nL(i,o),s[a]=!0)}return A.isArray(e)?e.forEach(r):r(e),this}}At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(At.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});A.freezeMethods(At);function Uc(t,e){const n=this||Ro,s=e||n,i=At.from(s.headers);let r=s.data;return A.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function cb(t){return!!(t&&t.__CANCEL__)}function cr(t,e,n){he.call(this,t??"canceled",he.ERR_CANCELED,e,n),this.name="CanceledError"}A.inherits(cr,he,{__CANCEL__:!0});function ub(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function sL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function iL(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function rL(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const Xa=(t,e,n=3)=>{let s=0;const i=iL(50,250);return rL(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Qm=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Zm=t=>(...e)=>A.asap(()=>t(...e)),oL=ft.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,aL=ft.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];A.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),A.isString(s)&&o.push("path="+s),A.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function db(t,e){return t&&!lL(e)?cL(t,e):e}const eg=t=>t instanceof At?{...t}:t;function li(t,e){e=e||{};const n={};function s(c,u,d,f){return A.isPlainObject(c)&&A.isPlainObject(u)?A.merge.call({caseless:f},c,u):A.isPlainObject(u)?A.merge({},u):A.isArray(u)?u.slice():u}function i(c,u,d,f){if(A.isUndefined(u)){if(!A.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function r(c,u){if(!A.isUndefined(u))return s(void 0,u)}function o(c,u){if(A.isUndefined(u)){if(!A.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(eg(c),eg(u),d,!0)};return A.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);A.isUndefined(f)&&d!==a||(n[u]=f)}),n}const fb=t=>{const e=li({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=At.from(o),e.url=ob(db(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(A.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ft.hasStandardBrowserEnv&&(s&&A.isFunction(s)&&(s=s(e)),s||s!==!1&&oL(e.url))){const c=i&&r&&aL.read(r);c&&o.set(i,c)}return e},uL=typeof XMLHttpRequest<"u",dL=uL&&function(t){return new Promise(function(n,s){const i=fb(t);let r=i.data;const o=At.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const g=At.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};ub(function(U){n(U),m()},function(U){s(U),m()},T),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(s(new he("Request aborted",he.ECONNABORTED,t,y)),y=null)},y.onerror=function(){s(new he("Network Error",he.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||ab;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new he(S,T.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&A.forEach(o.toJSON(),function(S,T){y.setRequestHeader(T,S)}),A.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=Xa(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Xa(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=g=>{y&&(s(!g||g.type?new cr(null,t,y):g),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=sL(i.url);if(v&&ft.protocols.indexOf(v)===-1){s(new he("Unsupported protocol "+v+":",he.ERR_BAD_REQUEST,t));return}y.send(r||null)})},fL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof he?u:new cr(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new he(`timeout ${e} of ms exceeded`,he.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>A.asap(a),l}},hL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},pL=async function*(t,e){for await(const n of mL(t))yield*hL(n,e)},mL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},tg=(t,e,n,s)=>{const i=pL(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Kl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hb=Kl&&typeof ReadableStream=="function",gL=Kl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},vL=hb&&pb(()=>{let t=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ng=64*1024,Xu=hb&&pb(()=>A.isReadableStream(new Response("").body)),Qa={stream:Xu&&(t=>t.body)};Kl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qa[e]&&(Qa[e]=A.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new he(`Response type '${e}' is not supported`,he.ERR_NOT_SUPPORT,s)})})})(new Response);const yL=async t=>{if(t==null)return 0;if(A.isBlob(t))return t.size;if(A.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(A.isArrayBufferView(t)||A.isArrayBuffer(t))return t.byteLength;if(A.isURLSearchParams(t)&&(t=t+""),A.isString(t))return(await gL(t)).byteLength},_L=async(t,e)=>{const n=A.toFiniteNumber(t.getContentLength());return n??yL(e)},wL=Kl&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=fb(t);c=c?(c+"").toLowerCase():"text";let h=fL([i,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&vL&&n!=="get"&&n!=="head"&&(y=await _L(u,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(A.isFormData(s)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){const[U,x]=Qm(y,Xa(Zm(l)));s=tg(T.body,ng,U,x)}}A.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?d:void 0});let v=await fetch(p);const g=Xu&&(c==="stream"||c==="response");if(Xu&&(a||g&&m)){const T={};["status","statusText","headers"].forEach(C=>{T[C]=v[C]});const R=A.toFiniteNumber(v.headers.get("content-length")),[U,x]=a&&Qm(R,Xa(Zm(a),!0))||[];v=new Response(tg(v.body,ng,U,()=>{x&&x(),m&&m()}),T)}c=c||"text";let S=await Qa[A.findKey(Qa,c)||"text"](v,t);return!g&&m&&m(),await new Promise((T,R)=>{ub(T,R,{data:S,headers:At.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,t,p),{cause:w.cause||w}):he.from(w,w&&w.code,t,p)}}),Qu={http:LM,xhr:dL,fetch:wL};A.forEach(Qu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sg=t=>`- ${t}`,bL=t=>A.isFunction(t)||t===null||t===!1,mb={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let o;if(s=n,!bL(n)&&(s=Qu[(o=String(n)).toLowerCase()],s===void 0))throw new he(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+r]=s}if(!s){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(sg).join(`
`):" "+sg(r[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Qu};function jc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cr(null,t)}function ig(t){return jc(t),t.headers=At.from(t.headers),t.data=Uc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mb.getAdapter(t.adapter||Ro.adapter)(t).then(function(s){return jc(t),s.data=Uc.call(t,t.transformResponse,s),s.headers=At.from(s.headers),s},function(s){return cb(s)||(jc(t),s&&s.response&&(s.response.data=Uc.call(t,t.transformResponse,s.response),s.response.headers=At.from(s.response.headers))),Promise.reject(s)})}const gb="1.7.9",Yl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const rg={};Yl.transitional=function(e,n,s){function i(r,o){return"[Axios v"+gb+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new he(i(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!rg[o]&&(rg[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};Yl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function SL(t,e,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new he("option "+r+" must be "+l,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+r,he.ERR_BAD_OPTION)}}const ca={assertOptions:SL,validators:Yl},cn=ca.validators;class Gs{constructor(e){this.defaults=e,this.interceptors={request:new Jm,response:new Jm}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=li(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&ca.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),i!=null&&(A.isFunction(i)?n.paramsSerializer={serialize:i}:ca.assertOptions(i,{encode:cn.function,serialize:cn.function},!0)),ca.assertOptions(n,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&A.merge(r.common,r[n.method]);r&&A.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=At.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[ig.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=ig.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=li(this.defaults,e);const n=db(e.baseURL,e.url);return ob(n,e.params,e.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(e){Gs.prototype[e]=function(n,s){return this.request(li(s||{},{method:e,url:n,data:(s||{}).data}))}});A.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(li(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Gs.prototype[e]=n(),Gs.prototype[e+"Form"]=n(!0)});class ih{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new cr(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ih(function(i){e=i}),cancel:e}}}function EL(t){return function(n){return t.apply(null,n)}}function TL(t){return A.isObject(t)&&t.isAxiosError===!0}const Zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zu).forEach(([t,e])=>{Zu[e]=t});function vb(t){const e=new Gs(t),n=Kw(Gs.prototype.request,e);return A.extend(n,Gs.prototype,e,{allOwnKeys:!0}),A.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return vb(li(t,i))},n}const We=vb(Ro);We.Axios=Gs;We.CanceledError=cr;We.CancelToken=ih;We.isCancel=cb;We.VERSION=gb;We.toFormData=Gl;We.AxiosError=he;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=EL;We.isAxiosError=TL;We.mergeConfig=li;We.AxiosHeaders=At;We.formToJSON=t=>lb(A.isHTMLForm(t)?new FormData(t):t);We.getAdapter=mb.getAdapter;We.HttpStatusCode=Zu;We.default=We;const CL="/right_arrow.svg",Jl={__name:"BackLink",setup(t){const e=Qi(),n=()=>e.go(-1);return(s,i)=>(P(),B("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},i[0]||(i[0]=[E("img",{src:CL,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function og(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function rh(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:og(e[n])&&og(t[n])&&Object.keys(e[n]).length>0&&rh(t[n],e[n])})}const yb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function yi(){const t=typeof document<"u"?document:{};return rh(t,yb),t}const IL={document:yb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Bt(){const t=typeof window<"u"?window:{};return rh(t,IL),t}function xL(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function kL(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function ed(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Ks(){return Date.now()}function PL(t){const e=Bt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function AL(t,e){e===void 0&&(e="x");const n=Bt();let s,i,r;const o=PL(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function Ho(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function RL(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Mt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!RL(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(Ho(t[a])&&Ho(s[a])?s[a].__swiper__?t[a]=s[a]:Mt(t[a],s[a]):!Ho(t[a])&&Ho(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Mt(t[a],s[a])):t[a]=s[a])}}}return t}function Wo(t,e,n){t.style.setProperty(e,n)}function _b(t){let{swiper:e,targetPosition:n,side:s}=t;const i=Bt(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function gn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function OL(t,e){var s,i;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((s=r.shadowRoot)==null?void 0:s.children)||[],...((i=r.assignedElements)==null?void 0:i.call(r))||[])}}function NL(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=OL(t,e))),n}function Za(t){try{console.warn(t);return}catch{}}function el(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:xL(e)),n}function ML(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function LL(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function us(t,e){return Bt().getComputedStyle(t,null).getPropertyValue(e)}function tl(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function wb(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function Vc(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function td(t,e,n){const s=Bt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function tt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function bb(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=gn(t.el,`.${s[i]}`)[0];r||(r=el("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function DL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const y=e.params.navigation;p=tt(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...y.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=bb(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),y=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:y}),m=tt(m),y=tt(y);const w=(v,g)=>{v&&v.addEventListener("click",g==="next"?c:l),!e.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};m.forEach(v=>w(v,"next")),y.forEach(v=>w(v,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=tt(p),m=tt(m);const y=(w,v)=>{w.removeEventListener("click",v==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>y(w,"next")),m.forEach(w=>y(w,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),s("toEdge fromEdge lock unlock",()=>{a()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=tt(p),m=tt(m),e.enabled){a();return}[...p,...m].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:y,prevEl:w}=e.navigation;y=tt(y),w=tt(w);const v=m.target;let g=w.includes(v)||y.includes(v);if(e.isElement&&!g){const S=m.path||m.composedPath&&m.composedPath();S&&(g=S.find(T=>y.includes(T)||w.includes(T)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let S;y.length?S=y[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...y,...w].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function Sr(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function FL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(v,g){const{bulletActiveClass:S}=e.params.pagination;v&&(v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${S}-${g}`),v=v[`${g==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${S}-${g}-${g}`)))}function u(v,g,S){if(v=v%S,g=g%S,g===v+1)return"next";if(g===v-1)return"previous"}function d(v){const g=v.target.closest(Sr(e.params.pagination.bulletClass));if(!g)return;v.preventDefault();const S=tl(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=u(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function f(){const v=e.rtl,g=e.params.pagination;if(l())return;let S=e.pagination.el;S=tt(S);let T,R;const U=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,x=e.params.loop?Math.ceil(U/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(R=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,R=e.previousSnapIndex):(R=e.previousIndex||0,T=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let k,j,J;if(g.dynamicBullets&&(o=td(C[0],e.isHorizontal()?"width":"height"),S.forEach(H=>{H.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&R!==void 0&&(a+=T-(R||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),k=Math.max(T-a,0),j=k+(Math.min(C.length,g.dynamicMainBullets)-1),J=(j+k)/2),C.forEach(H=>{const te=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${g.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();H.classList.remove(...te)}),S.length>1)C.forEach(H=>{const te=tl(H);te===T?H.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&H.setAttribute("part","bullet"),g.dynamicBullets&&(te>=k&&te<=j&&H.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),te===k&&c(H,"prev"),te===j&&c(H,"next"))});else{const H=C[T];if(H&&H.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&C.forEach((te,oe)=>{te.setAttribute("part",oe===T?"bullet-active":"bullet")}),g.dynamicBullets){const te=C[k],oe=C[j];for(let ie=k;ie<=j;ie+=1)C[ie]&&C[ie].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(te,"prev"),c(oe,"next")}}if(g.dynamicBullets){const H=Math.min(C.length,g.dynamicMainBullets+4),te=(o*H-o)/2-J*o,oe=v?"right":"left";C.forEach(ie=>{ie.style[e.isHorizontal()?oe:"top"]=`${te}px`})}}S.forEach((C,k)=>{if(g.type==="fraction"&&(C.querySelectorAll(Sr(g.currentClass)).forEach(j=>{j.textContent=g.formatFractionCurrent(T+1)}),C.querySelectorAll(Sr(g.totalClass)).forEach(j=>{j.textContent=g.formatFractionTotal(x)})),g.type==="progressbar"){let j;g.progressbarOpposite?j=e.isHorizontal()?"vertical":"horizontal":j=e.isHorizontal()?"horizontal":"vertical";const J=(T+1)/x;let H=1,te=1;j==="horizontal"?H=J:te=J,C.querySelectorAll(Sr(g.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${H}) scaleY(${te})`,oe.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(C.innerHTML=g.renderCustom(e,T+1,x),k===0&&i("paginationRender",C)):(k===0&&i("paginationRender",C),i("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const v=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=tt(S);let T="";if(v.type==="bullets"){let R=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&R>g&&(R=g);for(let U=0;U<R;U+=1)v.renderBullet?T+=v.renderBullet.call(e,U,v.bulletClass):T+=`<${v.bulletElement} ${e.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?T=v.renderFraction.call(e,v.currentClass,v.totalClass):T=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?T=v.renderProgressbar.call(e,v.progressbarFillClass):T=`<span class="${v.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(R=>{v.type!=="custom"&&(R.innerHTML=T||""),v.type==="bullets"&&e.pagination.bullets.push(...R.querySelectorAll(Sr(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=bb(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const v=e.params.pagination;if(!v.el)return;let g;typeof v.el=="string"&&e.isElement&&(g=e.el.querySelector(v.el)),!g&&typeof v.el=="string"&&(g=[...document.querySelectorAll(v.el)]),g||(g=v.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(v.el)],g.length>1&&(g=g.find(S=>wb(S,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=tt(g),g.forEach(S=>{v.type==="bullets"&&v.clickable&&S.classList.add(...(v.clickableClass||"").split(" ")),S.classList.add(v.modifierClass+v.type),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(S.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&S.classList.add(v.progressbarOppositeClass),v.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(v.lockClass)}))}function m(){const v=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=tt(g),g.forEach(S=>{S.classList.remove(v.hiddenClass),S.classList.remove(v.modifierClass+v.type),S.classList.remove(e.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(S.classList.remove(...(v.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...v.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const v=e.params.pagination;let{el:g}=e.pagination;g=tt(g),g.forEach(S=>{S.classList.remove(v.horizontalClass,v.verticalClass),S.classList.add(e.isHorizontal()?v.horizontalClass:v.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?w():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(v,g)=>{const S=g.target,T=tt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const R=T[0].classList.contains(e.params.pagination.hiddenClass);i(R===!0?"paginationShow":"paginationHide"),T.forEach(U=>U.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:v}=e.pagination;v&&(v=tt(v),v.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:w,render:h,update:f,init:p,destroy:m})}function Sb(t){let{swiper:e,extendParams:n,emit:s,once:i}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Ks()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,y=Ks()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const x=p.velocities.pop(),C=p.velocities.pop(),k=x.position-C.position,j=x.time-C.time;e.velocity=k/j,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(j>150||Ks()-x.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const v=e.velocity*w;let g=e.translate+v;f&&(g=-g);let S=!1,T;const R=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let U;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-R&&(g=e.maxTranslate()-R),T=e.maxTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&(U=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>R&&(g=e.minTranslate()+R),T=e.minTranslate(),S=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&(U=!0);else if(u.freeMode.sticky){let x;for(let C=0;C<h.length;C+=1)if(h[C]>-g){x=C;break}Math.abs(h[x]-g)<Math.abs(h[x-1]-g)||e.swipeDirection==="next"?g=h[x]:g=h[x-1],g=-g}if(U&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-g-e.translate)/e.velocity):w=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const x=Math.abs((f?-g:g)-e.translate),C=e.slidesSizesGrid[e.activeIndex];x<C?w=u.speed:x<2*C?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&S?(e.updateProgress(T),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Vc(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(s("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),Vc(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(w),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Vc(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&s("_freeModeNoMomentumRelease");(!u.freeMode.momentum||y>=u.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Hc;function $L(){const t=Bt(),e=yi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Eb(){return Hc||(Hc=$L()),Hc}let Wc;function BL(t){let{userAgent:e}=t===void 0?{}:t;const n=Eb(),s=Bt(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Tb(t){return t===void 0&&(t={}),Wc||(Wc=BL(t)),Wc}let zc;function UL(){const t=Bt(),e=Tb();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function jL(){return zc||(zc=UL()),zc}function VL(t){let{swiper:e,on:n,emit:s}=t;const i=Bt();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(y=>{let{contentBoxSize:w,contentRect:v,target:g}=y;g&&g!==e.el||(p=v?v.width:(w[0]||w).inlineSize,m=v?v.height:(w[0]||w).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function HL(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=Bt(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=wb(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var WL={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function zL(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(us(s,"padding-left")||0,10)-parseInt(us(s,"padding-right")||0,10),n=n-parseInt(us(s,"padding-top")||0,10)-parseInt(us(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function qL(){const t=this;function e(k,j){return parseFloat(k.getPropertyValue(t.getDirectionLabel(j))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=gn(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,v=t.slidesGrid.length;let g=n.spaceBetween,S=-m,T=0,R=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(k=>{o?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Wo(s,"--swiper-centered-offset-before",""),Wo(s,"--swiper-centered-offset-after",""));const U=n.grid&&n.grid.rows>1&&t.grid;U?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let x;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<d;k+=1){x=0;let j;if(u[k]&&(j=u[k]),U&&t.grid.updateSlide(k,j,u),!(u[k]&&us(j,"display")==="none")){if(n.slidesPerView==="auto"){C&&(u[k].style[t.getDirectionLabel("width")]="");const J=getComputedStyle(j),H=j.style.transform,te=j.style.webkitTransform;if(H&&(j.style.transform="none"),te&&(j.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?td(j,"width"):td(j,"height");else{const oe=e(J,"width"),ie=e(J,"padding-left"),re=e(J,"padding-right"),we=e(J,"margin-left"),mt=e(J,"margin-right"),Tt=J.getPropertyValue("box-sizing");if(Tt&&Tt==="border-box")x=oe+we+mt;else{const{clientWidth:me,offsetWidth:ge}=j;x=oe+ie+re+we+mt+(ge-me)}}H&&(j.style.transform=H),te&&(j.style.webkitTransform=te),n.roundLengths&&(x=Math.floor(x))}else x=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),u[k]&&(u[k].style[t.getDirectionLabel("width")]=`${x}px`);u[k]&&(u[k].swiperSlideSize=x),p.push(x),n.centeredSlides?(S=S+x/2+T/2+g,T===0&&k!==0&&(S=S-r/2-g),k===0&&(S=S-r/2-g),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),R%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+x+g),t.virtualSize+=x+g,T=x,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),U&&t.grid.updateWrapperSize(x,f),!n.centeredSlides){const k=[];for(let j=0;j<f.length;j+=1){let J=f[j];n.roundLengths&&(J=Math.floor(J)),f[j]<=t.virtualSize-r&&k.push(J)}f=k,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const k=p[0]+g;if(n.slidesPerGroup>1){const j=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),J=k*n.slidesPerGroup;for(let H=0;H<j;H+=1)f.push(f[f.length-1]+J)}for(let j=0;j<t.virtual.slidesBefore+t.virtual.slidesAfter;j+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+k),h.push(h[h.length-1]+k),t.virtualSize+=k}if(f.length===0&&(f=[0]),g!==0){const k=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((j,J)=>!n.cssMode||n.loop?!0:J!==u.length-1).forEach(j=>{j.style[k]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const j=k>r?k-r:0;f=f.map(J=>J<=0?-m:J>j?j+y:J)}if(n.centerInsufficientSlides){let k=0;p.forEach(J=>{k+=J+(g||0)}),k-=g;const j=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+j<r){const J=(r-k-j)/2;f.forEach((H,te)=>{f[te]=H-J}),h.forEach((H,te)=>{h[te]=H+J})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Wo(s,"--swiper-centered-offset-before",`${-f[0]}px`),Wo(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const k=-t.snapGrid[0],j=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(J=>J+k),t.slidesGrid=t.slidesGrid.map(J=>J+j)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,j=t.el.classList.contains(k);d<=n.maxBackfaceHiddenSlides?j||t.el.classList.add(k):j&&t.el.classList.remove(k)}}function GL(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function KL(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const ag=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function YL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),ag(c,y,n.slideVisibleClass),ag(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function JL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const qc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function XL(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>gn(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=LL(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=ML(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{qc(d,d===l,n.slideActiveClass),qc(d,d===u,n.slideNextClass),qc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ua=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Gc=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nd=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Gc(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&Gc(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&Gc(t,o)};function QL(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function ZL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=QL(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&nd(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function eD(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var tD={updateSize:zL,updateSlides:qL,updateAutoHeight:GL,updateSlidesOffset:KL,updateSlidesProgress:YL,updateProgress:JL,updateSlidesClasses:XL,updateActiveIndex:ZL,updateClickedSlide:eD};function nD(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=AL(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function sD(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function iD(){return-this.snapGrid[0]}function rD(){return-this.snapGrid[this.snapGrid.length-1]}function oD(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return _b({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var aD={getTranslate:nD,setTranslate:sD,minTranslate:iD,maxTranslate:rD,translateTo:oD};function lD(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Cb(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function cD(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Cb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function uD(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Cb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var dD={setTransition:lD,transitionStart:cD,transitionEnd:uD};function fD(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const w=-l[y];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const R=-Math.floor(w*100),U=Math.floor(c[T]*100),x=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?R>=U&&R<x-(x-U)/2?o=T:R>=U&&R<x&&(o=T+1):R>=U&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let v;o>d?v="next":o<d?v="prev":v="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&i)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(a.cssMode){const T=r.isHorizontal(),R=f?w:-w;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[T?"scrollLeft":"scrollTop"]=R})):h[T?"scrollLeft":"scrollTop"]=R,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return _b({swiper:r,targetPosition:R,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:R,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,v),e===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(R){!r||r.destroyed||R.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function hD(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function pD(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function mD(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const h=f(d),p=r.map(w=>f(w));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let w;r.forEach((v,g)=>{h>=v&&(w=g)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let y=0;if(typeof m<"u"&&(y=o.indexOf(m),y<0&&(y=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-s.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&s.isBeginning){const w=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(w,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(y,t,e,n)}),!0;return s.slideTo(y,t,e,n)}function gD(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function vD(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function yD(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(gn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),ed(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(gn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),ed(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var _D={slideTo:fD,slideToLoop:hD,slideNext:pD,slidePrev:mD,slideReset:gD,slideToClosest:vD,slideToClickedSlide:yD};function wD(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{gn(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?el("swiper-slide",[n.slideBlankClass]):el("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else Za("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Za("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function bD(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const y=h.slidesPerGroupAuto?m:h.slidesPerGroup;let w=y;w%y!==0&&(w+=y-w%y),w+=h.loopAdditionalSlides,l.loopedSlides=w;const v=l.grid&&h.grid&&h.grid.rows>1;c.length<m+w?Za("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&h.grid.fill==="row"&&Za("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],S=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(H=>H.classList.contains(h.slideActiveClass))):T=r;const R=s==="next"||!s,U=s==="prev"||!s;let x=0,C=0;const k=v?Math.ceil(c.length/h.grid.rows):c.length,J=(v?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(J<w){x=Math.max(w-J,y);for(let H=0;H<w-J;H+=1){const te=H-Math.floor(H/k)*k;if(v){const oe=k-te-1;for(let ie=c.length-1;ie>=0;ie-=1)c[ie].column===oe&&g.push(ie)}else g.push(k-te-1)}}else if(J+m>k-w){C=Math.max(J-(k-w*2),y);for(let H=0;H<C;H+=1){const te=H-Math.floor(H/k)*k;v?c.forEach((oe,ie)=>{oe.column===te&&S.push(ie)}):S.push(te)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),U&&g.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.prepend(c[H]),c[H].swiperLoopMoveDOM=!1}),R&&S.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.append(c[H]),c[H].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():v&&(g.length>0&&U||S.length>0&&R)&&l.slides.forEach((H,te)=>{l.grid.updateSlide(te,H,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&U){if(typeof e>"u"){const H=l.slidesGrid[T],oe=l.slidesGrid[T+x]-H;a?l.setTranslate(l.translate-oe):(l.slideTo(T+Math.ceil(x),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-oe))}else if(i){const H=v?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+H,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&R)if(typeof e>"u"){const H=l.slidesGrid[T],oe=l.slidesGrid[T-C]-H;a?l.setTranslate(l.translate-oe):(l.slideTo(T-C,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-oe))}else{const H=v?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-H,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const H={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(te=>{!te.destroyed&&te.params.loop&&te.loopFix({...H,slideTo:te.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...H,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function SD(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var ED={loopCreate:wD,loopFix:bD,loopDestroy:SD};function TD(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CD(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var ID={setGrabCursor:TD,unsetGrabCursor:CD};function xD(t,e){e===void 0&&(e=this);function n(s){if(!s||s===yi()||s===Bt())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function lg(t,e,n){const s=Bt(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function kD(t){const e=this,n=yi();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){lg(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!NL(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?xD(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!lg(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=Ks(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const y=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function PD(t){const e=yi(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=Ks());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const w=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(w&&v&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&y!==n.touchesDirection&&w&&v&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let g=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(w&&v&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**S))):p<0&&(w&&v&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**S))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function AD(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(T=>T.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Ks(),f=d-n.touchStartTime;if(e.allowClick){const T=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(T&&T[0]||s.target,T),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Ks(),ed(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,y=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const R=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+R]<"u"?(p||h>=c[T]&&h<c[T+R])&&(m=T,y=c[T+R]-c[T]):(p||h>=c[T])&&(m=T,y=c[c.length-1]-c[c.length-2])}let w=null,v=null;o.rewind&&(e.isBeginning?v=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(h-c[m])/y,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+S):v!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(v):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+S),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:m))}}function cg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function RD(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function OD(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function ND(t){const e=this;ua(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function MD(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Ib=(t,e)=>{const n=yi(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",cg,!0):t[c]("observerUpdate",cg,!0),i[l]("load",t.onLoad,{capture:!0}))};function LD(){const t=this,{params:e}=t;t.onTouchStart=kD.bind(t),t.onTouchMove=PD.bind(t),t.onTouchEnd=AD.bind(t),t.onDocumentTouchStart=MD.bind(t),e.cssMode&&(t.onScroll=OD.bind(t)),t.onClick=RD.bind(t),t.onLoad=ND.bind(t),Ib(t,"on")}function DD(){Ib(this,"off")}var FD={attachEvents:LD,detachEvents:DD};const ug=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $D(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=yi(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=ug(t,s),h=ug(t,d),p=t.params.grabCursor,m=d.grabCursor,y=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(R=>{if(typeof d[R]>"u")return;const U=s[R]&&s[R].enabled,x=d[R]&&d[R].enabled;U&&!x&&t[R].disable(),!U&&x&&t[R].enable()});const w=d.direction&&d.direction!==s.direction,v=s.loop&&(d.slidesPerView!==s.slidesPerView||w),g=s.loop;w&&n&&t.changeDirection(),Mt(t.params,d);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!S?t.disable():!y&&S&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&T?(t.loopCreate(e),t.updateSlides()):g&&!T&&t.loopDestroy()),t.emit("breakpoint",d)}function BD(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=Bt(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var UD={setBreakpoint:$D,getBreakpoint:BD};function jD(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function VD(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=jD(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function HD(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var WD={addClasses:VD,removeClasses:HD};function zD(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var qD={checkOverflow:zD},sd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function GD(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){Mt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Mt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Mt(e,s)}}const Kc={eventsEmitter:WL,update:tD,translate:aD,transition:dD,slide:_D,loop:ED,grabCursor:ID,events:FD,breakpoints:UD,checkOverflow:qD,classes:WD},Yc={};let oh=class Pn{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Mt({},n),e&&!n.el&&(n.el=e);const o=yi();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Mt({},n,{el:d});u.push(new Pn(f))}),u}const a=this;a.__swiper__=!0,a.support=Eb(),a.device=Tb({userAgent:n.userAgent}),a.browser=jL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:GD(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Mt({},sd,l);return a.params=Mt({},c,Yc,n),a.originalParams=Mt({},a.params),a.passedParams=Mt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=gn(n,`.${s.slideClass}, swiper-slide`),r=tl(i[0]);return tl(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=gn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ua(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):gn(s,i())[0];return!o&&n.params.createElements&&(o=el("div",n.params.wrapperClass),s.append(o),gn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||us(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||us(s,"direction")==="rtl"),wrongRTL:us(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?ua(n,r):r.addEventListener("load",o=>{ua(n,o.target)})}),nd(n),n.initialized=!0,nd(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),kL(s)),s.destroyed=!0),null}static extendDefaults(e){Mt(Yc,e)}static get extendedDefaults(){return Yc}static get defaults(){return sd}static installModule(e){Pn.prototype.__modules__||(Pn.prototype.__modules__=[]);const n=Pn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Pn.installModule(n)),Pn):(Pn.installModule(e),Pn)}};Object.keys(Kc).forEach(t=>{Object.keys(Kc[t]).forEach(e=>{oh.prototype[e]=Kc[t][e]})});oh.use([VL,HL]);const xb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ci(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function $i(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:ci(e[s])&&ci(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:$i(t[s],e[s]):t[s]=e[s]})}function kb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Pb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Ab(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Rb(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function KD(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function YD(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let y,w,v,g,S,T,R,U;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(v=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const x=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?T=!0:!u.loop&&s.loop?R=!0:U=!0),c.forEach(C=>{if(ci(u[C])&&ci(s[C]))Object.assign(u[C],s[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in s[C]&&!s[C].enabled&&x(C);else{const k=s[C];(k===!0||k===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?k===!1&&x(C):u[C]=s[C]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(U=!0),y&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(T||U)&&e.loopDestroy(),(R||U)&&e.loopCreate(),e.update()}function dg(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};$i(n,sd),n._emitClasses=!0,n.init=!1;const r={},o=xb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ci(t[l])?(n[l]={},i[l]={},$i(n[l],t[l]),$i(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function JD(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;kb(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Pb(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Ab(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function XD(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return xb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ci(t[l])&&ci(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const QD=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Jc(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function ZD(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return Ee(u.type,{...u.props},u.children);if(u.componentOptions)return Ee(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const ah={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=F("swiper"),a=F(null),l=F(!1),c=F(!1),u=F(null),d=F(null),f=F(null),h={value:[]},p={value:[]},m=F(null),y=F(null),w=F(null),v=F(null),{params:g,passedParams:S}=dg(t);Jc(n,h,p),f.value=S,p.value=h.value;const T=()=>{Jc(n,h,p),l.value=!0};g.onAny=function(x){for(var C=arguments.length,k=new Array(C>1?C-1:0),j=1;j<C;j++)k[j-1]=arguments[j];s(x,...k)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(x,C){o.value=C}});const R={...g};if(delete R.wrapperClass,d.value=new oh(R),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const x={cache:!1,slides:h.value,renderExternal:C=>{a.value=C},renderExternalUpdate:!1};$i(d.value.params.virtual,x),$i(d.value.originalParams.virtual,x)}Cd(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:x}=dg(t),C=XD(x,f.value,h.value,p.value,k=>k.props&&k.props.key);f.value=x,(C.length||l.value)&&d.value&&!d.value.destroyed&&YD({swiper:d.value,slides:h.value,passedParams:x,changedParams:C,nextEl:m.value,prevEl:y.value,scrollbarEl:v.value,paginationEl:w.value}),l.value=!1}),ht("swiper",d),ot(a,()=>{Xi(()=>{QD(d.value)})}),ke(()=>{u.value&&(JD({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:w.value,scrollbarEl:v.value,swiper:d.value},g),s("swiper",d.value))}),Id(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function U(x){return g.virtual?ZD(d,x,a.value):(x.forEach((C,k)=>{C.props||(C.props={}),C.props.swiperRef=d,C.props.swiperSlideIndex=k}),x)}return()=>{const{slides:x,slots:C}=Jc(n,h,p);return Ee(i,{ref:u,class:Rb(o.value)},[C["container-start"],Ee(r,{class:KD(g.wrapperClass)},[C["wrapper-start"],U(x),C["wrapper-end"]]),kb(t)&&[Ee("div",{ref:y,class:"swiper-button-prev"}),Ee("div",{ref:m,class:"swiper-button-next"})],Ab(t)&&Ee("div",{ref:v,class:"swiper-scrollbar"}),Pb(t)&&Ee("div",{ref:w,class:"swiper-pagination"}),C["container-end"]])}}},lh={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=F(null),o=F("swiper-slide"),a=F(!1);function l(d,f,h){f===r.value&&(o.value=h)}ke(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Td(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Cd(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Id(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=Q(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));ht("swiperSlide",c);const u=()=>{a.value=!0};return()=>Ee(t.tag,{class:Rb(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Ee("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Ee("div",{class:"swiper-lazy-preloader"})])}},eF={class:"relative"},tF=["src","alt"],nF={class:"text-xs mb-1"},sF={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(P(),B("div",eF,[$(M(hi),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:ee(()=>[E("div",{class:Re(["mb-1 image bg-contain",t.size])},[E("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,tF)],2),E("h3",nF,ne(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},id={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[Sb];return(n,s)=>(P(),pe(M(ah),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(P(!0),B(Te,null,bn(t.films,i=>(P(),pe(M(lh),{key:i.kinopoiskId?i.kinopoiskId:i.filmId,class:"flex-1"},{default:ee(()=>[$(sF,{film:i.item?i.item:i},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},iF="/arrow.svg",Oo={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,s)=>(P(),B("div",{class:"fixed bottom-20 right-7 inline-block p-2 rounded-md z-50 mb-1 cursor-pointer bg-gray-600 bg-opacity-50 backdrop-blur-sm",onClick:e},s[0]||(s[0]=[E("img",{src:iF,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},rF={class:"flex justify-between mb-3 pt-0.5"},oF={class:"text-lg font-semibold"},_n={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(P(),B("div",rF,[E("h2",oF,ne(t.title),1),t.showAll?(P(),pe(M(hi),{key:0,to:{name:t.link},class:"text-orange-600 font-semibold flex gap-1.5 pt-1"},{default:ee(()=>n[0]||(n[0]=[E("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):Me("",!0)]))}},aF={class:"w-20 h-20 rounded-full flex items-center overflow-hidden mb-1"},lF=["src","alt"],cF={class:"text-xs mb-1"},uF={key:0,class:"text-xs mb-1 text-gray-500"},dF={key:1,class:"text-xs mb-1 text-gray-500"},fF={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>(P(),B("div",null,[E("div",aF,[E("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,lF)]),E("h3",cF,ne(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(P(),B("h3",uF,"Режиссер")):Me("",!0),t.staffItem.description?(P(),B("h3",dF,ne(t.staffItem.description),1)):Me("",!0)]))}},hF={__name:"StaffList",props:{staffList:Array},setup(t){const e=[Sb];return(n,s)=>(P(),pe(M(ah),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(P(!0),B(Te,null,bn(t.staffList.slice(0,10),i=>(P(),pe(M(lh),{key:i.staffId,class:"flex-1"},{default:ee(()=>[$(fF,{staffItem:i},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},ch=_o("favoritesStore",()=>{const t=F([]),e=Co(),n=bs();return{favorites:t,getFavorites:()=>{gs(n,o=>{if(o){console.log(o);const a=F_(Ft(e,`users/${o.uid}/favorites`),D_("date"));qs(a,l=>{const c=[];l.forEach(u=>{c.push(u.val())}),t.value=c.reverse(),console.log(t.value)},l=>{console.log(l)})}else console.log("User logged out")})},addToFavorites:(o,a)=>{const l=new Date().getTime();o.isFavorite=!0,Af(Ft(e,"users/"+n.currentUser.uid+"/favorites/"+a),{nameRu:o.nameRu?o.nameRu:o.nameOriginal,genres:o.genres,year:o.year,posterUrl:o.posterUrl,id:+a,isFavorite:!0,isWatched:!1,date:l}).then(()=>console.log("Добавлено")).catch(c=>console.log(c))},removeFromFavorites:(o,a)=>{o&&(o.isFavorite=!1),ju(Ft(e,"users/"+n.currentUser.uid+"/favorites/"+a)).then(()=>console.log("Удалено")).catch(l=>console.log(l))}}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pF=t=>typeof t<"u";function mF(t){return JSON.parse(JSON.stringify(t))}function gF(t,e,n,s={}){var i,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=s,h=fi(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const y=g=>a?typeof a=="function"?a(g):mF(g):g,w=()=>pF(t[e])?y(t[e]):d,v=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=w(),S=F(g);let T=!1;return ot(()=>t[e],R=>{T||(T=!0,S.value=y(R),Xi(()=>T=!1))}),ot(S,R=>{!T&&(R!==t[e]||u)&&v(R)},{deep:u}),S}else return Q({get(){return w()},set(g){v(g)}})}const vF=t=>(zS("data-v-8a63990a"),t=t(),qS(),t),yF=vF(()=>E("div",{class:"swipe-modal-drag-handle"},null,-1)),_F=Ye({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){QE(x=>({ef0a5750:M(a)}));const n=t,s=e,i=F(null),r=F(null),o=gF(n,"modelValue",s),a=F("-100%"),l=F(!1),c=F(0),u=F(0),d=F("close"),f=Q(()=>{var x;return n.snapPoint?n.snapPoint==="auto"?`calc(${((x=r.value)==null?void 0:x.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:x,touchEvent:C,eventType:k})=>{k==="mouse"?c.value=x.y:c.value=C.touches[0].clientY,l.value=!0},p=({mouseEvent:x,touchEvent:C,eventType:k})=>{var j,J;if(l.value&&(k==="mouse"?u.value=c.value-x.y:u.value=c.value-C.touches[0].clientY,!(u.value>0&&d.value==="full"||(((j=i.value)==null?void 0:j.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(J=i.value)==null||J.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var x;if(l.value=!1,(x=i.value)==null||x.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?w():n.isPersistent?y():o.value=!1;case"snap":return n.isPersistent?y():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?v():y();default:return}}return y()},y=()=>{if(!i.value)return;const x=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";i.value.animate([{bottom:a.value},{bottom:x()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=x()}},w=()=>{i.value&&n.snapPoint&&(i.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},v=()=>{i.value&&(i.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=x=>{if(n.isBackdrop&&x.target===x.currentTarget){if(n.isPersistent)return y();o.value=!1}},S=x=>{x.stopPropagation()},T=()=>{var x;i.value&&(n.isBackdrop?i.value.showModal():i.value.show(),(x=i.value)==null||x.style.setProperty("visibility","visible"),i.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&U("hidden")})},R=()=>{i.value&&(i.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),i.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var x,C,k;a.value="-100%",d.value="close",l.value=!1,(x=i.value)==null||x.close(),(C=i.value)==null||C.style.setProperty("display","initial"),(k=i.value)==null||k.style.setProperty("visibility","hidden"),U("reset")})},U=x=>{if(x==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let C=window,k,j,J;document.defaultView?(C=document.defaultView,k=C.scrollX,j=C.scrollY):(J=document.documentElement,k=J.scrollLeft,j=J.scrollTop),document.documentElement.style.overflow=x,document.documentElement.style.overscrollBehaviorY=x==="auto"?"auto":"none",C.scrollTo(k,j)};return ot(()=>o.value,x=>{x?T():R()}),ot(()=>n.isScrollLock,x=>{U(x?"hidden":"auto")}),ke(()=>{i.value&&(o.value||(i.value.style.setProperty("display","initial"),i.value.style.setProperty("visibility","hidden")))}),(x,C)=>(P(),B("dialog",{ref_key:"modalRef",ref:i,class:"swipe-modal modal-style",onClick:g},[E("div",{tabindex:"-1",class:"swipe-modal-content",onClick:S},[E("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:C[0]||(C[0]=k=>h({mouseEvent:k,eventType:"mouse"})),onMousemove:C[1]||(C[1]=k=>p({mouseEvent:k,eventType:"mouse"})),onMouseup:m,onTouchstart:C[2]||(C[2]=k=>h({touchEvent:k,eventType:"touch"})),onTouchmove:C[3]||(C[3]=k=>p({touchEvent:k,eventType:"touch"})),onTouchend:m},[x.isDragHandle?dn(x.$slots,"drag-handle",{key:0},()=>[yF],!0):Me("",!0)],32),E("div",{ref_key:"panelRef",ref:r,class:"panel"},[dn(x.$slots,"default",{},void 0,!0)],512)])],512))}}),wF=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Ob=wF(_F,[["__scopeId","data-v-8a63990a"]]),bF={class:"px-2 pb-8 text-sm text-white"},SF=Ye({__name:"Swiper",props:{openText:{type:String,required:!0},shortDescription:{type:String,required:!1},description:{type:String,required:!1}},setup(t){const e=F(!1);return(n,s)=>(P(),B(Te,null,[E("p",{class:"text-orange-600 text-sm text-end",onClick:s[0]||(s[0]=i=>e.value=!0)},ne(t.openText),1),$(M(Ob),{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=i=>e.value=i),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1},{default:ee(()=>[E("div",bF,ne(t.description),1)]),_:1},8,["modelValue"])],64))}}),No=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},EF=No(SF,[["__scopeId","data-v-3e7e049d"]]),TF={key:1,class:"bg-white"},CF={class:"flex justify-center fixed -z-10 -mt-96 pt-5"},IF=["src","alt"],xF={class:"container mt-96 mx-auto pb-4 relative"},kF={class:"fixed z-50 top-4 left-4"},PF={class:"flex flex-col gap-2 w-full justify-between"},AF={class:"text-xl text-center"},RF={class:"self-center"},OF={class:"flex justify-center items-start gap-2 mb-1 px-1"},NF={class:"text-slate-400 text-sm text-center"},MF={class:"flex gap-4 justify-center items-center"},LF={key:0,class:"text-sm text-center"},DF={key:1,class:"text-sm"},FF={key:2,class:"text-gray-500 text-sm"},$F={key:3,class:"text-black text-xs font-semibold w-8 border border-black rounded-md box-border h-5 flex justify-center items-center"},BF={class:"flex items-center justify-around bg-gradient-to-r from-gray-600 via-orange-600 to-fray-400 bg-opacity-10 mx-1 rounded-sm"},UF=["href"],jF={class:"container p-2"},VF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},HF={class:"py-4"},WF={class:"text-sm font-bold mb-2"},zF={class:"flex flex-col items-center justify-center bg-gray-300 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},qF={key:0,class:"text-md text-gray-600 font-bold"},GF={class:"text-sm text-center mb-2"},KF=["href"],YF={key:0,class:"container p-2"},JF={__name:"Item",setup(t){const e=ch(),n=F(!0),i=ET().params.id,r=F({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),o=F([]),a=F([]),l=F(!1),c="9e52d931-b757-457b-a1ea-0d872ae51d51",u=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${p}`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});e.favorites.find(w=>w.id===+p)?r.value={...m,isFavorite:!0}:r.value={...m,isFavorite:!1}},d=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${p}/similars`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});o.value=m.items},f=async p=>{const{data:m}=await We.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${p}`,{headers:{"X-API-KEY":`${c}`,"Content-Type":"application/json"}});a.value=m},h=p=>{n.value=!0,u(p),d(p),f(p),n.value=!1};return ke(()=>{e.getFavorites(),h(i),window.scrollTo({top:0,behavior:"smooth"})}),pT((p,m)=>{p.params.id!==m.params.id&&(h(p.params.id),l.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),Sl({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(p,m)=>{const y=Cs("metainfo");return P(),B(Te,null,[$(y,null,{title:ee(()=>[Be(ne(r.value.nameRu),1)]),meta:ee(()=>[Be(ne(r.value.shortDescription?r.value.shortDescription:r.value.description),1)]),_:1}),n.value?(P(),pe(En,{key:0,"full-screen":!0})):(P(),B("main",TF,[E("div",CF,[E("img",{class:"w-1/2",src:r.value.posterUrl,alt:r.value.nameRu?r.value.nameRu:r.value.nameOriginal},null,8,IF)]),E("section",xF,[m[2]||(m[2]=E("div",{class:"absolute -top-20 bg-gradient-to-t from-white to-transparent w-full h-20 z-30"},null,-1)),E("div",kF,[$(Jl)]),E("div",PF,[E("h1",AF,ne(r.value.nameRu?r.value.nameRu:r.value.nameOriginal),1),E("div",RF,[E("div",OF,[E("div",{class:Re([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-600":r.value.ratingKinopoisk>5?"text-gray-400":"text-red-600":"text-gray-400","text-sm font-semibold text-center min-w-10 rounded-sm"])},ne(r.value.ratingKinopoisk?r.value.ratingKinopoisk:"нет рейтинга"),3)]),E("p",NF,ne(r.value.genres.reduce((w,v)=>v.genre+", "+w,""))+" "+ne(r.value.countries[0]?r.value.countries[0].country:r.value.countries.country),1)]),E("div",MF,[r.value.startYear?(P(),B("div",LF,ne(r.value.startYear)+"-"+ne(r.value.endYear?r.value.endYear:"н.в."),1)):(P(),B("div",DF,ne(r.value.year),1)),r.value.filmLength?(P(),B("div",FF,ne(r.value.filmLength)+" мин. ",1)):Me("",!0),r.value.ratingAgeLimits?(P(),B("div",$F,ne(r.value.ratingAgeLimits.split("age")[1])+"+ ",1)):Me("",!0)]),E("div",BF,[E("div",{class:"p-2 flex flex-col items-center justify-center",onClick:m[0]||(m[0]=w=>r.value.isFavorite?M(e).removeFromFavorites(r.value,M(i)):M(e).addToFavorites(r.value,M(i)))},[$(M(Ud),{class:Re(["w-6",r.value.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),m[1]||(m[1]=E("span",{class:"text-xs text-center text-white"},[Be("Буду "),E("br"),Be("смотреть")],-1))]),E("a",{href:r.value.webUrl,class:"my-2 text-sm rounded-full text-white bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,UF)])])]),E("section",jF,[$(_n,{title:"Актеры и съемочная группа"}),$(hF,{"staff-list":a.value},null,8,["staff-list"])]),E("section",null,[E("div",VF,[E("div",HF,[E("p",WF,ne(r.value.shortDescription),1),r.value.shortDescription?(P(),pe(EF,{key:0,"open-text":"Подробнее","short-description":r.value.shortDescription,description:r.value.description},null,8,["short-description","description"])):Me("",!0)]),m[3]||(m[3]=E("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),E("div",zF,[r.value.ratingKinopoisk?(P(),B("span",{key:1,class:Re([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ne(r.value.ratingKinopoisk),3)):(P(),B("span",qF,"нет рейтинга")),E("div",GF," Оценок: "+ne(r.value.ratingKinopoiskVoteCount),1),E("a",{href:r.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 text-white"},"Оценить",8,KF)])])]),o.value.length?(P(),B("section",YF,[$(_n,{title:"Похожие"}),$(id,{films:o.value},null,8,["films"])])):Me("",!0),$(Oo),m[4]||(m[4]=E("div",{class:"h-28 bg-white"},null,-1))]))],64)}}},XF=No(JF,[["__scopeId","data-v-bdb58476"]]),Nb=_o("newsStore",()=>{const t=F([]),e=F([]),n=F(!0),s=F(1),i=bs(),r=Co();return{newsData:t,getNews:async l=>{n.value=!0,gs(i,c=>{if(c){const u=Ft(r,`news/${l}`);qs(u,d=>{t.value=d.val()},d=>{console.log(d)})}else console.log("User logged out")}),s.value=l,n.value=!1},getLastNews:async()=>{n.value=!0,gs(i,l=>{if(l){const c=Ft(r,"news/1");qs(c,u=>{e.value=u.val()},u=>{console.log(u)})}else console.log("User logged out")}),n.value=!1},newsOnMain:e,currentPage:s}}),QF={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},ZF=["href"],e$={__name:"NewsItem",setup(t){const e=[FL,DL],n=Nb();return ke(()=>{n.newsOnMain.length||n.getLastNews()}),(s,i)=>(P(),pe(M(ah),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-4"},{default:ee(()=>[(P(!0),B(Te,null,bn(M(n).newsOnMain,r=>(P(),pe(M(lh),{key:r.item.kinopoiskId},{default:ee(()=>[E("div",{class:"overflow-hidden bg-cover h-48 w-full",style:go(`background-image: url(${r.item.imageUrl})`)},[i[0]||(i[0]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-40"},null,-1)),E("h2",QF,ne(r.item.title),1),E("a",{href:r.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,ZF)],4)]),_:2},1024))),128))]),_:1}))}},uh=_o("premiersStore",()=>{const t=F([]),e=F([]),n=F([]),s=F(1),i=F(!0),r=bs(),o=Co();return{premiers:t,getPremiers:()=>{i.value=!0,gs(r,u=>{if(u){const d=Ft(o,"premiers");qs(d,f=>{t.value=f.val()},f=>{console.log(f)})}else console.log("User logged out")}),i.value=!1},getTop250:u=>{i.value=!0,gs(r,d=>{if(d){const f=Ft(o,`top/${u}`);qs(f,h=>{e.value=h.val()},h=>{console.log(h)})}else console.log("User logged out")}),s.value=u,i.value=!1},top250:e,loader:i,getTopOnMain:()=>{i.value=!0,gs(r,u=>{if(u){const d=Ft(o,"top/1");qs(d,f=>{n.value=f.val()},f=>{console.log(f)})}else console.log("User logged out")}),i.value=!1},topOnMain:n,currentPage:s}}),t$={key:1,class:"container mx-auto px-1"},n$={__name:"MainPage",setup(t){const e=Sn(),n=uh(),s=()=>{Notification.requestPermission().then(i=>{i==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),Sn().notificationToken="")})};return ke(()=>{(!n.premiers.length||!n.topOnMain.length)&&(n.getPremiers(),n.getTopOnMain()),e.getTokenNotification(),s()}),Sl({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(i,r)=>{const o=Cs("metainfo");return P(),B(Te,null,[$(o,null,{title:ee(()=>r[0]||(r[0]=[])),_:1}),M(n).loader?(P(),pe(En,{key:0,"full-screen":!0})):(P(),B("section",t$,[$(_n,{title:"Последние новости","show-all":!0,link:"news"}),$(e$),$(_n,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),$(id,{films:M(n).premiers.slice(0,20),class:"mb-2"},null,8,["films"]),$(_n,{title:"Топ 250","show-all":!0,link:"top"}),$(id,{films:M(n).topOnMain},null,8,["films"]),r[1]||(r[1]=E("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},s$={class:"relative"},i$={class:"image bg-contain min-w-12 mr-1"},r$=["src","alt"],o$={class:"pr-8"},a$={class:"text-xs text-black mb-1"},fg={__name:"SearchItem",props:{film:Object,remove:Boolean},setup(t){const e=jf();return(n,s)=>(P(),B("div",s$,[$(M(hi),{to:{name:"item",params:{id:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-1 mr-8",onClick:s[0]||(s[0]=i=>t.remove?null:M(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:ee(()=>[E("div",i$,[E("img",{class:"h-full w-12",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,r$)]),E("div",o$,[E("h3",a$,ne(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),wt(E("h4",{class:"text-xs text-gray-400 mb-1"},ne(t.film.year),513),[[Bi,t.film.year&&t.film.year!=="null"]])])]),_:1},8,["to"]),E("div",{class:Re([t.film.rating?t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-1.5 text-white w-6 text-center rounded-sm"])},ne(t.film.rating&&t.film.rating!=="null"?t.film.rating:""),3),wt($(M(dy),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-1",alt:"close",onClick:s[1]||(s[1]=i=>M(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[Bi,t.remove]])]))}},l$={class:"container mx-auto px-1 text-sm"},c$=["defaultvalue","placeholder"],u$={key:0},d$={class:""},f$={key:1},h$={key:1,class:""},p$={key:0},m$={class:"flex items-end justify-between py-3 px-1"},g$={__name:"Search",setup(t){const e="9e52d931-b757-457b-a1ea-0d872ae51d51",n=jf(),s=F(!1),i=async a=>{s.value=!1;const{data:l}=await We.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${a.trim()}`,{headers:{"X-API-KEY":e,"Content-Type":"application/json"}});l.films.length===0?s.value=!0:(n.memoryFilms=l.films,s.value=!1)},r=()=>{n.memory.length>2&&i(n.memory),n.memory.length<2&&(n.memoryFilms=[])},o=F(!1);return ke(()=>{n.getLastSearch()}),Sl({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(a,l)=>{const c=Cs("metainfo"),u=sE("auto-animate");return P(),B(Te,null,[$(c,null,{title:ee(()=>l[4]||(l[4]=[])),_:1}),E("section",l$,[E("div",{class:Re(["relative w-full px-1",{shake:o.value}])},[$(M(uy),{class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 left-3",alt:"search"}),wt($(M(dy),{onClick:l[0]||(l[0]=()=>{M(n).memory="",M(n).memoryFilms=[],s.value=!1}),class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[Bi,M(n).memory.length>0]]),wt(E("input",{defaultvalue:M(n).memory,placeholder:o.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 py-2 pr-10 flex items-center text-sm text-black bg-gray-100 outline-none placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-none sm:text-sm/6 rounded-md",type:"text","onUpdate:modelValue":l[1]||(l[1]=d=>M(n).memory=d),onKeydown:[Xh(r,["enter"]),l[2]||(l[2]=Xh(d=>{M(n).memoryFilms=[],s.value=!1},["backspace"]))]},null,40,c$),[[Ws,M(n).memory]])],2),M(n).memory.length>0?(P(),B("div",u$,[s.value?(P(),B("div",f$,l[5]||(l[5]=[E("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(P(!0),B(Te,{key:0},bn(M(n).memoryFilms,d=>wt((P(),B("div",d$,[$(fg,{film:d},null,8,["film"])])),[[u]])),256))])):(P(),B("div",h$,[M(n).lastSearch.length>0?(P(),B("div",p$,[E("div",m$,[l[6]||(l[6]=E("h4",{class:"text-sm text-gray-600"},"Вы недавно искали",-1)),E("span",{class:"text-xs text-gray-600",onClick:l[3]||(l[3]=(...d)=>M(n).removeAllSearch&&M(n).removeAllSearch(...d))},"Очистить")]),(P(!0),B(Te,null,bn(M(n).lastSearch.slice(0,7),d=>wt((P(),B("div",null,[$(fg,{film:d,remove:!0},null,8,["film"])])),[[u]])),256))])):Me("",!0)]))]),l[7]||(l[7]=E("div",{class:"h-28"},null,-1))],64)}}},v$=No(g$,[["__scopeId","data-v-3dab2686"]]),y$="/404-error.png",_$={},w$={class:"w-full h-screen flex justify-center items-center"};function b$(t,e){return P(),B("div",w$,e[0]||(e[0]=[E("img",{src:y$,alt:"404",class:"w-2/5"},null,-1)]))}const S$=No(_$,[["render",b$]]),E$={key:1,class:"relative container mx-auto p-1"},T$={class:"flex gap-2 mb-1"},C$={class:"flex flex-col"},I$={class:""},x$={class:"image bg-contain min-w-16"},k$=["src","alt"],P$={class:"pr-8"},A$={class:"text-xs mb-1"},R$={__name:"Premier",setup(t){const e=uh(),n=F(!0);return ke(()=>{e.premiers.length||e.getPremiers(),n.value=!1,window.scrollTo({top:0,behavior:"smooth"})}),(s,i)=>n.value?(P(),pe(En,{key:0})):(P(),B("section",E$,[E("div",T$,[$(Jl),$(_n,{title:"Премьеры этого месяца"})]),E("div",C$,[(P(!0),B(Te,null,bn(M(e).premiers,r=>(P(),B("div",I$,[$(M(hi),{to:{name:"item",params:{id:r.item.kinopoiskId?r.item.kinopoiskId:r.item.filmId}},class:"flex p-0.5 gap-2 mr-8"},{default:ee(()=>[E("div",x$,[E("img",{class:"h-full w-16",src:r.item.posterUrlPreview?r.item.posterUrlPreview:r.item.posterUrl,alt:r.item.nameRu?r.item.nameRu:r.item.nameEn},null,8,k$)]),E("div",P$,[E("h3",A$,ne(r.item.nameRu?r.item.nameRu:r.item.nameEn),1),wt(E("h4",{class:"text-xs text-slate-400 mb-1"},ne(r.item.year),513),[[Bi,r.item.year&&r.item.year!=="null"]])])]),_:2},1032,["to"])]))),256))]),i[0]||(i[0]=E("div",{class:"h-28"},null,-1)),$(Oo)]))}},O$={key:1,class:"relative container mx-auto p-1"},N$={class:"flex gap-2 mb-1"},M$={key:1,class:"flex flex-col"},L$={class:"relative"},D$={class:"image bg-contain min-w-16 mr-1"},F$=["src","alt"],$$={class:"pr-8"},B$={class:"text-xs mb-1"},U$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},j$={__name:"Top",setup(t){const e=uh(),n=F(1),s=async i=>{await e.getTop250(i),window.scrollTo({top:0,behavior:"smooth"})};return ke(()=>{e.top250.length?n.value=e.currentPage:e.getTop250(1),window.scrollTo({top:0,behavior:"smooth"})}),(i,r)=>M(e).loader?(P(),pe(En,{key:0,"full-screen":!0})):(P(),B("section",O$,[E("div",N$,[$(Jl),$(_n,{title:"Топ 250"})]),M(e).loader?(P(),pe(En,{key:0,"full-screen":!0})):(P(),B("div",M$,[(P(!0),B(Te,null,bn(M(e).top250,o=>(P(),B("div",L$,[$(M(hi),{to:{name:"item",params:{id:o.item.kinopoiskId?o.item.kinopoiskId:o.item.filmId}},class:"flex p-0.5 gap-1 mr-8"},{default:ee(()=>[E("div",D$,[E("img",{class:"h-full w-16",src:o.item.posterUrlPreview?o.item.posterUrlPreview:o.item.posterUrl,alt:o.nameRu?o.item.nameRu:o.item.nameEn},null,8,F$)]),E("div",$$,[E("h3",B$,ne(o.item.nameRu?o.item.nameRu:o.item.nameEn),1),wt(E("h4",{class:"text-xs text-slate-400 mb-1"},ne(o.item.year),513),[[Bi,o.item.year&&o.item.year!=="null"]])])]),_:2},1032,["to"]),E("div",{class:Re([o.item.ratingKinopoisk?o.item.ratingKinopoisk>8?"bg-yellow-600":o.item.ratingKinopoisk>7?"bg-green-600":o.item.ratingKinopoisk>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-3 text-white w-6 text-center rounded-sm"])},ne(o.item.ratingKinopoisk&&o.item.ratingKinopoisk!=="null"?o.item.ratingKinopoisk:""),3)]))),256))])),r[1]||(r[1]=E("div",{class:"h-32"},null,-1)),E("div",U$,[$(M(Bd),{"total-items":250,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),onClick:s},null,8,["modelValue"])]),$(Oo)]))}},V$={key:1,class:"relative container mx-auto p-1"},H$={class:"flex gap-2 mb-1"},W$={class:"grid-cols-1 grid gap-2"},z$={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},q$=["href"],G$={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},K$={__name:"News",setup(t){const e=Nb(),n=async r=>{await e.getNews(r),window.scrollTo({top:0,behavior:"smooth"})},s=F(1),i=F(!0);return F(0),ke(()=>{e.newsData.length?s.value=e.currentPage:e.getNews(1),window.scrollTo({top:0,behavior:"smooth"}),i.value=!1}),Sl({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(r,o)=>{const a=Cs("metainfo");return P(),B(Te,null,[$(a,null,{title:ee(()=>o[1]||(o[1]=[])),_:1}),i.value?(P(),pe(En,{key:0,"full-screen":!0})):(P(),B("section",V$,[E("div",H$,[$(Jl),$(_n,{title:"Новости"})]),E("div",W$,[(P(!0),B(Te,null,bn(M(e).newsData,l=>(P(),B("div",{key:l.item.kinopoiskId},[E("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:go(`background-image: url(${l.item.imageUrl})`)},[o[2]||(o[2]=E("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),E("h2",z$,ne(l.item.title),1),E("a",{href:l.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,q$)],4)]))),128))]),$(Oo),o[3]||(o[3]=E("div",{class:"h-32"},null,-1))])),E("div",G$,[$(M(Bd),{"total-items":208,"items-per-page":20,"max-pages-shown":3,modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),onClick:n},null,8,["modelValue"])])],64)}}},Mb="/img/icons/192x192.png",Y$={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},J$={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},X$={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},Q$={class:"text-center text-xs text-red-500"},Z$={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},eB={class:"space-y-6",action:"#",method:"POST"},tB={class:"mt-2"},nB={class:"mt-2"},sB={class:"mt-10 text-center text-sm/6 text-gray-400"},iB=Ye({__name:"Login",setup(t){const e=Qi(),n=Sn(),s=F(""),i=F(""),r=async o=>{o.preventDefault(),n.error="",s.value&&i.value?(await n.auth("login",{email:s.value,password:i.value}),await e.push("/")):n.error="Заполните все поля"};return ke(()=>{n.error="",s.value="",i.value=""}),(o,a)=>{const l=Cs("RouterLink");return P(),B("div",Y$,[E("div",J$,[a[2]||(a[2]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Mb,alt:"Filmoteka"},null,-1)),a[3]||(a[3]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),M(n).error?(P(),B("div",X$,[$(M(jd),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",Q$,ne(M(n).error),1)])):Me("",!0)]),E("div",Z$,[E("form",eB,[E("div",null,[a[4]||(a[4]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",tB,[wt(E("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":a[0]||(a[0]=c=>s.value=c),class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,s.value]])])]),E("div",null,[a[5]||(a[5]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль"),E("div",{class:"text-sm"},[E("a",{href:"#",class:"text-orange-600 hover:text-orange-500"},"Забыли пароль?")])],-1)),E("div",nB,[wt(E("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>i.value=c),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,i.value]])])]),E("div",null,[M(n).loader?(P(),pe(En,{key:1,"full-screen":!1})):(P(),B("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),E("p",sB,[a[7]||(a[7]=Be(" Нет аккаунта? "+ne(" ")+" ")),$(l,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>a[6]||(a[6]=[Be("Зарегистрироваться ")])),_:1})])])])}}}),rB={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},oB={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},aB={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},lB={class:"text-center text-xs text-red-500"},cB={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},uB={class:"space-y-6",action:"#",method:"POST"},dB={class:"mt-2"},fB={class:"mt-2"},hB={class:"mt-2"},pB={class:"mt-10 text-center text-sm text-gray-400"},mB=Ye({__name:"Registration",setup(t){const e=Sn(),n=F(""),s=F(""),i=F(""),r=Qi(),o=async()=>{e.error="",s.value&&i.value&&n.value?(await e.auth("registration",{email:s.value,password:i.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return ke(()=>{e.error="",s.value="",i.value="",n.value=""}),(a,l)=>{const c=Cs("RouterLink");return P(),B("div",rB,[E("div",oB,[l[3]||(l[3]=E("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:Mb,alt:"Your Company"},null,-1)),l[4]||(l[4]=E("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),M(e).error?(P(),B("div",aB,[$(M(jd),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",lB,ne(M(e).error),1)])):Me("",!0)]),E("div",cB,[E("form",uB,[E("div",null,[l[5]||(l[5]=E("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),E("div",dB,[wt(E("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,n.value]])])]),E("div",null,[l[6]||(l[6]=E("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),E("div",fB,[wt(E("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>s.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,s.value]])])]),E("div",null,[l[7]||(l[7]=E("div",{class:"flex items-center justify-between"},[E("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),E("div",hB,[wt(E("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>i.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline outline-1 outline-gray-900 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6 autofill:bg-gray-900"},null,512),[[Ws,i.value]])])]),E("div",null,[M(e).loader?(P(),pe(En,{key:1,"full-screen":!1})):(P(),B("button",{key:0,type:"submit",onClick:Nt(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),E("p",pB,[l[9]||(l[9]=Be(" Есть аккаунт? "+ne(" ")+" ")),$(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>l[8]||(l[8]=[Be("Войти")])),_:1})])])])}}});function dh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Mo(){let t=[],e={addEventListener(n,s,i,r){return n.addEventListener(s,i,r),e.add(()=>n.removeEventListener(s,i,r))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let s=setTimeout(...n);e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return dh(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,i){let r=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:r})})},group(n){let s=Mo();return n(s),this.add(()=>s.dispose())},add(n){return t.push(n),()=>{let s=t.indexOf(n);if(s>=0)for(let i of t.splice(s,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}var hg;let gB=Symbol("headlessui.useid"),vB=0;const Xl=(hg=YS)!=null?hg:function(){return je(gB,()=>`${++vB}`)()};function Ke(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function Tn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Tn),s}var yB=Object.defineProperty,_B=(t,e,n)=>e in t?yB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pg=(t,e,n)=>(_B(t,typeof e!="symbol"?e+"":e,n),n);let wB=class{constructor(){pg(this,"current",this.detect()),pg(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Lo=new wB;function ur(t){if(Lo.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ke(t);if(e)return e.ownerDocument}return document}let rd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ls=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ls||{}),Lb=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Lb||{}),bB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(bB||{});function SB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(rd)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Db=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Db||{});function EB(t,e=0){var n;return t===((n=ur(t))==null?void 0:n.body)?!1:Tn(e,{0(){return t.matches(rd)},1(){let s=t;for(;s!==null;){if(s.matches(rd))return!0;s=s.parentElement}return!1}})}var TB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(TB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ys(t){t==null||t.focus({preventScroll:!0})}let CB=["textarea","input"].join(",");function IB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,CB))!=null?n:!1}function xB(t,e=n=>n){return t.slice().sort((n,s)=>{let i=e(n),r=e(s);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function da(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?xB(t):t:SB(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),s=s??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&IB(h)&&h.select(),2}function Fb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function kB(){return/Android/gi.test(window.navigator.userAgent)}function PB(){return Fb()||kB()}function zo(t,e,n){Lo.isServer||Qt(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function $b(t,e,n){Lo.isServer||Qt(s=>{window.addEventListener(t,e,n),s(()=>window.removeEventListener(t,e,n))})}function AB(t,e,n=Q(()=>!0)){function s(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Ke(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!EB(a,Db.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let i=F(null);zo("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),zo("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),zo("click",r=>{PB()||i.value&&(s(r,()=>i.value),i.value=null)},!0),zo("touchend",r=>s(r,()=>r.target instanceof HTMLElement?r.target:null),!0),$b("blur",r=>s(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var nl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(nl||{}),ds=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ds||{});function In({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=Ub(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return Xc(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return Tn(l,{0(){return null},1(){return Xc({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Xc(a)}function Xc({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...l}=jb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),u={};if(s){let d=!1,f=[];for(let[h,p]of Object.entries(s))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=Bb(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!RB(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,y,w)=>w.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=Ub((o=d.props)!=null?o:{},l,u),p=Xs(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Ee(a,Object.assign({},l,u),{default:()=>c})}function Bb(t){return t.flatMap(e=>e.type===Te?Bb(e.children):[e])}function Ub(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function jb(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function RB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var sl=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(sl||{});let od=Ye({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var s;let{features:i,...r}=t,o={"aria-hidden":(i&2)===2?!0:(s=r["aria-hidden"])!=null?s:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return In({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Vb=Symbol("Context");var Lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Lt||{});function OB(){return fh()!==null}function fh(){return je(Vb,null)}function NB(t){ht(Vb,t)}var Hb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Hb||{});function MB(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ds=[];MB(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ds[0]!==e.target&&(Ds.unshift(e.target),Ds=Ds.filter(n=>n!=null&&n.isConnected),Ds.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Wb(t,e,n,s){Lo.isServer||Qt(i=>{t=t??window,t.addEventListener(e,n,s),i(()=>t.removeEventListener(e,n,s))})}var Pr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Pr||{});function LB(){let t=F(0);return $b("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function zb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let s=Ke(n);s instanceof HTMLElement&&e.add(s)}return e}var qb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(qb||{});let Er=Object.assign(Ye({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:F(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:s}){let i=F(null);s({el:i,$el:i});let r=Q(()=>ur(i)),o=F(!1);ke(()=>o.value=!0),St(()=>o.value=!1),FB({ownerDocument:r},Q(()=>o.value&&!!(t.features&16)));let a=$B({ownerDocument:r,container:i,initialFocus:Q(()=>t.initialFocus)},Q(()=>o.value&&!!(t.features&2)));BB({ownerDocument:r,container:i,containers:t.containers,previousActiveElement:a},Q(()=>o.value&&!!(t.features&8)));let l=LB();function c(h){let p=Ke(i);p&&(m=>m())(()=>{Tn(l.value,{[Pr.Forwards]:()=>{da(p,ls.First,{skipElements:[h.relatedTarget]})},[Pr.Backwards]:()=>{da(p,ls.Last,{skipElements:[h.relatedTarget]})}})})}let u=F(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=zb(t.containers);Ke(i)instanceof HTMLElement&&p.add(Ke(i));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Gb(p,m)||(u.value?da(Ke(i),Tn(l.value,{[Pr.Forwards]:()=>ls.Next,[Pr.Backwards]:()=>ls.Previous})|ls.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Ys(h.target)))}return()=>{let h={},p={ref:i,onKeydown:d,onFocusout:f},{features:m,initialFocus:y,containers:w,...v}=t;return Ee(Te,[!!(m&4)&&Ee(od,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:sl.Focusable}),In({ourProps:p,theirProps:{...e,...v},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Ee(od,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:sl.Focusable})])}}}),{features:qb});function DB(t){let e=F(Ds.slice());return ot([t],([n],[s])=>{s===!0&&n===!1?dh(()=>{e.value.splice(0)}):s===!1&&n===!0&&(e.value=Ds.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(s=>s!=null&&s.isConnected))!=null?n:null}}function FB({ownerDocument:t},e){let n=DB(e);ke(()=>{Qt(()=>{var s,i;e.value||((s=t.value)==null?void 0:s.activeElement)===((i=t.value)==null?void 0:i.body)&&Ys(n())},{flush:"post"})}),St(()=>{e.value&&Ys(n())})}function $B({ownerDocument:t,container:e,initialFocus:n},s){let i=F(null),r=F(!1);return ke(()=>r.value=!0),St(()=>r.value=!1),ke(()=>{ot([e,n,s],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!s.value)return;let l=Ke(e);l&&dh(()=>{var c,u;if(!r.value)return;let d=Ke(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?Ys(d):da(l,ls.First|ls.NoScroll)===Lb.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),i}function BB({ownerDocument:t,container:e,containers:n,previousActiveElement:s},i){var r;Wb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!i.value)return;let a=zb(n);Ke(e)instanceof HTMLElement&&a.add(Ke(e));let l=s.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?Gb(a,c)?(s.value=c,Ys(c)):(o.preventDefault(),o.stopPropagation(),Ys(l)):Ys(s.value)},!0)}function Gb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function UB(t){let e=qg(t.getSnapshot());return St(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function jB(t,e){let n=t(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...r){let o=e[i].call(n,...r);o&&(n=o,s.forEach(a=>a()))}}}function VB(){let t;return{before({doc:e}){var n;let s=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:e,d:n}){let s=e.documentElement,i=s.clientWidth-s.offsetWidth,r=t-i;n.style(s,"paddingRight",`${r}px`)}}}function HB(){return Fb()?{before({doc:t,d:e,meta:n}){function s(i){return n.containers.flatMap(r=>r()).some(r=>r.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Mo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!s(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let l=a.target;for(;l.parentElement&&s(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(s(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function WB(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function zB(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Us=jB(()=>new Map,{PUSH(t,e){var n;let s=(n=this.get(t))!=null?n:{doc:t,count:0,d:Mo(),meta:new Set};return s.count++,s.meta.add(e),this.set(t,s),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let s={doc:t,d:e,meta:zB(n)},i=[HB(),VB(),WB()];i.forEach(({before:r})=>r==null?void 0:r(s)),i.forEach(({after:r})=>r==null?void 0:r(s))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Us.subscribe(()=>{let t=Us.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let s=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&Us.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Us.dispatch("TEARDOWN",n)}});function qB(t,e,n){let s=UB(Us),i=Q(()=>{let r=t.value?s.value.get(t.value):void 0;return r?r.count>0:!1});return ot([t,e],([r,o],[a],l)=>{if(!r||!o)return;Us.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(Us.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),i}let Qc=new Map,Tr=new Map;function mg(t,e=F(!0)){Qt(n=>{var s;if(!e.value)return;let i=Ke(t);if(!i)return;n(function(){var o;if(!i)return;let a=(o=Tr.get(i))!=null?o:1;if(a===1?Tr.delete(i):Tr.set(i,a-1),a!==1)return;let l=Qc.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,Qc.delete(i))});let r=(s=Tr.get(i))!=null?s:0;Tr.set(i,r+1),r===0&&(Qc.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function GB({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let s=F(null),i=ur(s);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(Ke(s))||u.contains((l=(a=Ke(s))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:s,MainTreeNode(){return n!=null?null:Ee(od,{features:sl.Hidden,ref:s})}}}let Kb=Symbol("ForcePortalRootContext");function KB(){return je(Kb,!1)}let gg=Ye({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return ht(Kb,t.force),()=>{let{force:s,...i}=t;return In({theirProps:i,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),Yb=Symbol("StackContext");var ad=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(ad||{});function YB(){return je(Yb,()=>{})}function JB({type:t,enabled:e,element:n,onUpdate:s}){let i=YB();function r(...o){s==null||s(...o),i(...o)}ke(()=>{ot(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),St(()=>{e.value&&r(1,t,n)}),ht(Yb,r)}let XB=Symbol("DescriptionContext");function QB({slot:t=F({}),name:e="Description",props:n={}}={}){let s=F([]);function i(r){return s.value.push(r),()=>{let o=s.value.indexOf(r);o!==-1&&s.value.splice(o,1)}}return ht(XB,{register:i,slot:t,name:e,props:n}),Q(()=>s.value.length>0?s.value.join(" "):void 0)}function ZB(t){let e=ur(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)}const ld=new WeakMap;function e2(t){var e;return(e=ld.get(t))!=null?e:0}function vg(t,e){let n=e(e2(t));return n<=0?ld.delete(t):ld.set(t,n),n}let t2=Ye({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let s=F(null),i=Q(()=>ur(s)),r=KB(),o=je(Jb,null),a=F(r===!0||o==null?ZB(s.value):o.resolveTarget());a.value&&vg(a.value,f=>f+1);let l=F(!1);ke(()=>{l.value=!0}),Qt(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=je(cd,null),u=!1,d=fi();return ot(s,()=>{if(u||!c)return;let f=Ke(s);f&&(St(c.register(f),d),u=!0)}),St(()=>{var f,h;let p=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||vg(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return Ee(sv,{to:a.value},In({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),cd=Symbol("PortalParentContext");function n2(){let t=je(cd,null),e=F([]);function n(r){return e.value.push(r),t&&t.register(r),()=>s(r)}function s(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let i={register:n,unregister:s,portals:e};return[e,Ye({name:"PortalWrapper",setup(r,{slots:o}){return ht(cd,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let Jb=Symbol("PortalGroupContext"),s2=Ye({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let s=di({resolveTarget(){return t.target}});return ht(Jb,s),()=>{let{target:i,...r}=t;return In({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var i2=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(i2||{});let ud=Symbol("DialogContext");function hh(t){let e=je(ud,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hh),n}return e}let qo="DC8F892D-2EBD-447C-A4C8-A03058436FF4",ph=Ye({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:qo},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${Xl()}`,l=F(!1);ke(()=>{l.value=!0});let c=!1,u=Q(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=F(0),f=fh(),h=Q(()=>t.open===qo&&f!==null?(f.value&Lt.Open)===Lt.Open:t.open),p=F(null),m=Q(()=>ur(p));if(i({el:p,$el:p}),!(t.open!==qo||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===qo?void 0:t.open}`);let y=Q(()=>l.value&&h.value?0:1),w=Q(()=>y.value===0),v=Q(()=>d.value>1),g=je(ud,null)!==null,[S,T]=n2(),{resolveContainers:R,mainTreeNodeRef:U,MainTreeNode:x}=GB({portals:S,defaultContainers:[Q(()=>{var me;return(me=re.panelRef.value)!=null?me:p.value})]}),C=Q(()=>v.value?"parent":"leaf"),k=Q(()=>f!==null?(f.value&Lt.Closing)===Lt.Closing:!1),j=Q(()=>g||k.value?!1:w.value),J=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("body > *"))!=null?ge:[]).find(Xe=>Xe.id==="headlessui-portal-root"?!1:Xe.contains(Ke(U))&&Xe instanceof HTMLElement))!=null?Je:null});mg(J,j);let H=Q(()=>v.value?!0:w.value),te=Q(()=>{var me,ge,Je;return(Je=Array.from((ge=(me=m.value)==null?void 0:me.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(Xe=>Xe.contains(Ke(U))&&Xe instanceof HTMLElement))!=null?Je:null});mg(te,H),JB({type:"Dialog",enabled:Q(()=>y.value===0),element:p,onUpdate:(me,ge)=>{if(ge==="Dialog")return Tn(me,{[ad.Add]:()=>d.value+=1,[ad.Remove]:()=>d.value-=1})}});let oe=QB({name:"DialogDescription",slot:Q(()=>({open:h.value}))}),ie=F(null),re={titleId:ie,panelRef:F(null),dialogState:y,setTitleId(me){ie.value!==me&&(ie.value=me)},close(){e("close",!1)}};ht(ud,re);let we=Q(()=>!(!w.value||v.value));AB(R,(me,ge)=>{me.preventDefault(),re.close(),Xi(()=>ge==null?void 0:ge.focus())},we);let mt=Q(()=>!(v.value||y.value!==0));Wb((o=m.value)==null?void 0:o.defaultView,"keydown",me=>{mt.value&&(me.defaultPrevented||me.key===Hb.Escape&&(me.preventDefault(),me.stopPropagation(),re.close()))});let Tt=Q(()=>!(k.value||y.value!==0||g));return qB(m,Tt,me=>{var ge;return{containers:[...(ge=me.containers)!=null?ge:[],R]}}),Qt(me=>{if(y.value!==0)return;let ge=Ke(p);if(!ge)return;let Je=new ResizeObserver(Xe=>{for(let Xn of Xe){let at=Xn.target.getBoundingClientRect();at.x===0&&at.y===0&&at.width===0&&at.height===0&&re.close()}});Je.observe(ge),me(()=>Je.disconnect())}),()=>{let{open:me,initialFocus:ge,...Je}=t,Xe={...n,ref:p,id:a,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":ie.value,"aria-describedby":oe.value},Xn={open:y.value===0};return Ee(gg,{force:!0},()=>[Ee(t2,()=>Ee(s2,{target:p.value},()=>Ee(gg,{force:!1},()=>Ee(Er,{initialFocus:ge,containers:R,features:w.value?Tn(C.value,{parent:Er.features.RestoreFocus,leaf:Er.features.All&~Er.features.FocusLock}):Er.features.None},()=>Ee(T,{},()=>In({ourProps:Xe,theirProps:{...Je,...n},slot:Xn,attrs:n,slots:s,visible:y.value===0,features:nl.RenderStrategy|nl.Static,name:"Dialog"})))))),Ee(x)])}}}),mh=Ye({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:s}){var i;let r=(i=t.id)!=null?i:`headlessui-dialog-panel-${Xl()}`,o=hh("DialogPanel");s({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return In({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),il=Ye({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-title-${Xl()}`,r=hh("DialogTitle");return ke(()=>{r.setTitleId(i),St(()=>r.setTitleId(null))}),()=>{let{...o}=t;return In({ourProps:{id:i},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function r2(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Zc(t,...e){t&&e.length>0&&t.classList.add(...e)}function Go(t,...e){t&&e.length>0&&t.classList.remove(...e)}var dd=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(dd||{});function o2(t,e){let n=Mo();if(!t)return n.dispose;let{transitionDuration:s,transitionDelay:i}=getComputedStyle(t),[r,o]=[s,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function yg(t,e,n,s,i,r){let o=Mo(),a=r!==void 0?r2(r):()=>{};return Go(t,...i),Zc(t,...e,...n),o.nextFrame(()=>{Go(t,...n),Zc(t,...s),o.add(o2(t,l=>(Go(t,...s,...e),Zc(t,...i),a(l))))}),o.add(()=>Go(t,...e,...n,...s,...i)),o.add(()=>a("cancelled")),o.dispose}function Os(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let gh=Symbol("TransitionContext");var a2=(t=>(t.Visible="visible",t.Hidden="hidden",t))(a2||{});function l2(){return je(gh,null)!==null}function c2(){let t=je(gh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function u2(){let t=je(vh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let vh=Symbol("NestingContext");function Ql(t){return"children"in t?Ql(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Xb(t){let e=F([]),n=F(!1);ke(()=>n.value=!0),St(()=>n.value=!1);function s(r,o=ds.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(Tn(o,{[ds.Unmount](){e.value.splice(a,1)},[ds.Hidden](){e.value[a].state="hidden"}}),!Ql(e)&&n.value&&(t==null||t()))}function i(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>s(r,ds.Unmount)}return{children:e,register:i,unregister:s}}let Qb=nl.RenderStrategy,ui=Ye({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s,expose:i}){let r=F(0);function o(){r.value|=Lt.Opening,e("beforeEnter")}function a(){r.value&=~Lt.Opening,e("afterEnter")}function l(){r.value|=Lt.Closing,e("beforeLeave")}function c(){r.value&=~Lt.Closing,e("afterLeave")}if(!l2()&&OB())return()=>Ee(Zl,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},s);let u=F(null),d=Q(()=>t.unmount?ds.Unmount:ds.Hidden);i({el:u,$el:u});let{show:f,appear:h}=c2(),{register:p,unregister:m}=u2(),y=F(f.value?"visible":"hidden"),w={value:!0},v=Xl(),g={value:!1},S=Xb(()=>{!g.value&&y.value!=="hidden"&&(y.value="hidden",m(v),c())});ke(()=>{let H=p(v);St(H)}),Qt(()=>{if(d.value===ds.Hidden&&v){if(f.value&&y.value!=="visible"){y.value="visible";return}Tn(y.value,{hidden:()=>m(v),visible:()=>p(v)})}});let T=Os(t.enter),R=Os(t.enterFrom),U=Os(t.enterTo),x=Os(t.entered),C=Os(t.leave),k=Os(t.leaveFrom),j=Os(t.leaveTo);ke(()=>{Qt(()=>{if(y.value==="visible"){let H=Ke(u);if(H instanceof Comment&&H.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function J(H){let te=w.value&&!h.value,oe=Ke(u);!oe||!(oe instanceof HTMLElement)||te||(g.value=!0,f.value&&o(),f.value||l(),H(f.value?yg(oe,T,R,U,x,ie=>{g.value=!1,ie===dd.Finished&&a()}):yg(oe,C,k,j,x,ie=>{g.value=!1,ie===dd.Finished&&(Ql(S)||(y.value="hidden",m(v),c()))})))}return ke(()=>{ot([f],(H,te,oe)=>{J(oe),w.value=!1},{immediate:!0})}),ht(vh,S),NB(Q(()=>Tn(y.value,{visible:Lt.Open,hidden:Lt.Closed})|r.value)),()=>{let{appear:H,show:te,enter:oe,enterFrom:ie,enterTo:re,entered:we,leave:mt,leaveFrom:Tt,leaveTo:me,...ge}=t,Je={ref:u},Xe={...ge,...h.value&&f.value&&Lo.isServer?{class:Re([n.class,ge.class,...T,...R])}:{}};return In({theirProps:Xe,ourProps:Je,slot:{},slots:s,attrs:n,features:Qb,visible:y.value==="visible",name:"TransitionChild"})}}}),d2=ui,Zl=Ye({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:s}){let i=fh(),r=Q(()=>t.show===null&&i!==null?(i.value&Lt.Open)===Lt.Open:t.show);Qt(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=F(r.value?"visible":"hidden"),a=Xb(()=>{o.value="hidden"}),l=F(!0),c={show:r,appear:Q(()=>t.appear||!l.value)};return ke(()=>{Qt(()=>{l.value=!1,r.value?o.value="visible":Ql(a)||(o.value="hidden")})}),ht(vh,a),ht(gh,c),()=>{let u=jb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return In({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...s,default:()=>[Ee(d2,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},s.default)]},attrs:{},features:Qb,visible:o.value==="visible",name:"Transition"})}}});const f2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},h2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},p2={class:"bg-gray-100 px-4 pb-4 pt-4"},m2={class:"items-center justify-center"},g2={class:"mt-3"},v2={class:"bg-gray-100 px-4 py-4 items-center flex flex-col"},y2={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Qi(),n=Sn(),s=()=>{n.auth("logout"),e.push("/login")};return(i,r)=>(P(),pe(M(Zl),{as:"template",show:t.openPopup},{default:ee(()=>[$(M(ph),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[$(M(ui),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>r[1]||(r[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",f2,[E("div",h2,[$(M(ui),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[$(M(mh),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",p2,[E("div",m2,[E("div",g2,[$(M(il),{as:"h3",class:"text-base text-center"},{default:ee(()=>r[2]||(r[2]=[Be("Вы хотите выйти из профиля? ")])),_:1})])])]),E("div",v2,[E("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:s,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},_2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},w2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},b2={class:"bg-gray-100 px-4 pb-4 pt-4"},S2={class:"items-center justify-center"},E2={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},T2={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},C2={class:"mt-3"},I2={key:2,class:"mt-2"},x2={class:"text-sm text-gray-500 break-words text-center"},k2={class:"bg-gray-100 px-4 py-4 items-center flex flex-col"},P2={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=Sn(),n=F(!1),s=F(!1),i=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},500)},250)};return(r,o)=>(P(),pe(M(Zl),{as:"template",show:t.openPopup},{default:ee(()=>[$(M(ph),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[$(M(ui),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[1]||(o[1]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",_2,[E("div",w2,[$(M(ui),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[$(M(mh),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",b2,[E("div",S2,[M(e).notificationToken?(P(),B("div",T2,[$(M(ly),{class:"size-6 text-green-600","aria-hidden":"true"})])):(P(),B("div",E2,[$(M(ay),{class:"size-6 text-red-600","aria-hidden":"true"})])),E("div",C2,[M(e).notificationToken?(P(),pe(M(il),{key:1,as:"h3",class:"text-base text-center"},{default:ee(()=>o[3]||(o[3]=[Be("Уведомления разрешены ")])),_:1})):(P(),pe(M(il),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[2]||(o[2]=[Be(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),M(e).notificationToken?(P(),B("div",I2,[E("div",x2,ne(M(e).notificationToken),1)])):Me("",!0)])])]),E("div",k2,[M(e).notificationToken&&!n.value&&!s.value?(P(),B("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i},"Скопировать токен ")):Me("",!0),n.value?(P(),pe(En,{key:1,"full-screen":!1})):Me("",!0),s.value?(P(),pe(M(_C),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):Me("",!0),E("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},A2={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},R2={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},O2={class:"bg-gray-100 px-4 pb-4 pt-4"},N2={class:"items-center justify-center relative"},M2={class:"mt-3"},L2={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},D2={class:"text-center text-xs text-red-500"},F2={class:"space-y-1 bg-gray-100",action:"#",method:"POST"},$2={class:"bg-gray-100 px-4 pb-4 pt-2"},B2={class:"mt-2"},U2={class:"bg-gray-100 px-4 pb-4 pt-2"},j2={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=F(""),n=F(""),s=Sn(),i=async()=>{if(e.value){if(e.value===s.userInfo.name)return n.value="Имя не изменилось";n.value="",await s.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(P(),pe(M(Zl),{as:"template",show:t.openPopup},{default:ee(()=>[$(M(ph),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[$(M(ui),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[3]||(o[3]=[E("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),E("div",A2,[E("div",R2,[$(M(ui),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[$(M(mh),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[E("div",O2,[E("div",N2,[E("div",M2,[$(M(il),{as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[4]||(o[4]=[Be("Изменить имя ")])),_:1})]),n.value?(P(),B("div",L2,[$(M(jd),{class:"size-4 text-red-500","aria-hidden":"true"}),E("div",D2,ne(n.value),1)])):Me("",!0)])]),E("form",F2,[E("div",$2,[o[5]||(o[5]=E("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),E("div",B2,[wt(E("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"w-full px-3 rounded-md bg-gray-100 py-1.5 text-base outline outline-1 outline-gray-400 -outline-offset-1 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"},null,512),[[Ws,e.value]])])]),E("div",U2,[M(s).loader?(P(),pe(En,{key:1,"full-screen":!1})):(P(),B("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await i(),n.value||t.handleClick()})}," Сохранить ")),E("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:o[2]||(o[2]=Nt((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},V2={class:"container mx-auto px-1"},H2={class:"mt-2"},W2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},z2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},q2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},G2={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},K2={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},Y2={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},J2={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},X2={__name:"Profile",setup(t){const e=Sn(),n=F(!1),s=F(!1),i=F(!1),r=()=>{n.value=!n.value},o=()=>{s.value=!s.value},a=()=>{i.value=!i.value};return ke(()=>{e.getTokenNotification()}),(l,c)=>(P(),B("section",V2,[$(_n,{title:"Профиль"}),c[3]||(c[3]=E("div",{class:"sm:px-0"},[E("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),E("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),E("div",H2,[E("dl",null,[E("div",W2,[c[0]||(c[0]=E("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),E("dd",z2,ne(M(e).userInfo.name),1),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[$(M(SC),{class:"size-6 text-blue-500","aria-hidden":"true"}),$(j2,{handleClick:a,openPopup:i.value},null,8,["openPopup"])])]),E("div",q2,[c[1]||(c[1]=E("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),M(e).notificationToken?(P(),B("dd",G2,"Уведомления разрешены ")):(P(),B("dd",K2,"Уведомления не разрешены")),E("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-100 p-4 rounded-full",onClick:r},[M(e).notificationToken?(P(),pe(M(ly),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(P(),pe(M(ay),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),$(P2,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),E("div",Y2,[c[2]||(c[2]=E("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),E("dd",J2,ne(M(e).userInfo.email),1)])])]),E("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md text-white"}," Выйти "),$(y2,{"handle-click":o,"open-popup":s.value},null,8,["open-popup"])]))}},Q2={class:"flex items-center gap-8 mb-8 relative"},Z2={class:"flex items-start justify-around gap-4 w-full"},eU=Ye({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=ch(),n=bs(),s=Co(),i=F(!1),r=o=>{t.film.isWatched=!o,nP(Ft(s,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(P(),B(Te,null,[E("div",null,[$(M(wC),{onClick:a[0]||(a[0]=l=>i.value=!0),class:"w-5",alt:"favorites"})]),$(M(Ob),{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=l=>i.value=l),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1,class:"bg-gray-600 bg-opacity-50 backdrop-blur-sm"},{default:ee(()=>[E("div",Q2,[E("div",Z2,[E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[$(M(cy),{class:Re(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=E("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),E("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>M(e).removeFromFavorites(null,t.film.id))},[$(M(Ud),{class:Re(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=E("span",{class:"text-xs text-center text-white"},[Be("Удалить из"),E("br"),Be("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),tU=No(eU,[["__scopeId","data-v-3d20c88d"]]),nU={class:"relative flex justify-between"},sU={class:"mb-1 min-w-16"},iU=["src","alt"],rU={class:"flex flex-col w-full"},oU={class:"text-xs mb-1"},aU={class:"flex items-center gap-1"},lU={key:0,class:"text-xs text-slate-400 mb-1"},cU={__name:"FavoriteItem",props:{film:Object,size:{type:String,default:"w-64 h-96",required:!1}},setup(t){return(e,n)=>(P(),B("div",nU,[$(M(hi),{to:{name:"item",params:{id:t.film.id}},class:"relative flex gap-2 w-full mr-10"},{default:ee(()=>[E("div",sU,[E("img",{class:"w-16",src:t.film.posterUrl,alt:t.film.nameRu},null,8,iU)]),E("div",rU,[E("h3",oU,ne(t.film.nameRu),1),E("div",aU,[$(M(cy),{class:Re(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),t.film.year&&t.film.genres.length?(P(),B("p",lU,ne(t.film.year)+", "+ne(t.film.genres[0].genre),1)):Me("",!0)])])]),_:1},8,["to"]),$(tU,{film:t.film},null,8,["film"])]))}},uU={class:"relative container mx-auto px-1"},dU={class:"flex flex-col"},fU={__name:"Favorites",setup(t){const e=ch();return ke(()=>{e.favorites.length||e.getFavorites()}),(n,s)=>(P(),B("section",uU,[$(_n,{title:"Избранное"}),E("div",dU,[(P(!0),B(Te,null,bn(M(e).favorites,i=>(P(),pe(cU,{film:i,key:i.id,size:"w-full h-72"},null,8,["film"]))),128))]),s[0]||(s[0]=E("div",{class:"h-28"},null,-1)),$(Oo)]))}};var hU="firebase",pU="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(hU,pU,"app");const mU=[{path:"/",component:n$,name:"main",meta:{auth:!0}},{path:"/profile",component:X2,name:"profile",meta:{auth:!0}},{path:"/favorites",component:fU,name:"favorites",meta:{auth:!0}},{path:"/login",component:iB,name:"login",meta:{auth:!1}},{path:"/registration",component:mB,name:"registration",meta:{auth:!1}},{path:"/search",component:v$,name:"search",meta:{auth:!0}},{path:"/film/:id",component:XF,name:"item",meta:{auth:!0}},{path:"/premier",component:R$,name:"premier",props:!0,meta:{auth:!0}},{path:"/top",component:j$,name:"top",props:!0,meta:{auth:!0}},{path:"/news",component:K$,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:S$,meta:{auth:!0}}],Zb=bT({history:J0("/"),routes:mU}),gU=nC(),vU={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};Zb.beforeEach((t,e,n)=>{const s=Sn();t.meta.auth&&!s.accessToken?n("/login"):!t.meta.auth&&s.accessToken?n("/"):n()});Cy(vU);v0(YN).use(Zb).use(DT()).use(tC).use(gU).use(yC).mount("#app");
