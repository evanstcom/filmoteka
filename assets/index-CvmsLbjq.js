var l0=Object.defineProperty;var c0=(t,e,n)=>e in t?l0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Di=(t,e,n)=>c0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _d(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ue={},As=[],Zt=()=>{},u0=()=>!1,dl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yd=t=>t.startsWith("onUpdate:"),bt=Object.assign,wd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},d0=Object.prototype.hasOwnProperty,De=(t,e)=>d0.call(t,e),he=Array.isArray,Rs=t=>fl(t)==="[object Map]",bg=t=>fl(t)==="[object Set]",me=t=>typeof t=="function",Ze=t=>typeof t=="string",ti=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",Sg=t=>(Ge(t)||me(t))&&me(t.then)&&me(t.catch),Eg=Object.prototype.toString,fl=t=>Eg.call(t),f0=t=>fl(t).slice(8,-1),Tg=t=>fl(t)==="[object Object]",bd=t=>Ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Dr=_d(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},h0=/-(\w)/g,Gt=hl(t=>t.replace(h0,(e,n)=>n?n.toUpperCase():"")),p0=/\B([A-Z])/g,ki=hl(t=>t.replace(p0,"-$1").toLowerCase()),pl=hl(t=>t.charAt(0).toUpperCase()+t.slice(1)),oc=hl(t=>t?`on${pl(t)}`:""),yi=(t,e)=>!Object.is(t,e),ea=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cg=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},ou=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let wh;const ml=()=>wh||(wh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vt(t){if(he(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ze(i)?_0(i):Vt(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ze(t)||Ge(t))return t}const m0=/;(?![^(]*\))/g,g0=/:([^]+)/,v0=/\/\*[^]*?\*\//g;function _0(t){const e={};return t.replace(v0,"").split(m0).forEach(n=>{if(n){const i=n.split(g0);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ie(t){let e="";if(Ze(t))e=t;else if(he(t))for(let n=0;n<t.length;n++){const i=Ie(t[n]);i&&(e+=i+" ")}else if(Ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const y0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",w0=_d(y0);function xg(t){return!!t||t===""}const Ig=t=>!!(t&&t.__v_isRef===!0),ie=t=>Ze(t)?t:t==null?"":he(t)||Ge(t)&&(t.toString===Eg||!me(t.toString))?Ig(t)?ie(t.value):JSON.stringify(t,kg,2):String(t),kg=(t,e)=>Ig(e)?kg(t,e.value):Rs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[ac(i,r)+" =>"]=s,n),{})}:bg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ac(n))}:ti(e)?ac(e):Ge(e)&&!he(e)&&!Tg(e)?String(e):e,ac=(t,e="")=>{var n;return ti(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Pg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!e&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ct;try{return Ct=this,e()}finally{Ct=n}}}on(){Ct=this}off(){Ct=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ag(t){return new Pg(t)}function Rg(){return Ct}function b0(t,e=!1){Ct&&Ct.cleanups.push(t)}let Ve;const lc=new WeakSet;class Og{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,lc.has(this)&&(lc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Mg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bh(this),Dg(this);const e=Ve,n=en;Ve=this,en=!0;try{return this.fn()}finally{Lg(this),Ve=e,en=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Td(e);this.deps=this.depsTail=void 0,bh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?lc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){au(this)&&this.run()}get dirty(){return au(this)}}let Ng=0,Lr,Fr;function Mg(t,e=!1){if(t.flags|=8,e){t.next=Fr,Fr=t;return}t.next=Lr,Lr=t}function Sd(){Ng++}function Ed(){if(--Ng>0)return;if(Fr){let e=Fr;for(Fr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Lr;){let e=Lr;for(Lr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Dg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Lg(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Td(i),S0(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function au(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Fg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Fg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Jr))return;t.globalVersion=Jr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!au(t)){t.flags&=-3;return}const n=Ve,i=en;Ve=t,en=!0;try{Dg(t);const s=t.fn(t._value);(e.version===0||yi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ve=n,en=i,Lg(t),t.flags&=-3}}function Td(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Td(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function S0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let en=!0;const $g=[];function Pi(){$g.push(en),en=!1}function Ai(){const t=$g.pop();en=t===void 0?!0:t}function bh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ve;Ve=void 0;try{e()}finally{Ve=n}}}let Jr=0;class E0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ve||!en||Ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ve)n=this.activeLink=new E0(Ve,this),Ve.deps?(n.prevDep=Ve.depsTail,Ve.depsTail.nextDep=n,Ve.depsTail=n):Ve.deps=Ve.depsTail=n,Bg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ve.depsTail,n.nextDep=void 0,Ve.depsTail.nextDep=n,Ve.depsTail=n,Ve.deps===n&&(Ve.deps=i)}return n}trigger(e){this.version++,Jr++,this.notify(e)}notify(e){Sd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ed()}}}function Bg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Bg(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _a=new WeakMap,Ki=Symbol(""),lu=Symbol(""),Qr=Symbol("");function vt(t,e,n){if(en&&Ve){let i=_a.get(t);i||_a.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Cd),s.map=i,s.key=n),s.track()}}function $n(t,e,n,i,s,r){const o=_a.get(t);if(!o){Jr++;return}const a=l=>{l&&l.trigger()};if(Sd(),e==="clear")o.forEach(a);else{const l=he(t),c=l&&bd(n);if(l&&n==="length"){const u=Number(i);o.forEach((d,f)=>{(f==="length"||f===Qr||!ti(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Qr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Ki)),Rs(t)&&a(o.get(lu)));break;case"delete":l||(a(o.get(Ki)),Rs(t)&&a(o.get(lu)));break;case"set":Rs(t)&&a(o.get(Ki));break}}Ed()}function T0(t,e){const n=_a.get(t);return n&&n.get(e)}function bs(t){const e=xe(t);return e===t?e:(vt(e,"iterate",Qr),Wt(t)?e:e.map(_t))}function gl(t){return vt(t=xe(t),"iterate",Qr),t}const C0={__proto__:null,[Symbol.iterator](){return cc(this,Symbol.iterator,_t)},concat(...t){return bs(this).concat(...t.map(e=>he(e)?bs(e):e))},entries(){return cc(this,"entries",t=>(t[1]=_t(t[1]),t))},every(t,e){return On(this,"every",t,e,void 0,arguments)},filter(t,e){return On(this,"filter",t,e,n=>n.map(_t),arguments)},find(t,e){return On(this,"find",t,e,_t,arguments)},findIndex(t,e){return On(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return On(this,"findLast",t,e,_t,arguments)},findLastIndex(t,e){return On(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return On(this,"forEach",t,e,void 0,arguments)},includes(...t){return uc(this,"includes",t)},indexOf(...t){return uc(this,"indexOf",t)},join(t){return bs(this).join(t)},lastIndexOf(...t){return uc(this,"lastIndexOf",t)},map(t,e){return On(this,"map",t,e,void 0,arguments)},pop(){return vr(this,"pop")},push(...t){return vr(this,"push",t)},reduce(t,...e){return Sh(this,"reduce",t,e)},reduceRight(t,...e){return Sh(this,"reduceRight",t,e)},shift(){return vr(this,"shift")},some(t,e){return On(this,"some",t,e,void 0,arguments)},splice(...t){return vr(this,"splice",t)},toReversed(){return bs(this).toReversed()},toSorted(t){return bs(this).toSorted(t)},toSpliced(...t){return bs(this).toSpliced(...t)},unshift(...t){return vr(this,"unshift",t)},values(){return cc(this,"values",_t)}};function cc(t,e,n){const i=gl(t),s=i[e]();return i!==t&&!Wt(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const x0=Array.prototype;function On(t,e,n,i,s,r){const o=gl(t),a=o!==t&&!Wt(t),l=o[e];if(l!==x0[e]){const d=l.apply(t,r);return a?_t(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,_t(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,i);return a&&s?s(u):u}function Sh(t,e,n,i){const s=gl(t);let r=n;return s!==t&&(Wt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,_t(a),l,t)}),s[e](r,...i)}function uc(t,e,n){const i=xe(t);vt(i,"iterate",Qr);const s=i[e](...n);return(s===-1||s===!1)&&vl(n[0])?(n[0]=xe(n[0]),i[e](...n)):s}function vr(t,e,n=[]){Pi(),Sd();const i=xe(t)[e].apply(t,n);return Ed(),Ai(),i}const I0=_d("__proto__,__v_isRef,__isVue"),Ug=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ti));function k0(t){ti(t)||(t=String(t));const e=xe(this);return vt(e,"has",t),e.hasOwnProperty(t)}class jg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?$0:zg:r?Wg:Hg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=he(e);if(!s){let l;if(o&&(l=C0[n]))return l;if(n==="hasOwnProperty")return k0}const a=Reflect.get(e,n,Qe(e)?e:i);return(ti(n)?Ug.has(n):I0(n))||(s||vt(e,"get",n),r)?a:Qe(a)?o&&bd(n)?a:a.value:Ge(a)?s?Gg(a):Ri(a):a}}class Vg extends jg{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=es(r);if(!Wt(i)&&!es(i)&&(r=xe(r),i=xe(i)),!he(e)&&Qe(r)&&!Qe(i))return l?!1:(r.value=i,!0)}const o=he(e)&&bd(n)?Number(n)<e.length:De(e,n),a=Reflect.set(e,n,i,Qe(e)?e:s);return e===xe(s)&&(o?yi(i,r)&&$n(e,"set",n,i):$n(e,"add",n,i)),a}deleteProperty(e,n){const i=De(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&$n(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!ti(n)||!Ug.has(n))&&vt(e,"has",n),i}ownKeys(e){return vt(e,"iterate",he(e)?"length":Ki),Reflect.ownKeys(e)}}class P0 extends jg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const A0=new Vg,R0=new P0,O0=new Vg(!0);const cu=t=>t,Vo=t=>Reflect.getPrototypeOf(t);function N0(t,e,n){return function(...i){const s=this.__v_raw,r=xe(s),o=Rs(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?cu:e?uu:_t;return!e&&vt(r,"iterate",l?lu:Ki),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Ho(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function M0(t,e){const n={get(s){const r=this.__v_raw,o=xe(r),a=xe(s);t||(yi(s,a)&&vt(o,"get",s),vt(o,"get",a));const{has:l}=Vo(o),c=e?cu:t?uu:_t;if(l.call(o,s))return c(r.get(s));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!t&&vt(xe(s),"iterate",Ki),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=xe(r),a=xe(s);return t||(yi(s,a)&&vt(o,"has",s),vt(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,l=xe(a),c=e?cu:t?uu:_t;return!t&&vt(l,"iterate",Ki),a.forEach((u,d)=>s.call(r,c(u),c(d),o))}};return bt(n,t?{add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear")}:{add(s){!e&&!Wt(s)&&!es(s)&&(s=xe(s));const r=xe(this);return Vo(r).has.call(r,s)||(r.add(s),$n(r,"add",s,s)),this},set(s,r){!e&&!Wt(r)&&!es(r)&&(r=xe(r));const o=xe(this),{has:a,get:l}=Vo(o);let c=a.call(o,s);c||(s=xe(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,r),c?yi(r,u)&&$n(o,"set",s,r):$n(o,"add",s,r),this},delete(s){const r=xe(this),{has:o,get:a}=Vo(r);let l=o.call(r,s);l||(s=xe(s),l=o.call(r,s)),a&&a.call(r,s);const c=r.delete(s);return l&&$n(r,"delete",s,void 0),c},clear(){const s=xe(this),r=s.size!==0,o=s.clear();return r&&$n(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=N0(s,t,e)}),n}function xd(t,e){const n=M0(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(De(n,s)&&s in i?n:i,s,r)}const D0={get:xd(!1,!1)},L0={get:xd(!1,!0)},F0={get:xd(!0,!1)};const Hg=new WeakMap,Wg=new WeakMap,zg=new WeakMap,$0=new WeakMap;function B0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function U0(t){return t.__v_skip||!Object.isExtensible(t)?0:B0(f0(t))}function Ri(t){return es(t)?t:Id(t,!1,A0,D0,Hg)}function qg(t){return Id(t,!1,O0,L0,Wg)}function Gg(t){return Id(t,!0,R0,F0,zg)}function Id(t,e,n,i,s){if(!Ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=U0(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function wi(t){return es(t)?wi(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function Wt(t){return!!(t&&t.__v_isShallow)}function vl(t){return t?!!t.__v_raw:!1}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function _l(t){return!De(t,"__v_skip")&&Object.isExtensible(t)&&Cg(t,"__v_skip",!0),t}const _t=t=>Ge(t)?Ri(t):t,uu=t=>Ge(t)?Gg(t):t;function Qe(t){return t?t.__v_isRef===!0:!1}function L(t){return Yg(t,!1)}function Kg(t){return Yg(t,!0)}function Yg(t,e){return Qe(t)?t:new j0(t,e)}class j0{constructor(e,n){this.dep=new Cd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:xe(e),this._value=n?e:_t(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Wt(e)||es(e);e=i?e:xe(e),yi(e,n)&&(this._rawValue=e,this._value=i?e:_t(e),this.dep.trigger())}}function P(t){return Qe(t)?t.value:t}const V0={get:(t,e,n)=>e==="__v_raw"?t:P(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Qe(s)&&!Qe(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Xg(t){return wi(t)?t:new Proxy(t,V0)}function H0(t){const e=he(t)?new Array(t.length):{};for(const n in t)e[n]=Jg(t,n);return e}class W0{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return T0(xe(this._object),this._key)}}class z0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function q0(t,e,n){return Qe(t)?t:me(t)?new z0(t):Ge(t)&&arguments.length>1?Jg(t,e,n):L(t)}function Jg(t,e,n){const i=t[e];return Qe(i)?i:new W0(t,e,n)}class G0{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Cd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return Mg(this,!0),!0}get value(){const e=this.dep.track();return Fg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function K0(t,e,n=!1){let i,s;return me(t)?i=t:(i=t.get,s=t.set),new G0(i,s,n)}const Wo={},ya=new WeakMap;let Bi;function Y0(t,e=!1,n=Bi){if(n){let i=ya.get(n);i||ya.set(n,i=[]),i.push(t)}}function X0(t,e,n=Ue){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=n,c=b=>s?b:Wt(b)||s===!1||s===0?Bn(b,1):Bn(b);let u,d,f,h,p=!1,m=!1;if(Qe(t)?(d=()=>t.value,p=Wt(t)):wi(t)?(d=()=>c(t),p=!0):he(t)?(m=!0,p=t.some(b=>wi(b)||Wt(b)),d=()=>t.map(b=>{if(Qe(b))return b.value;if(wi(b))return c(b);if(me(b))return l?l(b,2):b()})):me(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Pi();try{f()}finally{Ai()}}const b=Bi;Bi=u;try{return l?l(t,3,[h]):t(h)}finally{Bi=b}}:d=Zt,e&&s){const b=d,T=s===!0?1/0:s;d=()=>Bn(b(),T)}const y=Rg(),v=()=>{u.stop(),y&&y.active&&wd(y.effects,u)};if(r&&e){const b=e;e=(...T)=>{b(...T),v()}}let _=m?new Array(t.length).fill(Wo):Wo;const g=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const T=u.run();if(s||p||(m?T.some((A,F)=>yi(A,_[F])):yi(T,_))){f&&f();const A=Bi;Bi=u;try{const F=[T,_===Wo?void 0:m&&_[0]===Wo?[]:_,h];l?l(e,3,F):e(...F),_=T}finally{Bi=A}}}else u.run()};return a&&a(g),u=new Og(d),u.scheduler=o?()=>o(g,!1):g,h=b=>Y0(b,!1,u),f=u.onStop=()=>{const b=ya.get(u);if(b){if(l)l(b,4);else for(const T of b)T();ya.delete(u)}},e?i?g(!0):_=u.run():o?o(g.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Bn(t,e=1/0,n){if(e<=0||!Ge(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Qe(t))Bn(t.value,e,n);else if(he(t))for(let i=0;i<t.length;i++)Bn(t[i],e,n);else if(bg(t)||Rs(t))t.forEach(i=>{Bn(i,e,n)});else if(Tg(t)){for(const i in t)Bn(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Bn(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Eo(t,e,n,i){try{return i?t(...i):t()}catch(s){yl(s,e,n)}}function xn(t,e,n,i){if(me(t)){const s=Eo(t,e,n,i);return s&&Sg(s)&&s.catch(r=>{yl(r,e,n)}),s}if(he(t)){const s=[];for(let r=0;r<t.length;r++)s.push(xn(t[r],e,n,i));return s}}function yl(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ue;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Pi(),Eo(r,null,10,[t,l,c]),Ai();return}}J0(t,n,s,i,o)}function J0(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const xt=[];let gn=-1;const Os=[];let li=null,Es=0;const Qg=Promise.resolve();let wa=null;function Zs(t){const e=wa||Qg;return t?e.then(this?t.bind(this):t):e}function Q0(t){let e=gn+1,n=xt.length;for(;e<n;){const i=e+n>>>1,s=xt[i],r=Zr(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function kd(t){if(!(t.flags&1)){const e=Zr(t),n=xt[xt.length-1];!n||!(t.flags&2)&&e>=Zr(n)?xt.push(t):xt.splice(Q0(e),0,t),t.flags|=1,Zg()}}function Zg(){wa||(wa=Qg.then(nv))}function ev(t){he(t)?Os.push(...t):li&&t.id===-1?li.splice(Es+1,0,t):t.flags&1||(Os.push(t),t.flags|=1),Zg()}function Eh(t,e,n=gn+1){for(;n<xt.length;n++){const i=xt[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;xt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function tv(t){if(Os.length){const e=[...new Set(Os)].sort((n,i)=>Zr(n)-Zr(i));if(Os.length=0,li){li.push(...e);return}for(li=e,Es=0;Es<li.length;Es++){const n=li[Es];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}li=null,Es=0}}const Zr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function nv(t){try{for(gn=0;gn<xt.length;gn++){const e=xt[gn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Eo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;gn<xt.length;gn++){const e=xt[gn];e&&(e.flags&=-2)}gn=-1,xt.length=0,tv(),wa=null,(xt.length||Os.length)&&nv()}}let it=null,wl=null;function ba(t){const e=it;return it=t,wl=t&&t.type.__scopeId||null,e}function iv(t){wl=t}function sv(){wl=null}function ee(t,e=it,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&Lh(-1);const r=ba(e);let o;try{o=t(...s)}finally{ba(r),i._d&&Lh(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function mt(t,e){if(it===null)return t;const n=Tl(it),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Ue]=e[s];r&&(me(r)&&(r={mounted:r,updated:r}),r.deep&&Bn(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Li(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Pi(),xn(l,n,8,[t.el,a,t,e]),Ai())}}const rv=Symbol("_vte"),Z0=t=>t.__isTeleport,$r=t=>t&&(t.disabled||t.disabled===""),Th=t=>t&&(t.defer||t.defer===""),Ch=t=>typeof SVGElement<"u"&&t instanceof SVGElement,xh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,du=(t,e)=>{const n=t&&t.to;return Ze(n)?e?e(n):null:n},ov={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:y}}=c,v=$r(e.props);let{shapeFlag:_,children:g,dynamicChildren:b}=e;if(t==null){const T=e.el=m(""),A=e.anchor=m("");h(T,n,i),h(A,n,i);const F=(C,R)=>{_&16&&(s&&s.isCE&&(s.ce._teleportTarget=C),u(g,C,R,s,r,o,a,l))},x=()=>{const C=e.target=du(e.props,p),R=lv(C,e,m,h);C&&(o!=="svg"&&Ch(C)?o="svg":o!=="mathml"&&xh(C)&&(o="mathml"),v||(F(C,R),ta(e,!1)))};v&&(F(n,A),ta(e,!0)),Th(e.props)?Tt(()=>{x(),e.el.__isMounted=!0},r):x()}else{if(Th(e.props)&&!t.el.__isMounted){Tt(()=>{ov.process(t,e,n,i,s,r,o,a,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,A=e.target=t.target,F=e.targetAnchor=t.targetAnchor,x=$r(t.props),C=x?n:A,R=x?T:F;if(o==="svg"||Ch(A)?o="svg":(o==="mathml"||xh(A))&&(o="mathml"),b?(f(t.dynamicChildren,b,C,s,r,o,a),Md(t,e,!0)):l||d(t,e,C,R,s,r,o,a,!1),v)x?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):zo(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=du(e.props,p);V&&zo(e,V,null,c,0)}else x&&zo(e,A,F,c,1);ta(e,v)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),r&&s(l),o&16){const h=r||!$r(f);for(let p=0;p<a.length;p++){const m=a[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:zo,hydrate:eS};function zo(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(o,e,n),(!d||$r(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&i(a,e,n)}function eS(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=du(e.props,l);if(f){const h=$r(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,i,s,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||lv(f,e,u,c),d(p&&o(p),e,f,n,i,s,r)}ta(e,h)}return e.anchor&&o(e.anchor)}const av=ov;function ta(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function lv(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[rv]=r,t&&(i(s,t),i(r,t)),r}function Pd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Xe(t,e){return me(t)?bt({name:t.name},e,{setup:t}):t}function tS(){const t=ms();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function cv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Sa(t,e,n,i,s=!1){if(he(t)){t.forEach((p,m)=>Sa(p,e&&(he(e)?e[m]:e),n,i,s));return}if(Ns(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Sa(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?Tl(i.component):i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ue?a.refs={}:a.refs,d=a.setupState,f=xe(d),h=d===Ue?()=>!1:p=>De(f,p);if(c!=null&&c!==l&&(Ze(c)?(u[c]=null,h(c)&&(d[c]=null)):Qe(c)&&(c.value=null)),me(l))Eo(l,a,12,[o,u]);else{const p=Ze(l),m=Qe(l);if(p||m){const y=()=>{if(t.f){const v=p?h(l)?d[l]:u[l]:l.value;s?he(v)&&wd(v,r):he(v)?v.includes(r)||v.push(r):p?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,Tt(y,n)):y()}}}ml().requestIdleCallback;ml().cancelIdleCallback;const Ns=t=>!!t.type.__asyncLoader,uv=t=>t.type.__isKeepAlive;function dv(t,e){hv(t,"a",e)}function fv(t,e){hv(t,"da",e)}function hv(t,e,n=ut){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(bl(e,i,n),n){let s=n.parent;for(;s&&s.parent;)uv(s.parent.vnode)&&nS(i,e,n,s),s=s.parent}}function nS(t,e,n,i){const s=bl(e,t,i,!0);St(()=>{wd(i[e],s)},n)}function bl(t,e,n=ut,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Pi();const a=To(n),l=xn(e,n,t,o);return a(),Ai(),l});return i?s.unshift(r):s.push(r),r}}const ni=t=>(e,n=ut)=>{(!no||t==="sp")&&bl(t,(...i)=>e(...i),n)},iS=ni("bm"),Ae=ni("m"),Ad=ni("bu"),Rd=ni("u"),Od=ni("bum"),St=ni("um"),sS=ni("sp"),rS=ni("rtg"),oS=ni("rtc");function aS(t,e=ut){bl("ec",t,e)}const pv="components";function Kt(t,e){return gv(pv,t,!0,e)||t}const mv=Symbol.for("v-ndc");function Jt(t){return Ze(t)?gv(pv,t,!1)||t:t||mv}function gv(t,e,n=!0,i=!1){const s=it||ut;if(s){const r=s.type;{const a=KS(r,!1);if(a&&(a===e||a===Gt(e)||a===pl(Gt(e))))return r}const o=Ih(s[t]||r[t],e)||Ih(s.appContext[t],e);return!o&&i?r:o}}function Ih(t,e){return t&&(t[e]||t[Gt(e)]||t[pl(Gt(e))])}function ps(t,e,n,i){let s;const r=n,o=he(t);if(o||Ze(t)){const a=o&&wi(t);let l=!1;a&&(l=!Wt(t),t=gl(t)),s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(l?_t(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,r)}else if(Ge(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,r)}}else s=[];return s}function nt(t,e,n={},i,s){if(it.ce||it.parent&&Ns(it.parent)&&it.parent.ce)return e!=="default"&&(n.name=e),k(),ce(Oe,null,[M("slot",n,i&&i())],64);let r=t[e];r&&r._c&&(r._d=!1),k();const o=r&&vv(r(n)),a=n.key||o&&o.key,l=ce(Oe,{key:(a&&!ti(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function vv(t){return t.some(e=>to(e)?!(e.type===Xn||e.type===Oe&&!vv(e.children)):!0)?t:null}const fu=t=>t?Lv(t)?Tl(t):fu(t.parent):null,Br=bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fu(t.parent),$root:t=>fu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>yv(t),$forceUpdate:t=>t.f||(t.f=()=>{kd(t.update)}),$nextTick:t=>t.n||(t.n=Zs.bind(t.proxy)),$watch:t=>PS.bind(t)}),dc=(t,e)=>t!==Ue&&!t.__isScriptSetup&&De(t,e),lS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(dc(i,e))return o[e]=1,i[e];if(s!==Ue&&De(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&De(c,e))return o[e]=3,r[e];if(n!==Ue&&De(n,e))return o[e]=4,n[e];hu&&(o[e]=0)}}const u=Br[e];let d,f;if(u)return e==="$attrs"&&vt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ue&&De(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,De(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return dc(s,e)?(s[e]=n,!0):i!==Ue&&De(i,e)?(i[e]=n,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==Ue&&De(t,o)||dc(e,o)||(a=r[0])&&De(a,o)||De(i,o)||De(Br,o)||De(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function kh(t){return he(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let hu=!0;function cS(t){const e=yv(t),n=t.proxy,i=t.ctx;hu=!1,e.beforeCreate&&Ph(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:g,unmounted:b,render:T,renderTracked:A,renderTriggered:F,errorCaptured:x,serverPrefetch:C,expose:R,inheritAttrs:V,components:z,directives:H,filters:ne}=e;if(c&&uS(c,i,null),o)for(const ae in o){const ye=o[ae];me(ye)&&(i[ae]=ye.bind(n))}if(s){const ae=s.call(n,n);Ge(ae)&&(t.data=Ri(ae))}if(hu=!0,r)for(const ae in r){const ye=r[ae],ft=me(ye)?ye.bind(n,n):me(ye.get)?ye.get.bind(n,n):Zt,ht=!me(ye)&&me(ye.set)?ye.set.bind(n):Zt,ge=J({get:ft,set:ht});Object.defineProperty(i,ae,{enumerable:!0,configurable:!0,get:()=>ge.value,set:_e=>ge.value=_e})}if(a)for(const ae in a)_v(a[ae],i,n,ae);if(l){const ae=me(l)?l.call(n):l;Reflect.ownKeys(ae).forEach(ye=>{wt(ye,ae[ye])})}u&&Ph(u,t,"c");function oe(ae,ye){he(ye)?ye.forEach(ft=>ae(ft.bind(n))):ye&&ae(ye.bind(n))}if(oe(iS,d),oe(Ae,f),oe(Ad,h),oe(Rd,p),oe(dv,m),oe(fv,y),oe(aS,x),oe(oS,A),oe(rS,F),oe(Od,_),oe(St,b),oe(sS,C),he(R))if(R.length){const ae=t.exposed||(t.exposed={});R.forEach(ye=>{Object.defineProperty(ae,ye,{get:()=>n[ye],set:ft=>n[ye]=ft})})}else t.exposed||(t.exposed={});T&&t.render===Zt&&(t.render=T),V!=null&&(t.inheritAttrs=V),z&&(t.components=z),H&&(t.directives=H),C&&cv(t)}function uS(t,e,n=Zt){he(t)&&(t=pu(t));for(const i in t){const s=t[i];let r;Ge(s)?"default"in s?r=ze(s.from||i,s.default,!0):r=ze(s.from||i):r=ze(s),Qe(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Ph(t,e,n){xn(he(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function _v(t,e,n,i){let s=i.includes(".")?Rv(n,i):()=>n[i];if(Ze(t)){const r=e[t];me(r)&&Ke(s,r)}else if(me(t))Ke(s,t.bind(n));else if(Ge(t))if(he(t))t.forEach(r=>_v(r,e,n,i));else{const r=me(t.handler)?t.handler.bind(n):e[t.handler];me(r)&&Ke(s,r,t)}}function yv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>Ea(l,c,o,!0)),Ea(l,e,o)),Ge(e)&&r.set(e,l),l}function Ea(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Ea(t,r,n,!0),s&&s.forEach(o=>Ea(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=dS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const dS={data:Ah,props:Rh,emits:Rh,methods:Ar,computed:Ar,beforeCreate:Et,created:Et,beforeMount:Et,mounted:Et,beforeUpdate:Et,updated:Et,beforeDestroy:Et,beforeUnmount:Et,destroyed:Et,unmounted:Et,activated:Et,deactivated:Et,errorCaptured:Et,serverPrefetch:Et,components:Ar,directives:Ar,watch:hS,provide:Ah,inject:fS};function Ah(t,e){return e?t?function(){return bt(me(t)?t.call(this,this):t,me(e)?e.call(this,this):e)}:e:t}function fS(t,e){return Ar(pu(t),pu(e))}function pu(t){if(he(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Et(t,e){return t?[...new Set([].concat(t,e))]:e}function Ar(t,e){return t?bt(Object.create(null),t,e):e}function Rh(t,e){return t?he(t)&&he(e)?[...new Set([...t,...e])]:bt(Object.create(null),kh(t),kh(e??{})):e}function hS(t,e){if(!t)return e;if(!e)return t;const n=bt(Object.create(null),t);for(const i in e)n[i]=Et(t[i],e[i]);return n}function wv(){return{app:null,config:{isNativeTag:u0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pS=0;function mS(t,e){return function(i,s=null){me(i)||(i=bt({},i)),s!=null&&!Ge(s)&&(s=null);const r=wv(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:pS++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:XS,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&me(u.install)?(o.add(u),u.install(c,...d)):me(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||M(i,s);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Tl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Yi;Yi=c;try{return u()}finally{Yi=d}}};return c}}let Yi=null;function wt(t,e){if(ut){let n=ut.provides;const i=ut.parent&&ut.parent.provides;i===n&&(n=ut.provides=Object.create(i)),n[t]=e}}function ze(t,e,n=!1){const i=ut||it;if(i||Yi){const s=Yi?Yi._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&me(e)?e.call(i&&i.proxy):e}}function gS(){return!!(ut||it||Yi)}const bv={},Sv=()=>Object.create(bv),Ev=t=>Object.getPrototypeOf(t)===bv;function vS(t,e,n,i=!1){const s={},r=Sv();t.propsDefaults=Object.create(null),Tv(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:qg(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function _S(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=xe(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Sl(t.emitsOptions,f))continue;const h=e[f];if(l)if(De(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Gt(f);s[p]=mu(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{Tv(t,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!De(e,d)&&((u=ki(d))===d||!De(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=mu(l,a,d,void 0,t,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!De(e,d))&&(delete r[d],c=!0)}c&&$n(t.attrs,"set","")}function Tv(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Dr(l))continue;const c=e[l];let u;s&&De(s,u=Gt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Sl(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=xe(n),c=a||Ue;for(let u=0;u<r.length;u++){const d=r[u];n[d]=mu(s,l,d,c[d],t,!De(c,d))}}return o}function mu(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=De(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&me(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=To(s);i=c[n]=l.call(null,e),u()}}else i=l;s.ce&&s.ce._setProp(n,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===ki(n))&&(i=!0))}return i}const yS=new WeakMap;function Cv(t,e,n=!1){const i=n?yS:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!me(t)){const u=d=>{l=!0;const[f,h]=Cv(d,e,!0);bt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ge(t)&&i.set(t,As),As;if(he(r))for(let u=0;u<r.length;u++){const d=Gt(r[u]);Oh(d)&&(o[d]=Ue)}else if(r)for(const u in r){const d=Gt(u);if(Oh(d)){const f=r[u],h=o[d]=he(f)||me(f)?{type:f}:bt({},f),p=h.type;let m=!1,y=!0;if(he(p))for(let v=0;v<p.length;++v){const _=p[v],g=me(_)&&_.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=me(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||De(h,"default"))&&a.push(d)}}const c=[o,a];return Ge(t)&&i.set(t,c),c}function Oh(t){return t[0]!=="$"&&!Dr(t)}const xv=t=>t[0]==="_"||t==="$stable",Nd=t=>he(t)?t.map(_n):[_n(t)],wS=(t,e,n)=>{if(e._n)return e;const i=ee((...s)=>Nd(e(...s)),n);return i._c=!1,i},Iv=(t,e,n)=>{const i=t._ctx;for(const s in t){if(xv(s))continue;const r=t[s];if(me(r))e[s]=wS(s,r,i);else if(r!=null){const o=Nd(r);e[s]=()=>o}}},kv=(t,e)=>{const n=Nd(e);t.slots.default=()=>n},Pv=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},bS=(t,e,n)=>{const i=t.slots=Sv();if(t.vnode.shapeFlag&32){const s=e._;s?(Pv(i,e,n),n&&Cg(i,"_",s,!0)):Iv(e,i)}else e&&kv(t,e)},SS=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Ue;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Pv(s,e,n):(r=!e.$stable,Iv(e,s)),o=e}else e&&(kv(t,e),o={default:1});if(r)for(const a in s)!xv(a)&&o[a]==null&&delete s[a]},Tt=LS;function ES(t){return TS(t)}function TS(t,e){const n=ml();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Zt,insertStaticContent:p}=t,m=(S,E,I,$=null,U=null,B=null,Q=void 0,X=null,Y=!!E.dynamicChildren)=>{if(S===E)return;S&&!_r(S,E)&&($=D(S),_e(S,U,B,!0),S=null),E.patchFlag===-2&&(Y=!1,E.dynamicChildren=null);const{type:W,ref:ue,shapeFlag:te}=E;switch(W){case El:y(S,E,I,$);break;case Xn:v(S,E,I,$);break;case na:S==null&&_(E,I,$,Q);break;case Oe:z(S,E,I,$,U,B,Q,X,Y);break;default:te&1?T(S,E,I,$,U,B,Q,X,Y):te&6?H(S,E,I,$,U,B,Q,X,Y):(te&64||te&128)&&W.process(S,E,I,$,U,B,Q,X,Y,se)}ue!=null&&U&&Sa(ue,S&&S.ref,B,E||S,!E)},y=(S,E,I,$)=>{if(S==null)i(E.el=a(E.children),I,$);else{const U=E.el=S.el;E.children!==S.children&&c(U,E.children)}},v=(S,E,I,$)=>{S==null?i(E.el=l(E.children||""),I,$):E.el=S.el},_=(S,E,I,$)=>{[S.el,S.anchor]=p(S.children,E,I,$,S.el,S.anchor)},g=({el:S,anchor:E},I,$)=>{let U;for(;S&&S!==E;)U=f(S),i(S,I,$),S=U;i(E,I,$)},b=({el:S,anchor:E})=>{let I;for(;S&&S!==E;)I=f(S),s(S),S=I;s(E)},T=(S,E,I,$,U,B,Q,X,Y)=>{E.type==="svg"?Q="svg":E.type==="math"&&(Q="mathml"),S==null?A(E,I,$,U,B,Q,X,Y):C(S,E,U,B,Q,X,Y)},A=(S,E,I,$,U,B,Q,X)=>{let Y,W;const{props:ue,shapeFlag:te,transition:le,dirs:pe}=S;if(Y=S.el=o(S.type,B,ue&&ue.is,ue),te&8?u(Y,S.children):te&16&&x(S.children,Y,null,$,U,fc(S,B),Q,X),pe&&Li(S,null,$,"created"),F(Y,S,S.scopeId,Q,$),ue){for(const je in ue)je!=="value"&&!Dr(je)&&r(Y,je,null,ue[je],B,$);"value"in ue&&r(Y,"value",null,ue.value,B),(W=ue.onVnodeBeforeMount)&&pn(W,$,S)}pe&&Li(S,null,$,"beforeMount");const Te=CS(U,le);Te&&le.beforeEnter(Y),i(Y,E,I),((W=ue&&ue.onVnodeMounted)||Te||pe)&&Tt(()=>{W&&pn(W,$,S),Te&&le.enter(Y),pe&&Li(S,null,$,"mounted")},U)},F=(S,E,I,$,U)=>{if(I&&h(S,I),$)for(let B=0;B<$.length;B++)h(S,$[B]);if(U){let B=U.subTree;if(E===B||Nv(B.type)&&(B.ssContent===E||B.ssFallback===E)){const Q=U.vnode;F(S,Q,Q.scopeId,Q.slotScopeIds,U.parent)}}},x=(S,E,I,$,U,B,Q,X,Y=0)=>{for(let W=Y;W<S.length;W++){const ue=S[W]=X?ci(S[W]):_n(S[W]);m(null,ue,E,I,$,U,B,Q,X)}},C=(S,E,I,$,U,B,Q)=>{const X=E.el=S.el;let{patchFlag:Y,dynamicChildren:W,dirs:ue}=E;Y|=S.patchFlag&16;const te=S.props||Ue,le=E.props||Ue;let pe;if(I&&Fi(I,!1),(pe=le.onVnodeBeforeUpdate)&&pn(pe,I,E,S),ue&&Li(E,S,I,"beforeUpdate"),I&&Fi(I,!0),(te.innerHTML&&le.innerHTML==null||te.textContent&&le.textContent==null)&&u(X,""),W?R(S.dynamicChildren,W,X,I,$,fc(E,U),B):Q||ye(S,E,X,null,I,$,fc(E,U),B,!1),Y>0){if(Y&16)V(X,te,le,I,U);else if(Y&2&&te.class!==le.class&&r(X,"class",null,le.class,U),Y&4&&r(X,"style",te.style,le.style,U),Y&8){const Te=E.dynamicProps;for(let je=0;je<Te.length;je++){const Le=Te[je],Dt=te[Le],Pt=le[Le];(Pt!==Dt||Le==="value")&&r(X,Le,Dt,Pt,U,I)}}Y&1&&S.children!==E.children&&u(X,E.children)}else!Q&&W==null&&V(X,te,le,I,U);((pe=le.onVnodeUpdated)||ue)&&Tt(()=>{pe&&pn(pe,I,E,S),ue&&Li(E,S,I,"updated")},$)},R=(S,E,I,$,U,B,Q)=>{for(let X=0;X<E.length;X++){const Y=S[X],W=E[X],ue=Y.el&&(Y.type===Oe||!_r(Y,W)||Y.shapeFlag&70)?d(Y.el):I;m(Y,W,ue,null,$,U,B,Q,!0)}},V=(S,E,I,$,U)=>{if(E!==I){if(E!==Ue)for(const B in E)!Dr(B)&&!(B in I)&&r(S,B,E[B],null,U,$);for(const B in I){if(Dr(B))continue;const Q=I[B],X=E[B];Q!==X&&B!=="value"&&r(S,B,X,Q,U,$)}"value"in I&&r(S,"value",E.value,I.value,U)}},z=(S,E,I,$,U,B,Q,X,Y)=>{const W=E.el=S?S.el:a(""),ue=E.anchor=S?S.anchor:a("");let{patchFlag:te,dynamicChildren:le,slotScopeIds:pe}=E;pe&&(X=X?X.concat(pe):pe),S==null?(i(W,I,$),i(ue,I,$),x(E.children||[],I,ue,U,B,Q,X,Y)):te>0&&te&64&&le&&S.dynamicChildren?(R(S.dynamicChildren,le,I,U,B,Q,X),(E.key!=null||U&&E===U.subTree)&&Md(S,E,!0)):ye(S,E,I,ue,U,B,Q,X,Y)},H=(S,E,I,$,U,B,Q,X,Y)=>{E.slotScopeIds=X,S==null?E.shapeFlag&512?U.ctx.activate(E,I,$,Q,Y):ne(E,I,$,U,B,Q,Y):re(S,E,Y)},ne=(S,E,I,$,U,B,Q)=>{const X=S.component=HS(S,$,U);if(uv(S)&&(X.ctx.renderer=se),WS(X,!1,Q),X.asyncDep){if(U&&U.registerDep(X,oe,Q),!S.el){const Y=X.subTree=M(Xn);v(null,Y,E,I)}}else oe(X,S,E,I,U,B,Q)},re=(S,E,I)=>{const $=E.component=S.component;if(MS(S,E,I))if($.asyncDep&&!$.asyncResolved){ae($,E,I);return}else $.next=E,$.update();else E.el=S.el,$.vnode=E},oe=(S,E,I,$,U,B,Q)=>{const X=()=>{if(S.isMounted){let{next:te,bu:le,u:pe,parent:Te,vnode:je}=S;{const fn=Av(S);if(fn){te&&(te.el=je.el,ae(S,te,Q)),fn.asyncDep.then(()=>{S.isUnmounted||X()});return}}let Le=te,Dt;Fi(S,!1),te?(te.el=je.el,ae(S,te,Q)):te=je,le&&ea(le),(Dt=te.props&&te.props.onVnodeBeforeUpdate)&&pn(Dt,Te,te,je),Fi(S,!0);const Pt=Mh(S),dn=S.subTree;S.subTree=Pt,m(dn,Pt,d(dn.el),D(dn),S,U,B),te.el=Pt.el,Le===null&&DS(S,Pt.el),pe&&Tt(pe,U),(Dt=te.props&&te.props.onVnodeUpdated)&&Tt(()=>pn(Dt,Te,te,je),U)}else{let te;const{el:le,props:pe}=E,{bm:Te,m:je,parent:Le,root:Dt,type:Pt}=S,dn=Ns(E);Fi(S,!1),Te&&ea(Te),!dn&&(te=pe&&pe.onVnodeBeforeMount)&&pn(te,Le,E),Fi(S,!0);{Dt.ce&&Dt.ce._injectChildStyle(Pt);const fn=S.subTree=Mh(S);m(null,fn,I,$,S,U,B),E.el=fn.el}if(je&&Tt(je,U),!dn&&(te=pe&&pe.onVnodeMounted)){const fn=E;Tt(()=>pn(te,Le,fn),U)}(E.shapeFlag&256||Le&&Ns(Le.vnode)&&Le.vnode.shapeFlag&256)&&S.a&&Tt(S.a,U),S.isMounted=!0,E=I=$=null}};S.scope.on();const Y=S.effect=new Og(X);S.scope.off();const W=S.update=Y.run.bind(Y),ue=S.job=Y.runIfDirty.bind(Y);ue.i=S,ue.id=S.uid,Y.scheduler=()=>kd(ue),Fi(S,!0),W()},ae=(S,E,I)=>{E.component=S;const $=S.vnode.props;S.vnode=E,S.next=null,_S(S,E.props,$,I),SS(S,E.children,I),Pi(),Eh(S),Ai()},ye=(S,E,I,$,U,B,Q,X,Y=!1)=>{const W=S&&S.children,ue=S?S.shapeFlag:0,te=E.children,{patchFlag:le,shapeFlag:pe}=E;if(le>0){if(le&128){ht(W,te,I,$,U,B,Q,X,Y);return}else if(le&256){ft(W,te,I,$,U,B,Q,X,Y);return}}pe&8?(ue&16&&Ce(W,U,B),te!==W&&u(I,te)):ue&16?pe&16?ht(W,te,I,$,U,B,Q,X,Y):Ce(W,U,B,!0):(ue&8&&u(I,""),pe&16&&x(te,I,$,U,B,Q,X,Y))},ft=(S,E,I,$,U,B,Q,X,Y)=>{S=S||As,E=E||As;const W=S.length,ue=E.length,te=Math.min(W,ue);let le;for(le=0;le<te;le++){const pe=E[le]=Y?ci(E[le]):_n(E[le]);m(S[le],pe,I,null,U,B,Q,X,Y)}W>ue?Ce(S,U,B,!0,!1,te):x(E,I,$,U,B,Q,X,Y,te)},ht=(S,E,I,$,U,B,Q,X,Y)=>{let W=0;const ue=E.length;let te=S.length-1,le=ue-1;for(;W<=te&&W<=le;){const pe=S[W],Te=E[W]=Y?ci(E[W]):_n(E[W]);if(_r(pe,Te))m(pe,Te,I,null,U,B,Q,X,Y);else break;W++}for(;W<=te&&W<=le;){const pe=S[te],Te=E[le]=Y?ci(E[le]):_n(E[le]);if(_r(pe,Te))m(pe,Te,I,null,U,B,Q,X,Y);else break;te--,le--}if(W>te){if(W<=le){const pe=le+1,Te=pe<ue?E[pe].el:$;for(;W<=le;)m(null,E[W]=Y?ci(E[W]):_n(E[W]),I,Te,U,B,Q,X,Y),W++}}else if(W>le)for(;W<=te;)_e(S[W],U,B,!0),W++;else{const pe=W,Te=W,je=new Map;for(W=Te;W<=le;W++){const Lt=E[W]=Y?ci(E[W]):_n(E[W]);Lt.key!=null&&je.set(Lt.key,W)}let Le,Dt=0;const Pt=le-Te+1;let dn=!1,fn=0;const gr=new Array(Pt);for(W=0;W<Pt;W++)gr[W]=0;for(W=pe;W<=te;W++){const Lt=S[W];if(Dt>=Pt){_e(Lt,U,B,!0);continue}let hn;if(Lt.key!=null)hn=je.get(Lt.key);else for(Le=Te;Le<=le;Le++)if(gr[Le-Te]===0&&_r(Lt,E[Le])){hn=Le;break}hn===void 0?_e(Lt,U,B,!0):(gr[hn-Te]=W+1,hn>=fn?fn=hn:dn=!0,m(Lt,E[hn],I,null,U,B,Q,X,Y),Dt++)}const _h=dn?xS(gr):As;for(Le=_h.length-1,W=Pt-1;W>=0;W--){const Lt=Te+W,hn=E[Lt],yh=Lt+1<ue?E[Lt+1].el:$;gr[W]===0?m(null,hn,I,yh,U,B,Q,X,Y):dn&&(Le<0||W!==_h[Le]?ge(hn,I,yh,2):Le--)}}},ge=(S,E,I,$,U=null)=>{const{el:B,type:Q,transition:X,children:Y,shapeFlag:W}=S;if(W&6){ge(S.component.subTree,E,I,$);return}if(W&128){S.suspense.move(E,I,$);return}if(W&64){Q.move(S,E,I,se);return}if(Q===Oe){i(B,E,I);for(let te=0;te<Y.length;te++)ge(Y[te],E,I,$);i(S.anchor,E,I);return}if(Q===na){g(S,E,I);return}if($!==2&&W&1&&X)if($===0)X.beforeEnter(B),i(B,E,I),Tt(()=>X.enter(B),U);else{const{leave:te,delayLeave:le,afterLeave:pe}=X,Te=()=>i(B,E,I),je=()=>{te(B,()=>{Te(),pe&&pe()})};le?le(B,Te,je):je()}else i(B,E,I)},_e=(S,E,I,$=!1,U=!1)=>{const{type:B,props:Q,ref:X,children:Y,dynamicChildren:W,shapeFlag:ue,patchFlag:te,dirs:le,cacheIndex:pe}=S;if(te===-2&&(U=!1),X!=null&&Sa(X,null,I,S,!0),pe!=null&&(E.renderCache[pe]=void 0),ue&256){E.ctx.deactivate(S);return}const Te=ue&1&&le,je=!Ns(S);let Le;if(je&&(Le=Q&&Q.onVnodeBeforeUnmount)&&pn(Le,E,S),ue&6)Ee(S.component,I,$);else{if(ue&128){S.suspense.unmount(I,$);return}Te&&Li(S,null,E,"beforeUnmount"),ue&64?S.type.remove(S,E,I,se,$):W&&!W.hasOnce&&(B!==Oe||te>0&&te&64)?Ce(W,E,I,!1,!0):(B===Oe&&te&384||!U&&ue&16)&&Ce(Y,E,I),$&&O(S)}(je&&(Le=Q&&Q.onVnodeUnmounted)||Te)&&Tt(()=>{Le&&pn(Le,E,S),Te&&Li(S,null,E,"unmounted")},I)},O=S=>{const{type:E,el:I,anchor:$,transition:U}=S;if(E===Oe){K(I,$);return}if(E===na){b(S);return}const B=()=>{s(I),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(S.shapeFlag&1&&U&&!U.persisted){const{leave:Q,delayLeave:X}=U,Y=()=>Q(I,B);X?X(S.el,B,Y):Y()}else B()},K=(S,E)=>{let I;for(;S!==E;)I=f(S),s(S),S=I;s(E)},Ee=(S,E,I)=>{const{bum:$,scope:U,job:B,subTree:Q,um:X,m:Y,a:W}=S;Nh(Y),Nh(W),$&&ea($),U.stop(),B&&(B.flags|=8,_e(Q,S,E,I)),X&&Tt(X,E),Tt(()=>{S.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Ce=(S,E,I,$=!1,U=!1,B=0)=>{for(let Q=B;Q<S.length;Q++)_e(S[Q],E,I,$,U)},D=S=>{if(S.shapeFlag&6)return D(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const E=f(S.anchor||S.el),I=E&&E[rv];return I?f(I):E};let Z=!1;const q=(S,E,I)=>{S==null?E._vnode&&_e(E._vnode,null,null,!0):m(E._vnode||null,S,E,null,null,null,I),E._vnode=S,Z||(Z=!0,Eh(),tv(),Z=!1)},se={p:m,um:_e,m:ge,r:O,mt:ne,mc:x,pc:ye,pbc:R,n:D,o:t};return{render:q,hydrate:void 0,createApp:mS(q)}}function fc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Fi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function CS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Md(t,e,n=!1){const i=t.children,s=e.children;if(he(i)&&he(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=ci(s[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Md(o,a)),a.type===El&&(a.el=o.el)}}function xS(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Av(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Av(e)}function Nh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const IS=Symbol.for("v-scx"),kS=()=>ze(IS);function sn(t,e){return Dd(t,null,e)}function Ke(t,e,n){return Dd(t,e,n)}function Dd(t,e,n=Ue){const{immediate:i,deep:s,flush:r,once:o}=n,a=bt({},n),l=e&&i||!e&&r!=="post";let c;if(no){if(r==="sync"){const h=kS();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Zt,h.resume=Zt,h.pause=Zt,h}}const u=ut;a.call=(h,p,m)=>xn(h,u,p,m);let d=!1;r==="post"?a.scheduler=h=>{Tt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():kd(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=X0(t,e,a);return no&&(c?c.push(f):l&&f()),f}function PS(t,e,n){const i=this.proxy,s=Ze(t)?t.includes(".")?Rv(i,t):()=>i[t]:t.bind(i,i);let r;me(e)?r=e:(r=e.handler,n=e);const o=To(this),a=Dd(s,r.bind(i),n);return o(),a}function Rv(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const AS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Gt(e)}Modifiers`]||t[`${ki(e)}Modifiers`];function RS(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Ue;let s=n;const r=e.startsWith("update:"),o=r&&AS(i,e.slice(7));o&&(o.trim&&(s=n.map(u=>Ze(u)?u.trim():u)),o.number&&(s=n.map(ou)));let a,l=i[a=oc(e)]||i[a=oc(Gt(e))];!l&&r&&(l=i[a=oc(ki(e))]),l&&xn(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xn(c,t,6,s)}}function Ov(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!me(t)){const l=c=>{const u=Ov(c,e,!0);u&&(a=!0,bt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ge(t)&&i.set(t,null),null):(he(r)?r.forEach(l=>o[l]=null):bt(o,r),Ge(t)&&i.set(t,o),o)}function Sl(t,e){return!t||!dl(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,ki(e))||De(t,e))}function Mh(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=ba(t);let v,_;try{if(n.shapeFlag&4){const b=s||i,T=b;v=_n(c.call(T,b,u,d,h,f,p)),_=a}else{const b=e;v=_n(b.length>1?b(d,{attrs:a,slots:o,emit:l}):b(d,null)),_=e.props?a:OS(a)}}catch(b){Ur.length=0,yl(b,t,1),v=M(Xn)}let g=v;if(_&&m!==!1){const b=Object.keys(_),{shapeFlag:T}=g;b.length&&T&7&&(r&&b.some(yd)&&(_=NS(_,r)),g=ts(g,_,!1,!0))}return n.dirs&&(g=ts(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&Pd(g,n.transition),v=g,ba(y),v}const OS=t=>{let e;for(const n in t)(n==="class"||n==="style"||dl(n))&&((e||(e={}))[n]=t[n]);return e},NS=(t,e)=>{const n={};for(const i in t)(!yd(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function MS(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Dh(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!Sl(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Dh(i,o,c):!0:!!o;return!1}function Dh(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Sl(n,r))return!0}return!1}function DS({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Nv=t=>t.__isSuspense;function LS(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):ev(t)}const Oe=Symbol.for("v-fgt"),El=Symbol.for("v-txt"),Xn=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Ur=[];let Bt=null;function k(t=!1){Ur.push(Bt=t?null:[])}function FS(){Ur.pop(),Bt=Ur[Ur.length-1]||null}let eo=1;function Lh(t,e=!1){eo+=t,t<0&&Bt&&e&&(Bt.hasOnce=!0)}function Mv(t){return t.dynamicChildren=eo>0?Bt||As:null,FS(),eo>0&&Bt&&Bt.push(t),t}function j(t,e,n,i,s,r){return Mv(w(t,e,n,i,s,r,!0))}function ce(t,e,n,i,s){return Mv(M(t,e,n,i,s,!0))}function to(t){return t?t.__v_isVNode===!0:!1}function _r(t,e){return t.type===e.type&&t.key===e.key}const Dv=({key:t})=>t??null,ia=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ze(t)||Qe(t)||me(t)?{i:it,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,i=0,s=null,r=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Dv(e),ref:e&&ia(e),scopeId:wl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:it};return a?(Ld(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ze(n)?8:16),eo>0&&!o&&Bt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Bt.push(l),l}const M=$S;function $S(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===mv)&&(t=Xn),to(t)){const a=ts(t,e,!0);return n&&Ld(a,n),eo>0&&!r&&Bt&&(a.shapeFlag&6?Bt[Bt.indexOf(t)]=a:Bt.push(a)),a.patchFlag=-2,a}if(YS(t)&&(t=t.__vccOpts),e){e=BS(e);let{class:a,style:l}=e;a&&!Ze(a)&&(e.class=Ie(a)),Ge(l)&&(vl(l)&&!he(l)&&(l=bt({},l)),e.style=Vt(l))}const o=Ze(t)?1:Nv(t)?128:Z0(t)?64:Ge(t)?4:me(t)?2:0;return w(t,e,n,i,s,o,r,!0)}function BS(t){return t?vl(t)||Ev(t)?bt({},t):t:null}function ts(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?US(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Dv(c),ref:e&&e.ref?n&&r?he(r)?r.concat(ia(e)):[r,ia(e)]:ia(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ts(t.ssContent),ssFallback:t.ssFallback&&ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Pd(u,l.clone(u)),u}function Re(t=" ",e=0){return M(El,null,t,e)}function ke(t="",e=!1){return e?(k(),ce(Xn,null,t)):M(Xn,null,t)}function _n(t){return t==null||typeof t=="boolean"?M(Xn):he(t)?M(Oe,null,t.slice()):to(t)?ci(t):M(El,null,String(t))}function ci(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ts(t)}function Ld(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(he(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Ld(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Ev(e)?e._ctx=it:s===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else me(e)?(e={default:e,_ctx:it},n=32):(e=String(e),i&64?(n=16,e=[Re(e)]):n=8);t.children=e,t.shapeFlag|=n}function US(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Ie([e.class,i.class]));else if(s==="style")e.style=Vt([e.style,i.style]);else if(dl(s)){const r=e[s],o=i[s];o&&r!==o&&!(he(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function pn(t,e,n,i=null){xn(t,e,7,[n,i])}const jS=wv();let VS=0;function HS(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||jS,r={uid:VS++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cv(i,s),emitsOptions:Ov(i,s),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:i.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=RS.bind(null,r),t.ce&&t.ce(r),r}let ut=null;const ms=()=>ut||it;let Ta,gu;{const t=ml(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Ta=e("__VUE_INSTANCE_SETTERS__",n=>ut=n),gu=e("__VUE_SSR_SETTERS__",n=>no=n)}const To=t=>{const e=ut;return Ta(t),t.scope.on(),()=>{t.scope.off(),Ta(e)}},Fh=()=>{ut&&ut.scope.off(),Ta(null)};function Lv(t){return t.vnode.shapeFlag&4}let no=!1;function WS(t,e=!1,n=!1){e&&gu(e);const{props:i,children:s}=t.vnode,r=Lv(t);vS(t,i,r,e),bS(t,s,n);const o=r?zS(t,e):void 0;return e&&gu(!1),o}function zS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,lS);const{setup:i}=n;if(i){Pi();const s=t.setupContext=i.length>1?GS(t):null,r=To(t),o=Eo(i,t,0,[t.props,s]),a=Sg(o);if(Ai(),r(),(a||t.sp)&&!Ns(t)&&cv(t),a){if(o.then(Fh,Fh),e)return o.then(l=>{$h(t,l)}).catch(l=>{yl(l,t,0)});t.asyncDep=o}else $h(t,o)}else Fv(t)}function $h(t,e,n){me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)&&(t.setupState=Xg(e)),Fv(t)}function Fv(t,e,n){const i=t.type;t.render||(t.render=i.render||Zt);{const s=To(t);Pi();try{cS(t)}finally{Ai(),s()}}}const qS={get(t,e){return vt(t,"get",""),t[e]}};function GS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,qS),slots:t.slots,emit:t.emit,expose:e}}function Tl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Xg(_l(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Br)return Br[n](t)},has(e,n){return n in e||n in Br}})):t.proxy}function KS(t,e=!0){return me(t)?t.displayName||t.name:t.name||e&&t.__name}function YS(t){return me(t)&&"__vccOpts"in t}const J=(t,e)=>K0(t,e,no);function Pe(t,e,n){const i=arguments.length;return i===2?Ge(e)&&!he(e)?to(e)?M(t,null,[e]):M(t,e):M(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&to(n)&&(n=[n]),M(t,e,n))}const XS="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vu;const Bh=typeof window<"u"&&window.trustedTypes;if(Bh)try{vu=Bh.createPolicy("vue",{createHTML:t=>t})}catch{}const $v=vu?t=>vu.createHTML(t):t=>t,JS="http://www.w3.org/2000/svg",QS="http://www.w3.org/1998/Math/MathML",Dn=typeof document<"u"?document:null,Uh=Dn&&Dn.createElement("template"),ZS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?Dn.createElementNS(JS,t):e==="mathml"?Dn.createElementNS(QS,t):n?Dn.createElement(t,{is:n}):Dn.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Dn.createTextNode(t),createComment:t=>Dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Uh.innerHTML=$v(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Uh.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},eE=Symbol("_vtc");function tE(t,e,n){const i=t[eE];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ca=Symbol("_vod"),Bv=Symbol("_vsh"),zn={beforeMount(t,{value:e},{transition:n}){t[Ca]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):yr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),yr(t,!0),i.enter(t)):i.leave(t,()=>{yr(t,!1)}):yr(t,e))},beforeUnmount(t,{value:e}){yr(t,e)}};function yr(t,e){t.style.display=e?t[Ca]:"none",t[Bv]=!e}const Uv=Symbol("");function nE(t){const e=ms();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>xa(r,s))},i=()=>{const s=t(e.proxy);e.ce?xa(e.ce,s):_u(e.subTree,s),n(s)};Ad(()=>{ev(i)}),Ae(()=>{Ke(i,Zt,{flush:"post"});const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),St(()=>s.disconnect())})}function _u(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{_u(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)xa(t.el,e);else if(t.type===Oe)t.children.forEach(n=>_u(n,e));else if(t.type===na){let{el:n,anchor:i}=t;for(;n&&(xa(n,e),n!==i);)n=n.nextSibling}}function xa(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const s in e)n.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;n[Uv]=i}}const iE=/(^|;)\s*display\s*:/;function sE(t,e,n){const i=t.style,s=Ze(n);let r=!1;if(n&&!s){if(e)if(Ze(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&sa(i,a,"")}else for(const o in e)n[o]==null&&sa(i,o,"");for(const o in n)o==="display"&&(r=!0),sa(i,o,n[o])}else if(s){if(e!==n){const o=i[Uv];o&&(n+=";"+o),i.cssText=n,r=iE.test(n)}}else e&&t.removeAttribute("style");Ca in t&&(t[Ca]=r?i.display:"",t[Bv]&&(i.display="none"))}const jh=/\s*!important$/;function sa(t,e,n){if(he(n))n.forEach(i=>sa(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=rE(t,e);jh.test(n)?t.setProperty(ki(i),n.replace(jh,""),"important"):t[i]=n}}const Vh=["Webkit","Moz","ms"],hc={};function rE(t,e){const n=hc[e];if(n)return n;let i=Gt(e);if(i!=="filter"&&i in t)return hc[e]=i;i=pl(i);for(let s=0;s<Vh.length;s++){const r=Vh[s]+i;if(r in t)return hc[e]=r}return e}const Hh="http://www.w3.org/1999/xlink";function Wh(t,e,n,i,s,r=w0(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hh,e.slice(6,e.length)):t.setAttributeNS(Hh,e,n):n==null||r&&!xg(n)?t.removeAttribute(e):t.setAttribute(e,r?"":ti(n)?String(n):n)}function zh(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?$v(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=xg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Ts(t,e,n,i){t.addEventListener(e,n,i)}function oE(t,e,n,i){t.removeEventListener(e,n,i)}const qh=Symbol("_vei");function aE(t,e,n,i,s=null){const r=t[qh]||(t[qh]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=lE(e);if(i){const c=r[e]=dE(i,s);Ts(t,a,c,l)}else o&&(oE(t,a,o,l),r[e]=void 0)}}const Gh=/(?:Once|Passive|Capture)$/;function lE(t){let e;if(Gh.test(t)){e={};let i;for(;i=t.match(Gh);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ki(t.slice(2)),e]}let pc=0;const cE=Promise.resolve(),uE=()=>pc||(cE.then(()=>pc=0),pc=Date.now());function dE(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;xn(fE(i,n.value),e,5,[i])};return n.value=t,n.attached=uE(),n}function fE(t,e){if(he(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Kh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hE=(t,e,n,i,s,r)=>{const o=s==="svg";e==="class"?tE(t,i,o):e==="style"?sE(t,n,i):dl(e)?yd(e)||aE(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pE(t,e,i,o))?(zh(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wh(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ze(i))?zh(t,Gt(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Wh(t,e,i,o))};function pE(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kh(e)&&me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Kh(e)&&Ze(n)?!1:e in t}const Yh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return he(e)?n=>ea(e,n):e};function mE(t){t.target.composing=!0}function Xh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const mc=Symbol("_assign"),bi={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[mc]=Yh(s);const r=i||s.props&&s.props.type==="number";Ts(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=ou(a)),t[mc](a)}),n&&Ts(t,"change",()=>{t.value=t.value.trim()}),e||(Ts(t,"compositionstart",mE),Ts(t,"compositionend",Xh),Ts(t,"change",Xh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},o){if(t[mc]=Yh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?ou(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},gE=["ctrl","shift","alt","meta"],vE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>gE.some(n=>t[`${n}Key`]&&!e.includes(n))},rt=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=vE[e[o]];if(a&&a(s,e))return}return t(s,...r)})},_E={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=ki(s.key);if(e.some(o=>o===r||_E[o]===r))return t(s)})},yE=bt({patchProp:hE},ZS);let Qh;function wE(){return Qh||(Qh=ES(yE))}const bE=(...t)=>{const e=wE().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=EE(i);if(!s)return;const r=e._component;!me(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,SE(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function SE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function EE(t){return Ze(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Cs=typeof document<"u";function jv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function TE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&jv(t.default)}const Me=Object.assign;function gc(t,e){const n={};for(const i in e){const s=e[i];n[i]=rn(s)?s.map(t):t(s)}return n}const jr=()=>{},rn=Array.isArray,Vv=/#/g,CE=/&/g,xE=/\//g,IE=/=/g,kE=/\?/g,Hv=/\+/g,PE=/%5B/g,AE=/%5D/g,Wv=/%5E/g,RE=/%60/g,zv=/%7B/g,OE=/%7C/g,qv=/%7D/g,NE=/%20/g;function Fd(t){return encodeURI(""+t).replace(OE,"|").replace(PE,"[").replace(AE,"]")}function ME(t){return Fd(t).replace(zv,"{").replace(qv,"}").replace(Wv,"^")}function yu(t){return Fd(t).replace(Hv,"%2B").replace(NE,"+").replace(Vv,"%23").replace(CE,"%26").replace(RE,"`").replace(zv,"{").replace(qv,"}").replace(Wv,"^")}function DE(t){return yu(t).replace(IE,"%3D")}function LE(t){return Fd(t).replace(Vv,"%23").replace(kE,"%3F")}function FE(t){return t==null?"":LE(t).replace(xE,"%2F")}function io(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const $E=/\/$/,BE=t=>t.replace($E,"");function vc(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=HE(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:io(o)}}function UE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Zh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function jE(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&js(e.matched[i],n.matched[s])&&Gv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function js(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Gv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!VE(t[n],e[n]))return!1;return!0}function VE(t,e){return rn(t)?ep(t,e):rn(e)?ep(e,t):t===e}function ep(t,e){return rn(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function HE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const ri={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var so;(function(t){t.pop="pop",t.push="push"})(so||(so={}));var Vr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vr||(Vr={}));function WE(t){if(!t)if(Cs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),BE(t)}const zE=/^[^#]+#/;function qE(t,e){return t.replace(zE,"#")+e}function GE(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Cl=()=>({left:window.scrollX,top:window.scrollY});function KE(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=GE(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function tp(t,e){return(history.state?history.state.position-e:-1)+t}const wu=new Map;function YE(t,e){wu.set(t,e)}function XE(t){const e=wu.get(t);return wu.delete(t),e}let JE=()=>location.protocol+"//"+location.host;function Kv(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Zh(l,"")}return Zh(n,t)+i+s}function QE(t,e,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const h=Kv(t,location),p=n.value,m=e.value;let y=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else i(h);s.forEach(v=>{v(n.value,p,{delta:y,type:so.pop,direction:y?y>0?Vr.forward:Vr.back:Vr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Me({},f.state,{scroll:Cl()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function np(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Cl():null}}function ZE(t){const{history:e,location:n}=window,i={value:Kv(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:JE()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Me({},e.state,np(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=Me({},s.value,e.state,{forward:l,scroll:Cl()});r(u.current,u,!0);const d=Me({},np(i.value,l,null),{position:u.position+1},c);r(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function eT(t){t=WE(t);const e=ZE(t),n=QE(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Me({location:"",base:t,go:i,createHref:qE.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function tT(t){return typeof t=="string"||t&&typeof t=="object"}function Yv(t){return typeof t=="string"||typeof t=="symbol"}const Xv=Symbol("");var ip;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ip||(ip={}));function Vs(t,e){return Me(new Error,{type:t,[Xv]:!0},e)}function Nn(t,e){return t instanceof Error&&Xv in t&&(e==null||!!(t.type&e))}const sp="[^/]+?",nT={sensitive:!1,strict:!1,start:!0,end:!0},iT=/[.+*?^${}()[\]/\\]/g;function sT(t,e){const n=Me({},nT,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(iT,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=f;r.push({name:p,repeatable:m,optional:y});const _=v||sp;if(_!==sp){h+=10;try{new RegExp(`(${_})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+b.message)}}let g=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),s+=g,h+=20,y&&(h+=-8),m&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,v=p in c?c[p]:"";if(rn(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=rn(v)?v.join("/"):v;if(!_)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=_}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function rT(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Jv(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=rT(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(rp(i))return 1;if(rp(s))return-1}return s.length-i.length}function rp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const oT={type:0,value:""},aT=/[a-zA-Z0-9_]/;function lT(t){if(!t)return[[]];if(t==="/")return[[oT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:aT.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function cT(t,e,n){const i=sT(lT(t.path),n),s=Me(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function uT(t,e){const n=[],i=new Map;e=cp({strict:!1,end:!0,sensitive:!1},e);function s(d){return i.get(d)}function r(d,f,h){const p=!h,m=ap(d);m.aliasOf=h&&h.record;const y=cp(e,d),v=[m];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of b)v.push(ap(Me({},m,{components:h?h.record.components:m.components,path:T,aliasOf:h?h.record:m})))}let _,g;for(const b of v){const{path:T}=b;if(f&&T[0]!=="/"){const A=f.record.path,F=A[A.length-1]==="/"?"":"/";b.path=f.record.path+(T&&F+T)}if(_=cT(b,f,y),h?h.alias.push(_):(g=g||_,g!==_&&g.alias.push(_),p&&d.name&&!lp(_)&&o(d.name)),Qv(_)&&l(_),m.children){const A=m.children;for(let F=0;F<A.length;F++)r(A[F],_,h&&h.children[F])}h=h||_}return g?()=>{o(g)}:jr}function o(d){if(Yv(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=hT(d,n);n.splice(f,0,d),d.record.name&&!lp(d)&&i.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw Vs(1,{location:d});y=h.record.name,p=Me(op(f.params,h.keys.filter(g=>!g.optional).concat(h.parent?h.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&op(d.params,h.keys.map(g=>g.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(g=>g.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?i.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw Vs(1,{location:d,currentLocation:f});y=h.record.name,p=Me({},f.params,d.params),m=h.stringify(p)}const v=[];let _=h;for(;_;)v.unshift(_.record),_=_.parent;return{name:y,path:m,params:p,matched:v,meta:fT(v)}}t.forEach(d=>r(d));function u(){n.length=0,i.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function op(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ap(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:dT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function dT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function lp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fT(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function cp(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function hT(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;Jv(t,e[r])<0?i=r:n=r+1}const s=pT(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function pT(t){let e=t;for(;e=e.parent;)if(Qv(e)&&Jv(t,e)===0)return e}function Qv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mT(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(Hv," "),o=r.indexOf("="),a=io(o<0?r:r.slice(0,o)),l=o<0?null:io(r.slice(o+1));if(a in e){let c=e[a];rn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function up(t){let e="";for(let n in t){const i=t[n];if(n=DE(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(rn(i)?i.map(r=>r&&yu(r)):[i&&yu(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function gT(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=rn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Zv=Symbol(""),dp=Symbol(""),xl=Symbol(""),$d=Symbol(""),bu=Symbol("");function wr(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function vT(t,e,n){const i=()=>{t[e].delete(n)};St(i),fv(i),dv(()=>{t[e].add(n)}),t[e].add(n)}function _T(t){const e=ze(Zv,{}).value;e&&vT(e,"updateGuards",t)}function ui(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Vs(4,{from:n,to:e})):f instanceof Error?l(f):tT(f)?l(Vs(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(i&&i.instances[s],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function _c(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(jv(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ui(u,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=TE(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ui(h,n,i,o,a,s)()}))}}return r}function fp(t){const e=ze(xl),n=ze($d),i=J(()=>{const l=P(t.to);return e.resolve(l)}),s=J(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(js.bind(null,u));if(f>-1)return f;const h=hp(l[c-2]);return c>1&&hp(u)===h&&d[d.length-1].path!==h?d.findIndex(js.bind(null,l[c-2])):f}),r=J(()=>s.value>-1&&ST(n.params,i.value.params)),o=J(()=>s.value>-1&&s.value===n.matched.length-1&&Gv(n.params,i.value.params));function a(l={}){if(bT(l)){const c=e[P(t.replace)?"replace":"push"](P(t.to)).catch(jr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:J(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}function yT(t){return t.length===1?t[0]:t}const wT=Xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fp,setup(t,{slots:e}){const n=Ri(fp(t)),{options:i}=ze(xl),s=J(()=>({[pp(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[pp(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&yT(e.default(n));return t.custom?r:Pe("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Il=wT;function bT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ST(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!rn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function hp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pp=(t,e,n)=>t??e??n,ET=Xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=ze(bu),s=J(()=>t.route||i.value),r=ze(dp,0),o=J(()=>{let c=P(r);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=J(()=>s.value.matched[o.value]);wt(dp,J(()=>o.value+1)),wt(Zv,a),wt(bu,s);const l=L();return Ke(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!js(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return mp(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Pe(f,Me({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return mp(n.default,{Component:y,route:c})||y}}});function mp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const TT=ET;function CT(t){const e=uT(t.routes,t),n=t.parseQuery||mT,i=t.stringifyQuery||up,s=t.history,r=wr(),o=wr(),a=wr(),l=Kg(ri);let c=ri;Cs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gc.bind(null,D=>""+D),d=gc.bind(null,FE),f=gc.bind(null,io);function h(D,Z){let q,se;return Yv(D)?(q=e.getRecordMatcher(D),se=Z):se=D,e.addRoute(se,q)}function p(D){const Z=e.getRecordMatcher(D);Z&&e.removeRoute(Z)}function m(){return e.getRoutes().map(D=>D.record)}function y(D){return!!e.getRecordMatcher(D)}function v(D,Z){if(Z=Me({},Z||l.value),typeof D=="string"){const I=vc(n,D,Z.path),$=e.resolve({path:I.path},Z),U=s.createHref(I.fullPath);return Me(I,$,{params:f($.params),hash:io(I.hash),redirectedFrom:void 0,href:U})}let q;if(D.path!=null)q=Me({},D,{path:vc(n,D.path,Z.path).path});else{const I=Me({},D.params);for(const $ in I)I[$]==null&&delete I[$];q=Me({},D,{params:d(I)}),Z.params=d(Z.params)}const se=e.resolve(q,Z),Be=D.hash||"";se.params=u(f(se.params));const S=UE(i,Me({},D,{hash:ME(Be),path:se.path})),E=s.createHref(S);return Me({fullPath:S,hash:Be,query:i===up?gT(D.query):D.query||{}},se,{redirectedFrom:void 0,href:E})}function _(D){return typeof D=="string"?vc(n,D,l.value.path):Me({},D)}function g(D,Z){if(c!==D)return Vs(8,{from:Z,to:D})}function b(D){return F(D)}function T(D){return b(Me(_(D),{replace:!0}))}function A(D){const Z=D.matched[D.matched.length-1];if(Z&&Z.redirect){const{redirect:q}=Z;let se=typeof q=="function"?q(D):q;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=_(se):{path:se},se.params={}),Me({query:D.query,hash:D.hash,params:se.path!=null?{}:D.params},se)}}function F(D,Z){const q=c=v(D),se=l.value,Be=D.state,S=D.force,E=D.replace===!0,I=A(q);if(I)return F(Me(_(I),{state:typeof I=="object"?Me({},Be,I.state):Be,force:S,replace:E}),Z||q);const $=q;$.redirectedFrom=Z;let U;return!S&&jE(i,se,q)&&(U=Vs(16,{to:$,from:se}),ge(se,se,!0,!1)),(U?Promise.resolve(U):R($,se)).catch(B=>Nn(B)?Nn(B,2)?B:ht(B):ye(B,$,se)).then(B=>{if(B){if(Nn(B,2))return F(Me({replace:E},_(B.to),{state:typeof B.to=="object"?Me({},Be,B.to.state):Be,force:S}),Z||$)}else B=z($,se,!0,E,Be);return V($,se,B),B})}function x(D,Z){const q=g(D,Z);return q?Promise.reject(q):Promise.resolve()}function C(D){const Z=K.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(D):D()}function R(D,Z){let q;const[se,Be,S]=xT(D,Z);q=_c(se.reverse(),"beforeRouteLeave",D,Z);for(const I of se)I.leaveGuards.forEach($=>{q.push(ui($,D,Z))});const E=x.bind(null,D,Z);return q.push(E),Ce(q).then(()=>{q=[];for(const I of r.list())q.push(ui(I,D,Z));return q.push(E),Ce(q)}).then(()=>{q=_c(Be,"beforeRouteUpdate",D,Z);for(const I of Be)I.updateGuards.forEach($=>{q.push(ui($,D,Z))});return q.push(E),Ce(q)}).then(()=>{q=[];for(const I of S)if(I.beforeEnter)if(rn(I.beforeEnter))for(const $ of I.beforeEnter)q.push(ui($,D,Z));else q.push(ui(I.beforeEnter,D,Z));return q.push(E),Ce(q)}).then(()=>(D.matched.forEach(I=>I.enterCallbacks={}),q=_c(S,"beforeRouteEnter",D,Z,C),q.push(E),Ce(q))).then(()=>{q=[];for(const I of o.list())q.push(ui(I,D,Z));return q.push(E),Ce(q)}).catch(I=>Nn(I,8)?I:Promise.reject(I))}function V(D,Z,q){a.list().forEach(se=>C(()=>se(D,Z,q)))}function z(D,Z,q,se,Be){const S=g(D,Z);if(S)return S;const E=Z===ri,I=Cs?history.state:{};q&&(se||E?s.replace(D.fullPath,Me({scroll:E&&I&&I.scroll},Be)):s.push(D.fullPath,Be)),l.value=D,ge(D,Z,q,E),ht()}let H;function ne(){H||(H=s.listen((D,Z,q)=>{if(!Ee.listening)return;const se=v(D),Be=A(se);if(Be){F(Me(Be,{replace:!0,force:!0}),se).catch(jr);return}c=se;const S=l.value;Cs&&YE(tp(S.fullPath,q.delta),Cl()),R(se,S).catch(E=>Nn(E,12)?E:Nn(E,2)?(F(Me(_(E.to),{force:!0}),se).then(I=>{Nn(I,20)&&!q.delta&&q.type===so.pop&&s.go(-1,!1)}).catch(jr),Promise.reject()):(q.delta&&s.go(-q.delta,!1),ye(E,se,S))).then(E=>{E=E||z(se,S,!1),E&&(q.delta&&!Nn(E,8)?s.go(-q.delta,!1):q.type===so.pop&&Nn(E,20)&&s.go(-1,!1)),V(se,S,E)}).catch(jr)}))}let re=wr(),oe=wr(),ae;function ye(D,Z,q){ht(D);const se=oe.list();return se.length?se.forEach(Be=>Be(D,Z,q)):console.error(D),Promise.reject(D)}function ft(){return ae&&l.value!==ri?Promise.resolve():new Promise((D,Z)=>{re.add([D,Z])})}function ht(D){return ae||(ae=!D,ne(),re.list().forEach(([Z,q])=>D?q(D):Z()),re.reset()),D}function ge(D,Z,q,se){const{scrollBehavior:Be}=t;if(!Cs||!Be)return Promise.resolve();const S=!q&&XE(tp(D.fullPath,0))||(se||!q)&&history.state&&history.state.scroll||null;return Zs().then(()=>Be(D,Z,S)).then(E=>E&&KE(E)).catch(E=>ye(E,D,Z))}const _e=D=>s.go(D);let O;const K=new Set,Ee={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:v,options:t,push:b,replace:T,go:_e,back:()=>_e(-1),forward:()=>_e(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:ft,install(D){const Z=this;D.component("RouterLink",Il),D.component("RouterView",TT),D.config.globalProperties.$router=Z,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),Cs&&!O&&l.value===ri&&(O=!0,b(s.location).catch(Be=>{}));const q={};for(const Be in ri)Object.defineProperty(q,Be,{get:()=>l.value[Be],enumerable:!0});D.provide(xl,Z),D.provide($d,qg(q)),D.provide(bu,l);const se=D.unmount;K.add(D),D.unmount=function(){K.delete(D),K.size<1&&(c=ri,H&&H(),H=null,l.value=ri,O=!1,ae=!1),se()}}};function Ce(D){return D.reduce((Z,q)=>Z.then(()=>C(q)),Promise.resolve())}return Ee}function xT(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>js(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>js(c,l))||s.push(l))}return[n,i,s]}function er(){return ze(xl)}function e_(t){return ze($d)}/**
 * vue-meta v3.0.0-alpha.10
 * (c) 2022
 * - Pim (@pimlie)
 * - All the amazing contributors
 * @license MIT
 */const IT=(t,e)=>(n,i)=>{let s=-1;if(i.reduce((r,o,a)=>{const l=t(r,o);return l!==r?(s=a,l):r},e),s>-1)return n[s]},kT=IT((t,e)=>{const{depth:n}=e;return!t||n>t?n:t});var PT=Object.freeze({__proto__:null,setup:t=>{let e=0;if(t.vm){let{vm:n}=t;do n.parent&&(e++,n=n.parent);while(n&&n.parent&&n!==n.root)}t.depth=e},resolve:kT});const AT={body:{tag:"script",to:"body"},base:{valueAttribute:"href"},charset:{tag:"meta",nameless:!0,valueAttribute:"charset"},description:{tag:"meta"},og:{group:!0,namespacedAttribute:!0,tag:"meta",keyAttribute:"property"},twitter:{group:!0,namespacedAttribute:!0,tag:"meta"},htmlAttrs:{attributesFor:"html"},headAttrs:{attributesFor:"head"},bodyAttrs:{attributesFor:"body"}},RT={title:{attributes:!1},base:{contentAsAttribute:!0,attributes:["href","target"]},meta:{contentAsAttribute:!0,keyAttribute:"name",attributes:["content","name","http-equiv","charset"]},link:{contentAsAttribute:!0,attributes:["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","color"]},style:{attributes:["media"]},script:{attributes:["src","type","nomodule","async","defer","crossorigin","integrity","referrerpolicy"]},noscript:{attributes:!1}},zt=Array.isArray,ra=t=>typeof t=="function",gp=t=>typeof t=="string",kl=t=>t!==null&&typeof t=="object",OT=Object.prototype.toString,Hr=t=>OT.call(t)==="[object Object]",vp=Symbol("kIsProxy"),NT=Symbol("kProxySources"),t_=Symbol("kProxyTarget"),xs=Symbol("kResolveContext");function ro(t){if(zt(t))return t.map(ro);if(kl(t)){const e={};for(const n in t)e[n]=n==="context"?t[n]:ro(t[n]);return e}return t}const oa=(t,e,n)=>{const i=[];for(const s of t)s&&e in s&&(i.push(s[e]),n&&n(s));return i},Ia=(t,e=[],n,i)=>{if(!n&&!i&&({active:n,sources:i}=t,e.length))for(let o=0;o<e.length;o++){const a=e[o];if(!n||!n[a])return void console.error(`recompute: segment ${a} not found on target`,e,n);n=n[a],i=i.map(l=>l[a]).filter(Boolean)}if(!n||!i)return;const s=((o,...a)=>{const l=o?Object.keys(o):[];if(a){for(const c of a)if(c&&kl(c))for(const u in c)l.includes(u)||l.push(u)}return l})(...i),r=Object.keys(n);for(const o of r)s.includes(o)||delete n[o];for(const o of s){let a=!1;for(let d=0;d<i.length;d++){const f=i[d];if(f&&o in f&&f[o]!==void 0){a=Hr(f[o]);break}}if(a){n[o]||(n[o]={});const d=[];for(const f of i)o in f&&d.push(f[o]);Ia(t,[...e,o],n[o],d);continue}!n[o]&&zt(i[0][o])&&(n[o]=[]);const l=[],c=oa(i,o,d=>l.push(d[xs]));let u=t.resolve(c,l,n[o],o,e);Hr(u)&&(u=ro(u)),n[o]=u}},n_=(t,e,n,i=[])=>{const s=MT(t,n,i),r=_l(new Proxy(e,s));return!i.length&&t.sources&&t.sources.push(r),r},MT=(t,e,n=[])=>({get:(i,s,r)=>{if(s===vp)return!0;if(s===NT)return t.sources;if(s===t_)return i;if(s===xs)return e;let o=Reflect.get(i,s,r);if(!kl(o))return o;if(!o[vp]){const a=[...n,s];o=n_(t,o,e,a),Reflect.set(i,s,o)}return o},set:(i,s,r)=>{const o=Reflect.set(i,s,r);if(o){const a=zt(i);let l,c=!1,{sources:u,active:d}=t,f=0;for(const y of n){if(u=oa(u,y),a&&f===n.length-1){l=y;break}zt(d)&&(c=!0),d=d[y],f++}if(c)return Ia(t),o;if(Hr(r))return Ia(t,n),o;let h,p=[];a?(h=u,p=u.map(y=>y[xs])):h=oa(u,s,y=>p.push(y[xs]));let m=t.resolve(h,p,d,s,n);Hr(m)&&(m=ro(m)),a&&l?d[l]=m:d[s]=m}return o},deleteProperty:(i,s)=>{const r=Reflect.deleteProperty(i,s);if(r){const o=zt(i);let a,l=t.sources,c=t.active,u=0;for(const d of n){if(l=l.map(f=>f&&f[d]),o&&u===n.length-1){a=d;break}c=c[d],u++}if(l.some(d=>d&&s in d)){let d,f=[];o?(d=l,f=l.map(p=>p[xs])):d=oa(l,s,p=>f.push(p[xs]));let h=t.resolve(d,f,c,s,n);Hr(h)&&(h=ro(h)),o&&a?c[a]=h:c[s]=h}else delete c[s]}return r}}),yc={};function DT(t,e,n,i){return"attributesFor"in i?function(s,r,o,a){const{attributesFor:l}=a;if(!l||!o)return;if(s.isSSR)return{to:"",vnode:Pe(`ssr-${l}`,o)};if(!yc[l]){const[f,h]=Array.from(document.querySelectorAll(l));if(!f)return void console.error("Could not find element for selector",l,", won't render attributes");h&&console.warn("Found multiple elements for selector",l),yc[l]={el:f,attrs:[]}}const{el:c,attrs:u}=yc[l];for(const f in o){let h=aa(s,`${r}(${f})`,o[f],o);zt(h)&&(h=h.join(",")),c.setAttribute(f,h||""),u.includes(f)||u.push(f)}const d=u.filter(f=>!o[f]);for(const f of d)c.removeAttribute(f)}(t,e,n,i):"group"in i?function(s,r,o,a){return zt(o)?(console.warn("Specifying an array for group properties isnt supported"),[]):Object.keys(o).map(l=>{const c={group:r,data:o};if(a.namespaced)c.tagNamespace=a.namespaced===!0?r:a.namespaced;else if(a.namespacedAttribute){const u=a.namespacedAttribute===!0?r:a.namespacedAttribute;c.fullName=`${u}:${l}`,c.slotName=`${u}(${l})`}return ka(s,r,o[l],a,c)}).filter(Boolean).flat()}(t,e,n,i):ka(t,e,n,i)}function ka(t,e,n,i={},s){const r=["content","json","rawContent"],o=y=>function(v,_){for(const g of v){const b=RT[g];if(g&&b)return b[_]}}([a,i.tag],y);if(zt(n))return n.map(y=>ka(t,e,y,i,s)).filter(Boolean).flat();const{tag:a=i.tag||e}=n;let l="",c=!1,u=!1;if(gp(n))l=n;else if(n.children&&zt(n.children))c=!0,l=n.children.map(y=>{const v=ka(t,e,y,i,s);return zt(v)?v.map(({vnode:_})=>_):v&&v.vnode});else{let y=0;for(const v of r){if(!l&&n[v]){l=y===1?JSON.stringify(n[v]):n[v],u=y>1;break}y++}}const d=s&&s.fullName||e,f=s&&s.slotName||e;let{attrs:h}=n;if(h||typeof n!="object")h||(h={});else{h={...n},delete h.tag,delete h.children,delete h.to;for(const y of r)delete h[y]}if(c)l=aa(t,f,l,n);else{const y=!!o("contentAsAttribute");let{valueAttribute:v}=i;if(!v&&y){const[_]=o("attributes");v=gp(y)?y:_}if(v){const{nameless:_}=i;if(!_){const g=i.keyAttribute||o("keyAttribute");g&&(h[g]=d)}h[v]=aa(t,f,h[v]||l,s),l=""}else l=aa(t,f,l,n)}const p=s&&s.tagNamespace?`${s.tagNamespace}:${a}`:a;if(p==="title"&&!t.isSSR)return void(document.title=l);u&&l&&(h.innerHTML=l);const m=Pe(p,h,l||void 0);return{to:n.to,vnode:m}}function aa({metainfo:t,slots:e},n,i,s){const r=e&&e[n];if(!r||!ra(r))return i;const o={content:i,metainfo:t};if(s&&s.group){const{group:l,data:c}=s;o[l]=c}const a=r(o);if(a&&a.length){const{children:l}=a[0];return l?l.toString():""}return i}const LT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",FT=(t=>LT?Symbol("[vue-meta]: "+t):"[vue-meta]: "+t)("meta_active");function i_(t,e,n){for(const i in e)i in n?kl(t[i])?i_(t[i],e[i],n[i]):e[i]!==n[i]&&(t[i]=e[i]):t[i]=e[i];for(const i in n)e&&i in e||delete t[i]}function s_(t){if(t||(t=ms()||void 0),t)return t.appContext.config.globalProperties.$metaManager}function Co(t,e){const n=ms()||void 0;if(!e&&n&&(e=s_(n)),!e)throw new Error("No manager or current instance");vl(t)&&(Ke(t,(s,r)=>{i_(i.meta,s,r)}),t=t.value);const i=e.addMeta(t,n);return i}const $T=Xe({name:"Metainfo",inheritAttrs:!1,setup:(t,{slots:e})=>()=>{const n=s_();if(n)return n.render({slots:e})}});function _p(t,e,n,i){const s=zt(i)?i:[i];t?n.endsWith("Attrs")||s.forEach(r=>{r.props||(r.props={}),r.props["data-vm-ssr"]=!0}):s.forEach((r,o)=>{r.type===Xn&&s.splice(o,1)}),e[n]||(e[n]=[]),e[n].push(...s)}const BT=(t=!1,e,n)=>UT.create(t,AT,PT);var Gi;let UT=(Gi=class{constructor(e,n,i,s){Di(this,"isSSR",!1);Di(this,"config");Di(this,"target");Di(this,"resolver");Di(this,"ssrCleanedUp",!1);this.isSSR=e,this.config=n,this.target=i,s&&"setup"in s&&ra(s.setup)&&(this.resolver=s)}install(e){e.component("Metainfo",$T),e.config.globalProperties.$metaManager=this,e.provide(FT,this.target.context.active)}addMeta(e,n){n||(n=ms()||void 0);const i={removed:[]},s={vm:n},{resolver:r}=this;r&&r.setup&&r.setup(s);const o=this.target.addSource(e,s,!0),a=l=>this.unmount(!!l,o,i,n);return n&&St(a),{meta:o,onRemoved:l=>i.removed.push(l),unmount:a}}unmount(e,n,i,s){if(s){const{$el:r}=s.proxy;if(r&&r.offsetParent){let o=new MutationObserver(a=>{for(const{removedNodes:l}of a)l&&l.forEach(c=>{c===r&&o&&(o.disconnect(),o=void 0,this.reallyUnmount(e,n,i))})});return void o.observe(r.parentNode,{childList:!0})}}this.reallyUnmount(e,n,i)}async reallyUnmount(e,n,i){this.target.delSource(n),!e&&i&&await Promise.all(i.removed.map(s=>s()))}render({slots:e}={}){const n=this.target.context.active,{isSSR:i}=this;if(!i&&!this.ssrCleanedUp){this.ssrCleanedUp=!0;const r=()=>{const o=document.querySelectorAll("[data-vm-ssr]");o&&o.length&&o.forEach(a=>a.parentNode&&a.parentNode.removeChild(a))};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r,{once:!0}):r()}const s={};for(const r in n){const o=this.config[r]||{};let a=DT({isSSR:i,metainfo:n,slots:e},r,n[r],o);if(!a)continue;zt(a)||(a=[a]);let l=r!=="base"&&n[r].to;!l&&"to"in o&&(l=o.to),!l&&"attributesFor"in o&&(l=r);for(const{to:c,vnode:u}of a)_p(this.isSSR,s,c||l||"head",u)}if(e)for(const r in e){const o=r==="default"?"head":r;if(o!=="head"&&o!=="body")continue;const a=e[r];ra(a)&&_p(this.isSSR,s,o,a({metainfo:n}))}return Object.keys(s).map(r=>Pe(av,{to:r},s[r]))}},Di(Gi,"create",(e,n,i)=>{const s=((r,o)=>{const a=[],l={active:o,resolve:r,sources:a},c=()=>Ia(l);return{context:l,compute:c,addSource:(u,d,f=!1)=>{const h=n_(l,u,d||{});return f&&c(),h},delSource:(u,d=!0)=>{const f=a.findIndex(h=>h===u||h[t_]===u);return f>-1&&(a.splice(f,1),d&&c(),!0)}}})((r,o,a,l,c)=>ra(i)?i(r,o,a,l,c):i.resolve(r,o,a,l,c),Ri({}));return new Gi(e,n,s,i)}),Gi);const r_=new Set,Ot=new WeakMap,Hs=new WeakMap,ns=new WeakMap,Su=new WeakMap,jT=new WeakMap,Ws=new WeakMap,Pa=new WeakMap,Rr=new WeakSet;let Ti,Bd=0,Ud=0;const Un="__aa_tgt",oo="__aa_del",Aa="__aa_new",VT=t=>{const e=KT(t);e&&e.forEach(n=>YT(n))},HT=t=>{t.forEach(e=>{e.target===Ti&&zT(),Ot.has(e.target)&&gs(e.target)})};function WT(t){const e=Su.get(t);e==null||e.disconnect();let n=Ot.get(t),i=0;const s=5;n||(n=zs(t),Ot.set(t,n));const{offsetWidth:r,offsetHeight:o}=Ti,l=[n.top-s,r-(n.left+s+n.width),o-(n.top+s+n.height),n.left-s].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++i>1&&gs(t)},{root:Ti,threshold:1,rootMargin:l});c.observe(t),Su.set(t,c)}function gs(t){clearTimeout(Pa.get(t));const e=Pl(t),n=ao(e)?500:e.duration;Pa.set(t,setTimeout(async()=>{const i=ns.get(t);try{await(i==null?void 0:i.finished),Ot.set(t,zs(t)),WT(t)}catch{}},n))}function zT(){clearTimeout(Pa.get(Ti)),Pa.set(Ti,setTimeout(()=>{r_.forEach(t=>c_(t,e=>o_(()=>gs(e))))},100))}function qT(t){setTimeout(()=>{jT.set(t,setInterval(()=>o_(gs.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function o_(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let Eu,Is;const GT=typeof window<"u"&&"ResizeObserver"in window;GT&&(Ti=document.documentElement,Eu=new MutationObserver(VT),Is=new ResizeObserver(HT),window.addEventListener("scroll",()=>{Ud=window.scrollY,Bd=window.scrollX}),Is.observe(Ti));function KT(t){return t.reduce((i,s)=>[...i,...Array.from(s.addedNodes),...Array.from(s.removedNodes)],[]).every(i=>i.nodeName==="#comment")?!1:t.reduce((i,s)=>{if(i===!1)return!1;if(s.target instanceof Element){if(wc(s.target),!i.has(s.target)){i.add(s.target);for(let r=0;r<s.target.children.length;r++){const o=s.target.children.item(r);if(o){if(oo in o)return!1;wc(s.target,o),i.add(o)}}}if(s.removedNodes.length)for(let r=0;r<s.removedNodes.length;r++){const o=s.removedNodes[r];if(oo in o)return!1;o instanceof Element&&(i.add(o),wc(s.target,o),Hs.set(o,[s.previousSibling,s.nextSibling]))}}return i},new Set)}function wc(t,e){!e&&!(Un in t)?Object.defineProperty(t,Un,{value:t}):e&&!(Un in e)&&Object.defineProperty(e,Un,{value:t})}function YT(t){var e;const n=t.isConnected,i=Ot.has(t);n&&Hs.has(t)&&Hs.delete(t),ns.has(t)&&((e=ns.get(t))===null||e===void 0||e.cancel()),Aa in t?yp(t):i&&n?JT(t):i&&!n?QT(t):yp(t)}function vn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function XT(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function zs(t){const e=t.getBoundingClientRect(),{x:n,y:i}=XT(t);return{top:e.top+i,left:e.left+n,width:e.width,height:e.height}}function a_(t,e,n){let i=e.width,s=e.height,r=n.width,o=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=vn(a.paddingTop)+vn(a.paddingBottom)+vn(a.borderTopWidth)+vn(a.borderBottomWidth),u=vn(a.paddingLeft)+vn(a.paddingRight)+vn(a.borderRightWidth)+vn(a.borderLeftWidth);i-=u,r-=u,s-=c,o-=c}return[i,r,s,o].map(Math.round)}function Pl(t){return Un in t&&Ws.has(t[Un])?Ws.get(t[Un]):{duration:250,easing:"ease-in-out"}}function l_(t){if(Un in t)return t[Un]}function jd(t){const e=l_(t);return e?Rr.has(e):!1}function c_(t,...e){e.forEach(n=>n(t,Ws.has(t)));for(let n=0;n<t.children.length;n++){const i=t.children.item(n);i&&e.forEach(s=>s(i,Ws.has(i)))}}function Vd(t){return Array.isArray(t)?t:[t]}function ao(t){return typeof t=="function"}function JT(t){const e=Ot.get(t),n=zs(t);if(!jd(t))return Ot.set(t,n);let i;if(!e)return;const s=Pl(t);if(typeof s!="function"){const r=e.left-n.left,o=e.top-n.top,[a,l,c,u]=a_(t,e,n),d={transform:`translate(${r}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),c!==u&&(d.height=`${c}px`,f.height=`${u}px`),i=t.animate([d,f],{duration:s.duration,easing:s.easing})}else{const[r]=Vd(s(t,"remain",e,n));i=new Animation(r),i.play()}ns.set(t,i),Ot.set(t,n),i.addEventListener("finish",gs.bind(null,t))}function yp(t){Aa in t&&delete t[Aa];const e=zs(t);Ot.set(t,e);const n=Pl(t);if(!jd(t))return;let i;if(typeof n!="function")i=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[s]=Vd(n(t,"add",e));i=new Animation(s),i.play()}ns.set(t,i),i.addEventListener("finish",gs.bind(null,t))}function wp(t,e){var n;t.remove(),Ot.delete(t),Hs.delete(t),ns.delete(t),(n=Su.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(oo in t&&delete t[oo],Object.defineProperty(t,Aa,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const i in e)t.style[i]=""},0)}function QT(t){var e;if(!Hs.has(t)||!Ot.has(t))return;const[n,i]=Hs.get(t);Object.defineProperty(t,oo,{value:!0,configurable:!0});const s=window.scrollX,r=window.scrollY;if(i&&i.parentNode&&i.parentNode instanceof Element?i.parentNode.insertBefore(t,i):n&&n.parentNode?n.parentNode.appendChild(t):(e=l_(t))===null||e===void 0||e.appendChild(t),!jd(t))return wp(t);const[o,a,l,c]=eC(t),u=Pl(t),d=Ot.get(t);(s!==Bd||r!==Ud)&&ZT(t,s,r,u);let f,h={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!ao(u))Object.assign(t.style,h),f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[p,m]=Vd(u(t,"remove",d));(m==null?void 0:m.styleReset)!==!1&&(h=(m==null?void 0:m.styleReset)||h,Object.assign(t.style,h)),f=new Animation(p),f.play()}ns.set(t,f),f.addEventListener("finish",wp.bind(null,t,h))}function ZT(t,e,n,i){const s=Bd-e,r=Ud-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(Ti).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+s,window.scrollY+r),!t.parentElement)return;const l=t.parentElement;let c=l.clientHeight,u=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!ao(i)){const h=c-l.clientHeight,p=u-l.clientWidth;d+i.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-h}),c=l.clientHeight,u=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function eC(t){const e=Ot.get(t),[n,,i]=a_(t,e,zs(t));let s=t.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const r=getComputedStyle(s),o=Ot.get(s)||zs(s),a=Math.round(e.top-o.top)-vn(r.borderTopWidth),l=Math.round(e.left-o.left)-vn(r.borderLeftWidth);return[a,l,n,i]}function tC(t,e={}){return Eu&&Is&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!ao(e)&&!e.disrespectUserMotionPreference||(Rr.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),c_(t,gs,qT,s=>Is==null?void 0:Is.observe(s)),ao(e)?Ws.set(t,e):Ws.set(t,{duration:250,easing:"ease-in-out",...e}),Eu.observe(t,{childList:!0}),r_.add(t))),Object.freeze({parent:t,enable:()=>{Rr.add(t)},disable:()=>{Rr.delete(t)},isEnabled:()=>Rr.has(t)})}const nC={mounted:(t,e)=>{tC(t,e.value||{})},getSSRProps:()=>({})},iC=nC,sC={install(t){t.directive("auto-animate",iC)}};/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let u_;const Al=t=>u_=t,d_=Symbol();function Tu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Wr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Wr||(Wr={}));function rC(){const t=Ag(!0),e=t.run(()=>L({}));let n=[],i=[];const s=_l({install(r){Al(s),s._a=r,r.provide(d_,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return this._a?n.push(r):i.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const f_=()=>{};function bp(t,e,n,i=f_){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&Rg()&&b0(s),s}function Ss(t,...e){t.slice().forEach(n=>{n(...e)})}const oC=t=>t(),Sp=Symbol(),bc=Symbol();function Cu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Tu(s)&&Tu(i)&&t.hasOwnProperty(n)&&!Qe(i)&&!wi(i)?t[n]=Cu(s,i):t[n]=i}return t}const aC=Symbol();function lC(t){return!Tu(t)||!t.hasOwnProperty(aC)}const{assign:ai}=Object;function cC(t){return!!(Qe(t)&&t.effect)}function uC(t,e,n,i){const{state:s,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=H0(n.state.value[t]);return ai(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=_l(J(()=>{Al(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=h_(t,c,e,n,i,!0),l}function h_(t,e,n={},i,s,r){let o;const a=ai({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=i.state.value[t];!r&&!p&&(i.state.value[t]={}),L({});let m;function y(x){let C;c=u=!1,typeof x=="function"?(x(i.state.value[t]),C={type:Wr.patchFunction,storeId:t,events:h}):(Cu(i.state.value[t],x),C={type:Wr.patchObject,payload:x,storeId:t,events:h});const R=m=Symbol();Zs().then(()=>{m===R&&(c=!0)}),u=!0,Ss(d,C,i.state.value[t])}const v=r?function(){const{state:C}=n,R=C?C():{};this.$patch(V=>{ai(V,R)})}:f_;function _(){o.stop(),d=[],f=[],i._s.delete(t)}const g=(x,C="")=>{if(Sp in x)return x[bc]=C,x;const R=function(){Al(i);const V=Array.from(arguments),z=[],H=[];function ne(ae){z.push(ae)}function re(ae){H.push(ae)}Ss(f,{args:V,name:R[bc],store:T,after:ne,onError:re});let oe;try{oe=x.apply(this&&this.$id===t?this:T,V)}catch(ae){throw Ss(H,ae),ae}return oe instanceof Promise?oe.then(ae=>(Ss(z,ae),ae)).catch(ae=>(Ss(H,ae),Promise.reject(ae))):(Ss(z,oe),oe)};return R[Sp]=!0,R[bc]=C,R},b={_p:i,$id:t,$onAction:bp.bind(null,f),$patch:y,$reset:v,$subscribe(x,C={}){const R=bp(d,x,C.detached,()=>V()),V=o.run(()=>Ke(()=>i.state.value[t],z=>{(C.flush==="sync"?u:c)&&x({storeId:t,type:Wr.direct,events:h},z)},ai({},l,C)));return R},$dispose:_},T=Ri(b);i._s.set(t,T);const F=(i._a&&i._a.runWithContext||oC)(()=>i._e.run(()=>(o=Ag()).run(()=>e({action:g}))));for(const x in F){const C=F[x];if(Qe(C)&&!cC(C)||wi(C))r||(p&&lC(C)&&(Qe(C)?C.value=p[x]:Cu(C,p[x])),i.state.value[t][x]=C);else if(typeof C=="function"){const R=g(C,x);F[x]=R,a.actions[x]=C}}return ai(T,F),ai(xe(T),F),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:x=>{y(C=>{ai(C,x)})}}),i._p.forEach(x=>{ai(T,o.run(()=>x({store:T,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function xo(t,e,n){let i,s;const r=typeof e=="function";typeof t=="string"?(i=t,s=r?n:e):(s=t,i=t.id);function o(a,l){const c=gS();return a=a||(c?ze(d_,null):null),a&&Al(a),a=u_,a._s.has(i)||(r?h_(i,e,s,a):uC(i,s,a)),a._s.get(i)}return o.$id=i,o}const dC={key:0},fC={key:1},hC={key:2},pC={key:3},mC={key:4},gC={key:5},vC={key:6},_C={key:7},yC={key:8},wC={key:9},Hd=Xe({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},modelValue:{type:Number,required:!0,validator:t=>{const e="v-model is required and must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},showEndingButtons:{type:Boolean,default:!1},firstPageContent:{type:String,default:"First"},lastPageContent:{type:String,default:"Last"},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},firstPageButtonClass:{type:String,default:"first-page-button"},lastPageButtonClass:{type:String,default:"last-page-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},emits:["update:modelValue","click"],setup(t,{emit:e}){const n=t;if(n.currentPage&&!n.modelValue)throw new Error("currentPage/current-page is now deprecated, use v-model instead to set the current page.");if(!n.modelValue)throw new TypeError("v-model is required for the paginate component.");const i=q0(n,"modelValue"),s=e,r=g=>{g!==i.value&&(g>l.value||g<1||n.disablePagination||(s("update:modelValue",g),s("click",g)))},o=g=>{switch(n.locale){case"en":return g;case"ar":return g.toLocaleString("ar-SA");case"ir":return g.toLocaleString("fa-IR");default:return g}},a=g=>n.type!=="link"?"":n.linkUrl.replace("[page]",g.toString()),l=J(()=>Math.ceil(n.totalItems/n.itemsPerPage)),c=J(()=>{let g,b;if(l.value<=n.maxPagesShown)g=1,b=l.value;else{let A=Math.floor(n.maxPagesShown/2),F=Math.ceil(n.maxPagesShown/2)-1;i.value<=A?(g=1,b=n.maxPagesShown):i.value+F>=l.value?(g=l.value-n.maxPagesShown+1,b=l.value):(g=i.value-A,b=i.value+F)}let T=Array.from(Array(b+1-g).keys()).map(A=>g+A);return n.dir==="rtl"&&(T=T.reverse()),{totalItems:n.totalItems,currentPage:i.value,itemsPerPage:n.itemsPerPage,totalPages:l,startPage:g,endPage:b,pages:T}}),u=J(()=>n.dir==="rtl"),d=J(()=>u.value?!n.hidePrevNextWhenEnds||i.value!==l.value:!n.hidePrevNextWhenEnds||i.value!==1),f=J(()=>u.value?!n.hidePrevNextWhenEnds||i.value!==1:!n.hidePrevNextWhenEnds||i.value!==l.value),h=J(()=>u.value?c.value.pages[0]<l.value-1:c.value.pages[0]>=3),p=J(()=>u.value?c.value.pages[c.value.pages.length-1]>=3:c.value.pages[c.value.pages.length-1]<l.value-1),m=J(()=>u.value?c.value.pages[0]<l.value:c.value.pages[0]>=2),y=J(()=>u.value?c.value.pages[c.value.pages.length-1]>=2:c.value.pages[c.value.pages.length-1]<l.value),v=J(()=>i.value!==1),_=J(()=>i.value!==l.value);if(n.type==="link"&&n.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(n.type==="link"&&!n.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(g,b)=>(k(),j("ul",{id:"componentContainer",class:Ie(t.paginationContainerClass)},[t.showEndingButtons&&v.value?(k(),j("li",dC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:b[0]||(b[0]=rt(T=>r(u.value?l.value:1),["prevent"])),class:Ie([t.firstPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[nt(g.$slots,"first-page-button",{},()=>[Re(ie(t.firstPageContent),1)])]),_:3},8,["href","class","disabled"]))])):ke("",!0),t.showJumpButtons&&h.value?(k(),j("li",fC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),onClick:b[1]||(b[1]=rt(T=>r(u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ie([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[nt(g.$slots,"backward-jump-button",{},()=>[Re(ie(t.backwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):ke("",!0),!t.hidePrevNext&&d.value?(k(),j("li",hC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?i.value+1:i.value-1),onClick:b[2]||(b[2]=rt(T=>r(u.value?i.value+1:i.value-1),["prevent"])),class:Ie([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[nt(g.$slots,"prev-button",{},()=>[Re(ie(t.prevButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):ke("",!0),t.showBreakpointButtons&&m.value?(k(),j("li",pC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?l.value:1),onClick:b[3]||(b[3]=rt(T=>r(u.value?l.value:1),["prevent"])),class:Ie([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Re(ie(u.value?o(l.value):o(1)),1)]),_:1},8,["href","class","disabled"]))])):ke("",!0),t.showBreakpointButtons&&h.value?(k(),j("li",mC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?i.value:u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),onClick:b[4]||(b[4]=rt(T=>r(t.disableBreakpointButtons?i.value:u.value?i.value+Math.ceil(t.maxPagesShown/2):i.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ie([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[nt(g.$slots,"starting-breakpoint-button",{},()=>[Re(ie(t.startingBreakpointContent),1)])]),_:3},8,["href","disabled","class"]))])):ke("",!0),(k(!0),j(Oe,null,ps(c.value.pages,(T,A)=>(k(),j("li",{key:A},[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(T),onClick:rt(()=>r(T),["prevent"]),class:Ie([t.paginateButtonsClass,t.numberButtonsClass,T===i.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[Re(ie(o(T)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&p.value?(k(),j("li",gC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(t.disableBreakpointButtons?i.value:u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),onClick:b[5]||(b[5]=rt(T=>r(t.disableBreakpointButtons?i.value:u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:Ie([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:ee(()=>[nt(g.$slots,"ending-breakpoint-button",{},()=>[Re(ie(t.endingBreakpointButtonContent),1)])]),_:3},8,["href","disabled","class"]))])):ke("",!0),t.showBreakpointButtons&&y.value?(k(),j("li",vC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:b[6]||(b[6]=rt(T=>r(u.value?1:l.value),["prevent"])),class:Ie([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[Re(ie(u.value?o(1):o(l.value)),1)]),_:1},8,["href","class","disabled"]))])):ke("",!0),!t.hidePrevNext&&f.value?(k(),j("li",_C,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?i.value-1:i.value+1),onClick:b[7]||(b[7]=rt(T=>r(u.value?i.value-1:i.value+1),["prevent"])),class:Ie([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[nt(g.$slots,"next-button",{},()=>[Re(ie(t.nextButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):ke("",!0),t.showJumpButtons&&p.value?(k(),j("li",yC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),onClick:b[8]||(b[8]=rt(T=>r(u.value?i.value-Math.ceil(t.maxPagesShown/2):i.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:Ie([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:ee(()=>[nt(g.$slots,"forward-jump-button",{},()=>[Re(ie(t.forwardJumpButtonContent),1)])]),_:3},8,["href","class","disabled"]))])):ke("",!0),t.showEndingButtons&&_.value?(k(),j("li",wC,[(k(),ce(Jt(t.type==="button"?"button":"a"),{href:a(u.value?1:l.value),onClick:b[9]||(b[9]=rt(T=>r(u.value?1:l.value),["prevent"])),class:Ie([t.lastPageButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:ee(()=>[nt(g.$slots,"last-page-button",{},()=>[Re(ie(t.lastPageContent),1)])]),_:3},8,["href","class","disabled"]))])):ke("",!0)],2))}});var bC={install:t=>{t.component("VueAwesomePaginate",Hd)}};function p_(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}function m_(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Wd(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function SC(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function EC(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function zd(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function g_(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function TC(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function v_(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function CC(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function xC(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function __(t,e){return k(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}var Ep={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw tr(e)},tr=function(t){return new Error("Firebase Database ("+y_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw new kC;const f=r<<2|a>>4;if(i.push(f),c!==64){const h=a<<4&240|c>>2;if(i.push(h),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b_=function(t){const e=w_(t);return qd.encodeByteArray(e,!0)},Ra=function(t){return b_(t).replace(/\./g,"")},Oa=function(t){try{return qd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){return S_(void 0,t)}function S_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AC(n)||(t[n]=S_(t[n],e[n]));return t}function AC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=()=>RC().__FIREBASE_DEFAULTS__,NC=()=>{if(typeof process>"u"||typeof Ep>"u")return;const t=Ep.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Oa(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return OC()||NC()||MC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E_=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DC=t=>{const e=E_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},T_=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},C_=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ra(JSON.stringify(n)),Ra(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function FC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $C(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BC(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UC(){return y_.NODE_ADMIN===!0}function I_(){try{return typeof indexedDB=="object"}catch{return!1}}function k_(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=jC,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?VC(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ii(s,a,i)}}function VC(t,e){return t.replace(HC,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const HC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=lo(Oa(r[0])||""),n=lo(Oa(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},WC=function(t){const e=P_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zC=function(t){const e=P_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function xu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Na(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ma(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Tp(r)&&Tp(o)){if(!Ma(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Tp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Or(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Nr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function GC(t,e){const n=new KC(t,e);return n.subscribe.bind(n)}class KC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Sc),s.error===void 0&&(s.error=Sc),s.complete===void 0&&(s.complete=Sc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sc(){}function Rl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,G(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ol=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class Yt{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Io;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZC(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QC(t){return t===Ui?void 0:t}function ZC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const t1={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},n1=$e.INFO,i1={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},s1=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=i1[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yd{constructor(e){this.name=e,this._logLevel=n1,this._logHandler=s1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const r1=(t,e)=>e.some(n=>t instanceof n);let Cp,xp;function o1(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a1(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,Iu=new WeakMap,R_=new WeakMap,Ec=new WeakMap,Xd=new WeakMap;function l1(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(qn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&A_.set(n,t)}).catch(()=>{}),Xd.set(e,t),e}function c1(t){if(Iu.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Iu.set(t,e)}let ku={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Iu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u1(t){ku=t(ku)}function d1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Tc(this),e,...n);return R_.set(i,e.sort?e.sort():[e]),qn(i)}:a1().includes(t)?function(...e){return t.apply(Tc(this),e),qn(A_.get(this))}:function(...e){return qn(t.apply(Tc(this),e))}}function f1(t){return typeof t=="function"?d1(t):(t instanceof IDBTransaction&&c1(t),r1(t,o1())?new Proxy(t,ku):t)}function qn(t){if(t instanceof IDBRequest)return l1(t);if(Ec.has(t))return Ec.get(t);const e=f1(t);return e!==t&&(Ec.set(t,e),Xd.set(e,t)),e}const Tc=t=>Xd.get(t);function ir(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=qn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(qn(o.result),l.oldVersion,l.newVersion,qn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Ms(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),qn(n).then(()=>{})}const h1=["get","getKey","getAll","getAllKeys","count"],p1=["put","add","delete","clear"],Cc=new Map;function Ip(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cc.get(e))return Cc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=p1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||h1.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Cc.set(e,r),r}u1(t=>({...t,get:(e,n,i)=>Ip(e,n)||t.get(e,n,i),has:(e,n)=>!!Ip(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function g1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pu="@firebase/app",kp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new Yd("@firebase/app"),v1="@firebase/app-compat",_1="@firebase/analytics-compat",y1="@firebase/analytics",w1="@firebase/app-check-compat",b1="@firebase/app-check",S1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",C1="@firebase/data-connect",x1="@firebase/database-compat",I1="@firebase/functions",k1="@firebase/functions-compat",P1="@firebase/installations",A1="@firebase/installations-compat",R1="@firebase/messaging",O1="@firebase/messaging-compat",N1="@firebase/performance",M1="@firebase/performance-compat",D1="@firebase/remote-config",L1="@firebase/remote-config-compat",F1="@firebase/storage",$1="@firebase/storage-compat",B1="@firebase/firestore",U1="@firebase/vertexai",j1="@firebase/firestore-compat",V1="firebase",H1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]",W1={[Pu]:"fire-core",[v1]:"fire-core-compat",[y1]:"fire-analytics",[_1]:"fire-analytics-compat",[b1]:"fire-app-check",[w1]:"fire-app-check-compat",[S1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[C1]:"fire-data-connect",[x1]:"fire-rtdb-compat",[I1]:"fire-fn",[k1]:"fire-fn-compat",[P1]:"fire-iid",[A1]:"fire-iid-compat",[R1]:"fire-fcm",[O1]:"fire-fcm-compat",[N1]:"fire-perf",[M1]:"fire-perf-compat",[D1]:"fire-rc",[L1]:"fire-rc-compat",[F1]:"fire-gcs",[$1]:"fire-gcs-compat",[B1]:"fire-fst",[j1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[V1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map,z1=new Map,Ru=new Map;function Pp(t,e){try{t.container.addComponent(e)}catch(n){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(Ru.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Ru.set(e,t);for(const n of Da.values())Pp(n,t);for(const n of z1.values())Pp(n,t);return!0}function sr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Oi("app","Firebase",q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=H1;function O_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Au,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(n||(n=T_()),!n)throw Si.create("no-options");const r=Da.get(s);if(r){if(Ma(n,r.options)&&Ma(i,r.config))return r;throw Si.create("duplicate-app",{appName:s})}const o=new e1(s);for(const l of Ru.values())o.addComponent(l);const a=new G1(n,i,o);return Da.set(s,a),a}function Jd(t=Au){const e=Da.get(t);if(!e&&t===Au&&T_())return O_();if(!e)throw Si.create("no-app",{appName:t});return e}function qt(t,e,n){var i;let s=(i=W1[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(a.join(" "));return}on(new Yt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebase-heartbeat-database",Y1=1,co="firebase-heartbeat-store";let xc=null;function N_(){return xc||(xc=ir(K1,Y1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(co)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),xc}async function X1(t){try{const n=(await N_()).transaction(co),i=await n.objectStore(co).get(M_(t));return await n.done,i}catch(e){if(e instanceof ii)Jn.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jn.warn(n.message)}}}async function Ap(t,e){try{const i=(await N_()).transaction(co,"readwrite");await i.objectStore(co).put(e,M_(t)),await i.done}catch(n){if(n instanceof ii)Jn.warn(n.message);else{const i=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jn.warn(i.message)}}}function M_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1024,Q1=30*24*60*60*1e3;class Z1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Q1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Jn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rp(),{heartbeatsToSend:i,unsentEntries:s}=ex(this._heartbeatsCache.heartbeats),r=Ra(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Jn.warn(n),""}}}function Rp(){return new Date().toISOString().substring(0,10)}function ex(t,e=J1){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Op(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Op(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I_()?k_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Op(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){on(new Yt("platform-logger",e=>new m1(e),"PRIVATE")),on(new Yt("heartbeat",e=>new Z1(e),"PRIVATE")),qt(Pu,kp,t),qt(Pu,kp,"esm2017"),qt("fire-js","")}nx("");var Np={};const Mp="@firebase/database",Dp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_="";function ix(t){D_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:lo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sx(e)}}catch{}return new rx},Hi=L_("localStorage"),ox=L_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Yd("@firebase/database"),ax=function(){let t=1;return function(){return t++}}(),F_=function(t){const e=XC(t),n=new qC;n.update(e);const i=n.digest();return qd.encodeByteArray(i)},ko=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ko.apply(null,i):typeof i=="object"?e+=dt(i):e+=i,e+=" "}return e};let zr=null,Lp=!0;const lx=function(t,e){G(!0,"Can't turn on custom loggers persistently."),Ds.logLevel=$e.VERBOSE,zr=Ds.log.bind(Ds)},pt=function(...t){if(Lp===!0&&(Lp=!1,zr===null&&ox.get("logging_enabled")===!0&&lx()),zr){const e=ko.apply(null,t);zr(e)}},Po=function(t){return function(...e){pt(t,...e)}},Ou=function(...t){const e="FIREBASE INTERNAL ERROR: "+ko(...t);Ds.error(e)},Qn=function(...t){const e=`FIREBASE FATAL ERROR: ${ko(...t)}`;throw Ds.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+ko(...t);Ds.warn(e)},cx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ux=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},is="[MIN_NAME]",Ci="[MAX_NAME]",vs=function(t,e){if(t===e)return 0;if(t===is||e===Ci)return-1;if(e===is||t===Ci)return 1;{const n=Fp(t),i=Fp(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},dx=function(t,e){return t===e?0:t<e?-1:1},br=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},Zd=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=dt(e[i]),n+=":",n+=Zd(t[e[i]]);return n+="}",n},$_=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const B_=function(t){G(!Qd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},fx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function px(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const mx=new RegExp("^-?(0*)\\d{1,10}$"),gx=-2147483648,vx=2147483647,Fp=function(t){if(mx.test(t)){const e=Number(t);if(e>=gx&&e<=vx)return e}return null},or=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},_x=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class la{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}la.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="5",U_="v",j_="s",V_="r",H_="f",W_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z_="ls",q_="p",Nu="ac",G_="websocket",K_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function X_(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let i;if(e===G_)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===K_)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bx(t)&&(n.ns=t.namespace);const s=[];return gt(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.counters_={}}incrementCounter(e,n=1){Pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return PC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={},kc={};function tf(t){const e=t.toString();return Ic[e]||(Ic[e]=new Sx),Ic[e]}function Ex(t,e){const n=t.toString();return kc[n]||(kc[n]=e()),kc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&or(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="start",Cx="close",xx="pLPCommand",Ix="pRTLPCB",J_="id",Q_="pw",Z_="ser",kx="cb",Px="seg",Ax="ts",Rx="d",Ox="dframe",ey=1870,ty=30,Nx=ey-ty,Mx=25e3,Dx=3e4;class ks{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Po(e),this.stats_=tf(n),this.urlFn=l=>(this.appCheckToken&&(l[Nu]=this.appCheckToken),X_(n,K_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Tx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Dx)),ux(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nf((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$p)this.id=a,this.password=l;else if(o===Cx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[$p]="t",i[Z_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[kx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[U_]=ef,this.transportSessionId&&(i[j_]=this.transportSessionId),this.lastSessionId&&(i[z_]=this.lastSessionId),this.applicationId&&(i[q_]=this.applicationId),this.appCheckToken&&(i[Nu]=this.appCheckToken),typeof location<"u"&&location.hostname&&W_.test(location.hostname)&&(i[V_]=H_);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ks.forceAllow_=!0}static forceDisallow(){ks.forceDisallow_=!0}static isAvailable(){return ks.forceAllow_?!0:!ks.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fx()&&!hx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=b_(n),s=$_(i,Nx);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Ox]="t",i[J_]=e,i[Q_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class nf{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ax(),window[xx+this.uniqueCallbackIdentifier]=e,window[Ix+this.uniqueCallbackIdentifier]=n,this.myIFrame=nf.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){pt("frame writing exception"),a.stack&&pt(a.stack),pt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[J_]=this.myID,e[Q_]=this.myPW,e[Z_]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ty+i.length<=ey;){const o=this.pendingSegs.shift();i=i+"&"+Px+s+"="+o.seg+"&"+Ax+s+"="+o.ts+"&"+Rx+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Mx)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=16384,Fx=45e3;let La=null;typeof MozWebSocket<"u"?La=MozWebSocket:typeof WebSocket<"u"&&(La=WebSocket);class wn{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Po(this.connId),this.stats_=tf(n),this.connURL=wn.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[U_]=ef,typeof location<"u"&&location.hostname&&W_.test(location.hostname)&&(o[V_]=H_),n&&(o[j_]=n),i&&(o[z_]=i),s&&(o[Nu]=s),r&&(o[q_]=r),X_(e,G_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hi.set("previous_websocket_failure",!0);try{let i;UC(),this.mySock=new La(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){wn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&La!==null&&!wn.forceDisallow_}static previouslyFailed(){return Hi.isInMemoryStorage||Hi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=lo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=$_(n,Lx);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Fx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wn.responsesRequiredToBeHealthy=2;wn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static get ALL_TRANSPORTS(){return[ks,wn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=wn.isAvailable();let i=n&&!wn.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wn];else{const s=this.transports_=[];for(const r of uo.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);uo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}uo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=6e4,Bx=5e3,Ux=10*1024,jx=100*1024,Pc="t",Bp="d",Vx="s",Up="r",Hx="e",jp="o",Vp="a",Hp="n",Wp="p",Wx="h";class zx{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Po("c:"+this.id+":"),this.transportManager_=new uo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=qr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ux?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pc in e){const n=e[Pc];n===Vp?this.upgradeIfSecondaryHealthy_():n===Up?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=br("t",e),i=br("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=br("t",e),i=br("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=br(Pc,e);if(Bp in e){const i=e[Bp];if(n===Wx){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Hp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Vx?this.onConnectionShutdown_(i):n===Up?this.onReset_(i):n===Hx?Ou("Server Error: "+i):n===jp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ou("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ef!==i&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),qr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($x))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Bx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends iy{static getInstance(){return new Fa}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=32,qp=768;class Fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ne(){return new Fe("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xi(t){return t.pieces_.length-t.pieceNum_}function We(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Fe(t.pieces_,e)}function sf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Fe(e,0)}function Je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Fe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Fe(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){const n=we(t),i=we(e);if(n===null)return e;if(n===i)return At(We(t),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gx(t,e){const n=fo(t,0),i=fo(e,0);for(let s=0;s<n.length&&s<i.length;s++){const r=vs(n[s],i[s]);if(r!==0)return r}return n.length===i.length?0:n.length<i.length?-1:1}function rf(t,e){if(xi(t)!==xi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(xi(t)>xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Kx{constructor(e,n){this.errorPrefix_=n,this.parts_=fo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ol(this.parts_[i]);ry(this)}}function Yx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ol(e),ry(t)}function Xx(t){const e=t.parts_.pop();t.byteLength_-=Ol(e),t.parts_.length>0&&(t.byteLength_-=1)}function ry(t){if(t.byteLength_>qp)throw new Error(t.errorPrefix_+"has a key path longer than "+qp+" bytes ("+t.byteLength_+").");if(t.parts_.length>zp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zp+") or object contains a cycle "+ji(t))}function ji(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends iy{static getInstance(){return new of}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=1e3,Jx=60*5*1e3,Gp=30*1e3,Qx=1.3,Zx=3e4,eI="server_kill",Kp=3;class Gn extends ny{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gn.nextPersistentConnectionId_++,this.log_=Po("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sr,this.maxReconnectDelay_=Jx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");of.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(dt(r)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Io,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Gn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Pn(e,"w")){const i=qs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=WC(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ou("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Sr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Zx&&(this.reconnectDelay_=Sr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Gn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new zx(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{It(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(eI)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&It(d),l())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xu(this.interruptReasons_)&&(this.reconnectDelay_=Sr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>Zd(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Fe(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){pt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kp&&(this.reconnectDelay_=Gp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){pt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+D_.replace(/\./g,"-")]=1,Kd()?e["framework.cordova"]=1:x_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fa.getInstance().currentlyOnline();return xu(this.interruptReasons_)&&e}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Se(is,e),s=new Se(is,n);return this.compare(i,s)!==0}minPost(){return Se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class oy extends Nl{static get __EMPTY_NODE(){return qo}static set __EMPTY_NODE(e){qo=e}compare(e,n){return vs(e.name,n.name)}isDefinedOn(e){throw tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Se.MIN}maxPost(){return new Se(Ci,qo)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,qo)}toString(){return".key"}}const Xi=new oy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??lt.RED,this.left=s??Rt.EMPTY_NODE,this.right=r??Rt.EMPTY_NODE}copy(e,n,i,s,r){return new lt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class tI{copy(e,n,i,s,r){return this}insert(e,n,i){return new lt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,n=Rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Go(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Go(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Go(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Go(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new tI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){return vs(t.name,e.name)}function af(t,e){return vs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;function iI(t){Mu=t}const ay=function(t){return typeof t=="number"?"number:"+B_(t):"string:"+t},ly=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pn(e,".sv"),"Priority must be a string or number.")}else G(t===Mu||t.isEmpty(),"priority of unexpected type.");G(t===Mu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp;class ot{static set __childrenNodeConstructor(e){Yp=e}static get __childrenNodeConstructor(){return Yp}constructor(e,n=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ly(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:we(e)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=we(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(G(i!==".priority"||xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ay(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=B_(this.value_):e+=this.value_,this.lazyHash_=F_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ot.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=ot.VALUE_TYPE_ORDER.indexOf(n),r=ot.VALUE_TYPE_ORDER.indexOf(i);return G(s>=0,"Unknown leaf type: "+n),G(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy,uy;function sI(t){cy=t}function rI(t){uy=t}class oI extends Nl{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?vs(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(Ci,new ot("[PRIORITY-POST]",uy))}makePost(e,n){const i=cy(e);return new Se(n,new ot("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ye=new oI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=Math.log(2);class lI{constructor(e){const n=r=>parseInt(Math.log(r)/aI,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $a=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new lt(f,d.node,lt.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=s(l,h),m=s(h+1,c);return d=t[h],f=n?n(d):d,new lt(f,d.node,lt.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const y=d-p,v=d;d-=p;const _=s(y+1,v),g=t[y],b=n?n(g):g;h(new lt(b,g.node,m,null,_))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?f(y,lt.BLACK):(f(y,lt.BLACK),f(y,lt.RED))}return u},o=new lI(t.length),a=r(o);return new Rt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac;const Er={};class jn{static get Default(){return G(Ye,"ChildrenNode.ts has not been loaded"),Ac=Ac||new jn({".priority":Er},{".priority":Ye}),Ac}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=qs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return Pn(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(Se.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=$a(i,e.getCompare()):a=Er;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new jn(u,c)}addToIndexes(e,n){const i=Na(this.indexes_,(s,r)=>{const o=qs(this.indexSet_,r);if(G(o,"Missing index implementation for "+r),s===Er)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Se.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$a(a,o.getCompare())}else return Er;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Se(e.name,a))),l.insert(e,e.node)}});return new jn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Na(this.indexes_,s=>{if(s===Er)return s;{const r=n.get(e.name);return r?s.remove(new Se(e.name,r)):s}});return new jn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr;class fe{static get EMPTY_NODE(){return Tr||(Tr=new fe(new Rt(af),null,jn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ly(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tr}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Tr:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Se(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Tr:this.priorityNode_;return new fe(s,o,r)}}updateChild(e,n){const i=we(e);if(i===null)return n;{G(we(e)!==".priority"||xi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(We(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(Ye,(o,a)=>{n[o]=a.val(e),i++,r&&fe.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ay(this.getPriority().val())+":"),this.forEachChild(Ye,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":F_(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new Se(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Se(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Se.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Se.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ao?-1:0}withIndex(e){if(e===Xi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Xi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ye),s=n.getIterator(Ye);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Xi?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class cI extends fe{constructor(){super(new Rt(af),fe.EMPTY_NODE,jn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const Ao=new cI;Object.defineProperties(Se,{MIN:{value:new Se(is,fe.EMPTY_NODE)},MAX:{value:new Se(Ci,Ao)}});oy.__EMPTY_NODE=fe.EMPTY_NODE;ot.__childrenNodeConstructor=fe;iI(Ao);rI(Ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=!0;function ct(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ot(n,ct(e))}if(!(t instanceof Array)&&uI){const n=[];let i=!1;if(gt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ct(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Se(o,l)))}}),n.length===0)return fe.EMPTY_NODE;const r=$a(n,nI,o=>o.name,af);if(i){const o=$a(n,Ye.getCompare());return new fe(r,ct(e),new jn({".priority":o},{".priority":Ye}))}else return new fe(r,ct(e),jn.Default)}else{let n=fe.EMPTY_NODE;return gt(t,(i,s)=>{if(Pn(t,i)&&i.substring(0,1)!=="."){const r=ct(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(ct(e))}}sI(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends Nl{constructor(e){super(),this.indexPath_=e,G(!be(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?vs(e.name,n.name):r}makePost(e,n){const i=ct(e),s=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Se(n,s)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,Ao);return new Se(Ci,e)}toString(){return fo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends Nl{compare(e,n){const i=e.node.compareTo(n.node);return i===0?vs(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,n){const i=ct(e);return new Se(n,i)}toString(){return".value"}}const dy=new dI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){return{type:"value",snapshotNode:t}}function Gs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ho(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function po(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ho(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Gs(n,i)):o.trackChildChange(po(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ye,(s,r)=>{n.hasChild(s)||i.trackChildChange(ho(s,r))}),n.isLeafNode()||n.forEachChild(Ye,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(po(s,r,o))}else i.trackChildChange(Gs(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.indexedFilter_=new cf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mo.getStartPost_(e),this.endPost_=mo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new Se(n,i))||(i=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=fe.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(fe.EMPTY_NODE);const r=this;return n.forEachChild(Ye,(o,a)=>{r.matches(new Se(o,a))||(s=s.updateImmediateChild(o,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new mo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new Se(n,i))||(i=fe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=fe.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(fe.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new Se(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!i.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(po(n,i,d)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(ho(n,d));const m=a.updateImmediateChild(n,fe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Gs(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(ho(c.name,c.node)),r.trackChildChange(Gs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:is}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ci}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const e=new uf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pI(t){return t.loadsAllData()?new cf(t.getIndex()):t.hasLimit()?new hI(t):new mo(t)}function mI(t,e){const n=t.copy();return n.index_=e,n}function Xp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ye?n="$priority":t.index_===dy?n="$value":t.index_===Xi?n="$key":(G(t.index_ instanceof lf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=dt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+dt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=dt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends ny{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Po("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Ba.getListenId_(e,i),a={};this.listens_[o]=a;const l=Xp(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),qs(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const i=Ba.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Xp(e._queryParams),i=e._path.toString(),s=new Io;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nr(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=lo(a.responseText)}catch{It("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&It("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return{value:null,children:new Map}}function hy(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=we(e);t.children.has(i)||t.children.set(i,Ua());const s=t.children.get(i);e=We(e),hy(s,e,n)}}function Du(t,e,n){t.value!==null?n(e,t.value):vI(t,(i,s)=>{const r=new Fe(e.toString()+"/"+i);Du(s,r,n)})}function vI(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=10*1e3,yI=30*1e3,wI=5*60*1e3;class bI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _I(e);const i=Qp+(yI-Qp)*Math.random();qr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;gt(e,(s,r)=>{r>0&&Pn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),qr(this.reportStats_.bind(this),Math.floor(Math.random()*2*wI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function df(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ff(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Qt.ACK_USER_WRITE,this.source=df()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Fe(e));return new ja(Ne(),n,this.revert)}}else return G(we(this.path)===e,"operationForChild called for unrelated child."),new ja(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new go(this.source,Ne()):new go(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Qt.OVERWRITE}operationForChild(e){return be(this.path)?new ss(this.source,Ne(),this.snap.getImmediateChild(e)):new ss(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Qt.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new Fe(e));return n.isEmpty()?null:n.value?new ss(this.source,Ne(),n.value):new Ks(this.source,Ne(),n)}else return G(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ks(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function EI(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(fI(o.childName,o.snapshotNode))}),Cr(t,s,"child_removed",e,i,n),Cr(t,s,"child_added",e,i,n),Cr(t,s,"child_moved",r,i,n),Cr(t,s,"child_changed",e,i,n),Cr(t,s,"value",e,i,n),s}function Cr(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>CI(t,a,l)),o.forEach(a=>{const l=TI(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function TI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CI(t,e,n){if(e.childName==null||n.childName==null)throw tr("Should only compare child_ events.");const i=new Se(e.childName,e.snapshotNode),s=new Se(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e){return{eventCache:t,serverCache:e}}function Gr(t,e,n,i){return Ml(new rs(e,n,i),t.serverCache)}function py(t,e,n,i){return Ml(t.eventCache,new rs(e,n,i))}function Lu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function os(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;const xI=()=>(Rc||(Rc=new Rt(dx)),Rc);class He{static fromObject(e){let n=new He(null);return gt(e,(i,s)=>{n=n.set(new Fe(i),s)}),n}constructor(e,n=xI()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(be(e))return null;{const i=we(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(We(e),n);return r!=null?{path:Je(new Fe(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=we(e),i=this.children.get(n);return i!==null?i.subtree(We(e)):new He(null)}}set(e,n){if(be(e))return new He(n,this.children);{const i=we(e),r=(this.children.get(i)||new He(null)).set(We(e),n),o=this.children.insert(i,r);return new He(this.value,o)}}remove(e){if(be(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=we(e),i=this.children.get(n);if(i){const s=i.remove(We(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new He(null):new He(this.value,r)}else return this}}get(e){if(be(e))return this.value;{const n=we(e),i=this.children.get(n);return i?i.get(We(e)):null}}setTree(e,n){if(be(e))return n;{const i=we(e),r=(this.children.get(i)||new He(null)).setTree(We(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new He(this.value,o)}}fold(e){return this.fold_(Ne(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Je(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ne(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(be(e))return null;{const r=we(e),o=this.children.get(r);return o?o.findOnPath_(We(e),Je(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ne(),n)}foreachOnPath_(e,n,i){if(be(e))return this;{this.value&&i(n,this.value);const s=we(e),r=this.children.get(s);return r?r.foreachOnPath_(We(e),Je(n,s),i):new He(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new He(null))}}function Kr(t,e,n){if(be(e))return new tn(new He(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=At(s,e);return r=r.updateChild(o,n),new tn(t.writeTree_.set(s,r))}else{const s=new He(n),r=t.writeTree_.setTree(e,s);return new tn(r)}}}function Fu(t,e,n){let i=t;return gt(n,(s,r)=>{i=Kr(i,Je(e,s),r)}),i}function Zp(t,e){if(be(e))return tn.empty();{const n=t.writeTree_.setTree(e,new He(null));return new tn(n)}}function $u(t,e){return _s(t,e)!=null}function _s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function em(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ye,(i,s)=>{e.push(new Se(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Se(i,s.value))}),e}function Ei(t,e){if(be(e))return t;{const n=_s(t,e);return n!=null?new tn(new He(n)):new tn(t.writeTree_.subtree(e))}}function Bu(t){return t.writeTree_.isEmpty()}function Ys(t,e){return my(Ne(),t.writeTree_,e)}function my(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(G(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=my(Je(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e){return yy(e,t)}function II(t,e,n,i,s){G(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Kr(t.visibleWrites,e,n)),t.lastWriteId=i}function kI(t,e,n,i){G(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Fu(t.visibleWrites,e,n),t.lastWriteId=i}function PI(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function AI(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&RI(a,i.path)?s=!1:Ht(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return OI(t),!0;if(i.snap)t.visibleWrites=Zp(t.visibleWrites,i.path);else{const a=i.children;gt(a,l=>{t.visibleWrites=Zp(t.visibleWrites,Je(i.path,l))})}return!0}else return!1}function RI(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(Je(t.path,n),e))return!0;return!1}function OI(t){t.visibleWrites=gy(t.allWrites,NI,Ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function NI(t){return t.visible}function gy(t,e,n){let i=tn.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)Ht(n,o)?(a=At(n,o),i=Kr(i,a,r.snap)):Ht(o,n)&&(a=At(o,n),i=Kr(i,Ne(),r.snap.getChild(a)));else if(r.children){if(Ht(n,o))a=At(n,o),i=Fu(i,a,r.children);else if(Ht(o,n))if(a=At(o,n),be(a))i=Fu(i,Ne(),r.children);else{const l=qs(r.children,we(a));if(l){const c=l.getChild(We(a));i=Kr(i,Ne(),c)}}}else throw tr("WriteRecord should have .snap or .children")}}return i}function vy(t,e,n,i,s){if(!i&&!s){const r=_s(t.visibleWrites,e);if(r!=null)return r;{const o=Ei(t.visibleWrites,e);if(Bu(o))return n;if(n==null&&!$u(o,Ne()))return null;{const a=n||fe.EMPTY_NODE;return Ys(o,a)}}}else{const r=Ei(t.visibleWrites,e);if(!s&&Bu(r))return n;if(!s&&n==null&&!$u(r,Ne()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Ht(c.path,e)||Ht(e,c.path))},a=gy(t.allWrites,o,e),l=n||fe.EMPTY_NODE;return Ys(a,l)}}}function MI(t,e,n){let i=fe.EMPTY_NODE;const s=_s(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ye,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Ei(t.visibleWrites,e);return n.forEachChild(Ye,(o,a)=>{const l=Ys(Ei(r,new Fe(o)),a);i=i.updateImmediateChild(o,l)}),em(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Ei(t.visibleWrites,e);return em(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function DI(t,e,n,i,s){G(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Je(e,n);if($u(t.visibleWrites,r))return null;{const o=Ei(t.visibleWrites,r);return Bu(o)?s.getChild(n):Ys(o,s.getChild(n))}}function LI(t,e,n,i){const s=Je(e,n),r=_s(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Ei(t.visibleWrites,s);return Ys(o,i.getNode().getImmediateChild(n))}else return null}function FI(t,e){return _s(t.visibleWrites,e)}function $I(t,e,n,i,s,r,o){let a;const l=Ei(t.visibleWrites,e),c=_s(l,Ne());if(c!=null)a=c;else if(n!=null)a=Ys(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let h=f.getNext();for(;h&&u.length<s;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function BI(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Va(t,e,n,i){return vy(t.writeTree,t.treePath,e,n,i)}function mf(t,e){return MI(t.writeTree,t.treePath,e)}function tm(t,e,n,i){return DI(t.writeTree,t.treePath,e,n,i)}function Ha(t,e){return FI(t.writeTree,Je(t.treePath,e))}function UI(t,e,n,i,s,r){return $I(t.writeTree,t.treePath,e,n,i,s,r)}function gf(t,e,n){return LI(t.writeTree,t.treePath,e,n)}function _y(t,e){return yy(Je(t.treePath,e),t.writeTree)}function yy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,po(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,ho(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Gs(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,po(i,e.snapshotNode,s.oldSnap));else throw tr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const wy=new VI;class vf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:os(this.viewCache_),r=UI(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return{filter:t}}function WI(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function zI(t,e,n,i,s){const r=new jI;let o,a;if(n.type===Qt.OVERWRITE){const c=n;c.source.fromUser?o=Uu(t,e,c.path,c.snap,i,s,r):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!be(c.path),o=Wa(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===Qt.MERGE){const c=n;c.source.fromUser?o=GI(t,e,c.path,c.children,i,s,r):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ju(t,e,c.path,c.children,i,s,a,r))}else if(n.type===Qt.ACK_USER_WRITE){const c=n;c.revert?o=XI(t,e,c.path,i,s,r):o=KI(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===Qt.LISTEN_COMPLETE)o=YI(t,e,n.path,i,r);else throw tr("Unknown operation type: "+n.type);const l=r.getChanges();return qI(e,o,l),{viewCache:o,changes:l}}function qI(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Lu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(fy(Lu(e)))}}function by(t,e,n,i,s,r){const o=e.eventCache;if(Ha(i,n)!=null)return e;{let a,l;if(be(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=os(e),u=c instanceof fe?c:fe.EMPTY_NODE,d=mf(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Va(i,os(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=we(n);if(c===".priority"){G(xi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=tm(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=We(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=tm(i,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=gf(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,r):a=o.getNode()}}return Gr(e,a,o.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function Wa(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(be(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),h,null)}else{const h=we(n);if(!l.isCompleteForPath(n)&&xi(n)>1)return e;const p=We(n),y=l.getNode().getImmediateChild(h).updateChild(p,i);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,wy,null)}const d=py(e,c,l.isFullyInitialized()||be(n),u.filtersNodes()),f=new vf(s,d,r);return by(t,d,n,s,f,a)}function Uu(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new vf(s,e,r);if(be(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Gr(e,c,!0,t.filter.filtersNodes());else{const d=we(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Gr(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=We(n),h=a.getNode().getImmediateChild(d);let p;if(be(f))p=i;else{const m=u.getCompleteChild(d);m!=null?sf(f)===".priority"&&m.getChild(sy(f)).isEmpty()?p=m:p=m.updateChild(f,i):p=fe.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Gr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nm(t,e){return t.eventCache.isCompleteForChild(e)}function GI(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=Je(n,l);nm(e,we(u))&&(a=Uu(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=Je(n,l);nm(e,we(u))||(a=Uu(t,a,u,c,s,r,o))}),a}function im(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function ju(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;be(n)?c=i:c=new He(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=im(t,h,f);l=Wa(t,l,new Fe(d),p,s,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=im(t,p,f);l=Wa(t,l,new Fe(d),m,s,r,o,a)}}),l}function KI(t,e,n,i,s,r,o){if(Ha(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wa(t,e,n,l.getNode().getChild(n),s,r,a,o);if(be(n)){let c=new He(null);return l.getNode().forEachChild(Xi,(u,d)=>{c=c.set(new Fe(u),d)}),ju(t,e,n,c,s,r,a,o)}else return e}else{let c=new He(null);return i.foreach((u,d)=>{const f=Je(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),ju(t,e,n,c,s,r,a,o)}}function YI(t,e,n,i,s){const r=e.serverCache,o=py(e,r.getNode(),r.isFullyInitialized()||be(n),r.isFiltered());return by(t,o,n,i,wy,s)}function XI(t,e,n,i,s,r){let o;if(Ha(i,n)!=null)return e;{const a=new vf(i,e,s),l=e.eventCache.getNode();let c;if(be(n)||we(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Va(i,os(e));else{const d=e.serverCache.getNode();G(d instanceof fe,"serverChildren would be complete if leaf node"),u=mf(i,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=we(n);let d=gf(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,We(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,fe.EMPTY_NODE,We(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Va(i,os(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Ha(i,Ne())!=null,Gr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new cf(i.getIndex()),r=pI(i);this.processor_=HI(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(fe.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),u=new rs(l,o.isFullyInitialized(),s.filtersNodes()),d=new rs(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Ml(d,u),this.eventGenerator_=new SI(this.query_)}get query(){return this.query_}}function QI(t){return t.viewCache_.serverCache.getNode()}function ZI(t,e){const n=os(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function sm(t){return t.eventRegistrations_.length===0}function ek(t,e){t.eventRegistrations_.push(e)}function rm(t,e,n){const i=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function om(t,e,n,i){e.type===Qt.MERGE&&e.source.queryId!==null&&(G(os(t.viewCache_),"We should always have a full cache before handling merges"),G(Lu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=zI(t.processor_,s,e,n,i);return WI(t.processor_,r.viewCache),G(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Sy(t,r.changes,r.viewCache.eventCache.getNode(),null)}function tk(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ye,(r,o)=>{i.push(Gs(r,o))}),n.isFullyInitialized()&&i.push(fy(n.getNode())),Sy(t,i,n.getNode(),e)}function Sy(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return EI(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za;class nk{constructor(){this.views=new Map}}function ik(t){G(!za,"__referenceConstructor has already been defined"),za=t}function sk(){return G(za,"Reference.ts has not been loaded"),za}function rk(t){return t.views.size===0}function _f(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return G(r!=null,"SyncTree gave us an op for an invalid query."),om(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(om(o,e,n,i));return r}}function ok(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Va(n,s?i:null),l=!1;a?l=!0:i instanceof fe?(a=mf(n,i),l=!1):(a=fe.EMPTY_NODE,l=!1);const c=Ml(new rs(a,l,!1),new rs(i,s,!1));return new JI(e,c)}return o}function ak(t,e,n,i,s,r){const o=ok(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ek(o,n),tk(o,n)}function lk(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=Ii(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(rm(c,n,i)),sm(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(rm(l,n,i)),sm(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Ii(t)&&r.push(new(sk())(e._repo,e._path)),{removed:r,events:o}}function Ey(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ls(t,e){let n=null;for(const i of t.views.values())n=n||ZI(i,e);return n}function Ty(t,e){if(e._queryParams.loadsAllData())return Dl(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Cy(t,e){return Ty(t,e)!=null}function Ii(t){return Dl(t)!=null}function Dl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;function ck(t){G(!qa,"__referenceConstructor has already been defined"),qa=t}function uk(){return G(qa,"Reference.ts has not been loaded"),qa}let dk=1;class am{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=BI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xy(t,e,n,i,s){return II(t.pendingWriteTree_,e,n,i,s),s?ar(t,new ss(df(),e,n)):[]}function fk(t,e,n,i){kI(t.pendingWriteTree_,e,n,i);const s=He.fromObject(n);return ar(t,new Ks(df(),e,s))}function gi(t,e,n=!1){const i=PI(t.pendingWriteTree_,e);if(AI(t.pendingWriteTree_,e)){let r=new He(null);return i.snap!=null?r=r.set(Ne(),!0):gt(i.children,o=>{r=r.set(new Fe(o),!0)}),ar(t,new ja(i.path,r,n))}else return[]}function Ll(t,e,n){return ar(t,new ss(ff(),e,n))}function hk(t,e,n){const i=He.fromObject(n);return ar(t,new Ks(ff(),e,i))}function pk(t,e){return ar(t,new go(ff(),e))}function mk(t,e,n){const i=wf(t,n);if(i){const s=bf(i),r=s.path,o=s.queryId,a=At(r,e),l=new go(hf(o),a);return Sf(t,r,l)}else return[]}function Vu(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||Cy(o,e))){const l=lk(o,e,n,i);rk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>Ii(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=_k(f);for(let p=0;p<h.length;++p){const m=h[p],y=m.query,v=Py(t,m);t.listenProvider_.startListening(Yr(y),Ga(t,y),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Yr(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Fl(f));t.listenProvider_.stopListening(Yr(f),h)}))}yk(t,c)}return a}function gk(t,e,n,i){const s=wf(t,i);if(s!=null){const r=bf(s),o=r.path,a=r.queryId,l=At(o,e),c=new ss(hf(a),l,n);return Sf(t,o,c)}else return[]}function vk(t,e,n,i){const s=wf(t,i);if(s){const r=bf(s),o=r.path,a=r.queryId,l=At(o,e),c=He.fromObject(n),u=new Ks(hf(a),l,c);return Sf(t,o,u)}else return[]}function lm(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,h)=>{const p=At(f,s);r=r||Ls(h,p),o=o||Ii(h)});let a=t.syncPointTree_.get(s);a?(o=o||Ii(a),r=r||Ls(a,Ne())):(a=new nk,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=fe.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((h,p)=>{const m=Ls(p,Ne());m&&(r=r.updateImmediateChild(h,m))}));const c=Cy(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Fl(e);G(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=wk();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=pf(t.pendingWriteTree_,s);let d=ak(a,e,n,u,r,l);if(!c&&!o&&!i){const f=Ty(a,e);d=d.concat(bk(t,e,f))}return d}function yf(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=At(o,e),c=Ls(a,l);if(c)return c});return vy(s,e,r,n,!0)}function ar(t,e){return Iy(e,t.syncPointTree_,null,pf(t.pendingWriteTree_,Ne()))}function Iy(t,e,n,i){if(be(t.path))return ky(t,e,n,i);{const s=e.get(Ne());n==null&&s!=null&&(n=Ls(s,Ne()));let r=[];const o=we(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=_y(i,o);r=r.concat(Iy(a,l,c,u))}return s&&(r=r.concat(_f(s,t,i,n))),r}}function ky(t,e,n,i){const s=e.get(Ne());n==null&&s!=null&&(n=Ls(s,Ne()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=_y(i,o),u=t.operationForChild(o);u&&(r=r.concat(ky(u,a,l,c)))}),s&&(r=r.concat(_f(s,t,i,n))),r}function Py(t,e){const n=e.query,i=Ga(t,n);return{hashFn:()=>(QI(e)||fe.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?mk(t,n._path,i):pk(t,n._path);{const r=px(s,n);return Vu(t,n,null,r)}}}}function Ga(t,e){const n=Fl(e);return t.queryToTagMap.get(n)}function Fl(t){return t._path.toString()+"$"+t._queryIdentifier}function wf(t,e){return t.tagToQueryMap.get(e)}function bf(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Fe(t.substr(0,e))}}function Sf(t,e,n){const i=t.syncPointTree_.get(e);G(i,"Missing sync point for query tag that we're tracking");const s=pf(t.pendingWriteTree_,e);return _f(i,n,s,null)}function _k(t){return t.fold((e,n,i)=>{if(n&&Ii(n))return[Dl(n)];{let s=[];return n&&(s=Ey(n)),gt(i,(r,o)=>{s=s.concat(o)}),s}})}function Yr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(uk())(t._repo,t._path):t}function yk(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Fl(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function wk(){return dk++}function bk(t,e,n){const i=e._path,s=Ga(t,e),r=Py(t,n),o=t.listenProvider_.startListening(Yr(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)G(!Ii(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!be(c)&&u&&Ii(u))return[Dl(u).query];{let f=[];return u&&(f=f.concat(Ey(u).map(h=>h.query))),gt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Yr(u),Ga(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ef(n)}node(){return this.node_}}class Tf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new Tf(this.syncTree_,n)}node(){return yf(this.syncTree_,this.path_)}}const Sk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cm=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ek(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Tk(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ek=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},Tk=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&G(!1,"Unexpected increment value: "+i);const s=e.node();if(G(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},Ay=function(t,e,n,i){return Cf(e,new Tf(n,t),i)},Ry=function(t,e,n){return Cf(t,new Ef(e),n)};function Cf(t,e,n){const i=t.getPriority().val(),s=cm(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=cm(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new ot(a,ct(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new ot(s))),o.forEachChild(Ye,(a,l)=>{const c=Cf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function If(t,e){let n=e instanceof Fe?e:new Fe(e),i=t,s=we(n);for(;s!==null;){const r=qs(i.node.children,s)||{children:{},childCount:0};i=new xf(s,i,r),n=We(n),s=we(n)}return i}function lr(t){return t.node.value}function Oy(t,e){t.node.value=e,Hu(t)}function Ny(t){return t.node.childCount>0}function Ck(t){return lr(t)===void 0&&!Ny(t)}function $l(t,e){gt(t.node.children,(n,i)=>{e(new xf(n,t,i))})}function My(t,e,n,i){n&&e(t),$l(t,s=>{My(s,e,!0)})}function xk(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ro(t){return new Fe(t.parent===null?t.name:Ro(t.parent)+"/"+t.name)}function Hu(t){t.parent!==null&&Ik(t.parent,t.name,t)}function Ik(t,e,n){const i=Ck(n),s=Pn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Hu(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Hu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=/[\[\].#$\/\u0000-\u001F\u007F]/,Pk=/[\[\].#$\u0000-\u001F\u007F]/,Oc=10*1024*1024,kf=function(t){return typeof t=="string"&&t.length!==0&&!kk.test(t)},Dy=function(t){return typeof t=="string"&&t.length!==0&&!Pk.test(t)},Ak=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Dy(t)},Wu=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Qd(t)||t&&typeof t=="object"&&Pn(t,".sv")},Rk=function(t,e,n,i){Bl(Rl(t,"value"),e,n)},Bl=function(t,e,n){const i=n instanceof Fe?new Kx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ji(i));if(typeof e=="function")throw new Error(t+"contains a function "+ji(i)+" with contents = "+e.toString());if(Qd(e))throw new Error(t+"contains "+e.toString()+" "+ji(i));if(typeof e=="string"&&e.length>Oc/3&&Ol(e)>Oc)throw new Error(t+"contains a string greater than "+Oc+" utf8 bytes "+ji(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(gt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!kf(o)))throw new Error(t+" contains an invalid key ("+o+") "+ji(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Yx(i,o),Bl(t,a,i),Xx(i)}),s&&r)throw new Error(t+' contains ".value" child '+ji(i)+" in addition to actual children.")}},Ok=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=fo(i);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!kf(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Gx);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Ht(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},Nk=function(t,e,n,i){const s=Rl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const r=[];gt(e,(o,a)=>{const l=new Fe(o);if(Bl(s,a,Je(n,l)),sf(l)===".priority"&&!Wu(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),Ok(s,r)},Pf=function(t,e,n,i){if(!Dy(n))throw new Error(Rl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Mk=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pf(t,e,n)},Ly=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Dk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ak(n))throw new Error(Rl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ul(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!rf(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Fy(t,e,n){Ul(t,n),$y(t,i=>rf(i,e))}function an(t,e,n){Ul(t,n),$y(t,i=>Ht(i,e)||Ht(e,i))}function $y(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(Fk(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Fk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();zr&&pt("event: "+n.toString()),or(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="repo_interrupt",Bk=25;class Uk{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ua(),this.transactionQueueTree_=new xf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jk(t,e,n){if(t.stats_=tf(t.repoInfo_),t.forceRestClient_||_x())t.server_=new Ba(t.repoInfo_,(i,s,r,o)=>{um(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Gn(t.repoInfo_,e,(i,s,r,o)=>{um(t,i,s,r,o)},i=>{dm(t,i)},i=>{Hk(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Ex(t.repoInfo_,()=>new bI(t.stats_,t.server_)),t.infoData_=new gI,t.infoSyncTree_=new am({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Ll(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Af(t,"connected",!1),t.serverSyncTree_=new am({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);an(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function Vk(t){const n=t.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jl(t){return Sk({timestamp:Vk(t)})}function um(t,e,n,i,s){t.dataUpdateCount++;const r=new Fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=Na(n,c=>ct(c));o=vk(t.serverSyncTree_,r,l,s)}else{const l=ct(n);o=gk(t.serverSyncTree_,r,l,s)}else if(i){const l=Na(n,c=>ct(c));o=hk(t.serverSyncTree_,r,l)}else{const l=ct(n);o=Ll(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Xs(t,r)),an(t.eventQueue_,a,o)}function dm(t,e){Af(t,"connected",e),e===!1&&qk(t)}function Hk(t,e){gt(e,(n,i)=>{Af(t,n,i)})}function Af(t,e,n){const i=new Fe("/.info/"+e),s=ct(n);t.infoData_.updateSnapshot(i,s);const r=Ll(t.infoSyncTree_,i,s);an(t.eventQueue_,i,r)}function Rf(t){return t.nextWriteId_++}function Wk(t,e,n,i,s){Vl(t,"set",{path:e.toString(),value:n,priority:i});const r=jl(t),o=ct(n,i),a=yf(t.serverSyncTree_,e),l=Ry(o,a,r),c=Rf(t),u=xy(t.serverSyncTree_,e,l,c,!0);Ul(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||It("set at "+e+" failed: "+f);const m=gi(t.serverSyncTree_,c,!p);an(t.eventQueue_,e,m),zu(t,s,f,h)});const d=Nf(t,e);Xs(t,d),an(t.eventQueue_,d,[])}function zk(t,e,n,i){Vl(t,"update",{path:e.toString(),value:n});let s=!0;const r=jl(t),o={};if(gt(n,(a,l)=>{s=!1,o[a]=Ay(Je(e,a),ct(l),t.serverSyncTree_,r)}),s)pt("update() called with empty data.  Don't do anything."),zu(t,i,"ok",void 0);else{const a=Rf(t),l=fk(t.serverSyncTree_,e,o,a);Ul(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||It("update at "+e+" failed: "+c);const f=gi(t.serverSyncTree_,a,!d),h=f.length>0?Xs(t,e):e;an(t.eventQueue_,h,f),zu(t,i,c,u)}),gt(n,c=>{const u=Nf(t,Je(e,c));Xs(t,u)}),an(t.eventQueue_,e,[])}}function qk(t){Vl(t,"onDisconnectEvents");const e=jl(t),n=Ua();Du(t.onDisconnect_,Ne(),(s,r)=>{const o=Ay(s,r,t.serverSyncTree_,e);hy(n,s,o)});let i=[];Du(n,Ne(),(s,r)=>{i=i.concat(Ll(t.serverSyncTree_,s,r));const o=Nf(t,s);Xs(t,o)}),t.onDisconnect_=Ua(),an(t.eventQueue_,Ne(),i)}function Gk(t,e,n){let i;we(e._path)===".info"?i=lm(t.infoSyncTree_,e,n):i=lm(t.serverSyncTree_,e,n),Fy(t.eventQueue_,e._path,i)}function fm(t,e,n){let i;we(e._path)===".info"?i=Vu(t.infoSyncTree_,e,n):i=Vu(t.serverSyncTree_,e,n),Fy(t.eventQueue_,e._path,i)}function Kk(t){t.persistentConnection_&&t.persistentConnection_.interrupt($k)}function Vl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),pt(n,...e)}function zu(t,e,n,i){e&&or(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function By(t,e,n){return yf(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function Of(t,e=t.transactionQueueTree_){if(e||Hl(t,e),lr(e)){const n=jy(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Yk(t,Ro(e),n)}else Ny(e)&&$l(e,n=>{Of(t,n)})}function Yk(t,e,n){const i=n.map(c=>c.currentWriteId),s=By(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=At(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Vl(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(gi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Hl(t,If(t.transactionQueueTree_,e)),Of(t,t.transactionQueueTree_),an(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)or(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{It("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Xs(t,e)}},o)}function Xs(t,e){const n=Uy(t,e),i=Ro(n),s=jy(t,n);return Xk(t,s,i),i}function Xk(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=At(n,l.path);let u=!1,d;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(gi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Bk)u=!0,d="maxretry",s=s.concat(gi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=By(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Bl("transaction failed: Data returned ",h,l.path);let p=ct(h);typeof h=="object"&&h!=null&&Pn(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,v=jl(t),_=Ry(p,f,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=Rf(t),o.splice(o.indexOf(y),1),s=s.concat(xy(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),s=s.concat(gi(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",s=s.concat(gi(t.serverSyncTree_,l.currentWriteId,!0))}an(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Hl(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)or(i[a]);Of(t,t.transactionQueueTree_)}function Uy(t,e){let n,i=t.transactionQueueTree_;for(n=we(e);n!==null&&lr(i)===void 0;)i=If(i,n),e=We(e),n=we(e);return i}function jy(t,e){const n=[];return Vy(t,e,n),n.sort((i,s)=>i.order-s.order),n}function Vy(t,e,n){const i=lr(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);$l(e,s=>{Vy(t,s,n)})}function Hl(t,e){const n=lr(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,Oy(e,n.length>0?n:void 0)}$l(e,i=>{Hl(t,i)})}function Nf(t,e){const n=Ro(Uy(t,e)),i=If(t.transactionQueueTree_,e);return xk(i,s=>{Nc(t,s)}),Nc(t,i),My(i,s=>{Nc(t,s)}),n}function Nc(t,e){const n=lr(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(gi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Oy(e,void 0):n.length=r+1,an(t.eventQueue_,Ro(e),s);for(let o=0;o<i.length;o++)or(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Qk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const hm=function(t,e){const n=Zk(t),i=n.namespace;n.domain==="firebase.com"&&Qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Y_(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Fe(n.pathString)}},Zk=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=Jk(t.substring(u,d)));const f=Qk(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class tP{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return be(this._path)?null:sf(this._path)}get ref(){return new Ni(this._repo,this._path)}get _queryIdentifier(){const e=Jp(this._queryParams),n=Zd(e);return n==="{}"?"default":n}get _queryObject(){return Jp(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof Wl))return!1;const n=this._repo===e._repo,i=rf(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+qx(this._path)}}function iP(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function sP(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Xi){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==is)throw new Error(i);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==Ci)throw new Error(i);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===Ye){if(e!=null&&!Wu(e)||n!=null&&!Wu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(t.getIndex()instanceof lf||t.getIndex()===dy,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ni extends Wl{constructor(e,n){super(e,n,new uf,!1)}get parent(){const e=sy(this._path);return e===null?null:new Ni(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ka{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Fe(e),i=qu(this.ref,e);return new Ka(this._node.getChild(n),i,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Ka(s,qu(this.ref,i),Ye)))}hasChild(e){const n=new Fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function et(t,e){return t=st(t),t._checkNotDeleted("ref"),e!==void 0?qu(t._root,e):t._root}function qu(t,e){return t=st(t),we(t._path)===null?Mk("child","path",e):Pf("child","path",e),new Ni(t._repo,Je(t._path,e))}function Gu(t){return Ly("remove",t._path),cr(t,null)}function cr(t,e){t=st(t),Ly("set",t._path),Rk("set",e,t._path);const n=new Io;return Wk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ku(t,e){Nk("update",e,t._path);const n=new Io;return zk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Mf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new eP("value",this,new Ka(e.snapshotNode,new Ni(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tP(this,e,n):null}matches(e){return e instanceof Mf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rP(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(u,d)=>{fm(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new nP(n,r||void 0),a=new Mf(o);return Gk(t._repo,t,a),()=>fm(t._repo,t,a)}function Kn(t,e,n,i){return rP(t,"value",e,n,i)}class oP{}class aP extends oP{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){iP(e,"orderByChild");const n=new Fe(this._path);if(be(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new lf(n),s=mI(e._queryParams,i);return sP(s),new Wl(e._repo,e._path,s,!0)}}function Hy(t){return Pf("orderByChild","path",t),new aP(t)}function Wy(t,...e){let n=st(t);for(const i of e)n=i._apply(n);return n}ik(Ni);ck(Ni);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="FIREBASE_DATABASE_EMULATOR_HOST",Yu={};let cP=!1;function uP(t,e,n,i){t.repoInfo_=new Y_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function dP(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hm(r,s),a=o.repoInfo,l;typeof process<"u"&&Np&&(l=Np[lP]),l?(r=`http://${l}?ns=${a.namespace}`,o=hm(r,s),a=o.repoInfo):o.repoInfo.secure;const c=new wx(t.name,t.options,e);Dk("Invalid Firebase Database URL",o),be(o.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=hP(a,t,c,new yx(t.name,n));return new pP(u,t)}function fP(t,e){const n=Yu[e];(!n||n[t.key]!==t)&&Qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Kk(t),delete n[t.key]}function hP(t,e,n,i){let s=Yu[e.name];s||(s={},Yu[e.name]=s);let r=s[t.toURLString()];return r&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Uk(t,cP,n,i),s[t.toURLString()]=r,r}class pP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qn("Cannot call "+e+" on a deleted database.")}}function ys(t=Jd(),e){const n=sr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=DC("database");i&&mP(n,...i)}return n}function mP(t,e,n,i={}){t=st(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Qn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new la(la.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:LC(i.mockUserToken,t.app.options.projectId);r=new la(o)}uP(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){ix(rr),on(new Yt("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return dP(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),qt(Mp,Dp,t),qt(Mp,Dp,"esm2017")}Gn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gP();function Df(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function zy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vP=zy,qy=new Oi("auth","Firebase",zy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Yd("@firebase/auth");function _P(t,...e){Ya.logLevel<=$e.WARN&&Ya.warn(`Auth (${rr}): ${t}`,...e)}function ca(t,...e){Ya.logLevel<=$e.ERROR&&Ya.error(`Auth (${rr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Lf(t,...e)}function Sn(t,...e){return Lf(t,...e)}function Gy(t,e,n){const i=Object.assign(Object.assign({},vP()),{[e]:n});return new Oi("auth","Firebase",i).create(e,{appName:t.name})}function Yn(t){return Gy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return qy.create(t,...e)}function de(t,e,...n){if(!t)throw Lf(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ca(e),new Error(e)}function Zn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yP(){return pm()==="http:"||pm()==="https:"}function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yP()||$C()||"connection"in navigator)?navigator.onLine:!0}function bP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zn(n>e,"Short delay should be less than long delay!"),this.isMobile=Kd()||x_()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e){Zn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Oo(3e4,6e4);function si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function An(t,e,n,i,s={}){return Yy(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=nr(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},r);return FC()||(c.referrerPolicy="no-referrer"),Ky.fetch()(Xy(t,t.config.apiHost,n,a),c)})}async function Yy(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},SP),e);try{const s=new CP(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Ko(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ko(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ko(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ko(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Gy(t,u,c);ln(t,u)}}catch(s){if(s instanceof ii)throw s;ln(t,"network-request-failed",{message:String(s)})}}async function No(t,e,n,i,s={}){const r=await An(t,e,n,i,s);return"mfaPendingCredential"in r&&ln(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Xy(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Ff(t.config,s):`${t.config.apiScheme}://${s}`}function TP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Sn(this.auth,"network-request-failed")),EP.get())})}}function Ko(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Sn(t,e,i);return s.customData._tokenResponse=n,s}function mm(t){return t!==void 0&&t.enterprise!==void 0}class xP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IP(t,e){return An(t,"GET","/v2/recaptchaConfig",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(t,e){return An(t,"POST","/v1/accounts:delete",e)}async function Jy(t,e){return An(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PP(t,e=!1){const n=st(t),i=await n.getIdToken(e),s=$f(i);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Xr(Mc(s.auth_time)),issuedAtTime:Xr(Mc(s.iat)),expirationTime:Xr(Mc(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Mc(t){return Number(t)*1e3}function $f(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ca("JWT malformed, contained fewer than 3 sections"),null;try{const s=Oa(n);return s?JSON.parse(s):(ca("Failed to decode base64 JWT payload"),null)}catch(s){return ca("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gm(t){const e=$f(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&AP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function AP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Js(t,Jy(n,{idToken:i}));de(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?Qy(r.providerUserInfo):[],a=NP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Ju(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function OP(t){const e=st(t);await Xa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NP(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Qy(t){return t.map(e=>{var{providerId:n}=e,i=Df(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e){const n=await Yy(t,{},async()=>{const i=nr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=Xy(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ky.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DP(t,e){return An(t,"POST","/v2/accounts:revokeToken",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=gm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await MP(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Fs;return i&&(de(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(de(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fs,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Df(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ju(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Js(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PP(this,e)}reload(){return OP(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Xa(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await Js(this,kP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:g,emailVerified:b,isAnonymous:T,providerData:A,stsTokenManager:F}=n;de(g&&F,e,"internal-error");const x=Fs.fromJSON(this.name,F);de(typeof g=="string",e,"internal-error"),oi(d,e.name),oi(f,e.name),de(typeof b=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),oi(h,e.name),oi(p,e.name),oi(m,e.name),oi(y,e.name),oi(v,e.name),oi(_,e.name);const C=new Hn({uid:g,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:x,createdAt:v,lastLoginAt:_});return A&&Array.isArray(A)&&(C.providerData=A.map(R=>Object.assign({},R))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,n,i=!1){const s=new Fs;s.updateFromServerResponse(n);const r=new Hn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Xa(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];de(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?Qy(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new Fs;a.updateFromIdToken(i);const l=new Hn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Ju(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map;function Wn(t){Zn(t instanceof Function,"Expected a class definition");let e=vm.get(t);return e?(Zn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zy.type="NONE";const _m=Zy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=ua(this.userKey,s.apiKey,r),this.fullPersistenceKey=ua("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $s(Wn(_m),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Wn(_m);const o=ua(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Hn._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new $s(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new $s(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rw(e))return"Blackberry";if(ow(e))return"Webos";if(tw(e))return"Safari";if((e.includes("chrome/")||nw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ew(t=kt()){return/firefox\//i.test(t)}function tw(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nw(t=kt()){return/crios\//i.test(t)}function iw(t=kt()){return/iemobile/i.test(t)}function sw(t=kt()){return/android/i.test(t)}function rw(t=kt()){return/blackberry/i.test(t)}function ow(t=kt()){return/webos/i.test(t)}function Bf(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LP(t=kt()){var e;return Bf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FP(){return BC()&&document.documentMode===10}function aw(t=kt()){return Bf(t)||sw(t)||ow(t)||rw(t)||/windows phone/i.test(t)||iw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e=[]){let n;switch(t){case"Browser":n=ym(kt());break;case"Worker":n=`${ym(kt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e={}){return An(t,"GET","/v2/passwordPolicy",si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=6;class jP{constructor(e){var n,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wm(this),this.idTokenSubscription=new wm(this),this.beforeStateQueue=new $P(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jy(this,{idToken:e}),i=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Yn(this));const n=e?st(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BP(this),n=new jP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await DP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_P(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mi(t){return st(t)}class wm{constructor(e){this.auth=e,this.observer=null,this.addObserver=GC(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HP(t){zl=t}function cw(t){return zl.loadJS(t)}function WP(){return zl.recaptchaEnterpriseScript}function zP(){return zl.gapiScript}function qP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GP{constructor(){this.enterprise=new KP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YP="recaptcha-enterprise",uw="NO_RECAPTCHA";class XP{constructor(e){this.type=YP,this.auth=Mi(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{IP(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new xP(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;mm(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(uw)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GP().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&mm(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=WP();l.length!==0&&(l+=a),cw(l).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bm(t,e,n,i=!1,s=!1){const r=new XP(t);let o;if(s)o=uw;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ja(t,e,n,i,s){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bm(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bm(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){const n=sr(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Ma(r,e??{}))return s;ln(s,"already-initialized")}return n.initialize({options:e})}function QP(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ZP(t,e,n){const i=Mi(t);de(i._canInitEmulator,i,"emulator-config-failed"),de(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=dw(e),{host:o,port:a}=eA(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),tA()}function dw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eA(t){const e=dw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Sm(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:Sm(o)}}}function Sm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function nA(t,e){return An(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(t,e){return No(t,"POST","/v1/accounts:signInWithPassword",si(t,e))}async function sA(t,e){return An(t,"POST","/v1/accounts:sendOobCode",si(t,e))}async function rA(t,e){return sA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e){return No(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}async function aA(t,e){return No(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Uf{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new vo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,n,"signInWithPassword",iA);case"emailLink":return oA(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ja(e,i,"signUpPassword",nA);case"emailLink":return aA(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e){return No(t,"POST","/v1/accounts:signInWithIdp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="http://localhost";class as extends Uf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Df(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new as(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Bs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bs(e,n)}buildRequest(){const e={requestUri:lA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uA(t){const e=Or(Nr(t)).link,n=e?Or(Nr(e)).deep_link_id:null,i=Or(Nr(t)).deep_link_id;return(i?Or(Nr(i)).link:null)||i||n||e||t}class jf{constructor(e){var n,i,s,r,o,a;const l=Or(Nr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=cA((s=l.mode)!==null&&s!==void 0?s:null);de(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uA(e);try{return new jf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.providerId=ur.PROVIDER_ID}static credential(e,n){return vo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=jf.parseLink(n);return de(i,"argument-error"),vo._fromEmailAndCode(e,i.code,i.tenantId)}}ur.PROVIDER_ID="password";ur.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ur.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Mo{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fi.credential(n,i)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Mo{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Mo{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pi.credential(n,i)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,e){return No(t,"POST","/v1/accounts:signUp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Hn._fromIdTokenResponse(e,i,s),o=Em(i);return new ls({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Em(i);return new ls({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Em(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends ii{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Qa(e,n,i,s)}}function hw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Qa._fromErrorAndOperation(t,r,e,i):r})}async function fA(t,e,n=!1){const i=await Js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ls._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e,n=!1){const{auth:i}=t;if(yn(i.app))return Promise.reject(Yn(i));const s="reauthenticate";try{const r=await Js(t,hw(i,s,e,t),n);de(r.idToken,i,"internal-error");const o=$f(r.idToken);de(o,i,"internal-error");const{sub:a}=o;return de(t.uid===a,i,"user-mismatch"),ls._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ln(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(t,e,n=!1){if(yn(t.app))return Promise.reject(Yn(t));const i="signIn",s=await hw(t,i,e),r=await ls._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function pA(t,e){return pw(Mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t){const e=Mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mA(t,e,n){const i=Mi(t);await Ja(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",rA)}async function gA(t,e,n){if(yn(t.app))return Promise.reject(Yn(t));const i=Mi(t),o=await Ja(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dA).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mw(t),l}),a=await ls._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function vA(t,e,n){return yn(t.app)?Promise.reject(Yn(t)):pA(st(t),ur.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mw(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(t,e){return An(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=st(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Js(i,_A(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function yA(t,e,n,i){return st(t).onIdTokenChanged(e,n,i)}function wA(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function En(t,e,n,i){return st(t).onAuthStateChanged(e,n,i)}function bA(t){return st(t).signOut()}const Za="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=1e3,EA=10;class vw extends gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);FP()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,EA):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},SA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vw.type="LOCAL";const TA=vw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_w.type="SESSION";const yw=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ql(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await CA(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ql.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Vf("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function IA(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function kA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AA(){return ww()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firebaseLocalStorageDb",RA=1,el="firebaseLocalStorage",Sw="fbase_key";class Do{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gl(t,e){return t.transaction([el],e?"readwrite":"readonly").objectStore(el)}function OA(){const t=indexedDB.deleteDatabase(bw);return new Do(t).toPromise()}function Qu(){const t=indexedDB.open(bw,RA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(el,{keyPath:Sw})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(el)?e(i):(i.close(),await OA(),e(await Qu()))})})}async function Cm(t,e,n){const i=Gl(t,!0).put({[Sw]:e,value:n});return new Do(i).toPromise()}async function NA(t,e){const n=Gl(t,!1).get(e),i=await new Do(n).toPromise();return i===void 0?null:i.value}function xm(t,e){const n=Gl(t,!0).delete(e);return new Do(n).toPromise()}const MA=800,DA=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>DA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ww()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ql._getInstance(AA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kA(),!this.activeServiceWorker)return;this.sender=new xA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qu();return await Cm(e,Za,"1"),await xm(e,Za),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cm(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>NA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Gl(s,!1).getAll();return new Do(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const LA=Ew;new Oo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){return e?Wn(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Uf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $A(t){return pw(t.auth,new Hf(t),t.bypassAuthState)}function BA(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),hA(n,new Hf(t),t.bypassAuthState)}async function UA(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),fA(n,new Hf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $A;case"linkViaPopup":case"linkViaRedirect":return UA;case"reauthViaPopup":case"reauthViaRedirect":return BA;default:ln(this.auth,"internal-error")}}resolve(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Oo(2e3,1e4);class Ps extends Tw{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const e=Vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jA.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="pendingRedirect",da=new Map;class HA extends Tw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=da.get(this.auth._key());if(!e){try{const i=await WA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}da.set(this.auth._key(),e)}return this.bypassAuthState||da.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WA(t,e){const n=GA(e),i=qA(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function zA(t,e){da.set(t._key(),e)}function qA(t){return Wn(t._redirectPersistence)}function GA(t){return ua(VA,t.config.apiKey,t.name)}async function KA(t,e,n=!1){if(yn(t.app))return Promise.reject(Yn(t));const i=Mi(t),s=FA(i,e),o=await new HA(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=10*60*1e3;class XA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Cw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Im(e))}saveEventToCache(e){this.cachedEventUids.add(Im(e)),this.lastProcessedEventTime=Date.now()}}function Im(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(t,e={}){return An(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QA(t);for(const n of e)try{if(nR(n))return}catch{}ln(t,"unauthorized-domain")}function nR(t){const e=Xu(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!eR.test(n))return!1;if(ZA.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Oo(3e4,6e4);function km(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sR(t){return new Promise((e,n)=>{var i,s,r;function o(){km(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{km(),n(Sn(t,"network-request-failed"))},timeout:iR.get()})}if(!((s=(i=Tn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Tn().gapi)===null||r===void 0)&&r.load)o();else{const a=qP("iframefcb");return Tn()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},cw(`${zP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fa=null,e})}let fa=null;function rR(t){return fa=fa||sR(t),fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Oo(5e3,15e3),aR="__/auth/iframe",lR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dR(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ff(e,lR):`https://${t.config.authDomain}/${aR}`,i={apiKey:e.apiKey,appName:t.name,v:rr},s=uR.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${nr(i).slice(1)}`}async function fR(t){const e=await rR(t),n=Tn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:dR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=Tn().setTimeout(()=>{r(o)},oR.get());function l(){Tn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pR=500,mR=600,gR="_blank",vR="http://localhost";class Pm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(t,e,n,i=pR,s=mR){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hR),{width:i.toString(),height:s.toString(),top:r,left:o}),c=kt().toLowerCase();n&&(a=nw(c)?gR:n),ew(c)&&(e=e||vR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(LP(c)&&a!=="_self")return yR(e||"",a),new Pm(null);const d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new Pm(d)}function yR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="__/auth/handler",bR="emulator/auth/handler",SR=encodeURIComponent("fac");async function Am(t,e,n,i,s,r){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:rr,eventId:s};if(e instanceof fw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Mo){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${SR}=${encodeURIComponent(l)}`:"";return`${ER(t)}?${nr(a).slice(1)}${c}`}function ER({config:t}){return t.emulator?Ff(t,bR):`https://${t.authDomain}/${wR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yw,this._completeRedirectFn=KA,this._overrideRedirectResult=zA}async _openPopup(e,n,i,s){var r;Zn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Am(e,n,i,Xu(),s);return _R(e,o,Vf())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await Am(e,n,i,Xu(),s);return IA(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Zn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await fR(e),i=new XA(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dc,{type:Dc},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Dc];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aw()||tw()||Bf()}}const CR=TR;var Rm="@firebase/auth",Om="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kR(t){on(new Yt("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lw(t)},c=new VP(i,s,r,l);return QP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),on(new Yt("auth-internal",e=>{const n=Mi(e.getProvider("auth").getImmediate());return(i=>new xR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qt(Rm,Om,IR(t)),qt(Rm,Om,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=5*60,AR=C_("authIdTokenMaxAge")||PR;let Nm=null;const RR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AR)return;const s=n==null?void 0:n.token;Nm!==s&&(Nm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cn(t=Jd()){const e=sr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JP(t,{popupRedirectResolver:CR,persistence:[LA,TA,yw]}),i=C_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=RR(r.toString());wA(n,o,()=>o(n.currentUser)),yA(n,a=>o(a))}}const s=E_("auth");return s&&ZP(n,`http://${s}`),n}function OR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Sn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",OR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kR("Browser");const Wf=xo("searchStore",()=>{const t=L([]),e=L(""),n=L([]),i=ys(),s=cn(),r=L(!0);return{memory:e,memoryFilms:n,lastSearch:t,loader:r,getLastSearch:()=>{r.value=!0,En(s,u=>{if(u){const d=Wy(et(i,`users/${u.uid}/search`),Hy("date"));Kn(d,f=>{const h=[];f.forEach(p=>{h.push(p.val())}),t.value=h.reverse(),r.value=!1},f=>{console.log(f)})}else console.log("User logged out")})},addToLastSearch:(u,d)=>{const f=new Date().getTime();u.isFavorite=!0,cr(et(i,"users/"+s.currentUser.uid+"/search/"+d),{nameRu:u.nameRu?u.nameRu:u.nameEn,year:u.year,rating:u.rating,posterUrl:u.posterUrl,id:+d,date:f}).then(()=>console.log("Добавлено")).catch(h=>console.log(h))},removeFromSearch:u=>{Gu(et(i,"users/"+s.currentUser.uid+"/search/"+u)).then(()=>console.log("Удалено")).catch(d=>console.log(d))},removeAllSearch:()=>{Gu(et(i,"users/"+s.currentUser.uid+"/search/")).then(()=>console.log("Удалено все")).catch(u=>console.log(u))}}}),NR={id:"menu",class:"fixed bottom-0 z-50 mx-auto flex items-start justify-center w-full bg-gray-600 bg-opacity-50 backdrop-blur-sm"},MR={class:"flex justify-between items-center container px-4 pb-6 pt-2 w-full gap-4"},DR={__name:"Header",setup(t){const e=Wf();return(n,i)=>{const s=Kt("RouterLink");return k(),j("header",NR,[w("nav",MR,[M(s,{to:"/",class:"flex flex-col items-center gap-1"},{default:ee(()=>[M(P(TC),{class:"w-6 text-gray-50",alt:"home"}),i[1]||(i[1]=w("span",{class:"text-xs text-white"},"Главное",-1))]),_:1}),M(s,{to:"/favorites",class:"flex flex-col items-center gap-1"},{default:ee(()=>[M(P(Wd),{class:"w-6 text-gray-50",alt:"favorites"}),i[2]||(i[2]=w("span",{class:"text-xs text-white"},"Мое",-1))]),_:1}),M(s,{to:"/search",class:"flex flex-col items-center gap-1",onClick:i[0]||(i[0]=r=>{P(e).memory="",P(e).memoryFilms=[]})},{default:ee(()=>[M(P(v_),{class:"w-6 text-gray-50",alt:"search"}),i[3]||(i[3]=w("span",{class:"text-xs text-white"},"Поиск",-1))]),_:1}),M(s,{to:"/profile",class:"flex flex-col items-center gap-1"},{default:ee(()=>[M(P(xC),{class:"w-6 text-gray-50",alt:"profile"}),i[4]||(i[4]=w("span",{class:"text-xs text-white"},"Профиль",-1))]),_:1})])])}}},xw="@firebase/installations",zf="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1e4,kw=`w:${zf}`,Pw="FIS_v2",LR="https://firebaseinstallations.googleapis.com/v1",FR=60*60*1e3,$R="installations",BR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},cs=new Oi($R,BR,UR);function Aw(t){return t instanceof ii&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw({projectId:t}){return`${LR}/projects/${t}/installations`}function Ow(t){return{token:t.token,requestStatus:2,expiresIn:VR(t.expiresIn),creationTime:Date.now()}}async function Nw(t,e){const i=(await e.json()).error;return cs.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Mw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jR(t,{refreshToken:e}){const n=Mw(t);return n.append("Authorization",HR(e)),n}async function Dw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VR(t){return Number(t.replace("s","000"))}function HR(t){return`${Pw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Rw(t),s=Mw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Pw,appId:t.appId,sdkVersion:kw},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Dw(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ow(c.authToken)}}else throw await Nw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=/^[cdef][\w-]{21}$/,Zu="";function GR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=KR(t);return qR.test(n)?n:Zu}catch{return Zu}}function KR(t){return zR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function $w(t,e){const n=Kl(t);Bw(n,e),YR(n,e)}function Bw(t,e){const n=Fw.get(t);if(n)for(const i of n)i(e)}function YR(t,e){const n=XR();n&&n.postMessage({key:t,fid:e}),JR()}let Wi=null;function XR(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=t=>{Bw(t.data.key,t.data.fid)}),Wi}function JR(){Fw.size===0&&Wi&&(Wi.close(),Wi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-installations-database",ZR=1,us="firebase-installations-store";let Lc=null;function qf(){return Lc||(Lc=ir(QR,ZR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(us)}}})),Lc}async function tl(t,e){const n=Kl(t),s=(await qf()).transaction(us,"readwrite"),r=s.objectStore(us),o=await r.get(n);return await r.put(e,n),await s.done,(!o||o.fid!==e.fid)&&$w(t,e.fid),e}async function Uw(t){const e=Kl(t),i=(await qf()).transaction(us,"readwrite");await i.objectStore(us).delete(e),await i.done}async function Yl(t,e){const n=Kl(t),s=(await qf()).transaction(us,"readwrite"),r=s.objectStore(us),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&$w(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t){let e;const n=await Yl(t.appConfig,i=>{const s=eO(i),r=tO(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===Zu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function eO(t){const e=t||{fid:GR(),registrationStatus:0};return jw(e)}function tO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(cs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=nO(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iO(t)}:{installationEntry:e}}async function nO(t,e){try{const n=await WR(t,e);return tl(t.appConfig,n)}catch(n){throw Aw(n)&&n.customData.serverCode===409?await Uw(t.appConfig):await tl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iO(t){let e=await Mm(t.appConfig);for(;e.registrationStatus===1;)await Lw(100),e=await Mm(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Gf(t);return i||n}return e}function Mm(t){return Yl(t,e=>{if(!e)throw cs.create("installation-not-found");return jw(e)})}function jw(t){return sO(t)?{fid:t.fid,registrationStatus:0}:t}function sO(t){return t.registrationStatus===1&&t.registrationTime+Iw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO({appConfig:t,heartbeatServiceProvider:e},n){const i=oO(t,n),s=jR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:kw,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Dw(()=>fetch(i,a));if(l.ok){const c=await l.json();return Ow(c)}else throw await Nw("Generate Auth Token",l)}function oO(t,{fid:e}){return`${Rw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t,e=!1){let n;const i=await Yl(t.appConfig,r=>{if(!Vw(r))throw cs.create("not-registered");const o=r.authToken;if(!e&&cO(o))return r;if(o.requestStatus===1)return n=aO(t,e),r;{if(!navigator.onLine)throw cs.create("app-offline");const a=dO(r);return n=lO(t,a),a}});return n?await n:i.authToken}async function aO(t,e){let n=await Dm(t.appConfig);for(;n.authToken.requestStatus===1;)await Lw(100),n=await Dm(t.appConfig);const i=n.authToken;return i.requestStatus===0?Kf(t,e):i}function Dm(t){return Yl(t,e=>{if(!Vw(e))throw cs.create("not-registered");const n=e.authToken;return fO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lO(t,e){try{const n=await rO(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await tl(t.appConfig,i),n}catch(n){if(Aw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Uw(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tl(t.appConfig,i)}throw n}}function Vw(t){return t!==void 0&&t.registrationStatus===2}function cO(t){return t.requestStatus===2&&!uO(t)}function uO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FR}function dO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function fO(t){return t.requestStatus===1&&t.requestTime+Iw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t){const e=t,{installationEntry:n,registrationPromise:i}=await Gf(e);return i?i.catch(console.error):Kf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e=!1){const n=t;return await mO(n),(await Kf(n,e)).token}async function mO(t){const{registrationPromise:e}=await Gf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){if(!t||!t.options)throw Fc("App Configuration");if(!t.name)throw Fc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fc(t){return cs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="installations",vO="installations-internal",_O=t=>{const e=t.getProvider("app").getImmediate(),n=gO(e),i=sr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},yO=t=>{const e=t.getProvider("app").getImmediate(),n=sr(e,Hw).getImmediate();return{getId:()=>hO(n),getToken:s=>pO(n,s)}};function wO(){on(new Yt(Hw,_O,"PUBLIC")),on(new Yt(vO,yO,"PRIVATE"))}wO();qt(xw,zf);qt(xw,zf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="/firebase-messaging-sw.js",SO="/firebase-cloud-messaging-push-scope",Ww="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",EO="https://fcmregistrations.googleapis.com/v1",zw="google.c.a.c_id",TO="google.c.a.c_l",CO="google.c.a.ts",xO="google.c.a.e",Lm=1e4;var Fm;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Fm||(Fm={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var _o;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(_o||(_o={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function IO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),s=new Uint8Array(i.length);for(let r=0;r<i.length;++r)s[r]=i.charCodeAt(r);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="fcm_token_details_db",kO=5,$m="fcm_token_object_Store";async function PO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes($c))return null;let e=null;return(await ir($c,kO,{upgrade:async(i,s,r,o)=>{var a;if(s<2||!i.objectStoreNames.contains($m))return;const l=o.objectStore($m),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Ln(u.vapidKey)}}}else if(s===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ln(u.auth),p256dh:Ln(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ln(u.vapidKey)}}}else if(s===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ln(u.auth),p256dh:Ln(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ln(u.vapidKey)}}}}}})).close(),await Ms($c),await Ms("fcm_vapid_details_db"),await Ms("undefined"),AO(e)?e:null}function AO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebase-messaging-database",OO=1,yo="firebase-messaging-store";let Bc=null;function qw(){return Bc||(Bc=ir(RO,OO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yo)}}})),Bc}async function NO(t){const e=Gw(t),i=await(await qw()).transaction(yo).objectStore(yo).get(e);if(i)return i;{const s=await PO(t.appConfig.senderId);if(s)return await Yf(t,s),s}}async function Yf(t,e){const n=Gw(t),s=(await qw()).transaction(yo,"readwrite");return await s.objectStore(yo).put(e,n),await s.done,e}function Gw({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Nt=new Oi("messaging","Messaging",MO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){const n=await Jf(t),i=Kw(e),s={method:"POST",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(Xf(t.appConfig),s)).json()}catch(o){throw Nt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Nt.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Nt.create("token-subscribe-no-token");return r.token}async function LO(t,e){const n=await Jf(t),i=Kw(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(`${Xf(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Nt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Nt.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Nt.create("token-update-no-token");return r.token}async function FO(t,e){const i={method:"DELETE",headers:await Jf(t)};try{const r=await(await fetch(`${Xf(t.appConfig)}/${e}`,i)).json();if(r.error){const o=r.error.message;throw Nt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Nt.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Xf({projectId:t}){return`${EO}/projects/${t}/registrations`}async function Jf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Kw({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const s={web:{endpoint:n,auth:e,p256dh:t}};return i!==Ww&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=7*24*60*60*1e3;async function BO(t){const e=await jO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ln(e.getKey("auth")),p256dh:Ln(e.getKey("p256dh"))},i=await NO(t.firebaseDependencies);if(i){if(VO(i.subscriptionOptions,n))return Date.now()>=i.createTime+$O?UO(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await FO(t.firebaseDependencies,i.token)}catch(s){console.warn(s)}return Bm(t.firebaseDependencies,n)}else return Bm(t.firebaseDependencies,n)}async function UO(t,e){try{const n=await LO(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Yf(t.firebaseDependencies,i),n}catch(n){throw n}}async function Bm(t,e){const i={token:await DO(t,e),createTime:Date.now(),subscriptionOptions:e};return await Yf(t,i),i.token}async function jO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:IO(e)})}function VO(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,s=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&i&&s&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return HO(e,t),WO(e,t),zO(e,t),e}function HO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const s=e.notification.image;s&&(t.notification.image=s);const r=e.notification.icon;r&&(t.notification.icon=r)}function WO(t,e){e.data&&(t.data=e.data)}function zO(t,e){var n,i,s,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&s!==void 0?s:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){return typeof t=="object"&&!!t&&zw in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){if(!t||!t.options)throw Uc("App Configuration Object");if(!t.name)throw Uc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Uc(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Uc(t){return Nt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KO=class{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=GO(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t){try{t.swRegistration=await navigator.serviceWorker.register(bO,{scope:SO}),t.swRegistration.update().catch(()=>{}),await XO(t.swRegistration)}catch(e){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function XO(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${Lm} ms`)),Lm),s=t.installing||t.waiting;t.active?(clearTimeout(i),e()):s?s.onstatechange=r=>{var o;((o=r.target)===null||o===void 0?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){if(!e&&!t.swRegistration&&await YO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Ww)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(t,e){if(!navigator)throw Nt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Nt.create("permission-blocked");return await QO(t,e==null?void 0:e.vapidKey),await JO(t,e==null?void 0:e.serviceWorkerRegistration),BO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,n){const i=eN(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[zw],message_name:n[TO],message_time:n[CO],message_device_time:Math.floor(Date.now()/1e3)})}function eN(t){switch(t){case _o.NOTIFICATION_CLICKED:return"notification_open";case _o.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===_o.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Um(n)):t.onMessageHandler.next(Um(n)));const i=n.data;qO(i)&&i[xO]==="1"&&await ZO(t,n.messageType,i)}const jm="@firebase/messaging",Vm="0.12.15";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=t=>{const e=new KO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>tN(e,n)),e},iN=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>Yw(e,i)}};function sN(){on(new Yt("messaging",nN,"PUBLIC")),on(new Yt("messaging-internal",iN,"PRIVATE")),qt(jm,Vm),qt(jm,Vm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){if(!navigator)throw Nt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function oN(t,e){return t=st(t),Yw(t,e)}function aN(t,e){return t=st(t),rN(t,e)}sN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lN="https://fcmregistrations.googleapis.com/v1",Jw="FCM_MSG",cN="google.c.a.c_id",uN=3,dN=1;var nl;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(nl||(nl={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var il;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(il||(il={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fN(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),s=new Uint8Array(i.length);for(let r=0;r<i.length;++r)s[r]=i.charCodeAt(r);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="fcm_token_details_db",hN=5,Hm="fcm_token_object_Store";async function pN(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(jc))return null;let e=null;return(await ir(jc,hN,{upgrade:async(i,s,r,o)=>{var a;if(s<2||!i.objectStoreNames.contains(Hm))return;const l=o.objectStore(Hm),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Fn(u.vapidKey)}}}else if(s===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Fn(u.auth),p256dh:Fn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Fn(u.vapidKey)}}}else if(s===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Fn(u.auth),p256dh:Fn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Fn(u.vapidKey)}}}}}})).close(),await Ms(jc),await Ms("fcm_vapid_details_db"),await Ms("undefined"),mN(e)?e:null}function mN(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-messaging-database",vN=1,ds="firebase-messaging-store";let Vc=null;function Qf(){return Vc||(Vc=ir(gN,vN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ds)}}})),Vc}async function Zf(t){const e=th(t),i=await(await Qf()).transaction(ds).objectStore(ds).get(e);if(i)return i;{const s=await pN(t.appConfig.senderId);if(s)return await eh(t,s),s}}async function eh(t,e){const n=th(t),s=(await Qf()).transaction(ds,"readwrite");return await s.objectStore(ds).put(e,n),await s.done,e}async function _N(t){const e=th(t),i=(await Qf()).transaction(ds,"readwrite");await i.objectStore(ds).delete(e),await i.done}function th({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},nn=new Oi("messaging","Messaging",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e){const n=await ih(t),i=Zw(e),s={method:"POST",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(nh(t.appConfig),s)).json()}catch(o){throw nn.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw nn.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw nn.create("token-subscribe-no-token");return r.token}async function bN(t,e){const n=await ih(t),i=Zw(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(`${nh(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw nn.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw nn.create("token-update-failed",{errorInfo:o})}if(!r.token)throw nn.create("token-update-no-token");return r.token}async function Qw(t,e){const i={method:"DELETE",headers:await ih(t)};try{const r=await(await fetch(`${nh(t.appConfig)}/${e}`,i)).json();if(r.error){const o=r.error.message;throw nn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw nn.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function nh({projectId:t}){return`${lN}/projects/${t}/registrations`}async function ih({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Zw({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const s={web:{endpoint:n,auth:e,p256dh:t}};return i!==Xw&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=7*24*60*60*1e3;async function EN(t){const e=await CN(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Fn(e.getKey("auth")),p256dh:Fn(e.getKey("p256dh"))},i=await Zf(t.firebaseDependencies);if(i){if(xN(i.subscriptionOptions,n))return Date.now()>=i.createTime+SN?TN(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await Qw(t.firebaseDependencies,i.token)}catch(s){console.warn(s)}return zm(t.firebaseDependencies,n)}else return zm(t.firebaseDependencies,n)}async function Wm(t){const e=await Zf(t.firebaseDependencies);e&&(await Qw(t.firebaseDependencies,e.token),await _N(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function TN(t,e){try{const n=await bN(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await eh(t.firebaseDependencies,i),n}catch(n){throw n}}async function zm(t,e){const i={token:await wN(t,e),createTime:Date.now(),subscriptionOptions:e};return await eh(t,i),i.token}async function CN(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fN(e)})}function xN(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,s=e.auth===t.auth,r=e.p256dh===t.p256dh;return n&&i&&s&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return kN(e,t),PN(e,t),AN(e,t),e}function kN(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const s=e.notification.image;s&&(t.notification.image=s);const r=e.notification.icon;r&&(t.notification.icon=r)}function PN(t,e){e.data&&(t.data=e.data)}function AN(t,e){var n,i,s,r,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&s!==void 0?s:(r=e.notification)===null||r===void 0?void 0:r.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){return typeof t=="object"&&!!t&&cN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){return new Promise(e=>{setTimeout(e,t)})}async function NN(t,e){const n=MN(e,await t.firebaseDependencies.installations.getId());DN(t,n,e.productId)}function MN(t,e){var n,i;const s={};return t.from&&(s.project_number=t.from),t.fcmMessageId&&(s.message_id=t.fcmMessageId),s.instance_id=e,t.notification?s.message_type=nl.DISPLAY_NOTIFICATION.toString():s.message_type=nl.DATA_MESSAGE.toString(),s.sdk_platform=uN.toString(),s.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(s.collapse_key=t.collapse_key),s.event=dN.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(s.analytics_label=(i=t.fcmOptions)===null||i===void 0?void 0:i.analytics_label),s}function DN(t,e,n){const i={};i.event_time_ms=Math.floor(Date.now()).toString(),i.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(i.compliance_data=LN(n)),t.logEvents.push(i)}function LN(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e){var n,i;const{newSubscription:s}=t;if(!s){await Wm(e);return}const r=await Zf(e.firebaseDependencies);await Wm(e),e.vapidKey=(i=(n=r==null?void 0:r.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&i!==void 0?i:Xw,await EN(e)}async function $N(t,e){const n=jN(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await NN(e,n);const i=await eb();if(HN(i))return WN(i,n);if(n.notification&&await zN(UN(n)),!!e&&e.onBackgroundMessageHandler){const s=IN(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(s):e.onBackgroundMessageHandler.next(s)}}async function BN(t){var e,n;const i=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[Jw];if(i){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const s=qN(i);if(!s)return;const r=new URL(s,self.location.href),o=new URL(self.location.origin);if(r.host!==o.host)return;let a=await VN(r);if(a?a=await a.focus():(a=await self.clients.openWindow(s),await ON(3e3)),!!a)return i.messageType=il.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,a.postMessage(i)}function UN(t){const e=Object.assign({},t.notification);return e.data={[Jw]:t},e}function jN({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function VN(t){const e=await eb();for(const n of e){const i=new URL(n.url,self.location.href);if(t.host===i.host)return n}return null}function HN(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function WN(t,e){e.isFirebaseMessaging=!0,e.messageType=il.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function eb(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function zN(t){var e;const{actions:n}=t,{maxActions:i}=Notification;return n&&i&&n.length>i&&console.warn(`This browser only supports ${i} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function qN(t){var e,n,i;const s=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(i=t.notification)===null||i===void 0?void 0:i.click_action;return s||(RN(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){if(!t||!t.options)throw Hc("App Configuration Object");if(!t.name)throw Hc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Hc(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Hc(t){return nn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=GN(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=t=>{const e=new KN(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil($N(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(FN(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(BN(n))}),e};function XN(){on(new Yt("messaging-sw",YN,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(){return I_()&&await k_()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t=Jd()){return JN().then(e=>{if(!e)throw nn.create("unsupported-browser")},e=>{throw nn.create("indexed-db-unsupported")}),sr(st(t),"messaging-sw").getImmediate()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */XN();const In=xo("auth",()=>{const t=L(""),e=er(),n=L(!1),i=L(""),s=L(""),r=L(""),o=L({email:"",userId:"",name:""}),a=async(f,h)=>{const p=cn();switch(f){case"logout":bA(p).then(()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),i.value="",s.value="",o.value={email:"",userId:"",name:""},e.push("/login")}).catch(m=>console.log(m));break;case"login":n.value=!0;try{const{user:m}=await vA(p,h.email,h.password);m&&(i.value=m.accessToken,s.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;case"registration":try{const{user:m}=await gA(p,h.email,h.password);m&&(i.value=m.accessToken,s.value=m.refreshToken,localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken),await Tm(p.currentUser,{displayName:h.displayName}),c(p.currentUser))}catch(m){u(m.code)}finally{n.value=!1}break;default:throw new Error("Такого типа авторизации не существует")}},l=async f=>{n.value=!0;const h=cn();console.log(f),await Tm(h.currentUser,{displayName:f}).then(()=>{console.log("User name updated successfully"),o.value.name=f,localStorage.setItem("user",JSON.stringify(o.value))},p=>{console.log(p)}),n.value=!1},c=f=>{o.value={email:f.email,name:f.displayName,userId:f.uid},localStorage.setItem("user",JSON.stringify(o.value))},u=f=>{switch(console.log(f),f){case"auth/email-already-in-use":t.value="Такой email уже зарегистрирован";break;case"auth/weak-password":t.value="Слишком слабый пароль, минимум 6 символов";break;case"auth/operation-not-allowed":t.value="Регистрация недоступна";break;case"auth/too-many-requests":t.value="Слишком много попыток входа. Попробуйте позже";break;case"auth/user-not-found":t.value="Такой пользователь не найден";break;case"auth/wrong-password":t.value="Неверный логин или пароль";break;case"auth/invalid-credential":t.value="Неверный логин или пароль";break;case"auth/user-disabled":t.value="Учетная запись неактивна";break;default:t.value="Что-то пошло не так";break}throw t.value};return{auth:a,userInfo:o,accessToken:i,refreshToken:s,updateUser:l,error:t,loader:n,notificationToken:r,getTokenNotification:()=>{const f=localStorage.getItem("notificationToken"),h=QN();oN(h,{vapidKey:"BPLWoA5EryQNWtQIwl6EnJjvpufIc4h2QlIc6YuvB3TGmwB-whOjddQLHS9afM6-0J62JvQQ8U7KkdE6PUATyBk"}).then(p=>{p!==f?(r.value=p,localStorage.setItem("notificationToken",p)):(r.value=f,console.log("Token is not changed"))}).catch(p=>{console.log("An error occurred while retrieving token. ",p),r.value="",localStorage.removeItem("notificationToken")}),aN(h,p=>{console.log("Message received. ",p)})}}}),Xt={__name:"Loading",props:{fullScreen:{type:Boolean}},setup(t){return(e,n)=>(k(),j("div",{role:"status",class:Ie(["w-full flex justify-center items-center",t.fullScreen?"h-screen":"h-9"])},[(k(),j("svg",{"aria-hidden":"true",class:Ie(["inline text-gray-500 animate-spin fill-orange-600",t.fullScreen?"w-16 h-16":"h-9 w-9"]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n[0]||(n[0]=[w("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1),w("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)]),2)),n[1]||(n[1]=w("span",{class:"sr-only"},"Loading...",-1))],2))}},ZN={class:"mt-2"},eM={__name:"App",setup(t){const e=In();er();const n=J(()=>e.accessToken);L(localStorage.getItem("notificationToken")?localStorage.getItem("notificationToken"):"");const i=cn(),s=L(!0),r=()=>{En(i,o=>{o||e.auth("logout")}),e.accessToken=localStorage.getItem("accessToken"),e.notificationToken=localStorage.getItem("notificationToken"),e.refreshToken=localStorage.getItem("refreshToken"),e.userInfo=JSON.parse(localStorage.getItem("user"))};return Ae(()=>{r(),s.value=!1}),(o,a)=>{const l=Kt("RouterView");return k(),j(Oe,null,[mt(M(DR,null,null,512),[[zn,n.value]]),w("main",ZN,[M(l)])],64)}}};function tb(t,e){return function(){return t.apply(e,arguments)}}const{toString:tM}=Object.prototype,{getPrototypeOf:sh}=Object,Xl=(t=>e=>{const n=tM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),un=t=>(t=t.toLowerCase(),e=>Xl(e)===t),Jl=t=>e=>typeof e===t,{isArray:dr}=Array,wo=Jl("undefined");function nM(t){return t!==null&&!wo(t)&&t.constructor!==null&&!wo(t.constructor)&&Ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nb=un("ArrayBuffer");function iM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nb(t.buffer),e}const sM=Jl("string"),Ut=Jl("function"),ib=Jl("number"),Ql=t=>t!==null&&typeof t=="object",rM=t=>t===!0||t===!1,ha=t=>{if(Xl(t)!=="object")return!1;const e=sh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oM=un("Date"),aM=un("File"),lM=un("Blob"),cM=un("FileList"),uM=t=>Ql(t)&&Ut(t.pipe),dM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ut(t.append)&&((e=Xl(t))==="formdata"||e==="object"&&Ut(t.toString)&&t.toString()==="[object FormData]"))},fM=un("URLSearchParams"),[hM,pM,mM,gM]=["ReadableStream","Request","Response","Headers"].map(un),vM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),dr(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function sb(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rb=t=>!wo(t)&&t!==zi;function ed(){const{caseless:t}=rb(this)&&this||{},e={},n=(i,s)=>{const r=t&&sb(e,s)||s;ha(e[r])&&ha(i)?e[r]=ed(e[r],i):ha(i)?e[r]=ed({},i):dr(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Lo(arguments[i],n);return e}const _M=(t,e,n,{allOwnKeys:i}={})=>(Lo(e,(s,r)=>{n&&Ut(s)?t[r]=tb(s,n):t[r]=s},{allOwnKeys:i}),t),yM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wM=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},bM=(t,e,n,i)=>{let s,r,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&sh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},SM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},EM=t=>{if(!t)return null;if(dr(t))return t;let e=t.length;if(!ib(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},TM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sh(Uint8Array)),CM=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},xM=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},IM=un("HTMLFormElement"),kM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),qm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),PM=un("RegExp"),ob=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Lo(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},AM=t=>{ob(t,(e,n)=>{if(Ut(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ut(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RM=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return dr(t)?i(t):i(String(t).split(e)),n},OM=()=>{},NM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Wc="abcdefghijklmnopqrstuvwxyz",Gm="0123456789",ab={DIGIT:Gm,ALPHA:Wc,ALPHA_DIGIT:Wc+Wc.toUpperCase()+Gm},MM=(t=16,e=ab.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function DM(t){return!!(t&&Ut(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const LM=t=>{const e=new Array(10),n=(i,s)=>{if(Ql(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=dr(i)?[]:{};return Lo(i,(o,a)=>{const l=n(o,s+1);!wo(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return n(t,0)},FM=un("AsyncFunction"),$M=t=>t&&(Ql(t)||Ut(t))&&Ut(t.then)&&Ut(t.catch),lb=((t,e)=>t?setImmediate:e?((n,i)=>(zi.addEventListener("message",({source:s,data:r})=>{s===zi&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),zi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ut(zi.postMessage)),BM=typeof queueMicrotask<"u"?queueMicrotask.bind(zi):typeof process<"u"&&process.nextTick||lb,N={isArray:dr,isArrayBuffer:nb,isBuffer:nM,isFormData:dM,isArrayBufferView:iM,isString:sM,isNumber:ib,isBoolean:rM,isObject:Ql,isPlainObject:ha,isReadableStream:hM,isRequest:pM,isResponse:mM,isHeaders:gM,isUndefined:wo,isDate:oM,isFile:aM,isBlob:lM,isRegExp:PM,isFunction:Ut,isStream:uM,isURLSearchParams:fM,isTypedArray:TM,isFileList:cM,forEach:Lo,merge:ed,extend:_M,trim:vM,stripBOM:yM,inherits:wM,toFlatObject:bM,kindOf:Xl,kindOfTest:un,endsWith:SM,toArray:EM,forEachEntry:CM,matchAll:xM,isHTMLForm:IM,hasOwnProperty:qm,hasOwnProp:qm,reduceDescriptors:ob,freezeMethods:AM,toObjectSet:RM,toCamelCase:kM,noop:OM,toFiniteNumber:NM,findKey:sb,global:zi,isContextDefined:rb,ALPHABET:ab,generateString:MM,isSpecCompliantForm:DM,toJSONObject:LM,isAsyncFn:FM,isThenable:$M,setImmediate:lb,asap:BM};function ve(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}N.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const cb=ve.prototype,ub={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ub[t]={value:t}});Object.defineProperties(ve,ub);Object.defineProperty(cb,"isAxiosError",{value:!0});ve.from=(t,e,n,i,s,r)=>{const o=Object.create(cb);return N.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,t.message,e,n,i,s),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const UM=null;function td(t){return N.isPlainObject(t)||N.isArray(t)}function db(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Km(t,e,n){return t?t.concat(e).map(function(s,r){return s=db(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function jM(t){return N.isArray(t)&&!t.some(td)}const VM=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function Zl(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!N.isUndefined(y[m])});const i=n.metaTokens,s=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(N.isDate(p))return p.toISOString();if(!l&&N.isBlob(p))throw new ve("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(p)||N.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(N.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(N.isArray(p)&&jM(p)||(N.isFileList(p)||N.endsWith(m,"[]"))&&(v=N.toArray(p)))return m=db(m),v.forEach(function(g,b){!(N.isUndefined(g)||g===null)&&e.append(o===!0?Km([m],b,r):o===null?m:m+"[]",c(g))}),!1}return td(p)?!0:(e.append(Km(y,m,r),c(p)),!1)}const d=[],f=Object.assign(VM,{defaultVisitor:u,convertValue:c,isVisitable:td});function h(p,m){if(!N.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),N.forEach(p,function(v,_){(!(N.isUndefined(v)||v===null)&&s.call(e,v,N.isString(_)?_.trim():_,m,f))===!0&&h(v,m?m.concat(_):[_])}),d.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Ym(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function rh(t,e){this._pairs=[],t&&Zl(t,this,e)}const fb=rh.prototype;fb.append=function(e,n){this._pairs.push([e,n])};fb.toString=function(e){const n=e?function(i){return e.call(this,i,Ym)}:Ym;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function HM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hb(t,e,n){if(!e)return t;const i=n&&n.encode||HM;N.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=N.isURLSearchParams(e)?e.toString():new rh(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Xm{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(i){i!==null&&e(i)})}}const pb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WM=typeof URLSearchParams<"u"?URLSearchParams:rh,zM=typeof FormData<"u"?FormData:null,qM=typeof Blob<"u"?Blob:null,GM={isBrowser:!0,classes:{URLSearchParams:WM,FormData:zM,Blob:qM},protocols:["http","https","file","blob","url","data"]},oh=typeof window<"u"&&typeof document<"u",nd=typeof navigator=="object"&&navigator||void 0,KM=oh&&(!nd||["ReactNative","NativeScript","NS"].indexOf(nd.product)<0),YM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XM=oh&&window.location.href||"http://localhost",JM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oh,hasStandardBrowserEnv:KM,hasStandardBrowserWebWorkerEnv:YM,navigator:nd,origin:XM},Symbol.toStringTag,{value:"Module"})),yt={...JM,...GM};function QM(t,e){return Zl(t,new yt.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return yt.isNode&&N.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function ZM(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eD(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function mb(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&N.isArray(s)?s.length:o,l?(N.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!N.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&N.isArray(s[o])&&(s[o]=eD(s[o])),!a)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(i,s)=>{e(ZM(i),s,n,0)}),n}return null}function tD(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(t)}const Fo={transitional:pb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=N.isObject(e);if(r&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return s?JSON.stringify(mb(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return QM(e,this.formSerializer).toString();if((a=N.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),tD(e)):e}],transformResponse:[function(e){const n=this.transitional||Fo.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{Fo.headers[t]={}});const nD=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iD=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&nD[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Jm=Symbol("internals");function xr(t){return t&&String(t).trim().toLowerCase()}function pa(t){return t===!1||t==null?t:N.isArray(t)?t.map(pa):String(t)}function sD(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const rD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zc(t,e,n,i,s){if(N.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!N.isString(e)){if(N.isString(i))return e.indexOf(i)!==-1;if(N.isRegExp(i))return i.test(e)}}function oD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function aD(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Mt{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(a,l,c){const u=xr(l);if(!u)throw new Error("header name must be a non-empty string");const d=N.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=pa(a))}const o=(a,l)=>N.forEach(a,(c,u)=>r(c,u,l));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(N.isString(e)&&(e=e.trim())&&!rD(e))o(iD(e),n);else if(N.isHeaders(e))for(const[a,l]of e.entries())r(l,a,i);else e!=null&&r(n,e,i);return this}get(e,n){if(e=xr(e),e){const i=N.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return sD(s);if(N.isFunction(n))return n.call(this,s,i);if(N.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xr(e),e){const i=N.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||zc(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=xr(o),o){const a=N.findKey(i,o);a&&(!n||zc(i,i[a],a,n))&&(delete i[a],s=!0)}}return N.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||zc(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return N.forEach(this,(s,r)=>{const o=N.findKey(i,r);if(o){n[o]=pa(s),delete n[r];return}const a=e?oD(r):String(r).trim();a!==r&&delete n[r],n[a]=pa(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&N.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Jm]=this[Jm]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=xr(o);i[a]||(aD(s,o),i[a]=!0)}return N.isArray(e)?e.forEach(r):r(e),this}}Mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Mt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});N.freezeMethods(Mt);function qc(t,e){const n=this||Fo,i=e||n,s=Mt.from(i.headers);let r=i.data;return N.forEach(t,function(a){r=a.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function gb(t){return!!(t&&t.__CANCEL__)}function fr(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(fr,ve,{__CANCEL__:!0});function vb(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cD(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),n[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function uD(t,e){let n=0,i=1e3/e,s,r;const o=(c,u=Date.now())=>{n=u,s=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?o(c,u):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},i-d)))},()=>s&&o(s)]}const sl=(t,e,n=3)=>{let i=0;const s=cD(50,250);return uD(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,c=s(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Qm=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Zm=t=>(...e)=>N.asap(()=>t(...e)),dD=yt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yt.origin),yt.navigator&&/(msie|trident)/i.test(yt.navigator.userAgent)):()=>!0,fD=yt.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const o=[t+"="+encodeURIComponent(e)];N.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),N.isString(i)&&o.push("path="+i),N.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pD(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _b(t,e){return t&&!hD(e)?pD(t,e):e}const eg=t=>t instanceof Mt?{...t}:t;function fs(t,e){e=e||{};const n={};function i(c,u,d,f){return N.isPlainObject(c)&&N.isPlainObject(u)?N.merge.call({caseless:f},c,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function s(c,u,d,f){if(N.isUndefined(u)){if(!N.isUndefined(c))return i(void 0,c,d,f)}else return i(c,u,d,f)}function r(c,u){if(!N.isUndefined(u))return i(void 0,u)}function o(c,u){if(N.isUndefined(u)){if(!N.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>s(eg(c),eg(u),d,!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||s,f=d(t[u],e[u],u);N.isUndefined(f)&&d!==a||(n[u]=f)}),n}const yb=t=>{const e=fs({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=Mt.from(o),e.url=hb(_b(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(N.isFormData(n)){if(yt.hasStandardBrowserEnv||yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(yt.hasStandardBrowserEnv&&(i&&N.isFunction(i)&&(i=i(e)),i||i!==!1&&dD(e.url))){const c=s&&r&&fD.read(r);c&&o.set(s,c)}return e},mD=typeof XMLHttpRequest<"u",gD=mD&&function(t){return new Promise(function(n,i){const s=yb(t);let r=s.data;const o=Mt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,h,p;function m(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function v(){if(!y)return;const g=Mt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};vb(function(F){n(F),m()},function(F){i(F),m()},T),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(i(new ve("Request aborted",ve.ECONNABORTED,t,y)),y=null)},y.onerror=function(){i(new ve("Network Error",ve.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||pb;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new ve(b,T.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&N.forEach(o.toJSON(),function(b,T){y.setRequestHeader(T,b)}),N.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),c&&([f,p]=sl(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=sl(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(u=g=>{y&&(i(!g||g.type?new fr(null,t,y):g),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=lD(s.url);if(_&&yt.protocols.indexOf(_)===-1){i(new ve("Unsupported protocol "+_+":",ve.ERR_BAD_REQUEST,t));return}y.send(r||null)})},vD=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof ve?u:new fr(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>N.asap(a),l}},_D=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},yD=async function*(t,e){for await(const n of wD(t))yield*_D(n,e)},wD=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},tg=(t,e,n,i)=>{const s=yD(t,e);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},ec=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wb=ec&&typeof ReadableStream=="function",bD=ec&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},SD=wb&&bb(()=>{let t=!1;const e=new Request(yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ng=64*1024,id=wb&&bb(()=>N.isReadableStream(new Response("").body)),rl={stream:id&&(t=>t.body)};ec&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rl[e]&&(rl[e]=N.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new ve(`Response type '${e}' is not supported`,ve.ERR_NOT_SUPPORT,i)})})})(new Response);const ED=async t=>{if(t==null)return 0;if(N.isBlob(t))return t.size;if(N.isSpecCompliantForm(t))return(await new Request(yt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(N.isArrayBufferView(t)||N.isArrayBuffer(t))return t.byteLength;if(N.isURLSearchParams(t)&&(t=t+""),N.isString(t))return(await bD(t)).byteLength},TD=async(t,e)=>{const n=N.toFiniteNumber(t.getContentLength());return n??ED(e)},CD=ec&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=yb(t);c=c?(c+"").toLowerCase():"text";let h=vD([s,r&&r.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&SD&&n!=="get"&&n!=="head"&&(y=await TD(u,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),A;if(N.isFormData(i)&&(A=T.headers.get("content-type"))&&u.setContentType(A),T.body){const[F,x]=Qm(y,sl(Zm(l)));i=tg(T.body,ng,F,x)}}N.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:v?d:void 0});let _=await fetch(p);const g=id&&(c==="stream"||c==="response");if(id&&(a||g&&m)){const T={};["status","statusText","headers"].forEach(C=>{T[C]=_[C]});const A=N.toFiniteNumber(_.headers.get("content-length")),[F,x]=a&&Qm(A,sl(Zm(a),!0))||[];_=new Response(tg(_.body,ng,F,()=>{x&&x(),m&&m()}),T)}c=c||"text";let b=await rl[N.findKey(rl,c)||"text"](_,t);return!g&&m&&m(),await new Promise((T,A)=>{vb(T,A,{data:b,headers:Mt.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,p),{cause:v.cause||v}):ve.from(v,v&&v.code,t,p)}}),sd={http:UM,xhr:gD,fetch:CD};N.forEach(sd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ig=t=>`- ${t}`,xD=t=>N.isFunction(t)||t===null||t===!1,Sb={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let o;if(i=n,!xD(n)&&(i=sd[(o=String(n)).toLowerCase()],i===void 0))throw new ve(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(ig).join(`
`):" "+ig(r[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:sd};function Gc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fr(null,t)}function sg(t){return Gc(t),t.headers=Mt.from(t.headers),t.data=qc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Sb.getAdapter(t.adapter||Fo.adapter)(t).then(function(i){return Gc(t),i.data=qc.call(t,t.transformResponse,i),i.headers=Mt.from(i.headers),i},function(i){return gb(i)||(Gc(t),i&&i.response&&(i.response.data=qc.call(t,t.transformResponse,i.response),i.response.headers=Mt.from(i.response.headers))),Promise.reject(i)})}const Eb="1.7.9",tc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tc[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const rg={};tc.transitional=function(e,n,i){function s(r,o){return"[Axios v"+Eb+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new ve(s(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!rg[o]&&(rg[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};tc.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function ID(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new ve("option "+r+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+r,ve.ERR_BAD_OPTION)}}const ma={assertOptions:ID,validators:tc},mn=ma.validators;class Ji{constructor(e){this.defaults=e,this.interceptors={request:new Xm,response:new Xm}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fs(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&ma.assertOptions(i,{silentJSONParsing:mn.transitional(mn.boolean),forcedJSONParsing:mn.transitional(mn.boolean),clarifyTimeoutError:mn.transitional(mn.boolean)},!1),s!=null&&(N.isFunction(s)?n.paramsSerializer={serialize:s}:ma.assertOptions(s,{encode:mn.function,serialize:mn.function},!0)),ma.assertOptions(n,{baseUrl:mn.spelling("baseURL"),withXsrfToken:mn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&N.merge(r.common,r[n.method]);r&&N.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Mt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[sg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=sg.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=fs(this.defaults,e);const n=_b(e.baseURL,e.url);return hb(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){Ji.prototype[e]=function(n,i){return this.request(fs(i||{},{method:e,url:n,data:(i||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(fs(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ji.prototype[e]=n(),Ji.prototype[e+"Form"]=n(!0)});class ah{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new fr(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ah(function(s){e=s}),cancel:e}}}function kD(t){return function(n){return t.apply(null,n)}}function PD(t){return N.isObject(t)&&t.isAxiosError===!0}const rd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rd).forEach(([t,e])=>{rd[e]=t});function Tb(t){const e=new Ji(t),n=tb(Ji.prototype.request,e);return N.extend(n,Ji.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Tb(fs(t,s))},n}const qe=Tb(Fo);qe.Axios=Ji;qe.CanceledError=fr;qe.CancelToken=ah;qe.isCancel=gb;qe.VERSION=Eb;qe.toFormData=Zl;qe.AxiosError=ve;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=kD;qe.isAxiosError=PD;qe.mergeConfig=fs;qe.AxiosHeaders=Mt;qe.formToJSON=t=>mb(N.isHTMLForm(t)?new FormData(t):t);qe.getAdapter=Sb.getAdapter;qe.HttpStatusCode=rd;qe.default=qe;const AD="/right_arrow.svg",$o={__name:"BackLink",setup(t){const e=er(),n=()=>e.go(-1);return(i,s)=>(k(),j("div",{onClick:n,class:"cursor-pointer h-8 inline-block p-2 rounded-md"},s[0]||(s[0]=[w("img",{src:AD,alt:"back",class:"rotate-180 w-4"},null,-1)])))}};function og(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function lh(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:og(e[n])&&og(t[n])&&Object.keys(e[n]).length>0&&lh(t[n],e[n])})}const Cb={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ws(){const t=typeof document<"u"?document:{};return lh(t,Cb),t}const RD={document:Cb,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function jt(){const t=typeof window<"u"?window:{};return lh(t,RD),t}function OD(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function ND(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function od(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Qi(){return Date.now()}function MD(t){const e=jt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function DD(t,e){e===void 0&&(e="x");const n=jt();let i,s,r;const o=MD(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(s==="none"?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function Yo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function LD(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ft(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!LD(i)){const s=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Yo(t[a])&&Yo(i[a])?i[a].__swiper__?t[a]=i[a]:Ft(t[a],i[a]):!Yo(t[a])&&Yo(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:Ft(t[a],i[a])):t[a]=i[a])}}}return t}function Xo(t,e,n){t.style.setProperty(e,n)}function xb(t){let{swiper:e,targetPosition:n,side:i}=t;const s=jt(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[i]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:p})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function bn(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function FD(t,e){var i,s;const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...((i=r.shadowRoot)==null?void 0:i.children)||[],...((s=r.assignedElements)==null?void 0:s.call(r))||[])}}function $D(t,e){let n=e.contains(t);return!n&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=FD(t,e))),n}function ol(t){try{console.warn(t);return}catch{}}function al(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:OD(e)),n}function BD(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function UD(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function vi(t,e){return jt().getComputedStyle(t,null).getPropertyValue(e)}function ll(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Ib(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function Kc(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function ad(t,e,n){const i=jt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function at(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function kb(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(s=>{if(!n[s]&&n.auto===!0){let r=bn(t.el,`.${i[s]}`)[0];r||(r=al("div",i[s]),r.className=i[s],t.el.append(r)),n[s]=r,e[s]=r}}),n}function jD(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p)||e.hostEl.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const y=e.params.navigation;p=at(p),p.forEach(v=>{v&&(v.classList[m?"add":"remove"](...y.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=m),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=kb(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),y=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:y}),m=at(m),y=at(y);const v=(_,g)=>{_&&_.addEventListener("click",g==="next"?c:l),!e.enabled&&_&&_.classList.add(...p.lockClass.split(" "))};m.forEach(_=>v(_,"next")),y.forEach(_=>v(_,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=at(p),m=at(m);const y=(v,_)=>{v.removeEventListener("click",_==="next"?c:l),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(v=>y(v,"next")),m.forEach(v=>y(v,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?h():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=at(p),m=at(m),e.enabled){a();return}[...p,...m].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),i("click",(p,m)=>{let{nextEl:y,prevEl:v}=e.navigation;y=at(y),v=at(v);const _=m.target;let g=v.includes(_)||y.includes(_);if(e.isElement&&!g){const b=m.path||m.composedPath&&m.composedPath();b&&(g=b.find(T=>y.includes(T)||v.includes(T)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let b;y.length?b=y[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(b=v[0].classList.contains(e.params.navigation.hiddenClass)),s(b===!0?"navigationShow":"navigationHide"),[...y,...v].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:a,init:u,destroy:d})}function Ir(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function VD(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(_,g){const{bulletActiveClass:b}=e.params.pagination;_&&(_=_[`${g==="prev"?"previous":"next"}ElementSibling`],_&&(_.classList.add(`${b}-${g}`),_=_[`${g==="prev"?"previous":"next"}ElementSibling`],_&&_.classList.add(`${b}-${g}-${g}`)))}function u(_,g,b){if(_=_%b,g=g%b,g===_+1)return"next";if(g===_-1)return"previous"}function d(_){const g=_.target.closest(Ir(e.params.pagination.bulletClass));if(!g)return;_.preventDefault();const b=ll(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===b)return;const T=u(e.realIndex,b,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(b)}else e.slideTo(b)}function f(){const _=e.rtl,g=e.params.pagination;if(l())return;let b=e.pagination.el;b=at(b);let T,A;const F=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,x=e.params.loop?Math.ceil(F/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,T=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let R,V,z;if(g.dynamicBullets&&(o=ad(C[0],e.isHorizontal()?"width":"height"),b.forEach(H=>{H.style[e.isHorizontal()?"width":"height"]=`${o*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&A!==void 0&&(a+=T-(A||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(T-a,0),V=R+(Math.min(C.length,g.dynamicMainBullets)-1),z=(V+R)/2),C.forEach(H=>{const ne=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${g.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();H.classList.remove(...ne)}),b.length>1)C.forEach(H=>{const ne=ll(H);ne===T?H.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&H.setAttribute("part","bullet"),g.dynamicBullets&&(ne>=R&&ne<=V&&H.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),ne===R&&c(H,"prev"),ne===V&&c(H,"next"))});else{const H=C[T];if(H&&H.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&C.forEach((ne,re)=>{ne.setAttribute("part",re===T?"bullet-active":"bullet")}),g.dynamicBullets){const ne=C[R],re=C[V];for(let oe=R;oe<=V;oe+=1)C[oe]&&C[oe].classList.add(...`${g.bulletActiveClass}-main`.split(" "));c(ne,"prev"),c(re,"next")}}if(g.dynamicBullets){const H=Math.min(C.length,g.dynamicMainBullets+4),ne=(o*H-o)/2-z*o,re=_?"right":"left";C.forEach(oe=>{oe.style[e.isHorizontal()?re:"top"]=`${ne}px`})}}b.forEach((C,R)=>{if(g.type==="fraction"&&(C.querySelectorAll(Ir(g.currentClass)).forEach(V=>{V.textContent=g.formatFractionCurrent(T+1)}),C.querySelectorAll(Ir(g.totalClass)).forEach(V=>{V.textContent=g.formatFractionTotal(x)})),g.type==="progressbar"){let V;g.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const z=(T+1)/x;let H=1,ne=1;V==="horizontal"?H=z:ne=z,C.querySelectorAll(Ir(g.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${H}) scaleY(${ne})`,re.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(C.innerHTML=g.renderCustom(e,T+1,x),R===0&&s("paginationRender",C)):(R===0&&s("paginationRender",C),s("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](g.lockClass)})}function h(){const _=e.params.pagination;if(l())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let b=e.pagination.el;b=at(b);let T="";if(_.type==="bullets"){let A=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>g&&(A=g);for(let F=0;F<A;F+=1)_.renderBullet?T+=_.renderBullet.call(e,F,_.bulletClass):T+=`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}_.type==="fraction"&&(_.renderFraction?T=_.renderFraction.call(e,_.currentClass,_.totalClass):T=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),_.type==="progressbar"&&(_.renderProgressbar?T=_.renderProgressbar.call(e,_.progressbarFillClass):T=`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],b.forEach(A=>{_.type!=="custom"&&(A.innerHTML=T||""),_.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(Ir(_.bulletClass)))}),_.type!=="custom"&&s("paginationRender",b[0])}function p(){e.params.pagination=kb(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let g;typeof _.el=="string"&&e.isElement&&(g=e.el.querySelector(_.el)),!g&&typeof _.el=="string"&&(g=[...document.querySelectorAll(_.el)]),g||(g=_.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof _.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(_.el)],g.length>1&&(g=g.find(b=>Ib(b,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=at(g),g.forEach(b=>{_.type==="bullets"&&_.clickable&&b.classList.add(...(_.clickableClass||"").split(" ")),b.classList.add(_.modifierClass+_.type),b.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(b.classList.add(`${_.modifierClass}${_.type}-dynamic`),a=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&b.classList.add(_.progressbarOppositeClass),_.clickable&&b.addEventListener("click",d),e.enabled||b.classList.add(_.lockClass)}))}function m(){const _=e.params.pagination;if(l())return;let g=e.pagination.el;g&&(g=at(g),g.forEach(b=>{b.classList.remove(_.hiddenClass),b.classList.remove(_.modifierClass+_.type),b.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&(b.classList.remove(...(_.clickableClass||"").split(" ")),b.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(b=>b.classList.remove(..._.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:g}=e.pagination;g=at(g),g.forEach(b=>{b.classList.remove(_.horizontalClass,_.verticalClass),b.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?v():(p(),h(),f())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),i("snapIndexChange",()=>{f()}),i("snapGridLengthChange",()=>{h(),f()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:_}=e.pagination;_&&(_=at(_),_.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{f()}),i("click",(_,g)=>{const b=g.target,T=at(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!b.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&b===e.navigation.nextEl||e.navigation.prevEl&&b===e.navigation.prevEl))return;const A=T[0].classList.contains(e.params.pagination.hiddenClass);s(A===!0?"paginationShow":"paginationHide"),T.forEach(F=>F.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=at(_),_.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=at(_),_.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:y,disable:v,render:h,update:f,init:p,destroy:m})}function Pb(t){let{swiper:e,extendParams:n,emit:i,once:s}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Qi()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,y=Qi()-p.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<h.length?e.slideTo(h.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(p.velocities.length>1){const x=p.velocities.pop(),C=p.velocities.pop(),R=x.position-C.position,V=x.time-C.time;e.velocity=R/V,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(V>150||Qi()-x.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let v=1e3*u.freeMode.momentumRatio;const _=e.velocity*v;let g=e.translate+_;f&&(g=-g);let b=!1,T;const A=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let F;if(g<e.maxTranslate())u.freeMode.momentumBounce?(g+e.maxTranslate()<-A&&(g=e.maxTranslate()-A),T=e.maxTranslate(),b=!0,p.allowMomentumBounce=!0):g=e.maxTranslate(),u.loop&&u.centeredSlides&&(F=!0);else if(g>e.minTranslate())u.freeMode.momentumBounce?(g-e.minTranslate()>A&&(g=e.minTranslate()+A),T=e.minTranslate(),b=!0,p.allowMomentumBounce=!0):g=e.minTranslate(),u.loop&&u.centeredSlides&&(F=!0);else if(u.freeMode.sticky){let x;for(let C=0;C<h.length;C+=1)if(h[C]>-g){x=C;break}Math.abs(h[x]-g)<Math.abs(h[x-1]-g)||e.swipeDirection==="next"?g=h[x]:g=h[x-1],g=-g}if(F&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?v=Math.abs((-g-e.translate)/e.velocity):v=Math.abs((g-e.translate)/e.velocity),u.freeMode.sticky){const x=Math.abs((f?-g:g)-e.translate),C=e.slidesSizesGrid[e.activeIndex];x<C?v=u.speed:x<2*C?v=u.speed*1.5:v=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&b?(e.updateProgress(T),e.setTransition(v),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Kc(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),Kc(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(g),e.setTransition(v),e.setTranslate(g),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Kc(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(g),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&i("_freeModeNoMomentumRelease");(!u.freeMode.momentum||y>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}let Yc;function HD(){const t=jt(),e=ws();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Ab(){return Yc||(Yc=HD()),Yc}let Xc;function WD(t){let{userAgent:e}=t===void 0?{}:t;const n=Ab(),i=jt(),s=i.navigator.platform,r=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=s==="Win32";let p=s==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Rb(t){return t===void 0&&(t={}),Xc||(Xc=WD(t)),Xc}let Jc;function zD(){const t=jt(),e=Rb();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=i(),o=r||s&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function qD(){return Jc||(Jc=zD()),Jc}function GD(t){let{swiper:e,on:n,emit:i}=t;const s=jt();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=s.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(y=>{let{contentBoxSize:v,contentRect:_,target:g}=y;g&&g!==e.el||(p=_?_.width:(v[0]||v).inlineSize,m=_?_.height:(v[0]||v).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&s.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",u)})}function KD(t){let{swiper:e,extendParams:n,on:i,emit:s}=t;const r=[],o=jt(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){s("observerUpdate",p[0]);return}const m=function(){s("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Ib(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var YD={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=n?"unshift":"push";return t.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(i,o)}return s.__emitterProxy=e,i.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[i].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),i=t):(e=r[0].events,n=r[0].data,i=r[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(i,n)})}),t}};function XD(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(vi(i,"padding-left")||0,10)-parseInt(vi(i,"padding-right")||0,10),n=n-parseInt(vi(i,"padding-top")||0,10)-parseInt(vi(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function JD(){const t=this;function e(R,V){return parseFloat(R.getPropertyValue(t.getDirectionLabel(V))||0)}const n=t.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=bn(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,_=t.slidesGrid.length;let g=n.spaceBetween,b=-m,T=0,A=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Xo(i,"--swiper-centered-offset-before",""),Xo(i,"--swiper-centered-offset-after",""));const F=n.grid&&n.grid.rows>1&&t.grid;F?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let x;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<d;R+=1){x=0;let V;if(u[R]&&(V=u[R]),F&&t.grid.updateSlide(R,V,u),!(u[R]&&vi(V,"display")==="none")){if(n.slidesPerView==="auto"){C&&(u[R].style[t.getDirectionLabel("width")]="");const z=getComputedStyle(V),H=V.style.transform,ne=V.style.webkitTransform;if(H&&(V.style.transform="none"),ne&&(V.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?ad(V,"width"):ad(V,"height");else{const re=e(z,"width"),oe=e(z,"padding-left"),ae=e(z,"padding-right"),ye=e(z,"margin-left"),ft=e(z,"margin-right"),ht=z.getPropertyValue("box-sizing");if(ht&&ht==="border-box")x=re+ye+ft;else{const{clientWidth:ge,offsetWidth:_e}=V;x=re+oe+ae+ye+ft+(_e-ge)}}H&&(V.style.transform=H),ne&&(V.style.webkitTransform=ne),n.roundLengths&&(x=Math.floor(x))}else x=(r-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),u[R]&&(u[R].style[t.getDirectionLabel("width")]=`${x}px`);u[R]&&(u[R].swiperSlideSize=x),p.push(x),n.centeredSlides?(b=b+x/2+T/2+g,T===0&&R!==0&&(b=b-r/2-g),R===0&&(b=b-r/2-g),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),A%n.slidesPerGroup===0&&f.push(b),h.push(b)):(n.roundLengths&&(b=Math.floor(b)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(b),h.push(b),b=b+x+g),t.virtualSize+=x+g,T=x,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),F&&t.grid.updateWrapperSize(x,f),!n.centeredSlides){const R=[];for(let V=0;V<f.length;V+=1){let z=f[V];n.roundLengths&&(z=Math.floor(z)),f[V]<=t.virtualSize-r&&R.push(z)}f=R,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const R=p[0]+g;if(n.slidesPerGroup>1){const V=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),z=R*n.slidesPerGroup;for(let H=0;H<V;H+=1)f.push(f[f.length-1]+z)}for(let V=0;V<t.virtual.slidesBefore+t.virtual.slidesAfter;V+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+R),h.push(h[h.length-1]+R),t.virtualSize+=R}if(f.length===0&&(f=[0]),g!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((V,z)=>!n.cssMode||n.loop?!0:z!==u.length-1).forEach(V=>{V.style[R]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;p.forEach(z=>{R+=z+(g||0)}),R-=g;const V=R>r?R-r:0;f=f.map(z=>z<=0?-m:z>V?V+y:z)}if(n.centerInsufficientSlides){let R=0;p.forEach(z=>{R+=z+(g||0)}),R-=g;const V=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+V<r){const z=(r-R-V)/2;f.forEach((H,ne)=>{f[ne]=H-z}),h.forEach((H,ne)=>{h[ne]=H+z})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Xo(i,"--swiper-centered-offset-before",`${-f[0]}px`),Xo(i,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const R=-t.snapGrid[0],V=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(z=>z+R),t.slidesGrid=t.slidesGrid.map(z=>z+V)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,V=t.el.classList.contains(R);d<=n.maxBackfaceHiddenSlides?V||t.el.classList.add(R):V&&t.el.classList.remove(R)}}function QD(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function ZD(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const ag=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function eL(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),ag(c,y,n.slideVisibleClass),ag(c,m,n.slideFullyVisibleClass),c.progress=s?-d:d,c.originalProgress=s?-f:f}}function tL(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(i===0)s=0,r=!0,o=!0;else{s=(t-e.minTranslate())/i;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||s<=0,o=d||s>=1,u&&(s=0),d&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const Qc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function nL(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:s}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>bn(i,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=s-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.find(d=>d.column===s),u=e.find(d=>d.column===s+1),c=e.find(d=>d.column===s-1)):l=e[s];l&&(o||(u=UD(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=BD(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Qc(d,d===l,n.slideActiveClass),Qc(d,d===u,n.slideNextClass),Qc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ga=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let s=i.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Zc=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},ld=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Zc(t,c)});return}const r=s+i-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<s||a>r)&&Zc(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(r+e,n-1);o+=1)o!==s&&(o>r||o<s)&&Zc(t,o)};function iL(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function sL(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=iL(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const h=Math.min(s.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(l);else if(d){const h=e.slides.find(m=>m.column===l);let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/s.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&ld(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function rL(t,e){const n=this,i=n.params;let s=t.closest(`.${i.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(s=a)});let r=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){r=!0,o=a;break}}if(s&&r)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var oL={updateSize:XD,updateSlides:JD,updateAutoHeight:QD,updateSlidesOffset:ZD,updateSlidesProgress:eL,updateProgress:tL,updateSlidesClasses:nL,updateActiveIndex:sL,updateClickedSlide:rL};function aL(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(n.virtualTranslate)return i?-s:s;if(n.cssMode)return s;let o=DD(r,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function lL(t,e){const n=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,s.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function cL(){return-this.snapGrid[0]}function uL(){return-this.snapGrid[this.snapGrid.length-1]}function dL(t,e,n,i,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(i&&t>l?u=l:i&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return xb({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var fL={getTranslate:aL,setTranslate:lL,minTranslate:cL,maxTranslate:uL,translateTo:dL};function hL(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Ob(t){let{swiper:e,runCallbacks:n,direction:i,step:s}=t;const{activeIndex:r,previousIndex:o}=e;let a=i;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${s}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function pL(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Ob({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function mL(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),Ob({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var gL={setTransition:hL,transitionStart:pL,transitionEnd:mL};function vL(t,e,n,i,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(!p&&!i&&!s||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const v=-l[y];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const A=-Math.floor(v*100),F=Math.floor(c[T]*100),x=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?A>=F&&A<x-(x-F)/2?o=T:A>=F&&A<x&&(o=T+1):A>=F&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?v>r.translate&&v>r.minTranslate():v<r.translate&&v<r.minTranslate())||!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(v);let _;o>d?_="next":o<d?_="prev":_="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&s)&&(f&&-v===r.translate||!f&&v===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(v),_!=="reset"&&(r.transitionStart(n,_),r.transitionEnd(n,_)),!1;if(a.cssMode){const T=r.isHorizontal(),A=f?v:-v;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[T?"scrollLeft":"scrollTop"]=A})):h[T?"scrollLeft":"scrollTop"]=A,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return xb({swiper:r,targetPosition:A,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:A,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(v),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,_),e===0?r.transitionEnd(n,_):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(A){!r||r.destroyed||A.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,_))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function _L(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(r){const f=o*s.params.grid.rows;a=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=s.getSlideIndexByData(o);const l=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&s.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(r){const f=o*s.params.grid.rows;o=s.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,i)}),s}function yL(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function wL(t,e,n){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const u=i.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const h=f(d),p=r.map(v=>f(v));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&s.cssMode){let v;r.forEach((_,g)=>{h>=_&&(v=g)}),typeof v<"u"&&(m=r[v>0?v-1:v])}let y=0;if(typeof m<"u"&&(y=o.indexOf(m),y<0&&(y=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(y=y-i.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),s.rewind&&i.isBeginning){const v=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(v,t,e,n)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(y,t,e,n)}),!0;return i.slideTo(y,t,e,n)}function bL(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function SL(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*i&&(r+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,t,e,n)}function EL(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-i/2||s>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),s=t.getSlideIndex(bn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),od(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-i?(t.loopFix(),s=t.getSlideIndex(bn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),od(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var TL={slideTo:vL,slideToLoop:_L,slideNext:yL,slidePrev:wL,slideReset:bL,slideToClosest:SL,slideToClickedSlide:EL};function CL(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{bn(i,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?al("swiper-slide",[n.slideBlankClass]):al("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else ol("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else ol("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function xL(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:s,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const y=h.slidesPerGroupAuto?m:h.slidesPerGroup;let v=y;v%y!==0&&(v+=y-v%y),v+=h.loopAdditionalSlides,l.loopedSlides=v;const _=l.grid&&h.grid&&h.grid.rows>1;c.length<m+v?ol("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&h.grid.fill==="row"&&ol("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],b=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(H=>H.classList.contains(h.slideActiveClass))):T=r;const A=i==="next"||!i,F=i==="prev"||!i;let x=0,C=0;const R=_?Math.ceil(c.length/h.grid.rows):c.length,z=(_?c[r].column:r)+(p&&typeof s>"u"?-m/2+.5:0);if(z<v){x=Math.max(v-z,y);for(let H=0;H<v-z;H+=1){const ne=H-Math.floor(H/R)*R;if(_){const re=R-ne-1;for(let oe=c.length-1;oe>=0;oe-=1)c[oe].column===re&&g.push(oe)}else g.push(R-ne-1)}}else if(z+m>R-v){C=Math.max(z-(R-v*2),y);for(let H=0;H<C;H+=1){const ne=H-Math.floor(H/R)*R;_?c.forEach((re,oe)=>{re.column===ne&&b.push(oe)}):b.push(ne)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),F&&g.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.prepend(c[H]),c[H].swiperLoopMoveDOM=!1}),A&&b.forEach(H=>{c[H].swiperLoopMoveDOM=!0,f.append(c[H]),c[H].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():_&&(g.length>0&&F||b.length>0&&A)&&l.slides.forEach((H,ne)=>{l.grid.updateSlide(ne,H,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&F){if(typeof e>"u"){const H=l.slidesGrid[T],re=l.slidesGrid[T+x]-H;a?l.setTranslate(l.translate-re):(l.slideTo(T+Math.ceil(x),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else if(s){const H=_?g.length/h.grid.rows:g.length;l.slideTo(l.activeIndex+H,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&A)if(typeof e>"u"){const H=l.slidesGrid[T],re=l.slidesGrid[T-C]-H;a?l.setTranslate(l.translate-re):(l.slideTo(T-C,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-re,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-re))}else{const H=_?b.length/h.grid.rows:b.length;l.slideTo(l.activeIndex-H,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const H={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(ne=>{!ne.destroyed&&ne.params.loop&&ne.loopFix({...H,slideTo:ne.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...H,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function IL(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var kL={loopCreate:CL,loopFix:xL,loopDestroy:IL};function PL(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function AL(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var RL={setGrabCursor:PL,unsetGrabCursor:AL};function OL(t,e){e===void 0&&(e=this);function n(i){if(!i||i===ws()||i===jt())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(t);return!s&&!i.getRootNode?null:s||n(i.getRootNode().host)}return n(e)}function lg(t,e,n){const i=jt(),{params:s}=t,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return r&&(n<=o||n>=i.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function NL(t){const e=this,n=ws();let i=t;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){lg(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=i.target;if(r.touchEventsTarget==="wrapper"&&!$D(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(f?OL(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const h=o.currentX,p=o.currentY;if(!lg(e,i,h))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,s.touchStartTime=Qi(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const y=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!l.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function ML(t){const e=ws(),n=this,i=n.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Qi());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:f*f+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,i.isScrolling=n.isHorizontal()?T>s.touchAngle:90-T>s.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=s.touchRatio,o&&(p=-p,m=-m);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const v=n.params.loop&&!s.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(v&&_&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}i.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&y!==n.touchesDirection&&v&&_&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=p+i.startTranslate;let g=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),p>0?(v&&_&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(g=!1,s.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+p)**b))):p<0&&(v&&_&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-p)**b))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(p)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function DL(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(T=>T.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Qi(),f=d-n.touchStartTime;if(e.allowClick){const T=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(T&&T[0]||i.target,T),e.emit("tap click",i),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Qi(),od(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,y=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const A=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+A]<"u"?(p||h>=c[T]&&h<c[T+A])&&(m=T,y=c[T+A]-c[T]):(p||h>=c[T])&&(m=T,y=c[c.length-1]-c[c.length-2])}let v=null,_=null;o.rewind&&(e.isBeginning?_=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const g=(h-c[m])/y,b=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?v:m+b):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-o.longSwipesRatio?e.slideTo(m+b):_!==null&&g<0&&Math.abs(g)>o.longSwipesRatio?e.slideTo(_):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(m+b):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:m+b),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:m))}}function cg(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=i,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function LL(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function FL(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const r=t.maxTranslate()-t.minTranslate();r===0?s=0:s=(t.translate-t.minTranslate())/r,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function $L(t){const e=this;ga(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function BL(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Nb=(t,e)=>{const n=ws(),{params:i,el:s,wrapperEl:r,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",t.onClick,!0),i.cssMode&&r[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",cg,!0):t[c]("observerUpdate",cg,!0),s[l]("load",t.onLoad,{capture:!0}))};function UL(){const t=this,{params:e}=t;t.onTouchStart=NL.bind(t),t.onTouchMove=ML.bind(t),t.onTouchEnd=DL.bind(t),t.onDocumentTouchStart=BL.bind(t),e.cssMode&&(t.onScroll=FL.bind(t)),t.onClick=LL.bind(t),t.onLoad=$L.bind(t),Nb(t,"on")}function jL(){Nb(this,"off")}var VL={attachEvents:UL,detachEvents:jL};const ug=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function HL(){const t=this,{realIndex:e,initialized:n,params:i,el:s}=t,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=ws(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=ug(t,i),h=ug(t,d),p=t.params.grabCursor,m=d.grabCursor,y=i.enabled;f&&!h?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(s.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!m?t.unsetGrabCursor():!p&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof d[A]>"u")return;const F=i[A]&&i[A].enabled,x=d[A]&&d[A].enabled;F&&!x&&t[A].disable(),!F&&x&&t[A].enable()});const v=d.direction&&d.direction!==i.direction,_=i.loop&&(d.slidesPerView!==i.slidesPerView||v),g=i.loop;v&&n&&t.changeDirection(),Ft(t.params,d);const b=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!b?t.disable():!y&&b&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&T?(t.loopCreate(e),t.updateSlides()):g&&!T&&t.loopDestroy()),t.emit("breakpoint",d)}function WL(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const s=jt(),r=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var zL={setBreakpoint:HL,getBreakpoint:WL};function qL(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&n.push(e+s)}):typeof i=="string"&&n.push(e+i)}),n}function GL(){const t=this,{classNames:e,params:n,rtl:i,el:s,device:r}=t,o=qL(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function KL(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var YL={addClasses:GL,removeClasses:KL};function XL(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const s=t.slides.length-1,r=t.slidesGrid[s]+t.slidesSizesGrid[s]+i*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var JL={checkOverflow:XL},cd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function QL(t,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){Ft(e,i);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in r)){Ft(e,i);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Ft(e,i)}}const eu={eventsEmitter:YD,update:oL,translate:fL,transition:gL,slide:TL,loop:kL,grabCursor:RL,events:VL,breakpoints:zL,checkOverflow:JL,classes:YL},tu={};let ch=class Mn{constructor(){let e,n;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Ft({},n),e&&!n.el&&(n.el=e);const o=ws();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Ft({},n,{el:d});u.push(new Mn(f))}),u}const a=this;a.__swiper__=!0,a.support=Ab(),a.device=Rb({userAgent:n.userAgent}),a.browser=qD(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:QL(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ft({},cd,l);return a.params=Ft({},c,tu,n),a.originalParams=Ft({},a.params),a.passedParams=Ft({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,s=bn(n,`.${i.slideClass}, swiper-slide`),r=ll(s[0]);return ll(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=bn(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),o=(i.maxTranslate()-s)*e+s;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);n.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:s,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ga(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):bn(i,s())[0];return!o&&n.params.createElements&&(o=al("div",n.params.wrapperClass),i.append(o),bn(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||vi(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||vi(i,"direction")==="rtl"),wrongRTL:vi(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?ga(n,r):r.addEventListener("load",o=>{ga(n,o.target)})}),ld(n),n.initialized=!0,ld(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:s,el:r,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),n&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),ND(i)),i.destroyed=!0),null}static extendDefaults(e){Ft(tu,e)}static get extendedDefaults(){return tu}static get defaults(){return cd}static installModule(e){Mn.prototype.__modules__||(Mn.prototype.__modules__=[]);const n=Mn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Mn.installModule(n)),Mn):(Mn.installModule(e),Mn)}};Object.keys(eu).forEach(t=>{Object.keys(eu[t]).forEach(e=>{ch.prototype[e]=eu[t][e]})});ch.use([GD,KD]);const Mb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function hs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Us(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:hs(e[i])&&hs(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Us(t[i],e[i]):t[i]=e[i]})}function Db(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Lb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Fb(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function $b(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function ZL(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function e2(t){let{swiper:e,slides:n,passedParams:i,changedParams:s,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=s.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let y,v,_,g,b,T,A,F;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),s.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(v=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(_=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(g=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(b=!0);const x=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!i.loop?T=!0:!u.loop&&i.loop?A=!0:F=!0),c.forEach(C=>{if(hs(u[C])&&hs(i[C]))Object.assign(u[C],i[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in i[C]&&!i[C].enabled&&x(C);else{const R=i[C];(R===!0||R===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?R===!1&&x(C):u[C]=i[C]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):s.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),s.includes("children")&&n&&u.loop&&(F=!0),y&&m.init()&&m.update(!0),v&&(e.controller.control=u.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),b&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(T||F)&&e.loopDestroy(),(A||F)&&e.loopCreate(),e.update()}function dg(t,e){t===void 0&&(t={});const n={on:{}},i={},s={};Us(n,cd),n._emitClasses=!0,n.init=!1;const r={},o=Mb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?hs(t[l])?(n[l]={},s[l]={},Us(n[l],t[l]),Us(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:r,events:i}}function t2(t,e){let{el:n,nextEl:i,prevEl:s,paginationEl:r,scrollbarEl:o,swiper:a}=t;Db(e)&&i&&s&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=s,a.originalParams.navigation.prevEl=s),Lb(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Fb(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function n2(t,e,n,i,s){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&i){const l=i.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return Mb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(hs(t[l])&&hs(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const i2=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function nu(t,e,n){t===void 0&&(t={});const i=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?i.push(l):s[a]&&s[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=i,{slides:i,slots:s}}function s2(t,e,n){if(!n)return null;const i=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},s=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[i(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=s,u.type)return Pe(u.type,{...u.props},u.children);if(u.componentOptions)return Pe(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const uh={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:i}=e;const{tag:s,wrapperTag:r}=t,o=L("swiper"),a=L(null),l=L(!1),c=L(!1),u=L(null),d=L(null),f=L(null),h={value:[]},p={value:[]},m=L(null),y=L(null),v=L(null),_=L(null),{params:g,passedParams:b}=dg(t);nu(n,h,p),f.value=b,p.value=h.value;const T=()=>{nu(n,h,p),l.value=!0};g.onAny=function(x){for(var C=arguments.length,R=new Array(C>1?C-1:0),V=1;V<C;V++)R[V-1]=arguments[V];i(x,...R)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(x,C){o.value=C}});const A={...g};if(delete A.wrapperClass,d.value=new ch(A),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const x={cache:!1,slides:h.value,renderExternal:C=>{a.value=C},renderExternalUpdate:!1};Us(d.value.params.virtual,x),Us(d.value.originalParams.virtual,x)}Rd(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:x}=dg(t),C=n2(x,f.value,h.value,p.value,R=>R.props&&R.props.key);f.value=x,(C.length||l.value)&&d.value&&!d.value.destroyed&&e2({swiper:d.value,slides:h.value,passedParams:x,changedParams:C,nextEl:m.value,prevEl:y.value,scrollbarEl:_.value,paginationEl:v.value}),l.value=!1}),wt("swiper",d),Ke(a,()=>{Zs(()=>{i2(d.value)})}),Ae(()=>{u.value&&(t2({el:u.value,nextEl:m.value,prevEl:y.value,paginationEl:v.value,scrollbarEl:_.value,swiper:d.value},g),i("swiper",d.value))}),Od(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function F(x){return g.virtual?s2(d,x,a.value):(x.forEach((C,R)=>{C.props||(C.props={}),C.props.swiperRef=d,C.props.swiperSlideIndex=R}),x)}return()=>{const{slides:x,slots:C}=nu(n,h,p);return Pe(s,{ref:u,class:$b(o.value)},[C["container-start"],Pe(r,{class:ZL(g.wrapperClass)},[C["wrapper-start"],F(x),C["wrapper-end"]]),Db(t)&&[Pe("div",{ref:y,class:"swiper-button-prev"}),Pe("div",{ref:m,class:"swiper-button-next"})],Fb(t)&&Pe("div",{ref:_,class:"swiper-scrollbar"}),Lb(t)&&Pe("div",{ref:v,class:"swiper-pagination"}),C["container-end"]])}}},dh={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,i=!1;const{swiperRef:s}=t,r=L(null),o=L("swiper-slide"),a=L(!1);function l(d,f,h){f===r.value&&(o.value=h)}Ae(()=>{!s||!s.value||(s.value.on("_slideClass",l),i=!0)}),Ad(()=>{i||!s||!s.value||(s.value.on("_slideClass",l),i=!0)}),Rd(()=>{!r.value||!s||!s.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),s.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Od(()=>{!s||!s.value||s.value.off("_slideClass",l)});const c=J(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));wt("swiperSlide",c);const u=()=>{a.value=!0};return()=>Pe(t.tag,{class:$b(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&s&&s.value&&s.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Pe("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Pe("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Pe("div",{class:"swiper-lazy-preloader"})])}},r2={class:"relative"},o2=["src","alt"],a2={class:"text-xs mb-1"},l2={__name:"SliderItem",props:{film:Object,size:{type:String,default:"w-40 h-60",required:!1}},setup(t){return(e,n)=>(k(),j("div",r2,[M(P(Il),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId}},class:"flex flex-col"},{default:ee(()=>[w("div",{class:Ie(["mb-1 image bg-contain",t.size])},[w("img",{class:"mb-1 h-full w-full",src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,8,o2)],2),w("h3",a2,ie(t.film.nameRu?t.film.nameRu:t.film.nameEn),1)]),_:1},8,["to"])]))}},ud={__name:"SliderList",props:{films:Array,search:{type:Boolean,default:!1,required:!1}},setup(t){const e=[Pb];return(n,i)=>(k(),ce(P(uh),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":8},{default:ee(()=>[(k(!0),j(Oe,null,ps(t.films,s=>(k(),ce(P(dh),{key:s.kinopoiskId?s.kinopoiskId:s.filmId,class:"flex-1"},{default:ee(()=>[M(l2,{film:s.item?s.item:s},null,8,["film"])]),_:2},1024))),128))]),_:1}))}},c2="/arrow.svg",hr={__name:"ScrollToTop",setup(t){const e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,i)=>(k(),j("div",{class:"fixed bottom-20 right-7 inline-block p-2 rounded-md z-50 mb-1 cursor-pointer bg-gray-600 bg-opacity-50 backdrop-blur-sm",onClick:e},i[0]||(i[0]=[w("img",{src:c2,alt:"back",class:"-rotate-90 w-4"},null,-1)])))}},u2={class:"flex justify-between mb-3 pt-0.5"},d2={class:"text-lg font-semibold"},Cn={__name:"Title",props:{title:{type:String,default:"",required:!0},showAll:{type:Boolean,default:!1},link:{type:String,default:""}},setup(t){return(e,n)=>(k(),j("div",u2,[w("h2",d2,ie(t.title),1),t.showAll?(k(),ce(P(Il),{key:0,to:{name:t.link},class:"text-orange-600 font-semibold flex gap-1.5 pt-1"},{default:ee(()=>n[0]||(n[0]=[w("span",{class:"text-sm leading-none pb-0.5"},"все",-1)])),_:1},8,["to"])):ke("",!0)]))}},f2={class:"w-20 h-24 rounded-sm flex items-center overflow-hidden mb-1"},h2=["src","alt"],p2={class:"text-xs mb-1"},m2={key:0,class:"text-xs mb-1 text-gray-500"},g2={key:1,class:"text-xs mb-1 text-gray-500"},v2={__name:"StaffItem",props:{staffItem:Object},setup(t){return(e,n)=>{const i=Kt("RouterLink");return k(),j("div",null,[M(i,{to:{name:"staff",params:{id:t.staffItem.staffId}}},{default:ee(()=>[w("div",f2,[w("img",{class:"w-full object-cover items-center",src:t.staffItem.posterUrl,alt:t.staffItem.nameRu},null,8,h2)])]),_:1},8,["to"]),w("h3",p2,ie(t.staffItem.nameRu?t.staffItem.nameRu:t.staffItem.nameEn),1),t.staffItem.professionKey==="DIRECTOR"?(k(),j("h3",m2,"Режиссер")):ke("",!0),t.staffItem.description?(k(),j("h3",g2,ie(t.staffItem.description),1)):ke("",!0)])}}},_2={__name:"StaffList",props:{staffList:Array},setup(t){const e=[Pb];return(n,i)=>(k(),ce(P(uh),{slidesPerView:"auto","free-mode":!0,class:"mySwiper",freeMode:!0,modules:e,"space-between":4},{default:ee(()=>[(k(!0),j(Oe,null,ps(t.staffList.slice(0,20),s=>(k(),ce(P(dh),{key:s.staffId,class:"flex-1"},{default:ee(()=>[M(v2,{staffItem:s},null,8,["staffItem"])]),_:2},1024))),128))]),_:1}))}},nc=xo("favoritesStore",()=>{const t=L([]),e=ys(),n=cn(),i=L(!0);return{favorites:t,getFavorites:()=>{i.value=!0,En(n,a=>{if(a){const l=Wy(et(e,`users/${a.uid}/favorites`),Hy("date"));Kn(l,c=>{const u=[];c.forEach(d=>{u.push(d.val())}),t.value=u.reverse(),i.value=!1},c=>{console.log(c)})}else console.log("User logged out")})},addToFavorites:(a,l)=>{const c=new Date().getTime();a.isFavorite=!0,cr(et(e,"users/"+n.currentUser.uid+"/favorites/"+l),{nameRu:a.nameRu?a.nameRu:a.nameOriginal,genres:a.genres,year:a.year,posterUrl:a.posterUrl,id:+l,isFavorite:!0,isWatched:!1,date:c}).then(()=>console.log("Добавлено")).catch(u=>console.log(u))},removeFromFavorites:(a,l)=>{a&&(a.isFavorite=!1),Gu(et(e,"users/"+n.currentUser.uid+"/favorites/"+l)).then(()=>console.log("Удалено")).catch(c=>console.log(c))},loader:i}});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.swipe-modal[data-v-8a63990a]{position:fixed;top:auto;bottom:var(--ef0a5750);box-sizing:border-box;width:100vw;max-width:100vw;height:100dvh;max-height:100dvh;padding:0;margin:0;overflow:hidden;border:none}.swipe-modal[data-v-8a63990a]::backdrop{background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.swipe-modal-content[data-v-8a63990a]{width:100%;height:100%}.swipe-modal-content>.panel[data-v-8a63990a]{max-height:calc(100dvh - 36px);overflow-y:scroll}.modal-style[data-v-8a63990a]{box-sizing:border-box;width:100%;color:#fff;background-color:#1d1b20;border-radius:1rem 1rem 0 0}@media (prefers-color-scheme: light){.modal-style[data-v-8a63990a]{color:#000;background-color:#f7f2fa;box-shadow:0 1px 4px #0000005e}}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]{position:relative;top:0;flex-shrink:0;height:36px;cursor:grab}.swipe-modal-drag-handle-wrapper[data-v-8a63990a]:active{cursor:grabbing}.swipe-modal-drag-handle[data-v-8a63990a]{position:absolute;left:50%;width:32px;height:4px;margin:16px 0;content:"";background-color:#ccc;border-radius:2px;transform:translate(-50%)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const y2=t=>typeof t<"u";function w2(t){return JSON.parse(JSON.stringify(t))}function b2(t,e,n,i={}){var s,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=i,h=ms(),p=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((o=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;m=m||`update:${e.toString()}`;const y=g=>a?typeof a=="function"?a(g):w2(g):g,v=()=>y2(t[e])?y(t[e]):d,_=g=>{f?f(g)&&p(m,g):p(m,g)};if(l){const g=v(),b=L(g);let T=!1;return Ke(()=>t[e],A=>{T||(T=!0,b.value=y(A),Zs(()=>T=!1))}),Ke(b,A=>{!T&&(A!==t[e]||u)&&_(A)},{deep:u}),b}else return J({get(){return v()},set(g){_(g)}})}const S2=t=>(iv("data-v-8a63990a"),t=t(),sv(),t),E2=S2(()=>w("div",{class:"swipe-modal-drag-handle"},null,-1)),T2=Xe({__name:"SwipeModal",props:{isBackdrop:{type:Boolean,default:!0},isDragHandle:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},isScrollLock:{type:Boolean,default:!0},modelValue:{type:Boolean,default:!1},snapPoint:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){nE(x=>({ef0a5750:P(a)}));const n=t,i=e,s=L(null),r=L(null),o=b2(n,"modelValue",i),a=L("-100%"),l=L(!1),c=L(0),u=L(0),d=L("close"),f=J(()=>{var x;return n.snapPoint?n.snapPoint==="auto"?`calc(${((x=r.value)==null?void 0:x.getBoundingClientRect().height)||0}px + 36px - 100%)`:`calc(${n.snapPoint} - 100%)`:"0px"}),h=({mouseEvent:x,touchEvent:C,eventType:R})=>{R==="mouse"?c.value=x.y:c.value=C.touches[0].clientY,l.value=!0},p=({mouseEvent:x,touchEvent:C,eventType:R})=>{var V,z;if(l.value&&(R==="mouse"?u.value=c.value-x.y:u.value=c.value-C.touches[0].clientY,!(u.value>0&&d.value==="full"||(((V=s.value)==null?void 0:V.getBoundingClientRect().top)||0)<0)&&!(!n.isFullScreen&&u.value>0)))return(z=s.value)==null||z.style.setProperty("user-select","none"),d.value==="snap"?a.value=`calc(${f.value} + ${u.value}px)`:a.value=`calc(0% + ${u.value}px)`},m=()=>{var x;if(l.value=!1,(x=s.value)==null||x.style.removeProperty("user-select"),Math.abs(u.value)>36){if(u.value<0)switch(d.value){case"full":return n.snapPoint?v():n.isPersistent?y():o.value=!1;case"snap":return n.isPersistent?y():o.value=!1;default:return}switch(d.value){case"snap":return n.isFullScreen?_():y();default:return}}return y()},y=()=>{if(!s.value)return;const x=()=>d.value==="snap"?n.snapPoint?f.value:"0%":d.value==="full"?"0%":"-100%";s.value.animate([{bottom:a.value},{bottom:x()}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=x()}},v=()=>{s.value&&n.snapPoint&&(s.value.animate([{bottom:a.value},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value=f.value,d.value="snap"})},_=()=>{s.value&&(s.value.animate([{bottom:a.value},{bottom:"0%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{u.value=0,a.value="0%",d.value="full"})},g=x=>{if(n.isBackdrop&&x.target===x.currentTarget){if(n.isPersistent)return y();o.value=!1}},b=x=>{x.stopPropagation()},T=()=>{var x;s.value&&(n.isBackdrop?s.value.showModal():s.value.show(),(x=s.value)==null||x.style.setProperty("visibility","visible"),s.value.animate([{opacity:0},{opacity:1}],{duration:200,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),s.value.animate([{bottom:"-100%"},{bottom:f.value}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{d.value=n.snapPoint?"snap":"full",a.value=f.value,n.isScrollLock&&F("hidden")})},A=()=>{s.value&&(s.value.animate([{opacity:1},{opacity:0}],{duration:300,pseudoElement:"::backdrop",easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}),s.value.animate([{bottom:a.value},{bottom:"-100%"}],{duration:300,easing:"cubic-bezier(0.2, 0.0, 0, 1.0)"}).onfinish=()=>{var x,C,R;a.value="-100%",d.value="close",l.value=!1,(x=s.value)==null||x.close(),(C=s.value)==null||C.style.setProperty("display","initial"),(R=s.value)==null||R.style.setProperty("visibility","hidden"),F("reset")})},F=x=>{if(x==="reset"){document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overscroll-behavior-y");return}let C=window,R,V,z;document.defaultView?(C=document.defaultView,R=C.scrollX,V=C.scrollY):(z=document.documentElement,R=z.scrollLeft,V=z.scrollTop),document.documentElement.style.overflow=x,document.documentElement.style.overscrollBehaviorY=x==="auto"?"auto":"none",C.scrollTo(R,V)};return Ke(()=>o.value,x=>{x?T():A()}),Ke(()=>n.isScrollLock,x=>{F(x?"hidden":"auto")}),Ae(()=>{s.value&&(o.value||(s.value.style.setProperty("display","initial"),s.value.style.setProperty("visibility","hidden")))}),(x,C)=>(k(),j("dialog",{ref_key:"modalRef",ref:s,class:"swipe-modal modal-style",onClick:g},[w("div",{tabindex:"-1",class:"swipe-modal-content",onClick:b},[w("div",{class:"swipe-modal-drag-handle-wrapper",onMousedown:C[0]||(C[0]=R=>h({mouseEvent:R,eventType:"mouse"})),onMousemove:C[1]||(C[1]=R=>p({mouseEvent:R,eventType:"mouse"})),onMouseup:m,onTouchstart:C[2]||(C[2]=R=>h({touchEvent:R,eventType:"touch"})),onTouchmove:C[3]||(C[3]=R=>p({touchEvent:R,eventType:"touch"})),onTouchend:m},[x.isDragHandle?nt(x.$slots,"drag-handle",{key:0},()=>[E2],!0):ke("",!0)],32),w("div",{ref_key:"panelRef",ref:r,class:"panel"},[nt(x.$slots,"default",{},void 0,!0)],512)])],512))}}),C2=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Bb=C2(T2,[["__scopeId","data-v-8a63990a"]]),x2={class:"px-2 pb-8 text-sm text-white"},I2=Xe({__name:"Swiper",props:{openText:{type:String,required:!0},description:{type:String,required:!1},openTextStyle:{type:String,required:!1,default:"text-sm"}},setup(t){const e=L(!1);return(n,i)=>(k(),j(Oe,null,[w("p",{class:Ie(["text-orange-600 text-end",t.openTextStyle]),onClick:i[0]||(i[0]=s=>e.value=!0)},ie(t.openText),3),M(P(Bb),{modelValue:e.value,"onUpdate:modelValue":i[1]||(i[1]=s=>e.value=s),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1},{default:ee(()=>[w("div",x2,ie(t.description),1)]),_:1},8,["modelValue"])],64))}}),pr=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},k2=pr(I2,[["__scopeId","data-v-c4ee9b02"]]);function fh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Bo(){let t=[],e={addEventListener(n,i,s,r){return n.addEventListener(i,s,r),e.add(()=>n.removeEventListener(i,s,r))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return fh(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let r=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:r})})},group(n){let i=Bo();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var fg;let P2=Symbol("headlessui.useid"),A2=0;const ic=(fg=tS)!=null?fg:function(){return ze(P2,()=>`${++A2}`)()};function tt(t){var e;if(t==null||t.value==null)return null;let n=(e=t.value.$el)!=null?e:t.value;return n instanceof Node?n:null}function kn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,kn),i}var R2=Object.defineProperty,O2=(t,e,n)=>e in t?R2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hg=(t,e,n)=>(O2(t,typeof e!="symbol"?e+"":e,n),n);let N2=class{constructor(){hg(this,"current",this.detect()),hg(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Uo=new N2;function mr(t){if(Uo.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=tt(t);if(e)return e.ownerDocument}return document}let dd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var mi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(mi||{}),Ub=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Ub||{}),M2=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(M2||{});function D2(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(dd)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var jb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(jb||{});function L2(t,e=0){var n;return t===((n=mr(t))==null?void 0:n.body)?!1:kn(e,{0(){return t.matches(dd)},1(){let i=t;for(;i!==null;){if(i.matches(dd))return!0;i=i.parentElement}return!1}})}var F2=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(F2||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zi(t){t==null||t.focus({preventScroll:!0})}let $2=["textarea","input"].join(",");function B2(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,$2))!=null?n:!1}function U2(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),r=e(i);if(s===null||r===null)return 0;let o=s.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function va(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var r;let o=(r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?r:document,a=Array.isArray(t)?n?U2(t):t:D2(t);s.length>0&&a.length>1&&(a=a.filter(p=>!s.includes(p))),i=i??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(i))-1;if(e&4)return Math.max(0,a.indexOf(i))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=a[p],h==null||h.focus(u),d+=l}while(h!==o.activeElement);return e&6&&B2(h)&&h.select(),2}function Vb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function j2(){return/Android/gi.test(window.navigator.userAgent)}function V2(){return Vb()||j2()}function Jo(t,e,n){Uo.isServer||sn(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function Hb(t,e,n){Uo.isServer||sn(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function H2(t,e,n=J(()=>!0)){function i(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:tt(c);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!L2(a,jb.Loose)&&a.tabIndex!==-1&&r.preventDefault(),e(r,a)}let s=L(null);Jo("pointerdown",r=>{var o,a;n.value&&(s.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Jo("mousedown",r=>{var o,a;n.value&&(s.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Jo("click",r=>{V2()||s.value&&(i(r,()=>s.value),s.value=null)},!0),Jo("touchend",r=>i(r,()=>r.target instanceof HTMLElement?r.target:null),!0),Hb("blur",r=>i(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var cl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(cl||{}),_i=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(_i||{});function Rn({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var r;let o=zb(i,n),a=Object.assign(s,{props:o});if(t||e&2&&o.static)return iu(a);if(e&1){let l=(r=o.unmount)==null||r?0:1;return kn(l,{0(){return null},1(){return iu({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return iu(a)}function iu({props:t,attrs:e,slots:n,slot:i,name:s}){var r,o;let{as:a,...l}=qb(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,i),u={};if(i){let d=!1,f=[];for(let[h,p]of Object.entries(i))typeof p=="boolean"&&(d=!0),p===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=Wb(c??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[d,...f]=c??[];if(!W2(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(m=>m.trim()).filter((m,y,v)=>v.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=zb((o=d.props)!=null?o:{},l,u),p=ts(d,h,!0);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return Pe(a,Object.assign({},l,u),{default:()=>c})}function Wb(t){return t.flatMap(e=>e.type===Oe?Wb(e.children):[e])}function zb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...r){let o=n[i];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...r)}}});return e}function qb(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function W2(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var ul=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ul||{});let fd=Xe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{var i;let{features:s,...r}=t,o={"aria-hidden":(s&2)===2?!0:(i=r["aria-hidden"])!=null?i:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Rn({ourProps:o,theirProps:r,slot:{},attrs:n,slots:e,name:"Hidden"})}}}),Gb=Symbol("Context");var $t=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))($t||{});function z2(){return hh()!==null}function hh(){return ze(Gb,null)}function q2(t){wt(Gb,t)}var Kb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Kb||{});function G2(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Vi=[];G2(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Vi[0]!==e.target&&(Vi.unshift(e.target),Vi=Vi.filter(n=>n!=null&&n.isConnected),Vi.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Yb(t,e,n,i){Uo.isServer||sn(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}var Mr=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Mr||{});function K2(){let t=L(0);return Hb("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Xb(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=tt(n);i instanceof HTMLElement&&e.add(i)}return e}var Jb=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Jb||{});let kr=Object.assign(Xe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:L(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=L(null);i({el:s,$el:s});let r=J(()=>mr(s)),o=L(!1);Ae(()=>o.value=!0),St(()=>o.value=!1),X2({ownerDocument:r},J(()=>o.value&&!!(t.features&16)));let a=J2({ownerDocument:r,container:s,initialFocus:J(()=>t.initialFocus)},J(()=>o.value&&!!(t.features&2)));Q2({ownerDocument:r,container:s,containers:t.containers,previousActiveElement:a},J(()=>o.value&&!!(t.features&8)));let l=K2();function c(h){let p=tt(s);p&&(m=>m())(()=>{kn(l.value,{[Mr.Forwards]:()=>{va(p,mi.First,{skipElements:[h.relatedTarget]})},[Mr.Backwards]:()=>{va(p,mi.Last,{skipElements:[h.relatedTarget]})}})})}let u=L(!1);function d(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function f(h){if(!o.value)return;let p=Xb(t.containers);tt(s)instanceof HTMLElement&&p.add(tt(s));let m=h.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Qb(p,m)||(u.value?va(tt(s),kn(l.value,{[Mr.Forwards]:()=>mi.Next,[Mr.Backwards]:()=>mi.Previous})|mi.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Zi(h.target)))}return()=>{let h={},p={ref:s,onKeydown:d,onFocusout:f},{features:m,initialFocus:y,containers:v,..._}=t;return Pe(Oe,[!!(m&4)&&Pe(fd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:ul.Focusable}),Rn({ourProps:p,theirProps:{...e,..._},slot:h,attrs:e,slots:n,name:"FocusTrap"}),!!(m&4)&&Pe(fd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:ul.Focusable})])}}}),{features:Jb});function Y2(t){let e=L(Vi.slice());return Ke([t],([n],[i])=>{i===!0&&n===!1?fh(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=Vi.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function X2({ownerDocument:t},e){let n=Y2(e);Ae(()=>{sn(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&Zi(n())},{flush:"post"})}),St(()=>{e.value&&Zi(n())})}function J2({ownerDocument:t,container:e,initialFocus:n},i){let s=L(null),r=L(!1);return Ae(()=>r.value=!0),St(()=>r.value=!1),Ae(()=>{Ke([e,n,i],(o,a)=>{if(o.every((c,u)=>(a==null?void 0:a[u])===c)||!i.value)return;let l=tt(e);l&&fh(()=>{var c,u;if(!r.value)return;let d=tt(n),f=(c=t.value)==null?void 0:c.activeElement;if(d){if(d===f){s.value=f;return}}else if(l.contains(f)){s.value=f;return}d?Zi(d):va(l,mi.First|mi.NoScroll)===Ub.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(u=t.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),s}function Q2({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var r;Yb((r=t.value)==null?void 0:r.defaultView,"focus",o=>{if(!s.value)return;let a=Xb(n);tt(e)instanceof HTMLElement&&a.add(tt(e));let l=i.value;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?Qb(a,c)?(i.value=c,Zi(c)):(o.preventDefault(),o.stopPropagation(),Zi(l)):Zi(i.value)},!0)}function Qb(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Z2(t){let e=Kg(t.getSnapshot());return St(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function eF(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...r){let o=e[s].call(n,...r);o&&(n=o,i.forEach(a=>a()))}}}function tF(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,r=t-s;n.style(i,"paddingRight",`${r}px`)}}}function nF(){return Vb()?{before({doc:t,d:e,meta:n}){function i(s){return n.containers.flatMap(r=>r()).some(r=>r.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Bo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let r=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!i(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(i(a.target)){let l=a.target;for(;l.parentElement&&i(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(i(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;r!==l&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function iF(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function sF(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let qi=eF(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Bo(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:sF(n)},s=[nF(),tF(),iF()];s.forEach(({before:r})=>r==null?void 0:r(i)),s.forEach(({after:r})=>r==null?void 0:r(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});qi.subscribe(()=>{let t=qi.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&qi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qi.dispatch("TEARDOWN",n)}});function rF(t,e,n){let i=Z2(qi),s=J(()=>{let r=t.value?i.value.get(t.value):void 0;return r?r.count>0:!1});return Ke([t,e],([r,o],[a],l)=>{if(!r||!o)return;qi.dispatch("PUSH",r,n);let c=!1;l(()=>{c||(qi.dispatch("POP",a??r,n),c=!0)})},{immediate:!0}),s}let su=new Map,Pr=new Map;function pg(t,e=L(!0)){sn(n=>{var i;if(!e.value)return;let s=tt(t);if(!s)return;n(function(){var o;if(!s)return;let a=(o=Pr.get(s))!=null?o:1;if(a===1?Pr.delete(s):Pr.set(s,a-1),a!==1)return;let l=su.get(s);l&&(l["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",l["aria-hidden"]),s.inert=l.inert,su.delete(s))});let r=(i=Pr.get(s))!=null?i:0;Pr.set(s,r+1),r===0&&(su.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}function oF({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=L(null),s=mr(i);function r(){var o,a,l;let c=[];for(let u of t)u!==null&&(u instanceof HTMLElement?c.push(u):"value"in u&&u.value instanceof HTMLElement&&c.push(u.value));if(e!=null&&e.value)for(let u of e.value)c.push(u);for(let u of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(tt(i))||u.contains((l=(a=tt(i))==null?void 0:a.getRootNode())==null?void 0:l.host)||c.some(d=>u.contains(d))||c.push(u));return c}return{resolveContainers:r,contains(o){return r().some(a=>a.contains(o))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:Pe(fd,{features:ul.Hidden,ref:i})}}}let Zb=Symbol("ForcePortalRootContext");function aF(){return ze(Zb,!1)}let mg=Xe({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return wt(Zb,t.force),()=>{let{force:i,...s}=t;return Rn({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}}),e0=Symbol("StackContext");var hd=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(hd||{});function lF(){return ze(e0,()=>{})}function cF({type:t,enabled:e,element:n,onUpdate:i}){let s=lF();function r(...o){i==null||i(...o),s(...o)}Ae(()=>{Ke(e,(o,a)=>{o?r(0,t,n):a===!0&&r(1,t,n)},{immediate:!0,flush:"sync"})}),St(()=>{e.value&&r(1,t,n)}),wt(e0,r)}let uF=Symbol("DescriptionContext");function dF({slot:t=L({}),name:e="Description",props:n={}}={}){let i=L([]);function s(r){return i.value.push(r),()=>{let o=i.value.indexOf(r);o!==-1&&i.value.splice(o,1)}}return wt(uF,{register:s,slot:t,name:e,props:n}),J(()=>i.value.length>0?i.value.join(" "):void 0)}function fF(t){let e=mr(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}const pd=new WeakMap;function hF(t){var e;return(e=pd.get(t))!=null?e:0}function gg(t,e){let n=e(hF(t));return n<=0?pd.delete(t):pd.set(t,n),n}let pF=Xe({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=L(null),s=J(()=>mr(i)),r=aF(),o=ze(t0,null),a=L(r===!0||o==null?fF(i.value):o.resolveTarget());a.value&&gg(a.value,f=>f+1);let l=L(!1);Ae(()=>{l.value=!0}),sn(()=>{r||o!=null&&(a.value=o.resolveTarget())});let c=ze(md,null),u=!1,d=ms();return Ke(i,()=>{if(u||!c)return;let f=tt(i);f&&(St(c.register(f),d),u=!0)}),St(()=>{var f,h;let p=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");!p||a.value!==p||gg(a.value,m=>m-1)||a.value.children.length>0||(h=a.value.parentElement)==null||h.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return Pe(av,{to:a.value},Rn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),md=Symbol("PortalParentContext");function mF(){let t=ze(md,null),e=L([]);function n(r){return e.value.push(r),t&&t.register(r),()=>i(r)}function i(r){let o=e.value.indexOf(r);o!==-1&&e.value.splice(o,1),t&&t.unregister(r)}let s={register:n,unregister:i,portals:e};return[e,Xe({name:"PortalWrapper",setup(r,{slots:o}){return wt(md,s),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let t0=Symbol("PortalGroupContext"),gF=Xe({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=Ri({resolveTarget(){return t.target}});return wt(t0,i),()=>{let{target:s,...r}=t;return Rn({theirProps:r,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}});var vF=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vF||{});let gd=Symbol("DialogContext");function ph(t){let e=ze(gd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ph),n}return e}let Qo="DC8F892D-2EBD-447C-A4C8-A03058436FF4",sc=Xe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Qo},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var r,o;let a=(r=t.id)!=null?r:`headlessui-dialog-${ic()}`,l=L(!1);Ae(()=>{l.value=!0});let c=!1,u=J(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=L(0),f=hh(),h=J(()=>t.open===Qo&&f!==null?(f.value&$t.Open)===$t.Open:t.open),p=L(null),m=J(()=>mr(p));if(s({el:p,$el:p}),!(t.open!==Qo||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===Qo?void 0:t.open}`);let y=J(()=>l.value&&h.value?0:1),v=J(()=>y.value===0),_=J(()=>d.value>1),g=ze(gd,null)!==null,[b,T]=mF(),{resolveContainers:A,mainTreeNodeRef:F,MainTreeNode:x}=oF({portals:b,defaultContainers:[J(()=>{var ge;return(ge=ae.panelRef.value)!=null?ge:p.value})]}),C=J(()=>_.value?"parent":"leaf"),R=J(()=>f!==null?(f.value&$t.Closing)===$t.Closing:!1),V=J(()=>g||R.value?!1:v.value),z=J(()=>{var ge,_e,O;return(O=Array.from((_e=(ge=m.value)==null?void 0:ge.querySelectorAll("body > *"))!=null?_e:[]).find(K=>K.id==="headlessui-portal-root"?!1:K.contains(tt(F))&&K instanceof HTMLElement))!=null?O:null});pg(z,V);let H=J(()=>_.value?!0:v.value),ne=J(()=>{var ge,_e,O;return(O=Array.from((_e=(ge=m.value)==null?void 0:ge.querySelectorAll("[data-headlessui-portal]"))!=null?_e:[]).find(K=>K.contains(tt(F))&&K instanceof HTMLElement))!=null?O:null});pg(ne,H),cF({type:"Dialog",enabled:J(()=>y.value===0),element:p,onUpdate:(ge,_e)=>{if(_e==="Dialog")return kn(ge,{[hd.Add]:()=>d.value+=1,[hd.Remove]:()=>d.value-=1})}});let re=dF({name:"DialogDescription",slot:J(()=>({open:h.value}))}),oe=L(null),ae={titleId:oe,panelRef:L(null),dialogState:y,setTitleId(ge){oe.value!==ge&&(oe.value=ge)},close(){e("close",!1)}};wt(gd,ae);let ye=J(()=>!(!v.value||_.value));H2(A,(ge,_e)=>{ge.preventDefault(),ae.close(),Zs(()=>_e==null?void 0:_e.focus())},ye);let ft=J(()=>!(_.value||y.value!==0));Yb((o=m.value)==null?void 0:o.defaultView,"keydown",ge=>{ft.value&&(ge.defaultPrevented||ge.key===Kb.Escape&&(ge.preventDefault(),ge.stopPropagation(),ae.close()))});let ht=J(()=>!(R.value||y.value!==0||g));return rF(m,ht,ge=>{var _e;return{containers:[...(_e=ge.containers)!=null?_e:[],A]}}),sn(ge=>{if(y.value!==0)return;let _e=tt(p);if(!_e)return;let O=new ResizeObserver(K=>{for(let Ee of K){let Ce=Ee.target.getBoundingClientRect();Ce.x===0&&Ce.y===0&&Ce.width===0&&Ce.height===0&&ae.close()}});O.observe(_e),ge(()=>O.disconnect())}),()=>{let{open:ge,initialFocus:_e,...O}=t,K={...n,ref:p,id:a,role:u.value,"aria-modal":y.value===0?!0:void 0,"aria-labelledby":oe.value,"aria-describedby":re.value},Ee={open:y.value===0};return Pe(mg,{force:!0},()=>[Pe(pF,()=>Pe(gF,{target:p.value},()=>Pe(mg,{force:!1},()=>Pe(kr,{initialFocus:_e,containers:A,features:v.value?kn(C.value,{parent:kr.features.RestoreFocus,leaf:kr.features.All&~kr.features.FocusLock}):kr.features.None},()=>Pe(T,{},()=>Rn({ourProps:K,theirProps:{...O,...n},slot:Ee,attrs:n,slots:i,visible:y.value===0,features:cl.RenderStrategy|cl.Static,name:"Dialog"})))))),Pe(x)])}}}),bo=Xe({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n,expose:i}){var s;let r=(s=t.id)!=null?s:`headlessui-dialog-panel-${ic()}`,o=ph("DialogPanel");i({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,c={id:r,ref:o.panelRef,onClick:a};return Rn({ourProps:c,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),Qs=Xe({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:n}){var i;let s=(i=t.id)!=null?i:`headlessui-dialog-title-${ic()}`,r=ph("DialogTitle");return Ae(()=>{r.setTitleId(s),St(()=>r.setTitleId(null))}),()=>{let{...o}=t;return Rn({ourProps:{id:s},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}});function _F(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function ru(t,...e){t&&e.length>0&&t.classList.add(...e)}function Zo(t,...e){t&&e.length>0&&t.classList.remove(...e)}var vd=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(vd||{});function yF(t,e){let n=Bo();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[r,o]=[i,s].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return l});return r!==0?n.setTimeout(()=>e("finished"),r+o):e("finished"),n.add(()=>e("cancelled")),n.dispose}function vg(t,e,n,i,s,r){let o=Bo(),a=r!==void 0?_F(r):()=>{};return Zo(t,...s),ru(t,...e,...n),o.nextFrame(()=>{Zo(t,...n),ru(t,...i),o.add(yF(t,l=>(Zo(t,...i,...e),ru(t,...s),a(l))))}),o.add(()=>Zo(t,...e,...n,...i,...s)),o.add(()=>a("cancelled")),o.dispose}function $i(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let mh=Symbol("TransitionContext");var wF=(t=>(t.Visible="visible",t.Hidden="hidden",t))(wF||{});function bF(){return ze(mh,null)!==null}function SF(){let t=ze(mh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function EF(){let t=ze(gh,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let gh=Symbol("NestingContext");function rc(t){return"children"in t?rc(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function n0(t){let e=L([]),n=L(!1);Ae(()=>n.value=!0),St(()=>n.value=!1);function i(r,o=_i.Hidden){let a=e.value.findIndex(({id:l})=>l===r);a!==-1&&(kn(o,{[_i.Unmount](){e.value.splice(a,1)},[_i.Hidden](){e.value[a].state="hidden"}}),!rc(e)&&n.value&&(t==null||t()))}function s(r){let o=e.value.find(({id:a})=>a===r);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:r,state:"visible"}),()=>i(r,_i.Unmount)}return{children:e,register:s,unregister:i}}let i0=cl.RenderStrategy,ei=Xe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let r=L(0);function o(){r.value|=$t.Opening,e("beforeEnter")}function a(){r.value&=~$t.Opening,e("afterEnter")}function l(){r.value|=$t.Closing,e("beforeLeave")}function c(){r.value&=~$t.Closing,e("afterLeave")}if(!bF()&&z2())return()=>Pe(jo,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:c},i);let u=L(null),d=J(()=>t.unmount?_i.Unmount:_i.Hidden);s({el:u,$el:u});let{show:f,appear:h}=SF(),{register:p,unregister:m}=EF(),y=L(f.value?"visible":"hidden"),v={value:!0},_=ic(),g={value:!1},b=n0(()=>{!g.value&&y.value!=="hidden"&&(y.value="hidden",m(_),c())});Ae(()=>{let H=p(_);St(H)}),sn(()=>{if(d.value===_i.Hidden&&_){if(f.value&&y.value!=="visible"){y.value="visible";return}kn(y.value,{hidden:()=>m(_),visible:()=>p(_)})}});let T=$i(t.enter),A=$i(t.enterFrom),F=$i(t.enterTo),x=$i(t.entered),C=$i(t.leave),R=$i(t.leaveFrom),V=$i(t.leaveTo);Ae(()=>{sn(()=>{if(y.value==="visible"){let H=tt(u);if(H instanceof Comment&&H.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function z(H){let ne=v.value&&!h.value,re=tt(u);!re||!(re instanceof HTMLElement)||ne||(g.value=!0,f.value&&o(),f.value||l(),H(f.value?vg(re,T,A,F,x,oe=>{g.value=!1,oe===vd.Finished&&a()}):vg(re,C,R,V,x,oe=>{g.value=!1,oe===vd.Finished&&(rc(b)||(y.value="hidden",m(_),c()))})))}return Ae(()=>{Ke([f],(H,ne,re)=>{z(re),v.value=!1},{immediate:!0})}),wt(gh,b),q2(J(()=>kn(y.value,{visible:$t.Open,hidden:$t.Closed})|r.value)),()=>{let{appear:H,show:ne,enter:re,enterFrom:oe,enterTo:ae,entered:ye,leave:ft,leaveFrom:ht,leaveTo:ge,..._e}=t,O={ref:u},K={..._e,...h.value&&f.value&&Uo.isServer?{class:Ie([n.class,_e.class,...T,...A])}:{}};return Rn({theirProps:K,ourProps:O,slot:{},slots:i,attrs:n,features:i0,visible:y.value==="visible",name:"TransitionChild"})}}}),TF=ei,jo=Xe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=hh(),r=J(()=>t.show===null&&s!==null?(s.value&$t.Open)===$t.Open:t.show);sn(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=L(r.value?"visible":"hidden"),a=n0(()=>{o.value="hidden"}),l=L(!0),c={show:r,appear:J(()=>t.appear||!l.value)};return Ae(()=>{sn(()=>{l.value=!1,r.value?o.value="visible":rc(a)||(o.value="hidden")})}),wt(gh,a),wt(mh,c),()=>{let u=qb(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:t.unmount};return Rn({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[Pe(TF,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...d,...u},i.default)]},attrs:{},features:i0,visible:o.value==="visible",name:"Transition"})}}});var _g=!1;function yg(t,e,n){let i,s,r,o,a,l=!1;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);e=Number(e)||0;function c(_){let g=i,b=s;return i=s=void 0,r=t.apply(b,g),r}function u(_){return o=setTimeout(h,e),r}function d(_){let g=_-a,b=e-g;return console.log("remainingWait"),b}function f(_){let g=_-a;return a===void 0||g>=e||g<0||l}function h(){const _=Date.now();if(f(_))return p();o=setTimeout(h,d(_))}function p(_){return o=void 0,i?c():(i=s=void 0,r)}function m(){o!==void 0&&clearTimeout(o),i=a=s=o=void 0}function y(){return o===void 0?r:p()}function v(){let _=Date.now(),g=f(_);return i=arguments,s=this,a=_,g&&o===void 0?u():(o===void 0&&(o=setTimeout(h,e)),r)}return v.cancel=m,v.flush=y,v}const s0=t=>(iv("data-v-f6e84873"),t=t(),sv(),t),CF=["innerHTML"],xF=Re("|"),IF=s0(()=>w("div",{class:"simple-range-slider-popover-arrow"},null,-1)),kF=s0(()=>w("div",{class:"simple-range-slider-popover-arrow"},null,-1)),PF=Xe({name:"VueSimpleRangeSlider"});({...PF});const AF={key:1,class:"bg-white"},RF={class:"flex justify-center items-center w-full fixed -z-10 -mt-96 pt-12"},OF=["src","alt"],NF={class:"container mt-96 mx-auto pb-4 relative"},MF={class:"fixed z-50 top-4 left-4"},DF={class:"flex flex-col gap-2 w-full justify-between"},LF={class:"text-xl text-center"},FF={class:"self-center"},$F={class:"flex justify-center items-start gap-2 mb-1 px-1"},BF={class:"text-slate-400 text-sm text-center"},UF={class:"flex gap-4 justify-center items-center"},jF={key:0,class:"text-sm text-center"},VF={key:1,class:"text-sm"},HF={key:2,class:"text-gray-500 text-sm"},WF={key:3,class:"text-black text-xs font-semibold w-8 border border-black rounded-md box-border h-5 flex justify-center items-center"},zF={class:"flex items-center justify-around bg-gradient-to-r from-gray-600 via-orange-600 to-fray-600 bg-opacity-10 mt-3 rounded-sm"},qF=["href"],GF={class:"container p-2"},KF={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},YF={class:"py-4"},XF={class:"text-sm font-bold mb-2"},JF={class:"flex flex-col items-center justify-center bg-gray-300 bg-opacity-50 py-4 rounded-md w-full self-center gap-2"},QF={key:0,class:"text-md text-gray-600 font-bold"},ZF={class:"text-sm text-center mb-2"},e$=["href"],t$={class:"container p-2"},n$={__name:"Item",setup(t){const e=nc(),n=L(!0);L(!1);const s=e_().params.id,r=L({nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1}),o=L([]),a=L([]),l=L([]),c=L(!1),u=L(!1),d="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",f=cn(),h=ys(),p=async g=>{En(f,b=>{if(n.value=!0,b){const T=et(h,`items/${g}`);Kn(T,A=>{A.val()?(e.favorites.find(x=>x.id===+g)?r.value={...A.val().data,isFavorite:!0}:r.value={...A.val().data,isFavorite:!1},o.value=A.val().similar,a.value=A.val().staff,l.value=A.val().comments||[],console.log(l.hasOwnProperty(`${f.currentUser.uid}`)),console.log(f.currentUser.uid),console.log(l.value),l.value.hasOwnProperty(f.currentUser.uid)?u.value=!0:u.value=!1):m(g),n.value=!1},A=>{console.log(A)})}else console.log("User logged out")})},m=async g=>{const{data:b}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${g}`,{headers:{"X-API-KEY":`${d}`,"Content-Type":"application/json"}});cr(et(h,`items/${g}`),{data:b}).then(()=>console.log("Добавлено")).catch(A=>console.log(A)),e.favorites.find(A=>A.id===+g)?r.value={...b,isFavorite:!0}:r.value={...b,isFavorite:!1},await y(g),await v(g)},y=async g=>{const{data:b}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${g}/similars`,{headers:{"X-API-KEY":`${d}`,"Content-Type":"application/json"}});Ku(et(h,`items/${g}`),{similar:b.items}).then(()=>console.log("Добавлено")).catch(T=>console.log(T)),o.value=b.items},v=async g=>{const{data:b}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=${g}`,{headers:{"X-API-KEY":`${d}`,"Content-Type":"application/json"}});Ku(et(h,`items/${g}`),{staff:b}).then(()=>console.log("Добавлено")).catch(T=>console.log(T)),a.value=b},_=g=>{r.value={nameRu:"",kinopoiskId:Number,nameOriginal:"",year:"",filmLength:"",countries:[],genres:[],ratingKinopoisk:"",ratingVoteCount:"",posterUrl:"",posterUrlPreview:"",description:"",shortDescription:"",webUrl:"",ratingKinopoiskVoteCount:"",isFavorite:!1},o.value=[],a.value=[],p(g),console.log(g)};return Ae(()=>{e.getFavorites(),_(s),window.scrollTo({top:0,behavior:"smooth"})}),_T((g,b)=>{g.params.id!==b.params.id&&(_(g.params.id),c.value=!1),window.scrollTo({top:0,behavior:"smooth"})}),Co({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(g,b)=>{const T=Kt("metainfo");return k(),j(Oe,null,[M(T,null,{title:ee(()=>[Re(ie(r.value.nameRu),1)]),meta:ee(()=>[Re(ie(r.value.shortDescription?r.value.shortDescription:r.value.description),1)]),_:1}),n.value?(k(),ce(Xt,{key:0,"full-screen":!0})):(k(),j("main",AF,[w("div",RF,[w("img",{class:"w-1/2",src:r.value.posterUrl,alt:r.value.nameRu?r.value.nameRu:r.value.nameOriginal},null,8,OF)]),w("section",NF,[b[2]||(b[2]=w("div",{class:"absolute -top-20 bg-gradient-to-t from-white to-transparent w-full h-20 z-30"},null,-1)),w("div",MF,[M($o)]),w("div",DF,[w("h1",LF,ie(r.value.nameRu?r.value.nameRu:r.value.nameOriginal),1),w("div",FF,[w("div",$F,[w("div",{class:Ie([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-600":r.value.ratingKinopoisk>5?"text-gray-400":"text-red-600":"text-gray-400","text-sm font-semibold text-center min-w-10 rounded-sm"])},ie(r.value.ratingKinopoisk?r.value.ratingKinopoisk:"нет рейтинга"),3)]),w("p",BF,ie(r.value.genres.reduce((A,F)=>F.genre+", "+A,""))+" "+ie(r.value.countries[0]?r.value.countries[0].country:r.value.countries.country),1)]),w("div",UF,[r.value.startYear?(k(),j("div",jF,ie(r.value.startYear)+"-"+ie(r.value.endYear?r.value.endYear:"н.в."),1)):(k(),j("div",VF,ie(r.value.year),1)),r.value.filmLength?(k(),j("div",HF,ie(r.value.filmLength)+" мин. ",1)):ke("",!0),r.value.ratingAgeLimits?(k(),j("div",WF,ie(r.value.ratingAgeLimits.split("age")[1])+"+ ",1)):ke("",!0)])]),w("div",zF,[w("div",{class:"p-2 flex flex-col items-center justify-center",onClick:b[0]||(b[0]=A=>r.value.isFavorite?P(e).removeFromFavorites(r.value,P(s)):P(e).addToFavorites(r.value,P(s)))},[M(P(Wd),{class:Ie(["w-6",r.value.isFavorite?"text-orange-600 fill-orange-600":"text-white"]),alt:"home"},null,8,["class"]),b[1]||(b[1]=w("span",{class:"text-xs text-center text-white"},[Re("Буду "),w("br"),Re("смотреть")],-1))]),w("a",{href:r.value.webUrl,class:"my-2 text-sm rounded-full text-white bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 text-center"},"Смотреть на Кинопоиске",8,qF)])]),w("section",GF,[M(Cn,{title:"Актеры и съемочная группа"}),M(_2,{"staff-list":a.value||[]},null,8,["staff-list"])]),w("section",null,[w("div",KF,[w("div",YF,[w("p",XF,ie(r.value.shortDescription?r.value.shortDescription:r.value.description),1),r.value.shortDescription&&r.value.description?(k(),ce(k2,{key:0,"open-text":"Подробнее",description:r.value.description},null,8,["description"])):ke("",!0)]),b[3]||(b[3]=w("h2",{class:"text-xl bold"},"Рейтинг Кинопоиска",-1)),w("div",JF,[r.value.ratingKinopoisk?(k(),j("span",{key:1,class:Ie([r.value.ratingKinopoisk?r.value.ratingKinopoisk>8?"text-yellow-500":r.value.ratingKinopoisk>7?"text-green-500":r.value.ratingKinopoisk>5?"text-slate-600":"text-red-400":"text-slate-300","text-5xl font-bold"])},ie(r.value.ratingKinopoisk),3)):(k(),j("span",QF,"нет рейтинга")),w("div",ZF," Оценок: "+ie(r.value.ratingKinopoiskVoteCount),1),w("a",{href:r.value.webUrl,class:"mb-2 rounded-full px-10 py-3 text-center bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 text-white"},"Оценить",8,e$)])])]),ke("",!0),mt(w("section",t$,[M(Cn,{title:"Похожие"}),M(ud,{films:o.value?o.value:[]},null,8,["films"])],512),[[zn,o.value]]),M(hr),b[5]||(b[5]=w("div",{class:"h-28 bg-white"},null,-1))]))],64)}}},i$=pr(n$,[["__scopeId","data-v-f4bdceb2"]]),s$={key:1},r$={class:"bg-white"},o$={class:"flex w-full mt-14 gap-2 container px-2"},a$=["src","alt"],l$={class:"flex flex-col gap-1"},c$={class:"text-gray-500 text-xs"},u$={class:"fixed z-50 top-4 left-4"},d$={class:"container mx-auto flex flex-col gap-2 w-full px-2 pt-2 pb-8"},f$={class:"columns-2 gap-2 space-y-2"},h$={class:"flex flex-col"},p$={class:"text-xs"},m$={class:"w-4 flex items-center justify-center"},g$={key:0,class:"text-sm text-gray-600"},v$={__name:"Staff",setup(t){const e=cn(),n=ys();nc();const i=L(!0),r=e_().params.id,o=L({}),a="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",l=async f=>{En(e,h=>{if(i.value=!0,h){const p=et(n,`staff/${f}`);Kn(p,m=>{m.val()?o.value=m.val().data:c(f),i.value=!1},m=>{console.log(m),i.value=!1})}else console.log("User logged out")})},c=async f=>{const{data:h}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v1/staff/${f}`,{headers:{"X-API-KEY":`${a}`,"Content-Type":"application/json"}});h.films=h.films.filter((p,m,y)=>m===y.findIndex(v=>v.nameRu===p.nameRu&&v.nameRu===p.nameRu)).sort((p,m)=>m.rating-p.rating),cr(et(n,`staff/${f}`),{data:h}).then(()=>console.log("Добавлено")).catch(p=>console.log(p)),o.value=h},u=f=>{let h="",p=f%100;return p>=5&&p<=20?h="лет":(p=f%10,p===1?h="год":p>=2&&p<=4?h="года":h="лет"),h},d=f=>{l(f)};return Ae(()=>{d(r),window.scrollTo({top:0,behavior:"smooth"})}),Co({title:"Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(f,h)=>{const p=Kt("metainfo"),m=Kt("RouterLink");return k(),j(Oe,null,[M(p,null,{title:ee(()=>[Re(ie(o.value.nameRu),1)]),meta:ee(()=>[Re(ie(o.value.shortDescription?o.value.shortDescription:o.value.description),1)]),_:1}),i.value?(k(),ce(Xt,{key:0,"full-screen":!0})):(k(),j("div",s$,[w("section",r$,[w("div",o$,[w("img",{class:"w-28 rounded-sm",src:o.value.posterUrl,alt:o.value.nameRu?o.value.nameRu:o.value.nameEn},null,8,a$),w("div",l$,[w("div",null,ie(o.value.nameRu?o.value.nameRu:o.value.nameEn),1),mt(w("div",{class:"text-gray-500 text-sm"},ie(o.value.nameEn),513),[[zn,o.value.nameRu]]),mt(w("p",{class:"text-gray-500 text-xs"},ie(o.value.age)+" "+ie(u(o.value.age)),513),[[zn,o.value.age]]),w("p",c$,ie(o.value.profession),1)])]),w("div",u$,[M($o)])]),w("section",null,[w("div",d$,[h[0]||(h[0]=w("h2",{class:"text-xl bold"},"Фильмы",-1)),w("div",f$,[(k(!0),j(Oe,null,ps(o.value.films,y=>(k(),ce(m,{to:{name:"item",params:{id:y.filmId}},key:y.rating,class:"flex items-center gap-2 bg-gray-500 bg-opacity-10 p-2 rounded-md justify-between break-inside-avoid-column"},{default:ee(()=>[w("div",h$,[w("h3",p$,ie(y.nameRu?y.nameRu:y.nameEn),1)]),w("div",m$,[y.rating?(k(),j("span",{key:1,class:Ie([y.rating?y.rating>8?"text-yellow-500":y.rating>7?"text-green-500":y.rating>5?"text-slate-600":"text-red-400":"text-slate-300","text-xs"])},ie(y.rating),3)):(k(),j("span",g$,"-"))])]),_:2},1032,["to"]))),128))])]),M(hr),h[1]||(h[1]=w("div",{class:"h-28 bg-white"},null,-1))])]))],64)}}},r0=xo("newsStore",()=>{const t=L([]),e=L([]),n=L(!0),i=L(1),s=cn(),r=ys();return{newsData:t,getNews:async l=>{n.value=!0,En(s,c=>{if(c){const u=et(r,`news/${l}`);Kn(u,d=>{t.value=d.val(),n.value=!1},d=>{console.log(d)})}else console.log("User logged out")}),i.value=l},getLastNews:async()=>{n.value=!0,En(s,l=>{if(l){const c=et(r,"news/1");Kn(c,u=>{e.value=u.val()},u=>{console.log(u)})}else console.log("User logged out")}),n.value=!1},newsOnMain:e,currentPage:i,loader:n}}),_$={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},y$=["href"],w$={__name:"NewsItem",setup(t){const e=[VD,jD],n=r0();return Ae(()=>{n.newsOnMain.length||n.getLastNews()}),(i,s)=>(k(),ce(P(uh),{slidesPerView:"auto",centeredSlides:!0,pagination:{type:"progressbar"},navigation:!1,spaceBetween:30,modules:e,class:"mySwiper mb-4"},{default:ee(()=>[(k(!0),j(Oe,null,ps(P(n).newsOnMain,r=>(k(),ce(P(dh),{key:r.item.kinopoiskId},{default:ee(()=>[w("div",{class:"overflow-hidden bg-cover h-48 w-full",style:Vt(`background-image: url(${r.item.imageUrl})`)},[s[0]||(s[0]=w("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-40"},null,-1)),w("h2",_$,ie(r.item.title),1),w("a",{href:r.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,y$)],4)]),_:2},1024))),128))]),_:1}))}},vh=xo("premiersStore",()=>{const t=L([]),e=L([]),n=L([]),i=L(1),s=cn(),r=ys(),o=L(!0),a="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",l={0:"january",1:"february",2:"march",3:"april",4:"may",5:"june",6:"july",7:"august",8:"september",9:"october",10:"november",11:"december"},c={year:new Date().getFullYear(),month:new Date().getMonth()},u=async()=>{o.value=!0,En(s,p=>{if(p){const m=et(r,`premiers/${c.year}/${l[c.month]}`);Kn(m,y=>{y.val()||d(),t.value=y.val().items,o.value=!1},y=>{console.log(y)})}else console.log("User logged out")})},d=async()=>{const{data:p}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=${c.year}&month=${l[c.month]}`,{headers:{"X-API-KEY":a,"Content-Type":"application/json"}});cr(et(r,`premiers/${c.year}/${l[c.month]}`),{items:p.items}).then(()=>console.log("Добавлено")).catch(m=>console.log(m))};return{premiers:t,getPremiers:u,getTop250:p=>{o.value=!0,En(s,m=>{if(m){const y=et(r,`top/${p}`);Kn(y,v=>{e.value=v.val(),o.value=!1},v=>{console.log(v)})}else console.log("User logged out")}),i.value=p},top250:e,getTopOnMain:()=>{En(s,p=>{if(p){const m=et(r,"top/1");Kn(m,y=>{n.value=y.val(),o.value=!1},y=>{console.log(y)})}else console.log("User logged out")})},topOnMain:n,currentPage:i,loader:o}}),b$={key:1,class:"container mx-auto px-1"},S$={__name:"MainPage",setup(t){const e=In(),n=vh(),i=()=>{Notification.requestPermission().then(s=>{s==="granted"?console.log("Разрешение на уведомления получено!"):(console.log("Разрешение на уведомления отклонено."),localStorage.removeItem("notificationToken"),In().notificationToken="")})};return Ae(()=>{(!n.premiers.length||!n.topOnMain.length)&&(n.getPremiers(),n.getTopOnMain()),e.getTokenNotification(),i()}),Co({title:"Главная - Filmoteka by EVANS",meta:[{hid:"description",name:"description",content:"Фильмы и сериалы на любой вкус"}]}),(s,r)=>{const o=Kt("metainfo");return k(),j(Oe,null,[M(o,null,{title:ee(()=>r[0]||(r[0]=[])),_:1}),P(n).loader?(k(),ce(Xt,{key:0,"full-screen":!0})):(k(),j("section",b$,[M(Cn,{title:"Последние новости","show-all":!0,link:"news"}),M(w$),M(Cn,{title:"Премьеры этого месяца","show-all":!0,link:"premier"}),M(ud,{films:P(n).premiers.slice(0,20),class:"mb-2"},null,8,["films"]),M(Cn,{title:"Топ 250","show-all":!0,link:"top"}),M(ud,{films:P(n).topOnMain},null,8,["films"]),r[1]||(r[1]=w("div",{class:"h-20 flex justify-end items-end"},null,-1))]))],64)}}},E$={class:"flex items-center gap-8 mb-8 relative"},T$={class:"flex items-start justify-around gap-4 w-full"},C$=Xe({__name:"FavoriteSwiper",props:{film:Object},setup(t){const e=nc(),n=cn(),i=ys(),s=L(!1),r=o=>{t.film.isWatched=!o,Ku(et(i,"users/"+n.currentUser.uid+"/favorites/"+t.film.id),{isWatched:!o})};return(o,a)=>(k(),j(Oe,null,[w("div",null,[M(P(EC),{onClick:a[0]||(a[0]=l=>s.value=!0),class:"w-5 text-gray-500",alt:"favorites"})]),M(P(Bb),{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=l=>s.value=l),snapPoint:"auto","is-scroll-lock":!0,"is-full-screen":!1,class:"bg-gray-600 bg-opacity-50 backdrop-blur-sm"},{default:ee(()=>[w("div",E$,[w("div",T$,[w("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[1]||(a[1]=l=>r(t.film.isWatched))},[M(P(g_),{class:Ie(["w-6",t.film.isWatched?"text-orange-600":"text-white"]),alt:"home"},null,8,["class"]),a[4]||(a[4]=w("span",{class:"text-xs text-white text-center"},"Просмотрено",-1))]),w("div",{class:"p-2 flex flex-col items-center justify-center gap-1",onClick:a[2]||(a[2]=l=>{P(e).removeFromFavorites(null,t.film.id),s.value=!1})},[M(P(Wd),{class:Ie(["w-6",t.film.isFavorite?"text-orange-600 fill-orange-600":""]),alt:"home"},null,8,["class"]),a[5]||(a[5]=w("span",{class:"text-xs text-center text-white"},[Re("Удалить из"),w("br"),Re("избранного")],-1))])])])]),_:1},8,["modelValue"])],64))}}),x$=pr(C$,[["__scopeId","data-v-90348836"]]),I$={class:"relative"},k$={class:"flex justify-between"},P$=["src","alt"],A$={class:"mr-8"},R$={class:"text-xs mb-1"},O$={class:"flex gap-1.5"},N$={__name:"FilmItem",props:{film:{type:Object,required:!0},sizeImage:{type:String,default:"w-16",required:!1},sizeBlock:{type:String,default:"min-w-16",required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1}},setup(t){const e=Wf();return(n,i)=>(k(),j("div",I$,[w("div",k$,[M(P(Il),{to:{name:"item",params:{id:t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId?t.film.filmId:t.film.id}},class:"flex p-0.5 gap-2 mr-8 flex-1",onClick:i[0]||(i[0]=s=>t.remove?null:P(e).addToLastSearch(t.film,t.film.kinopoiskId?t.film.kinopoiskId:t.film.filmId))},{default:ee(()=>[w("div",{class:Ie(["image bg-contain",t.sizeBlock])},[w("img",{class:Ie(["h-full",t.sizeImage]),src:t.film.posterUrlPreview?t.film.posterUrlPreview:t.film.posterUrl,alt:t.film.nameRu?t.film.nameRu:t.film.nameEn},null,10,P$)],2),w("div",A$,[w("h3",R$,ie(t.film.nameRu?t.film.nameRu:t.film.nameEn),1),w("div",O$,[mt(M(P(g_),{class:Ie(["w-3 pb-1",t.film.isWatched?"text-orange-600":""]),alt:"home"},null,8,["class"]),[[zn,t.favorite]]),mt(w("h4",{class:"text-xs text-slate-400 mb-1"},ie(t.film.year),513),[[zn,t.film.year&&t.film.year!=="null"]])])])]),_:1},8,["to"]),t.favorite?(k(),ce(x$,{key:0,film:t.film},null,8,["film"])):ke("",!0)]),t.film.ratingKinopoisk?(k(),j("div",{key:0,class:Ie([t.film.ratingKinopoisk?t.film.ratingKinopoisk>8?"bg-yellow-600":t.film.ratingKinopoisk>7?"bg-green-600":t.film.ratingKinopoisk>5?"bg-slate-600":"bg-red-600":"bg-slate-300","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},ie(t.film.ratingKinopoisk&&t.film.ratingKinopoisk!=="null"?t.film.ratingKinopoisk:""),3)):t.film.rating?(k(),j("div",{key:1,class:Ie([t.film.rating==="null"?"bg-slate-300":t.film.rating>8?"bg-yellow-600":t.film.rating>7?"bg-green-600":t.film.rating>5?"bg-slate-600":"bg-red-600","mb-1 text-xs absolute top-1 right-2 text-white w-6 text-center rounded-sm"])},ie(t.film.rating&&t.film.rating!=="null"?t.film.rating:"-"),3)):ke("",!0),mt(M(P(__),{class:"absolute w-7 p-1 text-gray-400 top-1/2 -translate-y-1/2 right-0",alt:"close",onClick:i[1]||(i[1]=s=>P(e).removeFromSearch(t.film.filmId?t.film.kinopoiskId:t.film.id))},null,512),[[zn,t.remove]])]))}},M$={class:"flex flex-col"},So={__name:"FilmList",props:{films:{type:Array,required:!0},sizeImage:{type:String,required:!1},sizeBlock:{type:String,required:!1},favorite:{type:Boolean,required:!1},remove:{type:Boolean,required:!1,default:!1}},setup(t){return(e,n)=>(k(),j("div",M$,[(k(!0),j(Oe,null,ps(t.films,i=>(k(),ce(N$,{film:i.item?i.item:i,"size-image":t.sizeImage,"size-block":t.sizeBlock,favorite:t.favorite,remove:t.remove},null,8,["film","size-image","size-block","favorite","remove"]))),256))]))}},D$={class:"container mx-auto px-1 text-sm"},L$=["defaultvalue","placeholder"],F$={key:0},$$={key:1},B$={key:1},U$={key:1},j$={key:1},V$={key:0},H$={class:"flex items-end justify-between pb-3 px-1"},W$={key:1},z$={__name:"Search",setup(t){const e="5bbbb2f9-a17d-4a30-8adb-16ba0227339b",n=Wf(),i=L(!1),s=async l=>{n.loader=!0,i.value=!1;const{data:c}=await qe.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${l.trim()}`,{headers:{"X-API-KEY":e,"Content-Type":"application/json"}});c.films.length===0?i.value=!0:(n.memoryFilms=c.films,i.value=!1),n.loader=!1},r=()=>{if(!n.memory)return a();n.memory.length>2&&s(n.memory),n.memory.length<2&&(n.memoryFilms=[])},o=L(!1);function a(){o.value=!0,setTimeout(()=>{o.value=!1},1500)}return Ae(()=>{n.getLastSearch()}),Co({title:"Поиск",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(l,c)=>{const u=Kt("metainfo");return k(),j(Oe,null,[M(u,null,{title:ee(()=>c[4]||(c[4]=[])),_:1}),w("section",D$,[w("div",{class:Ie(["relative w-full px-0.5 mb-3",{shake:o.value}])},[M(P(v_),{class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 left-3",alt:"search"}),mt(M(P(__),{onClick:c[0]||(c[0]=()=>{P(n).memory="",P(n).memoryFilms=[],i.value=!1}),class:"absolute w-5 text-gray-600 top-1/2 -translate-y-1/2 right-3",alt:"close"},null,512),[[zn,P(n).memory.length>0]]),mt(w("input",{defaultvalue:P(n).memory,placeholder:o.value?"Поле не должно быть пустым":"Фильмы, сериалы",class:"w-full h-10 px-10 py-2 pr-10 flex items-center text-sm text-black bg-gray-100 outline-none placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-none sm:text-sm/6 rounded-md",type:"text","onUpdate:modelValue":c[1]||(c[1]=d=>P(n).memory=d),onKeydown:[Jh(r,["enter"]),c[2]||(c[2]=Jh(d=>{P(n).memoryFilms=[],i.value=!1},["backspace"]))]},null,40,L$),[[bi,P(n).memory]])],2),P(n).memory.length>0?(k(),j("div",F$,[P(n).loader?(k(),ce(Xt,{key:0,"full-screen":!1})):(k(),j("div",$$,[i.value?(k(),j("div",B$,c[5]||(c[5]=[w("p",{class:"text-center text-sm text-gray-400 mt-4"},"Ничего не нашлось",-1)]))):(k(),ce(So,{key:0,films:P(n).memoryFilms,"size-image":"w-14","size-block":"min-w-14"},null,8,["films"]))]))])):(k(),j("div",U$,[P(n).loader?(k(),ce(Xt,{key:0,"full-screen":!1})):(k(),j("div",j$,[P(n).lastSearch.length>0?(k(),j("div",V$,[w("div",H$,[c[6]||(c[6]=w("h4",{class:"text-sm text-gray-600"},"Вы недавно искали",-1)),w("span",{class:"text-xs text-gray-600",onClick:c[3]||(c[3]=(...d)=>P(n).removeAllSearch&&P(n).removeAllSearch(...d))},"Очистить")]),M(So,{films:P(n).lastSearch.slice(0,7),"size-image":"w-14","size-block":"min-w-14",remove:!0},null,8,["films"])])):(k(),j("div",W$,c[7]||(c[7]=[w("div",{class:"flex items-end justify-center pb-3 px-1"},[w("h4",{class:"text-sm text-gray-600"},"История поиска пуста")],-1)])))]))]))]),c[8]||(c[8]=w("div",{class:"h-28"},null,-1))],64)}}},q$=pr(z$,[["__scopeId","data-v-ae125e75"]]),G$="/404-error.png",K$={},Y$={class:"w-full h-screen flex justify-center items-center"};function X$(t,e){return k(),j("div",Y$,e[0]||(e[0]=[w("img",{src:G$,alt:"404",class:"w-2/5"},null,-1)]))}const J$=pr(K$,[["render",X$]]),Q$={key:1,class:"relative container mx-auto p-1"},Z$={class:"flex gap-2 mb-1"},eB={__name:"Premier",setup(t){const e=vh();return Ae(()=>{e.premiers.length||e.getPremiers(),window.scrollTo({top:0,behavior:"smooth"})}),(n,i)=>P(e).loader?(k(),ce(Xt,{key:0,"full-screen":!0})):(k(),j("section",Q$,[w("div",Z$,[M($o),M(Cn,{title:"Премьеры этого месяца"})]),M(So,{films:P(e).premiers},null,8,["films"]),i[0]||(i[0]=w("div",{class:"h-28"},null,-1)),M(hr)]))}},tB={key:1,class:"relative container mx-auto p-1"},nB={class:"flex gap-2 mb-1"},iB={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},sB={__name:"Top",setup(t){const e=vh(),n=L(1),i=async s=>{await e.getTop250(s),window.scrollTo({top:0,behavior:"smooth"})};return Ae(()=>{e.top250.length?n.value=e.currentPage:e.getTop250(1),window.scrollTo({top:0,behavior:"smooth"})}),(s,r)=>P(e).loader?(k(),ce(Xt,{key:0,"full-screen":!0})):(k(),j("section",tB,[w("div",nB,[M($o),M(Cn,{title:"Топ 250"})]),M(So,{films:P(e).top250},null,8,["films"]),r[1]||(r[1]=w("div",{class:"h-32"},null,-1)),w("div",iB,[M(P(Hd),{"total-items":250,"items-per-page":20,"max-pages-shown":3,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),onClick:i},null,8,["modelValue"])]),M(hr)]))}},rB={key:1,class:"relative container mx-auto p-1"},oB={class:"flex gap-2 mb-1"},aB={class:"grid-cols-1 grid gap-2"},lB={class:"absolute bottom-4 left-4 text-xs w-1/2 text-white"},cB=["href"],uB={class:"fixed bottom-20 right-1/2 translate-x-1/2 inline-block bg-gray-600 bg-opacity-50 backdrop-blur-sm p-2 rounded-md z-50"},dB={__name:"News",setup(t){const e=r0(),n=async s=>{await e.getNews(s),window.scrollTo({top:0,behavior:"smooth"})},i=L(1);return Ae(()=>{e.newsData.length?i.value=e.currentPage:e.getNews(1),window.scrollTo({top:0,behavior:"smooth"})}),Co({title:"Новости",meta:[{hid:"description",name:"description",content:"Поиск фильмов, сериалов..."}]}),(s,r)=>{const o=Kt("metainfo");return k(),j(Oe,null,[M(o,null,{title:ee(()=>r[1]||(r[1]=[])),_:1}),P(e).loader?(k(),ce(Xt,{key:0,"full-screen":!0})):(k(),j("section",rB,[w("div",oB,[M($o),M(Cn,{title:"Новости"})]),w("div",aB,[(k(!0),j(Oe,null,ps(P(e).newsData,a=>(k(),j("div",{key:a.item.kinopoiskId},[w("div",{class:"relative overflow-hidden bg-cover h-48 w-full",style:Vt(`background-image: url(${a.item.imageUrl})`)},[r[2]||(r[2]=w("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-50"},null,-1)),w("h2",lB,ie(a.item.title),1),w("a",{href:a.item.url,class:"absolute bottom-4 right-4 text-xs bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-4 py-2 rounded-md text-white"},"Подробнее",8,cB)],4)]))),128))]),M(hr),r[3]||(r[3]=w("div",{class:"h-32"},null,-1))])),w("div",uB,[M(P(Hd),{"total-items":208,"items-per-page":20,"max-pages-shown":3,modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=a=>i.value=a),onClick:n},null,8,["modelValue"])])],64)}}},o0="/img/icons/192x192.png",fB={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},hB={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},pB={class:"bg-white px-4 pb-4 pt-4"},mB={class:"items-center justify-center relative"},gB={class:"mt-3"},vB={class:"space-y-1 bg-white",action:"#",method:"POST"},_B={class:"bg-white px-4 pb-4 pt-2"},yB={class:"mt-2"},wB={class:"bg-white px-4 pb-4 pt-2"},bB={class:"bg-white px-4 pb-4 pt-4"},SB={class:"items-center justify-center relative"},EB={__name:"ForgorPassword",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=L(""),n=L(!1),i=()=>{const s=cn();n.value=!0,mA(s,e.value).then(()=>{console.log("password reset"),setTimeout(()=>{t.handleClick(),n.value=!1},3e3)}).catch(r=>{console.log(r),r.code,r.message})};return(s,r)=>(k(),ce(P(jo),{as:"template",show:t.openPopup},{default:ee(()=>[M(P(sc),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>r[2]||(r[2]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",fB,[w("div",hB,[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[n.value?(k(),ce(P(bo),{key:1,class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[w("div",bB,[w("div",SB,[M(P(Qs),{as:"h3",class:"text-sm text-center"},{default:ee(()=>r[5]||(r[5]=[Re("На указанный email отправлено письмо со ссылкой для сброса пароля ")])),_:1})])])]),_:1})):(k(),ce(P(bo),{key:0,class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[w("div",pB,[w("div",mB,[w("div",gB,[M(P(Qs),{as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>r[3]||(r[3]=[Re("Забыли пароль? ")])),_:1})])])]),w("form",vB,[w("div",_B,[r[4]||(r[4]=w("label",{for:"name",class:"text-sm/6 font-medium"},"Введите свою почту",-1)),w("div",yB,[mt(w("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>e.value=o),type:"email",name:"email",id:"forgot",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,e.value]])])]),w("div",wB,[w("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:i}," Сбросить пароль "),w("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:r[1]||(r[1]=rt((...o)=>t.handleClick&&t.handleClick(...o),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1}))]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},TB={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},CB={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},xB={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},IB={class:"text-center text-xs text-red-500"},kB={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},PB={class:"space-y-6",action:"#",method:"POST"},AB={class:"mt-2"},RB={class:"flex items-center justify-between"},OB={class:"text-sm"},NB={class:"mt-2"},MB={class:"mt-10 text-center text-sm/6 text-gray-400"},DB=Xe({__name:"Login",setup(t){const e=er(),n=In(),i=L(""),s=L(""),r=async l=>{l.preventDefault(),n.error="",i.value&&s.value?(await n.auth("login",{email:i.value,password:s.value}),await e.push("/")):n.error="Заполните все поля"},o=L(!1),a=()=>{o.value=!o.value};return Ae(()=>{n.error="",i.value="",s.value=""}),(l,c)=>{const u=Kt("RouterLink");return k(),j("div",TB,[w("div",CB,[c[2]||(c[2]=w("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:o0,alt:"Filmoteka"},null,-1)),c[3]||(c[3]=w("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Войти в аккаунт",-1)),P(n).error?(k(),j("div",xB,[M(P(zd),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",IB,ie(P(n).error),1)])):ke("",!0)]),w("div",kB,[w("form",PB,[w("div",null,[c[4]||(c[4]=w("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),w("div",AB,[mt(w("input",{type:"email",name:"email",id:"email",autocomplete:"email",required:"","onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,i.value]])])]),w("div",null,[w("div",RB,[c[5]||(c[5]=w("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль",-1)),w("div",OB,[w("a",{href:"#",class:"text-orange-600 hover:text-orange-500",onClick:a},"Забыли пароль?"),M(EB,{handleClick:a,openPopup:o.value},null,8,["openPopup"])])]),w("div",NB,[mt(w("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,s.value]])])]),w("div",null,[P(n).loader?(k(),ce(Xt,{key:1,"full-screen":!1})):(k(),j("button",{key:0,type:"submit",onClick:r,class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Войти "))])]),w("p",MB,[c[7]||(c[7]=Re(" Нет аккаунта? "+ie(" ")+" ")),M(u,{to:"/registration",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>c[6]||(c[6]=[Re("Зарегистрироваться ")])),_:1})])])])}}}),LB={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},FB={class:"sm:mx-auto sm:w-full sm:max-w-sm relative"},$B={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},BB={class:"text-center text-xs text-red-500"},UB={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},jB={class:"space-y-6",action:"#",method:"POST"},VB={class:"mt-2"},HB={class:"mt-2"},WB={class:"mt-2"},zB={class:"mt-10 text-center text-sm text-gray-400"},qB=Xe({__name:"Registration",setup(t){const e=In(),n=L(""),i=L(""),s=L(""),r=er(),o=async()=>{e.error="",i.value&&s.value&&n.value?(await e.auth("registration",{email:i.value,password:s.value,displayName:n.value}),await r.push("/")):e.error="Заполните все поля"};return Ae(()=>{e.error="",i.value="",s.value="",n.value=""}),(a,l)=>{const c=Kt("RouterLink");return k(),j("div",LB,[w("div",FB,[l[3]||(l[3]=w("img",{class:"mx-auto h-16 w-auto rounded-full border border-orange-600",src:o0,alt:"Your Company"},null,-1)),l[4]||(l[4]=w("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Регистрация",-1)),P(e).error?(k(),j("div",$B,[M(P(zd),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",BB,ie(P(e).error),1)])):ke("",!0)]),w("div",UB,[w("form",jB,[w("div",null,[l[5]||(l[5]=w("label",{for:"name",class:"block text-sm/6 font-medium"},"Ваше имя",-1)),w("div",VB,[mt(w("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,n.value]])])]),w("div",null,[l[6]||(l[6]=w("label",{for:"email",class:"block text-sm/6 font-medium"},"Email",-1)),w("div",HB,[mt(w("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>i.value=u),type:"email",name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,i.value]])])]),w("div",null,[l[7]||(l[7]=w("div",{class:"flex items-center justify-between"},[w("label",{for:"password",class:"block text-sm/6 font-medium"},"Пароль")],-1)),w("div",WB,[mt(w("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>s.value=u),type:"password",name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,s.value]])])]),w("div",null,[P(e).loader?(k(),ce(Xt,{key:1,"full-screen":!1})):(k(),j("button",{key:0,type:"submit",onClick:rt(o,["prevent"]),class:"flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 px-3 py-1.5 text-sm/6 text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Зарегистрироваться "))])]),w("p",zB,[l[9]||(l[9]=Re(" Есть аккаунт? "+ie(" ")+" ")),M(c,{to:"/signin",class:"text-orange-600 hover:text-orange-500"},{default:ee(()=>l[8]||(l[8]=[Re("Войти")])),_:1})])])])}}}),GB={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},KB={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},YB={class:"bg-white px-4 pb-4 pt-4"},XB={class:"items-center justify-center"},JB={class:"mt-3"},QB={class:"bg-white px-4 py-4 items-center flex flex-col"},ZB={__name:"PopupLogout",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=er(),n=In(),i=()=>{n.auth("logout"),e.push("/login")};return(s,r)=>(k(),ce(P(jo),{as:"template",show:t.openPopup},{default:ee(()=>[M(P(sc),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>r[1]||(r[1]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",GB,[w("div",KB,[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[M(P(bo),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[w("div",YB,[w("div",XB,[w("div",JB,[M(P(Qs),{as:"h3",class:"text-base text-center"},{default:ee(()=>r[2]||(r[2]=[Re("Вы хотите выйти из профиля? ")])),_:1})])])]),w("div",QB,[w("button",{type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:r[0]||(r[0]=(...o)=>t.handleClick&&t.handleClick(...o))},"Остаться "),w("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:i,ref:"cancelButtonRef"},"Выйти из профиля ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},e3={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},t3={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center"},n3={class:"bg-white px-4 pb-4 pt-4"},i3={class:"items-center justify-center"},s3={key:0,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},r3={key:1,class:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gray-200 sm:size-10"},o3={class:"mt-3"},a3={key:2,class:"mt-2"},l3={class:"text-sm text-gray-500 break-words text-center"},c3={class:"bg-white px-4 py-4 items-center flex flex-col"},u3={__name:"PopupNotification",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=In(),n=L(!1),i=L(!1),s=()=>{n.value=!0,navigator.clipboard.writeText(e.notificationToken).then(()=>{console.log("Текст скопирован в буфер обмена")}),setTimeout(()=>{n.value=!1,i.value=!0,setTimeout(()=>{i.value=!1},500)},250)};return(r,o)=>(k(),ce(P(jo),{as:"template",show:t.openPopup},{default:ee(()=>[M(P(sc),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[1]||(o[1]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",e3,[w("div",t3,[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[M(P(bo),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[w("div",n3,[w("div",i3,[P(e).notificationToken?(k(),j("div",r3,[M(P(m_),{class:"size-6 text-green-600","aria-hidden":"true"})])):(k(),j("div",s3,[M(P(p_),{class:"size-6 text-red-600","aria-hidden":"true"})])),w("div",o3,[P(e).notificationToken?(k(),ce(P(Qs),{key:1,as:"h3",class:"text-base text-center"},{default:ee(()=>o[3]||(o[3]=[Re("Уведомления разрешены ")])),_:1})):(k(),ce(P(Qs),{key:0,as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[2]||(o[2]=[Re(" Уведомления не разрешены. Включите их в настройках. ")])),_:1})),P(e).notificationToken?(k(),j("div",a3,[w("div",l3,ie(P(e).notificationToken),1)])):ke("",!0)])])]),w("div",c3,[P(e).notificationToken&&!n.value&&!i.value?(k(),j("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 outline-none px-3 py-2 text-sm text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:s},"Скопировать токен ")):ke("",!0),n.value?(k(),ce(Xt,{key:1,"full-screen":!1})):ke("",!0),i.value?(k(),ce(P(SC),{key:2,class:"size-9 text-green-600","aria-hidden":"true"})):ke("",!0),w("button",{type:"button",class:"mt-3 inline-flex text-center justify-center border-none px-3 py-2 text-sm",onClick:o[0]||(o[0]=(...a)=>t.handleClick&&t.handleClick(...a)),ref:"cancelButtonRef"},"Закрыть ",512)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},d3={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},f3={class:"flex min-h-full justify-center items-center p-4 text-center sm:items-center backdrop-blur-sm"},h3={class:"bg-white px-4 pb-4 pt-4"},p3={class:"items-center justify-center relative"},m3={class:"mt-3"},g3={key:0,class:"absolute left-1/2 -translate-x-1/2 w-full -bottom-6 flex items-center justify-center gap-2"},v3={class:"text-center text-xs text-red-500"},_3={class:"space-y-1 bg-white",action:"#",method:"POST"},y3={class:"bg-white px-4 pb-4 pt-2"},w3={class:"mt-2"},b3={class:"bg-white px-4 pb-4 pt-2"},S3={__name:"PopupEdit",props:{openPopup:{type:Boolean,required:!0},handleClick:{type:Function,required:!0}},setup(t){const e=L(""),n=L(""),i=In(),s=async()=>{if(e.value){if(e.value===i.userInfo.name)return n.value="Имя не изменилось";n.value="",await i.updateUser(e.value),e.value=""}else return n.value="Имя не может быть пустым"};return(r,o)=>(k(),ce(P(jo),{as:"template",show:t.openPopup},{default:ee(()=>[M(P(sc),{class:"relative z-10",onClose:t.handleClick},{default:ee(()=>[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ee(()=>o[3]||(o[3]=[w("div",{class:"fixed inset-0 bg-gray-900/45 r-0 transition-opacity"},null,-1)])),_:1}),w("div",d3,[w("div",f3,[M(P(ei),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ee(()=>[M(P(bo),{class:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all flex flex-col w-full sm:my-8"},{default:ee(()=>[w("div",h3,[w("div",p3,[w("div",m3,[M(P(Qs),{as:"h3",class:"text-base font-semibold text-center"},{default:ee(()=>o[4]||(o[4]=[Re("Изменить имя ")])),_:1})]),n.value?(k(),j("div",g3,[M(P(zd),{class:"size-4 text-red-500","aria-hidden":"true"}),w("div",v3,ie(n.value),1)])):ke("",!0)])]),w("form",_3,[w("div",y3,[o[5]||(o[5]=w("label",{for:"name",class:"text-sm/6 font-medium"},"Новое имя",-1)),w("div",w3,[mt(w("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),type:"text",name:"name",id:"name",autocomplete:"name",required:"",class:"block w-full rounded-md bg-gray-100 px-3 py-1.5 text-base outline-none -outline-offset-1 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[bi,e.value]])])]),w("div",b3,[P(i).loader?(k(),ce(Xt,{key:1,"full-screen":!1})):(k(),j("button",{key:0,type:"button",class:"inline-flex w-full justify-center rounded-md bg-orange-600 outline-none py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 sm:w-auto",onClick:o[1]||(o[1]=async()=>{await s(),n.value||t.handleClick()})}," Сохранить ")),w("button",{type:"submit",class:"mt-3 inline-flex text-center justify-center rounded-md w-full py-2 text-sm font-semibold ring-inset sm:w-auto",onClick:o[2]||(o[2]=rt((...a)=>t.handleClick&&t.handleClick(...a),["prevent"])),ref:"cancelButtonRef"},"Закрыть ",512)])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},E3={class:"container mx-auto px-1"},T3={class:"mt-2"},C3={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},x3={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},I3={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 relative"},k3={key:0,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},P3={key:1,class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},A3={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},R3={class:"mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0"},O3={__name:"Profile",setup(t){const e=In(),n=L(!1),i=L(!1),s=L(!1),r=()=>{n.value=!n.value},o=()=>{i.value=!i.value},a=()=>{s.value=!s.value};return Ae(()=>{e.getTokenNotification()}),(l,c)=>(k(),j("section",E3,[M(Cn,{title:"Профиль"}),c[3]||(c[3]=w("div",{class:"sm:px-0"},[w("h3",{class:"text-base/7 font-semibold"},"Информация о пользователе"),w("p",{class:"mt-1 max-w-2xl text-sm/6 text-gray-400"},"Пользователь PWA приложения")],-1)),w("div",T3,[w("dl",null,[w("div",C3,[c[0]||(c[0]=w("dt",{class:"text-sm/6 font-medium"},"Имя",-1)),w("dd",x3,ie(P(e).userInfo.name),1),w("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-transparent p-4 rounded-full",onClick:a},[M(P(CC),{class:"size-6 text-blue-500","aria-hidden":"true"}),M(S3,{handleClick:a,openPopup:s.value},null,8,["openPopup"])])]),w("div",I3,[c[1]||(c[1]=w("dt",{class:"text-sm/6 font-medium"},"Уведомления",-1)),P(e).notificationToken?(k(),j("dd",k3,"Уведомления разрешены ")):(k(),j("dd",P3,"Уведомления не разрешены")),w("div",{class:"absolute right-1 top-1/2 -translate-y-1/2 bg-opacity-50 bg-gray-100 p-4 rounded-full",onClick:r},[P(e).notificationToken?(k(),ce(P(m_),{key:0,class:"size-6 text-green-500","aria-hidden":"true"})):(k(),ce(P(p_),{key:1,class:"size-6 text-red-500","aria-hidden":"true"})),M(u3,{handleClick:r,openPopup:n.value},null,8,["openPopup"])])]),w("div",A3,[c[2]||(c[2]=w("dt",{class:"text-sm/6 font-medium"},"Email address",-1)),w("dd",R3,ie(P(e).userInfo.email),1)])])]),w("button",{onClick:o,class:"container absolute bottom-24 left-1/2 w-11/12 -translate-x-1/2 text-md bg-gradient-to-r from-orange-600 via-orange-500 to-yellow-400 py-2 rounded-md text-white"}," Выйти "),M(ZB,{"handle-click":o,"open-popup":i.value},null,8,["open-popup"])]))}};var wg=function(){return Math.random().toString(36).substring(2)},N3=Xe({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(e){var n=J(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idClip"):wg()}),i=J(function(){return e.uniqueKey?"".concat(e.uniqueKey,"-idGradient"):wg()}),s=J(function(){var a;return(a=e.width)!==null&&a!==void 0?a:400}),r=J(function(){var a;return(a=e.height)!==null&&a!==void 0?a:130}),o=J(function(){var a;return(a=e.viewBox)!==null&&a!==void 0?a:"0 0 ".concat(s.value," ").concat(r.value)});return{idClip:n,idGradient:i,computedViewBox:o}},render:function(){return M("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[M("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),M("defs",null,[M("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():M("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),M("linearGradient",{id:this.idGradient},[M("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?M("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),M("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?M("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),M("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?M("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});const M3={components:{ContentLoader:N3}},D3={class:"mt-4 px-2"};function L3(t,e,n,i,s,r){const o=Kt("content-loader");return k(),j("div",D3,[M(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[0]||(e[0]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),M(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[1]||(e[1]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),M(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[2]||(e[2]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),M(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[3]||(e[3]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1}),M(o,{viewBox:"0 0 400 100",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},{default:ee(()=>e[4]||(e[4]=[w("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"64",height:"96"},null,-1),w("rect",{x:"72",y:"0",rx:"0",ry:"0",width:"314",height:"16"},null,-1),w("rect",{x:"72",y:"24",rx:"0",ry:"0",width:"260",height:"16"},null,-1)])),_:1})])}const F3=pr(M3,[["render",L3]]),$3={class:"relative container mx-auto px-1"},B3={key:1},U3={key:1,class:"text-gray-600 text-sm my-4"},j3={__name:"Favorites",setup(t){const e=nc();return Ae(()=>{e.favorites.length||e.getFavorites()}),(n,i)=>(k(),j("section",$3,[M(Cn,{title:"Избранное"}),P(e).loader?(k(),ce(F3,{key:0,"full-screen":!0})):(k(),j("div",B3,[P(e).favorites.length?(k(),ce(So,{key:0,films:P(e).favorites,"size-image":"w-16","size-block":"min-w-16",favorite:!0},null,8,["films"])):(k(),j("div",U3,"В избранное ничего не добавлено"))])),i[0]||(i[0]=w("div",{class:"h-28"},null,-1)),mt(M(hr,null,null,512),[[zn,P(e).favorites.length>6]])]))}};var V3="firebase",H3="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt(V3,H3,"app");const W3=[{path:"/",component:S$,name:"main",meta:{auth:!0}},{path:"/profile",component:O3,name:"profile",meta:{auth:!0}},{path:"/favorites",component:j3,name:"favorites",meta:{auth:!0}},{path:"/login",component:DB,name:"login",meta:{auth:!1}},{path:"/registration",component:qB,name:"registration",meta:{auth:!1}},{path:"/search",component:q$,name:"search",meta:{auth:!0}},{path:"/film/:id",component:i$,name:"item",meta:{auth:!0}},{path:"/staff/:id",component:v$,name:"staff",meta:{auth:!0}},{path:"/premier",component:eB,name:"premier",props:!0,meta:{auth:!0}},{path:"/top",component:sB,name:"top",props:!0,meta:{auth:!0}},{path:"/news",component:dB,name:"news",meta:{auth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:J$,meta:{auth:!0}}],a0=CT({history:eT("/"),routes:W3}),z3=rC(),q3={apiKey:"AIzaSyCy_tc_KY4ScmNfLNAYMYDEJ5zOxBtqrao",authDomain:"filmoteka-evans.firebaseapp.com",projectId:"filmoteka-evans",storageBucket:"filmoteka-evans.firebasestorage.app",messagingSenderId:"992624755114",appId:"1:992624755114:web:0b27d6df080506b84eabd3",measurementId:"G-0QTYQW628E",databaseURL:"https://filmoteka-evans-default-rtdb.europe-west1.firebasedatabase.app/"};a0.beforeEach((t,e,n)=>{const i=In();t.meta.auth&&!i.accessToken?n("/login"):!t.meta.auth&&i.accessToken?n("/"):n()});O_(q3);bE(eM).use(a0).use(BT()).use(sC).use(z3).use(bC).mount("#app");
